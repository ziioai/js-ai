var G=Object.defineProperty;var V=(e,t,r)=>t in e?G(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var j=(e,t,r)=>V(e,typeof t!="symbol"?t+"":t,r);import{L as defineStore,b as ref,B as computed,M as defineComponent,N as watchEffect,O as h,R as RouterView,P as useRouter,Q as useI18n,S as storeToRefs,U as useRoute,w as watch,i as resolveDirective,l as withDirectives,e as onMounted,V as onUnmounted,C as reactive,W as getCurrentScope,X as onScopeDispose,n as nextTick,Y as createRouter,Z as createWebHashHistory,_ as createPinia,$ as createI18n,a0 as createApp}from"./vue-VsIqK9es.js";import{i as isLength$1,b as chunk$1,d as compact$1,f as flatten$1,e as isUnsafeProperty,h as eq,j as isPrimitive,k as cloneDeep$1,l as cloneDeepWith$1,m as argumentsTag,n as copyProperties,o as booleanTag,s as stringTag,p as numberTag,q as getTag,r as identity$1,t as isObjectLike,u as difference$1,v as last$1,w as differenceBy$1,x as differenceWith$1,y as toInteger,z as drop$1,A as dropRight$1,B as dropRightWhile$1,C as dropWhile$1,D as range$1,E as fill$1,F as head$1,G as isNil$1,H as groupBy$1,I as initial$1,J as uniq$1,K as intersection$1,L as intersectionBy$1,M as intersectionWith$1,N as isFunction$2,O as isSymbol,P as pull$1,Q as isArray,R as remove$1,S as sample$1,T as clamp$1,U as isMap$1,V as sampleSize$1,W as shuffle$1,X as isNull$1,Y as isUndefined$1,Z as isSymbol$1,_ as tail$1,$ as take$1,a0 as takeRight$1,a1 as negate$1,a2 as uniqBy$1,a3 as uniqWith$1,a4 as unzip$1,a5 as without$1,a6 as windowed,a7 as zip$1,a8 as ary$1,a9 as debounce$1,aa as toNumber,ab as flow$1,ac as flowRight$1,ad as once$1,ae as partialImpl,af as partialRightImpl,ag as rest$1,ah as inRange$1,ai as maxBy$1,aj as meanBy$1,ak as minBy$1,al as random$1,am as randomInt,an as toFinite,ao as isTypedArray$1,ap as isBuffer$1,aq as arrayBufferTag,ar as dataViewTag,as as dateTag,at as regexpTag,au as symbolTag,av as mapTag,aw as setTag,ax as uint32ArrayTag,ay as uint16ArrayTag,az as uint8ClampedArrayTag,aA as uint8ArrayTag,aB as objectTag,aC as int32ArrayTag,aD as int16ArrayTag,aE as int8ArrayTag,aF as float64ArrayTag,aG as float32ArrayTag,aH as arrayTag,aI as isPlainObject,aJ as findKey$1,aK as invert$1,aL as mapKeys$1,aM as mapValues$1,aN as clone$1,aO as getSymbols,aP as noop$1,aQ as isArrayBuffer$1,aR as isDate$1,aS as isEqualWith$1,aT as after$1,aU as isRegExp$2,aV as isSet$1,aW as isWeakMap$1,aX as isWeakSet$1,aY as capitalize$1,aZ as camelCase$1,a_ as deburr$1,a$ as escape$3,b0 as escapeRegExp$1,b1 as kebabCase$1,b2 as lowerCase$1,b3 as lowerFirst$1,b4 as pad$1,b5 as snakeCase$1,b6 as words$1,b7 as trim$1,b8 as trimEnd$1,b9 as trimStart$1,ba as unescape$2,bb as upperCase$1,bc as upperFirst$1,bd as isEqual,be as lib$1,bf as axios,bg as clipboard,bh as EsToolKit,bi as FileSaver,bj as ini,bk as lib$2,bl as jsonc,bm as localforage,bn as md5,bo as nanoid,bp as pako,bq as FileSaver_minExports,br as TOML,bs as zipson}from"./tools1-BU-cLj2E.js";import{D as Dexie,l as liveQuery}from"./dexie-Psc8aJK4.js";import{j as jschardet}from"./jschardet-BReCHGf2.js";import{j as jszip}from"./jszip-wRcXZG3j.js";import{_}from"./lodash-B9qUA1NF.js";import{L as LodashEs}from"./lodash-es-BXqflF6P.js";import{Y as YAML}from"./yaml-DPZo3Gqr.js";import{s as script,a as script$1,b as script$2,d as definePreset,c as script$3,e as script$4,f as script$5,g as script$6,h as script$7,i as script$8,j as script$9,k as script$a,l as script$b,u as useToast,m as script$c,n as script$d,o as script$e,p as script$f,q as script$g,r as script$h,t as useConfirm,v as script$i,w as script$j,x as script$k,y as script$l,P as PrimeVue,T as ToastService,D as DialogService,C as ConfirmationService,z as Tooltip}from"./primevue-DvS3xdDE.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(o){if(o.ep)return;o.ep=!0;const i=r(o);fetch(o.href,i)}})();function castArray(e){return arguments.length===0?[]:Array.isArray(e)?e:[e]}function toArray$1(e){return Array.isArray(e)?e:Array.from(e)}function isArrayLike(e){return e!=null&&typeof e!="function"&&isLength$1(e.length)}function chunk(e,t=1){return t=Math.max(Math.floor(t),0),t===0||!isArrayLike(e)?[]:chunk$1(toArray$1(e),t)}function compact(e){return isArrayLike(e)?compact$1(Array.from(e)):[]}function concat(...e){return flatten$1(e)}function isDeepKey(e){switch(typeof e){case"number":case"symbol":return!1;case"string":return e.includes(".")||e.includes("[")||e.includes("]")}}function toKey(e){var t;return typeof e=="string"||typeof e=="symbol"?e:Object.is((t=e==null?void 0:e.valueOf)==null?void 0:t.call(e),-0)?"-0":String(e)}function toPath(e){const t=[],r=e.length;if(r===0)return t;let n=0,o="",i="",a=!1;for(e.charCodeAt(0)===46&&(t.push(""),n++);n<r;){const s=e[n];i?s==="\\"&&n+1<r?(n++,o+=e[n]):s===i?i="":o+=s:a?s==='"'||s==="'"?i=s:s==="]"?(a=!1,t.push(o),o=""):o+=s:s==="["?(a=!0,o&&(t.push(o),o="")):s==="."?o&&(t.push(o),o=""):o+=s,n++}return o&&t.push(o),t}function get$1(e,t,r){if(e==null)return r;switch(typeof t){case"string":{if(isUnsafeProperty(t))return r;const n=e[t];return n===void 0?isDeepKey(t)?get$1(e,toPath(t),r):r:n}case"number":case"symbol":{typeof t=="number"&&(t=toKey(t));const n=e[t];return n===void 0?r:n}default:{if(Array.isArray(t))return getWithPath(e,t,r);if(Object.is(t==null?void 0:t.valueOf(),-0)?t="-0":t=String(t),isUnsafeProperty(t))return r;const n=e[t];return n===void 0?r:n}}}function getWithPath(e,t,r){if(t.length===0)return r;let n=e;for(let o=0;o<t.length;o++){if(n==null||isUnsafeProperty(t[o]))return r;n=n[t[o]]}return n===void 0?r:n}function property(e){return function(t){return get$1(t,e)}}function isObject$1(e){return e!==null&&(typeof e=="object"||typeof e=="function")}function isMatchWith(e,t,r){return typeof r!="function"?isMatch(e,t):isMatchWithInternal(e,t,function n(o,i,a,s,u,c){const l=r(o,i,a,s,u,c);return l!==void 0?!!l:isMatchWithInternal(o,i,n,c)},new Map)}function isMatchWithInternal(e,t,r,n){if(t===e)return!0;switch(typeof t){case"object":return isObjectMatch(e,t,r,n);case"function":return Object.keys(t).length>0?isMatchWithInternal(e,{...t},r,n):eq(e,t);default:return isObject$1(e)?typeof t=="string"?t==="":!0:eq(e,t)}}function isObjectMatch(e,t,r,n){if(t==null)return!0;if(Array.isArray(t))return isArrayMatch(e,t,r,n);if(t instanceof Map)return isMapMatch(e,t,r,n);if(t instanceof Set)return isSetMatch(e,t,r,n);const o=Object.keys(t);if(e==null)return o.length===0;if(o.length===0)return!0;if(n&&n.has(t))return n.get(t)===e;n&&n.set(t,e);try{for(let i=0;i<o.length;i++){const a=o[i];if(!isPrimitive(e)&&!(a in e)||t[a]===void 0&&e[a]!==void 0||t[a]===null&&e[a]!==null||!r(e[a],t[a],a,e,t,n))return!1}return!0}finally{n&&n.delete(t)}}function isMapMatch(e,t,r,n){if(t.size===0)return!0;if(!(e instanceof Map))return!1;for(const[o,i]of t.entries()){const a=e.get(o);if(r(a,i,o,e,t,n)===!1)return!1}return!0}function isArrayMatch(e,t,r,n){if(t.length===0)return!0;if(!Array.isArray(e))return!1;const o=new Set;for(let i=0;i<t.length;i++){const a=t[i];let s=!1;for(let u=0;u<e.length;u++){if(o.has(u))continue;const c=e[u];let l=!1;if(r(c,a,i,e,t,n)&&(l=!0),l){o.add(u),s=!0;break}}if(!s)return!1}return!0}function isSetMatch(e,t,r,n){return t.size===0?!0:e instanceof Set?isArrayMatch([...e],[...t],r,n):!1}function isMatch(e,t){return isMatchWith(e,t,()=>{})}function matches(e){return e=cloneDeep$1(e),t=>isMatch(t,e)}function cloneDeepWith(e,t){return cloneDeepWith$1(e,(r,n,o,i)=>{const a=t==null?void 0:t(r,n,o,i);if(a!==void 0)return a;if(typeof e=="object")switch(Object.prototype.toString.call(e)){case numberTag:case stringTag:case booleanTag:{const s=new e.constructor(e==null?void 0:e.valueOf());return copyProperties(s,e),s}case argumentsTag:{const s={};return copyProperties(s,e),s.length=e.length,s[Symbol.iterator]=e[Symbol.iterator],s}default:return}})}function cloneDeep(e){return cloneDeepWith(e)}const IS_UNSIGNED_INTEGER=/^(?:0|[1-9]\d*)$/;function isIndex(e,t=Number.MAX_SAFE_INTEGER){switch(typeof e){case"number":return Number.isInteger(e)&&e>=0&&e<t;case"symbol":return!1;case"string":return IS_UNSIGNED_INTEGER.test(e)}}function isArguments(e){return e!==null&&typeof e=="object"&&getTag(e)==="[object Arguments]"}function has$2(e,t){let r;if(Array.isArray(t)?r=t:typeof t=="string"&&isDeepKey(t)&&(e==null?void 0:e[t])==null?r=toPath(t):r=[t],r.length===0)return!1;let n=e;for(let o=0;o<r.length;o++){const i=r[o];if((n==null||!Object.hasOwn(n,i))&&!((Array.isArray(n)||isArguments(n))&&isIndex(i)&&i<n.length))return!1;n=n[i]}return!0}function matchesProperty(e,t){switch(typeof e){case"object":{Object.is(e==null?void 0:e.valueOf(),-0)&&(e="-0");break}case"number":{e=toKey(e);break}}return t=cloneDeep(t),function(r){const n=get$1(r,e);return n===void 0?has$2(r,e):t===void 0?n===void 0:isMatch(n,t)}}function iteratee(e){if(e==null)return identity$1;switch(typeof e){case"function":return e;case"object":return Array.isArray(e)&&e.length===2?matchesProperty(e[0],e[1]):matches(e);case"string":case"symbol":case"number":return property(e)}}function countBy(e,t){if(e==null)return{};const r=isArrayLike(e)?Array.from(e):Object.values(e),n=iteratee(t??void 0),o=Object.create(null);for(let i=0;i<r.length;i++){const a=r[i],s=n(a);o[s]=(o[s]??0)+1}return o}function isArrayLikeObject(e){return isObjectLike(e)&&isArrayLike(e)}function difference(e,...t){if(!isArrayLikeObject(e))return[];const r=toArray$1(e),n=[];for(let o=0;o<t.length;o++){const i=t[o];isArrayLikeObject(i)&&n.push(...Array.from(i))}return difference$1(r,n)}function last(e){if(isArrayLike(e))return last$1(toArray$1(e))}function flattenArrayLike(e){const t=[];for(let r=0;r<e.length;r++){const n=e[r];if(isArrayLikeObject(n))for(let o=0;o<n.length;o++)t.push(n[o])}return t}function differenceBy(e,...t){if(!isArrayLikeObject(e))return[];const r=last(t),n=flattenArrayLike(t);return isArrayLikeObject(r)?difference$1(Array.from(e),n):differenceBy$1(Array.from(e),n,iteratee(r))}function differenceWith(e,...t){if(!isArrayLikeObject(e))return[];const r=last(t),n=flattenArrayLike(t);return typeof r=="function"?differenceWith$1(Array.from(e),n,r):difference$1(Array.from(e),n)}function drop(e,t=1,r){return isArrayLike(e)?(t=r?1:toInteger(t),drop$1(toArray$1(e),t)):[]}function dropRight(e,t=1,r){return isArrayLike(e)?(t=r?1:toInteger(t),dropRight$1(toArray$1(e),t)):[]}function dropRightWhile(e,t=identity$1){return isArrayLike(e)?dropRightWhileImpl(Array.from(e),t):[]}function dropRightWhileImpl(e,t){switch(typeof t){case"function":return dropRightWhile$1(e,(r,n,o)=>!!t(r,n,o));case"object":if(Array.isArray(t)&&t.length===2){const r=t[0],n=t[1];return dropRightWhile$1(e,matchesProperty(r,n))}else return dropRightWhile$1(e,matches(t));case"symbol":case"number":case"string":return dropRightWhile$1(e,property(t))}}function dropWhile(e,t=identity$1){return isArrayLike(e)?dropWhileImpl(toArray$1(e),t):[]}function dropWhileImpl(e,t){switch(typeof t){case"function":return dropWhile$1(e,(r,n,o)=>!!t(r,n,o));case"object":if(Array.isArray(t)&&t.length===2){const r=t[0],n=t[1];return dropWhile$1(e,matchesProperty(r,n))}else return dropWhile$1(e,matches(t));case"number":case"symbol":case"string":return dropWhile$1(e,property(t))}}function forEach(e,t=identity$1){if(!e)return e;const r=isArrayLike(e)||Array.isArray(e)?range$1(0,e.length):Object.keys(e);for(let n=0;n<r.length;n++){const o=r[n],i=e[o];if(t(i,o,e)===!1)break}return e}function forEachRight(e,t=identity$1){if(!e)return e;const r=isArrayLike(e)?range$1(0,e.length):Object.keys(e);for(let n=r.length-1;n>=0;n--){const o=r[n],i=e[o];if(t(i,o,e)===!1)break}return e}function isIterateeCall(e,t,r){return isObject$1(r)&&(typeof t=="number"&&isArrayLike(r)&&isIndex(t)&&t<r.length||typeof t=="string"&&t in r)?eq(r[t],e):!1}function every(e,t,r){if(!e)return!0;r&&isIterateeCall(e,t,r)&&(t=void 0),t||(t=identity$1);let n;switch(typeof t){case"function":{n=t;break}case"object":{if(Array.isArray(t)&&t.length===2){const o=t[0],i=t[1];n=matchesProperty(o,i)}else n=matches(t);break}case"symbol":case"number":case"string":n=property(t)}if(!isArrayLike(e)){const o=Object.keys(e);for(let i=0;i<o.length;i++){const a=o[i],s=e[a];if(!n(s,a,e))return!1}return!0}for(let o=0;o<e.length;o++)if(!n(e[o],o,e))return!1;return!0}function isString$3(e){return typeof e=="string"||e instanceof String}function fill(e,t,r=0,n=e?e.length:0){return isArrayLike(e)?isString$3(e)?e:(r=Math.floor(r),n=Math.floor(n),r||(r=0),n||(n=0),fill$1(e,t,r,n)):[]}function filter(e,t=identity$1){if(!e)return[];if(t=iteratee(t),!Array.isArray(e)){const o=[],i=Object.keys(e),a=isArrayLike(e)?e.length:i.length;for(let s=0;s<a;s++){const u=i[s],c=e[u];t(c,u,e)&&o.push(c)}return o}const r=[],n=e.length;for(let o=0;o<n;o++){const i=e[o];t(i,o,e)&&r.push(i)}return r}function find(e,t=identity$1,r=0){if(!e)return;r<0&&(r=Math.max(e.length+r,0));const n=iteratee(t);if(typeof n=="function"&&!Array.isArray(e)){const i=Object.keys(e);for(let a=r;a<i.length;a++){const s=i[a],u=e[s];if(n(u,s,e))return u}return}return(Array.isArray(e)?e.slice(r):Object.values(e).slice(r)).find(n)}function findIndex(e,t,r=0){if(!e)return-1;r<0&&(r=Math.max(e.length+r,0));const n=Array.from(e).slice(r);let o=-1;switch(typeof t){case"function":{o=n.findIndex(t);break}case"object":{if(Array.isArray(t)&&t.length===2){const i=t[0],a=t[1];o=n.findIndex(matchesProperty(i,a))}else o=n.findIndex(matches(t));break}case"number":case"symbol":case"string":o=n.findIndex(property(t))}return o===-1?-1:o+r}function findLast(e,t=identity$1,r){if(!e)return;const n=Array.isArray(e)?e.length:Object.keys(e).length;r=toInteger(r??n-1),r<0?r=Math.max(n+r,0):r=Math.min(r,n-1);const o=iteratee(t);if(typeof o=="function"&&!Array.isArray(e)){const a=Object.keys(e);for(let s=r;s>=0;s--){const u=a[s],c=e[u];if(o(c,u,e))return c}return}return(Array.isArray(e)?e.slice(0,r+1):Object.values(e).slice(0,r+1)).findLast(o)}function findLastIndex(e,t=identity$1,r=e?e.length-1:0){if(!e)return-1;r<0?r=Math.max(e.length+r,0):r=Math.min(r,e.length-1);const n=toArray$1(e).slice(0,r+1);switch(typeof t){case"function":return n.findLastIndex(t);case"object":if(Array.isArray(t)&&t.length===2){const o=t[0],i=t[1];return n.findLastIndex(matchesProperty(o,i))}else return n.findLastIndex(matches(t));case"number":case"symbol":case"string":return n.findLastIndex(property(t))}}function head(e){if(isArrayLike(e))return head$1(toArray$1(e))}function flatten(e,t=1){const r=[],n=Math.floor(t);if(!isArrayLike(e))return r;const o=(i,a)=>{for(let s=0;s<i.length;s++){const u=i[s];a<n&&(Array.isArray(u)||u!=null&&u[Symbol.isConcatSpreadable]||u!==null&&typeof u=="object"&&Object.prototype.toString.call(u)==="[object Arguments]")?Array.isArray(u)?o(u,a+1):o(Array.from(u),a+1):r.push(u)}};return o(Array.from(e),0),r}function flattenDepth(e,t=1){return flatten(e,t)}function map$1(e,t){if(!e)return[];const r=isArrayLike(e)||Array.isArray(e)?range$1(0,e.length):Object.keys(e),n=iteratee(t??identity$1),o=new Array(r.length);for(let i=0;i<r.length;i++){const a=r[i],s=e[a];o[i]=n(s,a,e)}return o}function flatMap(e,t){if(isNil$1(e))return[];const r=isNil$1(t)?map$1(e):map$1(e,t);return flattenDepth(r,1)}function flatMapDepth(e,t=identity$1,r=1){if(e==null)return[];const n=iteratee(t),o=map$1(e,n);return flatten(o,r)}function flatMapDeep(e,t){return flatMapDepth(e,t,1/0)}function flattenDeep(e){return flattenDepth(e,1/0)}function groupBy(e,t){if(e==null)return{};const r=isArrayLike(e)?Array.from(e):Object.values(e),n=iteratee(t??identity$1);return groupBy$1(r,n)}function includes(e,t,r,n){if(e==null)return!1;if(n||!r?r=0:r=toInteger(r),isString$3(e))return r>e.length||t instanceof RegExp?!1:(r<0&&(r=Math.max(0,e.length+r)),e.includes(t,r));if(Array.isArray(e))return e.includes(t,r);const o=Object.keys(e);r<0&&(r=Math.max(0,o.length+r));for(let i=r;i<o.length;i++){const a=Reflect.get(e,o[i]);if(eq(a,t))return!0}return!1}function indexOf(e,t,r){if(!isArrayLike(e))return-1;if(Number.isNaN(t)){r=r??0,r<0&&(r=Math.max(0,e.length+r));for(let n=r;n<e.length;n++)if(Number.isNaN(e[n]))return n;return-1}return Array.from(e).indexOf(t,r)}function initial(e){return isArrayLike(e)?initial$1(Array.from(e)):[]}function intersection(...e){if(e.length===0)return[];if(!isArrayLikeObject(e[0]))return[];let t=uniq$1(Array.from(e[0]));for(let r=1;r<e.length;r++){const n=e[r];if(!isArrayLikeObject(n))return[];t=intersection$1(t,Array.from(n))}return t}function intersectionBy(e,...t){if(!isArrayLikeObject(e))return[];const r=last$1(t);if(r===void 0)return Array.from(e);let n=uniq$1(Array.from(e));const o=isArrayLikeObject(r)?t.length:t.length-1;for(let i=0;i<o;++i){const a=t[i];if(!isArrayLikeObject(a))return[];isArrayLikeObject(r)?n=intersectionBy$1(n,Array.from(a),identity$1):typeof r=="function"?n=intersectionBy$1(n,Array.from(a),s=>r(s)):typeof r=="string"&&(n=intersectionBy$1(n,Array.from(a),property(r)))}return n}function uniq(e){return isArrayLike(e)?uniq$1(Array.from(e)):[]}function intersectionWith(e,...t){if(e==null)return[];const r=last(t);let n=eq,o=uniq;typeof r=="function"&&(n=r,o=uniqPreserve0,t.pop());let i=o(Array.from(e));for(let a=0;a<t.length;++a){const s=t[a];if(s==null)return[];i=intersectionWith$1(i,Array.from(s),n)}return i}function uniqPreserve0(e){const t=[],r=new Set;for(let n=0;n<e.length;n++){const o=e[n];r.has(o)||(t.push(o),r.add(o))}return t}function invokeMap(e,t,...r){if(isNil$1(e))return[];const n=isArrayLike(e)?Array.from(e):Object.values(e),o=[];for(let i=0;i<n.length;i++){const a=n[i];if(isFunction$2(t)){o.push(t.apply(a,r));continue}const s=get$1(a,t);let u=a;if(Array.isArray(t)){const c=t.slice(0,-1);c.length>0&&(u=get$1(a,c))}else if(typeof t=="string"&&t.includes(".")){const l=t.split(".").slice(0,-1).join(".");u=get$1(a,l)}o.push(s==null?void 0:s.apply(u,r))}return o}function join(e,t){return isArrayLike(e)?Array.from(e).join(t):""}function reduce(e,t=identity$1,r){if(!e)return r;let n,o=0;isArrayLike(e)?(n=range$1(0,e.length),r==null&&e.length>0&&(r=e[0],o+=1)):(n=Object.keys(e),r==null&&(r=e[n[0]],o+=1));for(let i=o;i<n.length;i++){const a=n[i],s=e[a];r=t(r,s,a,e)}return r}function keyBy(e,t){if(!isArrayLike(e)&&!isObjectLike(e))return{};const r=iteratee(t??identity$1);return reduce(e,(n,o)=>{const i=r(o);return n[i]=o,n},{})}function lastIndexOf(e,t,r){if(!isArrayLike(e)||e.length===0)return-1;const n=e.length;let o=r??n-1;if(r!=null&&(o=o<0?Math.max(n+o,0):Math.min(o,n-1)),Number.isNaN(t)){for(let i=o;i>=0;i--)if(Number.isNaN(e[i]))return i}return Array.from(e).lastIndexOf(t,o)}function nth(e,t=0){if(!(!isArrayLikeObject(e)||e.length===0))return t=toInteger(t),t<0&&(t+=e.length),e[t]}function getPriority(e){return typeof e=="symbol"?1:e===null?2:e===void 0?3:e!==e?4:0}const compareValues=(e,t,r)=>{if(e!==t){const n=getPriority(e),o=getPriority(t);if(n===o&&n===0){if(e<t)return r==="desc"?1:-1;if(e>t)return r==="desc"?-1:1}return r==="desc"?o-n:n-o}return 0},regexIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,regexIsPlainProp=/^\w*$/;function isKey(e,t){return Array.isArray(e)?!1:typeof e=="number"||typeof e=="boolean"||e==null||isSymbol(e)?!0:typeof e=="string"&&(regexIsPlainProp.test(e)||!regexIsDeepProp.test(e))||t!=null&&Object.hasOwn(t,e)}function orderBy(e,t,r,n){if(e==null)return[];r=n?void 0:r,Array.isArray(e)||(e=Object.values(e)),Array.isArray(t)||(t=t==null?[null]:[t]),t.length===0&&(t=[null]),Array.isArray(r)||(r=r==null?[]:[r]),r=r.map(u=>String(u));const o=(u,c)=>{let l=u;for(let d=0;d<c.length&&l!=null;++d)l=l[c[d]];return l},i=(u,c)=>c==null||u==null?c:typeof u=="object"&&"key"in u?Object.hasOwn(c,u.key)?c[u.key]:o(c,u.path):typeof u=="function"?u(c):Array.isArray(u)?o(c,u):typeof c=="object"?c[u]:c,a=t.map(u=>(Array.isArray(u)&&u.length===1&&(u=u[0]),u==null||typeof u=="function"||Array.isArray(u)||isKey(u)?u:{key:u,path:toPath(u)}));return e.map(u=>({original:u,criteria:a.map(c=>i(c,u))})).slice().sort((u,c)=>{for(let l=0;l<a.length;l++){const d=compareValues(u.criteria[l],c.criteria[l],r[l]);if(d!==0)return d}return 0}).map(u=>u.original)}function partition$1(e,t=identity$1){if(!e)return[[],[]];const r=isArrayLike(e)?e:Object.values(e);t=iteratee(t);const n=[],o=[];for(let i=0;i<r.length;i++){const a=r[i];t(a)?n.push(a):o.push(a)}return[n,o]}function pull(e,...t){return pull$1(e,t)}function pullAll(e,t=[]){return pull$1(e,Array.from(t))}function pullAllBy(e,t,r){const n=iteratee(r),o=new Set(Array.from(t).map(a=>n(a)));let i=0;for(let a=0;a<e.length;a++){const s=n(e[a]);if(!o.has(s)){if(!Object.hasOwn(e,a)){delete e[i++];continue}e[i++]=e[a]}}return e.length=i,e}function copyArray(e,t){const r=e.length;t==null&&(t=Array(r));for(let n=0;n<r;n++)t[n]=e[n];return t}function pullAllWith(e,t,r){if((e==null?void 0:e.length)==null||(t==null?void 0:t.length)==null)return e;e===t&&(t=copyArray(t));let n=0;r==null&&(r=(a,s)=>eq(a,s));const o=Array.isArray(t)?t:Array.from(t),i=o.includes(void 0);for(let a=0;a<e.length;a++){if(a in e){o.some(u=>r(e[a],u))||(e[n++]=e[a]);continue}i||delete e[n++]}return e.length=n,e}function at(e,...t){if(t.length===0)return[];const r=[];for(let o=0;o<t.length;o++){const i=t[o];if(!isArrayLike(i)||isString$3(i)){r.push(i);continue}for(let a=0;a<i.length;a++)r.push(i[a])}const n=[];for(let o=0;o<r.length;o++)n.push(get$1(e,r[o]));return n}function unset$1(e,t){if(e==null)return!0;switch(typeof t){case"symbol":case"number":case"object":{if(Array.isArray(t))return unsetWithPath(e,t);if(typeof t=="number"?t=toKey(t):typeof t=="object"&&(Object.is(t==null?void 0:t.valueOf(),-0)?t="-0":t=String(t)),isUnsafeProperty(t))return!1;if((e==null?void 0:e[t])===void 0)return!0;try{return delete e[t],!0}catch{return!1}}case"string":{if((e==null?void 0:e[t])===void 0&&isDeepKey(t))return unsetWithPath(e,toPath(t));if(isUnsafeProperty(t))return!1;try{return delete e[t],!0}catch{return!1}}}}function unsetWithPath(e,t){const r=get$1(e,t.slice(0,-1),e),n=t[t.length-1];if((r==null?void 0:r[n])===void 0)return!0;if(isUnsafeProperty(n))return!1;try{return delete r[n],!0}catch{return!1}}function pullAt(e,...t){const r=flattenDepth(t,1);if(!e)return Array(r.length);const n=at(e,r),o=r.map(i=>isIndex(i,e.length)?Number(i):i).sort((i,a)=>a-i);for(const i of new Set(o)){if(isIndex(i,e.length)){Array.prototype.splice.call(e,i,1);continue}if(isKey(i,e)){delete e[toKey(i)];continue}const a=isArray(i)?i:toPath(i);unset$1(e,a)}return n}function reduceRight(e,t=identity$1,r){if(!e)return r;let n,o;isArrayLike(e)?(n=range$1(0,e.length).reverse(),r==null&&e.length>0?(r=e[e.length-1],o=1):o=0):(n=Object.keys(e).reverse(),r==null?(r=e[n[0]],o=1):o=0);for(let i=o;i<n.length;i++){const a=n[i],s=e[a];r=t(r,s,a,e)}return r}function negate(e){if(typeof e!="function")throw new TypeError("Expected a function");return function(...t){return!e.apply(this,t)}}function reject(e,t=identity$1){return filter(e,negate(iteratee(t)))}function remove(e,t=identity$1){return remove$1(e,iteratee(t))}function reverse(e){return e==null?e:e.reverse()}function sample(e){if(e!=null)return isArrayLike(e)?sample$1(toArray$1(e)):sample$1(Object.values(e))}function clamp(e,t,r){return Number.isNaN(t)&&(t=0),Number.isNaN(r)&&(r=0),clamp$1(e,t,r)}function isMap(e){return isMap$1(e)}function toArray(e){return e==null?[]:isArrayLike(e)||isMap(e)?Array.from(e):typeof e=="object"?Object.values(e):[]}function sampleSize(e,t,r){const n=toArray(e);return(r?isIterateeCall(e,t,r):t===void 0)?t=1:t=clamp(toInteger(t),0,n.length),sampleSize$1(n,t)}function values(e){return e==null?[]:Object.values(e)}function isNil(e){return e==null}function shuffle(e){return isNil(e)?[]:isArray(e)?shuffle$1(e):isArrayLike(e)?shuffle$1(Array.from(e)):isObjectLike(e)?shuffle$1(values(e)):[]}function size(e){return isNil$1(e)?0:e instanceof Map||e instanceof Set?e.size:Object.keys(e).length}function slice(e,t,r){if(!isArrayLike(e))return[];const n=e.length;r===void 0?r=n:typeof r!="number"&&isIterateeCall(e,t,r)&&(t=0,r=n),t=toInteger(t),r=toInteger(r),t<0?t=Math.max(n+t,0):t=Math.min(t,n),r<0?r=Math.max(n+r,0):r=Math.min(r,n);const o=Math.max(r-t,0),i=new Array(o);for(let a=0;a<o;++a)i[a]=e[t+a];return i}function some(e,t,r){if(!e)return!1;r!=null&&(t=void 0),t||(t=identity$1);const n=Array.isArray(e)?e:Object.values(e);switch(typeof t){case"function":{if(!Array.isArray(e)){const o=Object.keys(e);for(let i=0;i<o.length;i++){const a=o[i],s=e[a];if(t(s,a,e))return!0}return!1}for(let o=0;o<e.length;o++)if(t(e[o],o,e))return!0;return!1}case"object":if(Array.isArray(t)&&t.length===2){const o=t[0],i=t[1],a=matchesProperty(o,i);if(Array.isArray(e)){for(let s=0;s<e.length;s++)if(a(e[s]))return!0;return!1}return n.some(a)}else{const o=matches(t);if(Array.isArray(e)){for(let i=0;i<e.length;i++)if(o(e[i]))return!0;return!1}return n.some(o)}case"number":case"symbol":case"string":{const o=property(t);if(Array.isArray(e)){for(let i=0;i<e.length;i++)if(o(e[i]))return!0;return!1}return n.some(o)}}}function sortBy(e,...t){const r=t.length;return r>1&&isIterateeCall(e,t[0],t[1])?t=[]:r>2&&isIterateeCall(t[0],t[1],t[2])&&(t=[t[0]]),orderBy(e,flatten$1(t),["asc"])}function isNaN$1(e){return Number.isNaN(e)}const MAX_ARRAY_LENGTH$3=4294967295,MAX_ARRAY_INDEX=MAX_ARRAY_LENGTH$3-1;function sortedIndexBy(e,t,r=iteratee,n){let o=0,i=e==null?0:e.length;if(i===0||isNil(e))return 0;const a=iteratee(r),s=a(t),u=isNaN$1(s),c=isNull$1(s),l=isSymbol(s),d=isUndefined$1(s);for(;o<i;){let g;const f=Math.floor((o+i)/2),p=a(e[f]),m=!isUndefined$1(p),x=isNull$1(p),y=!isNaN$1(p),C=isSymbol(p);u?g=n||y:d?g=y&&(n||m):c?g=y&&m&&(n||!x):l?g=y&&m&&!x&&(n||!C):x||C?g=!1:g=n?p<=s:p<s,g?o=f+1:i=f}return Math.min(i,MAX_ARRAY_INDEX)}function isNumber$1(e){return typeof e=="number"||e instanceof Number}const MAX_ARRAY_LENGTH$2=4294967295,HALF_MAX_ARRAY_LENGTH$1=MAX_ARRAY_LENGTH$2>>>1;function sortedIndex(e,t){if(isNil$1(e))return 0;let r=0,n=isNil$1(e)?r:e.length;if(isNumber$1(t)&&t===t&&n<=HALF_MAX_ARRAY_LENGTH$1){for(;r<n;){const o=r+n>>>1,i=e[o];!isNull$1(i)&&!isSymbol$1(i)&&i<t?r=o+1:n=o}return n}return sortedIndexBy(e,t,o=>o)}function sortedIndexOf(e,t){if(!(e!=null&&e.length))return-1;const r=sortedIndex(e,t);return r<e.length&&eq(e[r],t)?r:-1}function sortedLastIndexBy(e,t,r){return sortedIndexBy(e,t,r,!0)}const MAX_ARRAY_LENGTH$1=4294967295,HALF_MAX_ARRAY_LENGTH=MAX_ARRAY_LENGTH$1>>>1;function sortedLastIndex(e,t){if(isNil$1(e))return 0;let r=e.length;if(!isNumber$1(t)||Number.isNaN(t)||r>HALF_MAX_ARRAY_LENGTH)return sortedLastIndexBy(e,t,o=>o);let n=0;for(;n<r;){const o=n+r>>>1,i=e[o];!isNull$1(i)&&!isSymbol$1(i)&&i<=t?n=o+1:r=o}return r}function sortedLastIndexOf(e,t){if(!(e!=null&&e.length))return-1;const r=sortedLastIndex(e,t)-1;return r>=0&&eq(e[r],t)?r:-1}function tail(e){return isArrayLike(e)?tail$1(toArray$1(e)):[]}function take(e,t=1,r){return t=r?1:toInteger(t),t<1||!isArrayLike(e)?[]:take$1(toArray$1(e),t)}function takeRight(e,t=1,r){return t=r?1:toInteger(t),t<=0||!isArrayLike(e)?[]:takeRight$1(toArray$1(e),t)}function takeRightWhile(e,t){if(!isArrayLikeObject(e))return[];const r=toArray$1(e),n=r.findLastIndex(negate$1(iteratee(t??identity$1)));return r.slice(n+1)}function identity(e){return e}function takeWhile(e,t){if(!isArrayLikeObject(e))return[];const r=toArray$1(e),n=r.findIndex(negate(iteratee(t??identity)));return n===-1?r:r.slice(0,n)}function union(...e){const t=e.filter(isArrayLikeObject),r=flattenDepth(t,1);return uniq$1(r)}function unionBy(...e){const t=last$1(e),r=flattenArrayLike(e);return isArrayLikeObject(t)||t==null?uniq$1(r):uniqBy$1(r,iteratee(t))}function unionWith(...e){const t=last$1(e),r=flattenArrayLike(e);return isArrayLikeObject(t)||t==null?uniq$1(r):uniqWith$1(r,t)}function uniqBy(e,t=identity$1){return isArrayLikeObject(e)?uniqBy$1(Array.from(e),iteratee(t)):[]}function uniqWith(e,t){return isArrayLike(e)?typeof t=="function"?uniqWith$1(Array.from(e),t):uniq(Array.from(e)):[]}function unzip(e){return!isArrayLikeObject(e)||!e.length?[]:(e=isArray(e)?e:Array.from(e),e=e.filter(t=>isArrayLikeObject(t)),unzip$1(e))}function unzipWith(e,t){if(!isArrayLikeObject(e)||!e.length)return[];const r=isArray(e)?unzip$1(e):unzip$1(Array.from(e,o=>Array.from(o)));if(!t)return r;const n=new Array(r.length);for(let o=0;o<r.length;o++){const i=r[o];n[o]=t(...i)}return n}function without(e,...t){return isArrayLikeObject(e)?without$1(Array.from(e),...t):[]}function xor(...e){const t=new Map;for(let n=0;n<e.length;n++){const o=e[n];if(!isArrayLikeObject(o))continue;const i=new Set(toArray(o));for(const a of i)t.has(a)?t.set(a,t.get(a)+1):t.set(a,1)}const r=[];for(const[n,o]of t)o===1&&r.push(n);return r}function xorBy(...e){const t=last(e);let r=identity$1;!isArrayLikeObject(t)&&t!=null&&(r=iteratee(t),e=e.slice(0,-1));const n=e.filter(isArrayLikeObject),o=unionBy(...n,r),i=windowed(n,2).map(([a,s])=>intersectionBy(a,s,r));return differenceBy(o,unionBy(...i,r),r)}function xorWith(...e){const t=last(e);let r=(a,s)=>a===s;typeof t=="function"&&(r=t,e=e.slice(0,-1));const n=e.filter(isArrayLikeObject),o=unionWith(...n,r),i=windowed(n,2).map(([a,s])=>intersectionWith(a,s,r));return differenceWith(o,unionWith(...i,r),r)}function zip(...e){return e.length?zip$1(...e.filter(t=>isArrayLikeObject(t))):[]}const assignValue=(e,t,r)=>{const n=e[t];(!(Object.hasOwn(e,t)&&eq(n,r))||r===void 0&&!(t in e))&&(e[t]=r)};function zipObject(e=[],t=[]){const r={};for(let n=0;n<e.length;n++)assignValue(r,e[n],t[n]);return r}function updateWith(e,t,r,n){if(e==null&&!isObject$1(e))return e;const o=isKey(t,e)?[t]:Array.isArray(t)?t:typeof t=="string"?toPath(t):[t];let i=e;for(let a=0;a<o.length&&i!=null;a++){const s=toKey(o[a]);if(isUnsafeProperty(s))continue;let u;if(a===o.length-1)u=r(i[s]);else{const c=i[s],l=n==null?void 0:n(c,s,e);u=l!==void 0?l:isObject$1(c)?c:isIndex(o[a+1])?[]:{}}assignValue(i,s,u),i=i[s]}return e}function set$1(e,t,r){return updateWith(e,t,()=>r,()=>{})}function zipObjectDeep(e,t){const r={};if(!isArrayLike(e))return r;isArrayLike(t)||(t=[]);const n=zip$1(Array.from(e),Array.from(t));for(let o=0;o<n.length;o++){const[i,a]=n[o];i!=null&&set$1(r,i,a)}return r}function zipWith(...e){let t=e.pop();if(isFunction$2(t)||(e.push(t),t=void 0),!(e!=null&&e.length))return[];const r=unzip(e);return t==null?r:r.map(n=>t(...n))}function after(e,t){if(typeof t!="function")throw new TypeError("Expected a function");return e=toInteger(e),function(...r){if(--e<1)return t.apply(this,r)}}function ary(e,t=e.length,r){return r&&(t=e.length),(Number.isNaN(t)||t<0)&&(t=0),ary$1(e,t)}function attempt(e,...t){try{return e(...t)}catch(r){return r instanceof Error?r:new Error(r)}}function before(e,t){if(typeof t!="function")throw new TypeError("Expected a function");let r;return e=toInteger(e),function(...n){return--e>0&&(r=t.apply(this,n)),e<=1&&t&&(t=void 0),r}}function bind(e,t,...r){const n=function(...o){const i=[];let a=0;for(let s=0;s<r.length;s++){const u=r[s];u===bind.placeholder?i.push(o[a++]):i.push(u)}for(let s=a;s<o.length;s++)i.push(o[s]);return this instanceof n?new e(...i):e.apply(t,i)};return n}const bindPlaceholder=Symbol("bind.placeholder");bind.placeholder=bindPlaceholder;function bindKey(e,t,...r){const n=function(...o){const i=[];let a=0;for(let s=0;s<r.length;s++){const u=r[s];u===bindKey.placeholder?i.push(o[a++]):i.push(u)}for(let s=a;s<o.length;s++)i.push(o[s]);return this instanceof n?new e[t](...i):e[t].apply(e,i)};return n}const bindKeyPlaceholder=Symbol("bindKey.placeholder");bindKey.placeholder=bindKeyPlaceholder;function curry(e,t=e.length,r){t=r?e.length:t,t=Number.parseInt(t,10),(Number.isNaN(t)||t<1)&&(t=0);const n=function(...o){const i=o.filter(s=>s===curry.placeholder),a=o.length-i.length;return a<t?makeCurry(e,t-a,o):this instanceof n?new e(...o):e.apply(this,o)};return n.placeholder=curryPlaceholder,n}function makeCurry(e,t,r){function n(...o){const i=o.filter(s=>s===curry.placeholder),a=o.length-i.length;return o=composeArgs$1(o,r),a<t?makeCurry(e,t-a,o):this instanceof n?new e(...o):e.apply(this,o)}return n.placeholder=curryPlaceholder,n}function composeArgs$1(e,t){const r=[];let n=0;for(let o=0;o<t.length;o++){const i=t[o];i===curry.placeholder&&n<e.length?r.push(e[n++]):r.push(i)}for(let o=n;o<e.length;o++)r.push(e[o]);return r}const curryPlaceholder=Symbol("curry.placeholder");curry.placeholder=curryPlaceholder;function curryRight(e,t=e.length,r){t=r?e.length:t,t=Number.parseInt(t,10),(Number.isNaN(t)||t<1)&&(t=0);const n=function(...o){const i=o.filter(s=>s===curryRight.placeholder),a=o.length-i.length;return a<t?makeCurryRight(e,t-a,o):this instanceof n?new e(...o):e.apply(this,o)};return n.placeholder=curryRightPlaceholder,n}function makeCurryRight(e,t,r){function n(...o){const i=o.filter(s=>s===curryRight.placeholder),a=o.length-i.length;return o=composeArgs(o,r),a<t?makeCurryRight(e,t-a,o):this instanceof n?new e(...o):e.apply(this,o)}return n.placeholder=curryRightPlaceholder,n}function composeArgs(e,t){const r=t.filter(a=>a===curryRight.placeholder).length,n=Math.max(e.length-r,0),o=[];let i=0;for(let a=0;a<n;a++)o.push(e[i++]);for(let a=0;a<t.length;a++){const s=t[a];s===curryRight.placeholder&&i<e.length?o.push(e[i++]):o.push(s)}return o}const curryRightPlaceholder=Symbol("curryRight.placeholder");curryRight.placeholder=curryRightPlaceholder;function debounce(e,t=0,r={}){typeof r!="object"&&(r={});const{leading:n=!1,trailing:o=!0,maxWait:i}=r,a=Array(2);n&&(a[0]="leading"),o&&(a[1]="trailing");let s,u=null;const c=debounce$1(function(...g){s=e.apply(this,g),u=null},t,{edges:a}),l=function(...g){return i!=null&&(u===null&&(u=Date.now()),Date.now()-u>=i)?(s=e.apply(this,g),u=Date.now(),c.cancel(),c.schedule(),s):(c.apply(this,g),s)},d=()=>(c.flush(),s);return l.cancel=c.cancel,l.flush=d,l}function defer(e,...t){if(typeof e!="function")throw new TypeError("Expected a function");return setTimeout(e,1,...t)}function delay(e,t,...r){if(typeof e!="function")throw new TypeError("Expected a function");return setTimeout(e,toNumber(t)||0,...r)}function flip(e){return function(...t){return e.apply(this,t.reverse())}}function flow(...e){const t=flatten$1(e,1);if(t.some(r=>typeof r!="function"))throw new TypeError("Expected a function");return flow$1(...t)}function flowRight(...e){const t=flatten$1(e,1);if(t.some(r=>typeof r!="function"))throw new TypeError("Expected a function");return flowRight$1(...t)}function memoize(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError("Expected a function");const r=function(...o){const i=t?t.apply(this,o):o[0],a=r.cache;if(a.has(i))return a.get(i);const s=e.apply(this,o);return r.cache=a.set(i,s)||a,s},n=memoize.Cache||Map;return r.cache=new n,r}memoize.Cache=Map;function nthArg(e=0){return function(...t){return t.at(toInteger(e))}}function once(e){return once$1(e)}function overArgs(e,...t){if(typeof e!="function")throw new TypeError("Expected a function");const r=t.flat();return function(...n){const o=Math.min(n.length,r.length),i=[...n];for(let a=0;a<o;a++){const s=iteratee(r[a]??identity$1);i[a]=s.call(this,n[a])}return e.apply(this,i)}}function partial(e,...t){return partialImpl(e,partial.placeholder,...t)}partial.placeholder=Symbol("compat.partial.placeholder");function partialRight(e,...t){return partialRightImpl(e,partialRight.placeholder,...t)}partialRight.placeholder=Symbol("compat.partialRight.placeholder");function rearg(e,...t){const r=flatten(t);return function(...n){const o=r.map(i=>n[i]).slice(0,n.length);for(let i=o.length;i<n.length;i++)o.push(n[i]);return e.apply(this,o)}}function rest(e,t=e.length-1){return t=Number.parseInt(t,10),(Number.isNaN(t)||t<0)&&(t=e.length-1),rest$1(e,t)}function spread(e,t=0){return t=Number.parseInt(t,10),(Number.isNaN(t)||t<0)&&(t=0),function(...r){const n=r[t],o=r.slice(0,t);return n&&o.push(...n),e.apply(this,o)}}function throttle(e,t=0,r={}){const{leading:n=!0,trailing:o=!0}=r;return debounce(e,t,{leading:n,maxWait:t,trailing:o})}function unary(e){return ary(e,1)}function wrap(e,t){return function(...r){return(isFunction$2(t)?t:identity$1).apply(this,[e,...r])}}function toString(e){if(e==null)return"";if(typeof e=="string")return e;if(Array.isArray(e))return e.map(toString).join(",");const t=String(e);return t==="0"&&Object.is(Number(e),-0)?"-0":t}function add(e,t){return e===void 0&&t===void 0?0:e===void 0||t===void 0?e??t:(typeof e=="string"||typeof t=="string"?(e=toString(e),t=toString(t)):(e=toNumber(e),t=toNumber(t)),e+t)}function decimalAdjust(e,t,r=0){if(t=Number(t),Object.is(t,-0)&&(t="-0"),r=Math.min(Number.parseInt(r,10),292),r){const[n,o=0]=t.toString().split("e");let i=Math[e](+`${n}e${Number(o)+r}`);Object.is(i,-0)&&(i="-0");const[a,s=0]=i.toString().split("e");return+`${a}e${Number(s)-r}`}return Math[e](Number(t))}function ceil(e,t=0){return decimalAdjust("ceil",e,t)}function divide(e,t){return e===void 0&&t===void 0?1:e===void 0||t===void 0?e??t:(typeof e=="string"||typeof t=="string"?(e=toString(e),t=toString(t)):(e=toNumber(e),t=toNumber(t)),e/t)}function floor$1(e,t=0){return decimalAdjust("floor",e,t)}function inRange(e,t,r){return t||(t=0),r!=null&&!r&&(r=0),t!=null&&typeof t!="number"&&(t=Number(t)),r==null&&t===0||(r!=null&&typeof r!="number"&&(r=Number(r)),r!=null&&t>r&&([t,r]=[r,t]),t===r)?!1:inRange$1(e,t,r)}function max(e){if(!e||e.length===0)return;let t;for(let r=0;r<e.length;r++){const n=e[r];n==null||Number.isNaN(n)||typeof n=="symbol"||(t===void 0||n>t)&&(t=n)}return t}function maxBy(e,t){if(e!=null)return maxBy$1(Array.from(e),iteratee(t??identity$1))}function sumBy(e,t){if(!e||!e.length)return 0;t!=null&&(t=iteratee(t));let r;for(let n=0;n<e.length;n++){const o=t?t(e[n]):e[n];o!==void 0&&(r===void 0?r=o:r+=o)}return r}function sum(e){return sumBy(e)}function mean(e){const t=e?e.length:0;return t===0?NaN:sum(e)/t}function meanBy(e,t){return e==null?NaN:meanBy$1(Array.from(e),iteratee(t??identity$1))}function min(e){if(!e||e.length===0)return;let t;for(let r=0;r<e.length;r++){const n=e[r];n==null||Number.isNaN(n)||typeof n=="symbol"||(t===void 0||n<t)&&(t=n)}return t}function minBy(e,t){if(e!=null)return minBy$1(Array.from(e),iteratee(t??identity$1))}function multiply(e,t){return e===void 0&&t===void 0?1:e===void 0||t===void 0?e??t:(typeof e=="string"||typeof t=="string"?(e=toString(e),t=toString(t)):(e=toNumber(e),t=toNumber(t)),e*t)}function parseInt$1(e,t=0,r){return r&&(t=0),Number.parseInt(e,t)}function random(...e){let t=0,r=1,n=!1;switch(e.length){case 1:{typeof e[0]=="boolean"?n=e[0]:r=e[0];break}case 2:typeof e[1]=="boolean"?(r=e[0],n=e[1]):(t=e[0],r=e[1]);case 3:typeof e[2]=="object"&&e[2]!=null&&e[2][e[1]]===e[0]?(t=0,r=e[0],n=!1):(t=e[0],r=e[1],n=e[2])}return typeof t!="number"&&(t=Number(t)),typeof r!="number"&&(t=Number(r)),t||(t=0),r||(r=0),t>r&&([t,r]=[r,t]),t=clamp(t,-Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),r=clamp(r,-Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),t===r?t:n?random$1(t,r+1):randomInt(t,r+1)}function range(e,t,r){r&&typeof r!="number"&&isIterateeCall(e,t,r)&&(t=r=void 0),e=toFinite(e),t===void 0?(t=e,e=0):t=toFinite(t),r=r===void 0?e<t?1:-1:toFinite(r);const n=Math.max(Math.ceil((t-e)/(r||1)),0),o=new Array(n);for(let i=0;i<n;i++)o[i]=e,e+=r;return o}function rangeRight(e,t,r){r&&typeof r!="number"&&isIterateeCall(e,t,r)&&(t=r=void 0),e=toFinite(e),t===void 0?(t=e,e=0):t=toFinite(t),r=r===void 0?e<t?1:-1:toFinite(r);const n=Math.max(Math.ceil((t-e)/(r||1)),0),o=new Array(n);for(let i=n-1;i>=0;i--)o[i]=e,e+=r;return o}function round(e,t=0){return decimalAdjust("round",e,t)}function subtract(e,t){return e===void 0&&t===void 0?0:e===void 0||t===void 0?e??t:(typeof e=="string"||typeof t=="string"?(e=toString(e),t=toString(t)):(e=toNumber(e),t=toNumber(t)),e-t)}function noop(...e){}function isPrototype(e){const t=e==null?void 0:e.constructor,r=typeof t=="function"?t.prototype:Object.prototype;return e===r}function isTypedArray(e){return isTypedArray$1(e)}function times(e,t){if(e=toInteger(e),e<1||!Number.isSafeInteger(e))return[];const r=new Array(e);for(let n=0;n<e;n++)r[n]=typeof t=="function"?t(n):n;return r}function keys(e){if(isArrayLike(e))return arrayLikeKeys(e);const t=Object.keys(Object(e));return isPrototype(e)?t.filter(r=>r!=="constructor"):t}function arrayLikeKeys(e){const t=times(e.length,n=>`${n}`),r=new Set(t);return isBuffer$1(e)&&(r.add("offset"),r.add("parent")),isTypedArray(e)&&(r.add("buffer"),r.add("byteLength"),r.add("byteOffset")),[...t,...Object.keys(e).filter(n=>!r.has(n))]}function assign$2(e,...t){for(let r=0;r<t.length;r++)assignImpl(e,t[r]);return e}function assignImpl(e,t){const r=keys(t);for(let n=0;n<r.length;n++){const o=r[n];(!(o in e)||!eq(e[o],t[o]))&&(e[o]=t[o])}}function keysIn(e){if(e==null)return[];switch(typeof e){case"object":case"function":return isArrayLike(e)?arrayLikeKeysIn(e):isPrototype(e)?prototypeKeysIn(e):keysInImpl(e);default:return keysInImpl(Object(e))}}function keysInImpl(e){const t=[];for(const r in e)t.push(r);return t}function prototypeKeysIn(e){return keysInImpl(e).filter(r=>r!=="constructor")}function arrayLikeKeysIn(e){const t=times(e.length,n=>`${n}`),r=new Set(t);return isBuffer$1(e)&&(r.add("offset"),r.add("parent")),isTypedArray(e)&&(r.add("buffer"),r.add("byteLength"),r.add("byteOffset")),[...t,...keysInImpl(e).filter(n=>!r.has(n))]}function assignIn(e,...t){for(let r=0;r<t.length;r++)assignInImpl(e,t[r]);return e}function assignInImpl(e,t){const r=keysIn(t);for(let n=0;n<r.length;n++){const o=r[n];(!(o in e)||!eq(e[o],t[o]))&&(e[o]=t[o])}}function assignInWith(e,...t){let r=t[t.length-1];typeof r=="function"?t.pop():r=void 0;for(let n=0;n<t.length;n++)assignInWithImpl(e,t[n],r);return e}function assignInWithImpl(e,t,r){const n=keysIn(t);for(let o=0;o<n.length;o++){const i=n[o],a=e[i],s=t[i],u=(r==null?void 0:r(a,s,i,e,t))??s;(!(i in e)||!eq(a,u))&&(e[i]=u)}}function assignWith(e,...t){let r=t[t.length-1];typeof r=="function"?t.pop():r=void 0;for(let n=0;n<t.length;n++)assignWithImpl(e,t[n],r);return e}function assignWithImpl(e,t,r){const n=keys(t);for(let o=0;o<n.length;o++){const i=n[o],a=e[i],s=t[i],u=(r==null?void 0:r(a,s,i,e,t))??s;(!(i in e)||!eq(a,u))&&(e[i]=u)}}function clone(e){if(isPrimitive(e))return e;const t=getTag(e);if(!isCloneableObject(e))return{};if(isArray(e)){const n=Array.from(e);return e.length>0&&typeof e[0]=="string"&&Object.hasOwn(e,"index")&&(n.index=e.index,n.input=e.input),n}if(isTypedArray(e)){const n=e,o=n.constructor;return new o(n.buffer,n.byteOffset,n.length)}if(t===arrayBufferTag)return new ArrayBuffer(e.byteLength);if(t===dataViewTag){const n=e,o=n.buffer,i=n.byteOffset,a=n.byteLength,s=new ArrayBuffer(a),u=new Uint8Array(o,i,a);return new Uint8Array(s).set(u),new DataView(s)}if(t===booleanTag||t===numberTag||t===stringTag){const n=e.constructor,o=new n(e.valueOf());return t===stringTag?cloneStringObjectProperties(o,e):copyOwnProperties(o,e),o}if(t===dateTag)return new Date(Number(e));if(t===regexpTag){const n=e,o=new RegExp(n.source,n.flags);return o.lastIndex=n.lastIndex,o}if(t===symbolTag)return Object(Symbol.prototype.valueOf.call(e));if(t===mapTag){const n=e,o=new Map;return n.forEach((i,a)=>{o.set(a,i)}),o}if(t===setTag){const n=e,o=new Set;return n.forEach(i=>{o.add(i)}),o}if(t===argumentsTag){const n=e,o={};return copyOwnProperties(o,n),o.length=n.length,o[Symbol.iterator]=n[Symbol.iterator],o}const r={};return copyPrototype(r,e),copyOwnProperties(r,e),copySymbolProperties(r,e),r}function isCloneableObject(e){switch(getTag(e)){case argumentsTag:case arrayTag:case arrayBufferTag:case dataViewTag:case booleanTag:case dateTag:case float32ArrayTag:case float64ArrayTag:case int8ArrayTag:case int16ArrayTag:case int32ArrayTag:case mapTag:case numberTag:case objectTag:case regexpTag:case setTag:case stringTag:case symbolTag:case uint8ArrayTag:case uint8ClampedArrayTag:case uint16ArrayTag:case uint32ArrayTag:return!0;default:return!1}}function copyOwnProperties(e,t){for(const r in t)Object.hasOwn(t,r)&&(e[r]=t[r])}function copySymbolProperties(e,t){const r=Object.getOwnPropertySymbols(t);for(let n=0;n<r.length;n++){const o=r[n];Object.prototype.propertyIsEnumerable.call(t,o)&&(e[o]=t[o])}}function cloneStringObjectProperties(e,t){const r=t.valueOf().length;for(const n in t)Object.hasOwn(t,n)&&(Number.isNaN(Number(n))||Number(n)>=r)&&(e[n]=t[n])}function copyPrototype(e,t){const r=Object.getPrototypeOf(t);r!==null&&typeof t.constructor=="function"&&Object.setPrototypeOf(e,r)}function cloneWith(e,t){if(!t)return clone(e);const r=t(e);return r!==void 0?r:clone(e)}function create(e,t){const r=isObject$1(e)?Object.create(e):{};if(t!=null){const n=keys(t);for(let o=0;o<n.length;o++){const i=n[o],a=t[i];assignValue(r,i,a)}}return r}function defaults$1(e,...t){e=Object(e);const r=Object.prototype;let n=t.length;const o=n>2?t[2]:void 0;o&&isIterateeCall(t[0],t[1],o)&&(n=1);for(let i=0;i<n;i++){const a=t[i],s=Object.keys(a);for(let u=0;u<s.length;u++){const c=s[u],l=e[c];(l===void 0||!Object.hasOwn(e,c)&&eq(l,r[c]))&&(e[c]=a[c])}}return e}function defaultsDeep(e,...t){e=Object(e);for(let r=0;r<t.length;r++){const n=t[r];n!=null&&defaultsDeepRecursive(e,n,new WeakMap)}return e}function defaultsDeepRecursive(e,t,r){for(const n in t){const o=t[n],i=e[n];if(i===void 0||!Object.hasOwn(e,n)){e[n]=handleMissingProperty(o,r);continue}r.get(o)!==i&&handleExistingProperty(i,o,r)}}function handleMissingProperty(e,t){if(t.has(e))return t.get(e);if(isPlainObject(e)){const r={};return t.set(e,r),defaultsDeepRecursive(r,e,t),r}return e}function handleExistingProperty(e,t,r){if(isPlainObject(e)&&isPlainObject(t)){r.set(t,e),defaultsDeepRecursive(e,t,r);return}Array.isArray(e)&&Array.isArray(t)&&(r.set(t,e),mergeArrays(e,t,r))}function mergeArrays(e,t,r){const n=Math.min(t.length,e.length);for(let o=0;o<n;o++)isPlainObject(e[o])&&isPlainObject(t[o])&&defaultsDeepRecursive(e[o],t[o],r);for(let o=n;o<t.length;o++)e.push(t[o])}function findKey(e,t){if(!isObject$1(e))return;const r=iteratee(t??identity);return findKey$1(e,r)}function findLastKey(e,t){if(!isObject$1(e))return;const r=iteratee(t??identity);return Object.keys(e).findLast(o=>r(e[o],o,e))}function forIn(e,t=identity$1){if(e==null)return e;for(const r in e)if(t(e[r],r,e)===!1)break;return e}function forInRight(e,t=identity$1){if(e==null)return e;const r=[];for(const n in e)r.push(n);for(let n=r.length-1;n>=0;n--){const o=r[n];if(t(e[o],o,e)===!1)break}return e}function forOwn(e,t=identity$1){if(e==null)return e;const r=Object(e),n=keys(e);for(let o=0;o<n.length;++o){const i=n[o];if(t(r[i],i,r)===!1)break}return e}function forOwnRight(e,t=identity$1){if(e==null)return e;const r=Object(e),n=keys(e);for(let o=n.length-1;o>=0;--o){const i=n[o];if(t(r[i],i,r)===!1)break}return e}function fromPairs(e){if(!isArrayLike(e))return{};const t={};for(let r=0;r<e.length;r++){const[n,o]=e[r];t[n]=o}return t}function functions(e){return e==null?[]:keys(e).filter(t=>typeof e[t]=="function")}function functionsIn(e){if(e==null)return[];const t=[];for(const r in e)isFunction$2(e[r])&&t.push(r);return t}function hasIn(e,t){if(e==null)return!1;let r;if(Array.isArray(t)?r=t:typeof t=="string"&&isDeepKey(t)&&e[t]==null?r=toPath(t):r=[t],r.length===0)return!1;let n=e;for(let o=0;o<r.length;o++){const i=r[o];if((n==null||!(i in Object(n)))&&!((Array.isArray(n)||isArguments(n))&&isIndex(i)&&i<n.length))return!1;n=n[i]}return!0}function invert(e){return invert$1(e)}function invertBy(e,t){const r={};if(isNil$1(e))return r;t==null&&(t=identity$1);const n=Object.keys(e),o=iteratee(t);for(let i=0;i<n.length;i++){const a=n[i],s=e[a],u=o(s);Array.isArray(r[u])?r[u].push(a):r[u]=[a]}return r}function mapKeys(e,t=identity$1){return e==null?{}:mapKeys$1(e,iteratee(t))}function mapValues(e,t=identity$1){return e==null?{}:mapValues$1(e,iteratee(t))}function mergeWith(e,...t){const r=t.slice(0,-1),n=t[t.length-1];let o=e;for(let i=0;i<r.length;i++){const a=r[i];o=mergeWithDeep(o,a,n,new Map)}return o}function mergeWithDeep(e,t,r,n){if(isPrimitive(e)&&(e=Object(e)),t==null||typeof t!="object")return e;if(n.has(t))return clone$1(n.get(t));if(n.set(t,e),Array.isArray(t)){t=t.slice();for(let i=0;i<t.length;i++)t[i]=t[i]??void 0}const o=[...Object.keys(t),...getSymbols(t)];for(let i=0;i<o.length;i++){const a=o[i];if(isUnsafeProperty(a))continue;let s=t[a],u=e[a];if(isArguments(s)&&(s={...s}),isArguments(u)&&(u={...u}),typeof Buffer<"u"&&Buffer.isBuffer(s)&&(s=cloneDeep(s)),Array.isArray(s))if(typeof u=="object"&&u!=null){const l=[],d=Reflect.ownKeys(u);for(let g=0;g<d.length;g++){const f=d[g];l[f]=u[f]}u=l}else u=[];const c=r(u,s,a,e,t,n);c!==void 0?e[a]=c:Array.isArray(s)||isObjectLike(u)&&isObjectLike(s)?e[a]=mergeWithDeep(u,s,r,n):u==null&&isPlainObject(s)?e[a]=mergeWithDeep({},s,r,n):u==null&&isTypedArray(s)?e[a]=cloneDeep(s):(u===void 0||s!==void 0)&&(e[a]=s)}return e}function merge(e,...t){return mergeWith(e,...t,noop$1)}function omit(e,...t){if(e==null)return{};const r=cloneDeep$1(e);for(let n=0;n<t.length;n++){let o=t[n];switch(typeof o){case"object":{Array.isArray(o)||(o=Array.from(o));for(let i=0;i<o.length;i++){const a=o[i];unset$1(r,a)}break}case"string":case"symbol":case"number":{unset$1(r,o);break}}}return r}function getSymbolsIn(e){const t=[];for(;e;)t.push(...getSymbols(e)),e=Object.getPrototypeOf(e);return t}function omitBy(e,t){if(e==null)return{};const r={},n=iteratee(t??identity),o=isArrayLike(e)?range$1(0,e.length):[...keysIn(e),...getSymbolsIn(e)];for(let i=0;i<o.length;i++){const a=isSymbol(o[i])?o[i]:o[i].toString(),s=e[a];n(s,a,e)||(r[a]=s)}return r}function pick(e,...t){if(isNil(e))return{};const r={};for(let n=0;n<t.length;n++){let o=t[n];switch(typeof o){case"object":{Array.isArray(o)||(isArrayLike(o)?o=Array.from(o):o=[o]);break}case"string":case"symbol":case"number":{o=[o];break}}for(const i of o){const a=get$1(e,i);a===void 0&&!has$2(e,i)||(typeof i=="string"&&Object.hasOwn(e,i)?r[i]=a:set$1(r,i,a))}}return r}function pickBy(e,t){if(e==null)return{};const r=iteratee(t??identity),n={},o=isArrayLike(e)?range$1(0,e.length):[...keysIn(e),...getSymbolsIn(e)];for(let i=0;i<o.length;i++){const a=isSymbol(o[i])?o[i]:o[i].toString(),s=e[a];r(s,a,e)&&(n[a]=s)}return n}function propertyOf(e){return function(t){return get$1(e,t)}}function result(e,t,r){isKey(t,e)?t=[t]:Array.isArray(t)||(t=toPath(toString(t)));const n=Math.max(t.length,1);for(let o=0;o<n;o++){const i=e==null?void 0:e[toKey(t[o])];if(i===void 0)return typeof r=="function"?r.call(e):r;e=typeof i=="function"?i.call(e):i}return e}function setWith(e,t,r,n){let o;return typeof n=="function"?o=n:o=()=>{},updateWith(e,t,()=>r,o)}function toDefaulted(e,...t){const r=cloneDeep(e);return defaults$1(r,...t)}function mapToEntries(e){const t=new Array(e.size),r=e.keys(),n=e.values();for(let o=0;o<t.length;o++)t[o]=[r.next().value,n.next().value];return t}function setToEntries(e){const t=new Array(e.size),r=e.values();for(let n=0;n<t.length;n++){const o=r.next().value;t[n]=[o,o]}return t}function toPairs(e){if(e==null)return[];if(e instanceof Set)return setToEntries(e);if(e instanceof Map)return mapToEntries(e);const t=keys(e),r=new Array(t.length);for(let n=0;n<t.length;n++){const o=t[n],i=e[o];r[n]=[o,i]}return r}function toPairsIn(e){if(e==null)return[];if(e instanceof Set)return setToEntries(e);if(e instanceof Map)return mapToEntries(e);const t=keysIn(e),r=new Array(t.length);for(let n=0;n<t.length;n++){const o=t[n],i=e[o];r[n]=[o,i]}return r}function isBuffer(e){return isBuffer$1(e)}function transform(e,t=identity$1,r){const n=Array.isArray(e)||isBuffer(e)||isTypedArray(e);return t=iteratee(t),r==null&&(n?r=[]:isObject$1(e)&&isFunction$2(e.constructor)?r=Object.create(Object.getPrototypeOf(e)):r={}),e==null||forEach(e,(o,i,a)=>t(r,o,i,a)),r}function update(e,t,r){return updateWith(e,t,r,()=>{})}function valuesIn(e){const t=keysIn(e),r=new Array(t.length);for(let n=0;n<t.length;n++){const o=t[n];r[n]=e[o]}return r}function isFunction$1(e){return typeof e=="function"}function isLength(e){return Number.isSafeInteger(e)&&e>=0}const functionToString=Function.prototype.toString,REGEXP_SYNTAX_CHARS=/[\\^$.*+?()[\]{}|]/g,IS_NATIVE_FUNCTION_REGEXP=RegExp(`^${functionToString.call(Object.prototype.hasOwnProperty).replace(REGEXP_SYNTAX_CHARS,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")}$`);function isNative(e){if(typeof e!="function")return!1;if((globalThis==null?void 0:globalThis["__core-js_shared__"])!=null)throw new Error("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return IS_NATIVE_FUNCTION_REGEXP.test(functionToString.call(e))}function isNull(e){return e===null}function isUndefined(e){return isUndefined$1(e)}function conformsTo(e,t){if(t==null)return!0;if(e==null)return Object.keys(t).length===0;const r=Object.keys(t);for(let n=0;n<r.length;n++){const o=r[n],i=t[o],a=e[o];if(a===void 0&&!(o in e)||typeof i=="function"&&!i(a))return!1}return!0}function conforms(e){return e=cloneDeep$1(e),function(t){return conformsTo(t,e)}}function isArrayBuffer(e){return isArrayBuffer$1(e)}function isBoolean(e){return typeof e=="boolean"||e instanceof Boolean}function isDate(e){return isDate$1(e)}function isElement(e){return isObjectLike(e)&&e.nodeType===1&&!isPlainObject(e)}function isEmpty(e){if(e==null)return!0;if(isArrayLike(e))return typeof e.splice!="function"&&typeof e!="string"&&(typeof Buffer>"u"||!Buffer.isBuffer(e))&&!isTypedArray(e)&&!isArguments(e)?!1:e.length===0;if(typeof e=="object"){if(e instanceof Map||e instanceof Set)return e.size===0;const t=Object.keys(e);return isPrototype(e)?t.filter(r=>r!=="constructor").length===0:t.length===0}return!0}function isEqualWith(e,t,r){return typeof r!="function"&&(r=()=>{}),isEqualWith$1(e,t,(...n)=>{const o=r(...n);if(o!==void 0)return!!o;if(e instanceof Map&&t instanceof Map)return isEqualWith(Array.from(e),Array.from(t),after$1(2,r));if(e instanceof Set&&t instanceof Set)return isEqualWith(Array.from(e),Array.from(t),after$1(2,r))})}function isError(e){return getTag(e)==="[object Error]"}function isFinite(e){return Number.isFinite(e)}function isInteger(e){return Number.isInteger(e)}function isRegExp$1(e){return isRegExp$2(e)}function isSafeInteger(e){return Number.isSafeInteger(e)}function isSet(e){return isSet$1(e)}function isWeakMap(e){return isWeakMap$1(e)}function isWeakSet(e){return isWeakSet$1(e)}function capitalize(e){return capitalize$1(toString(e))}function bindAll(e,...t){if(e==null||!isObject$1(e)||isArray(e)&&t.length===0)return e;const r=[];for(let n=0;n<t.length;n++){const o=t[n];isArray(o)?r.push(...o):o&&typeof o=="object"&&"length"in o?r.push(...Array.from(o)):r.push(o)}if(r.length===0)return e;for(let n=0;n<r.length;n++){const o=r[n],i=toString(o),a=e[i];isFunction$2(a)&&(e[i]=a.bind(e))}return e}function normalizeForCase(e){return typeof e!="string"&&(e=toString(e)),e.replace(/['\u2019]/g,"")}function camelCase(e){return camelCase$1(normalizeForCase(e))}function deburr(e){return deburr$1(toString(e))}function endsWith(e,t,r){return e==null||t==null?!1:(r==null&&(r=e.length),e.endsWith(t,r))}function escape$2(e){return escape$3(toString(e))}function escapeRegExp(e){return escapeRegExp$1(toString(e))}function kebabCase(e){return kebabCase$1(normalizeForCase(e))}function lowerCase(e){return lowerCase$1(normalizeForCase(e))}function lowerFirst(e){return lowerFirst$1(toString(e))}function pad(e,t,r){return pad$1(toString(e),t,r)}function padEnd(e,t=0,r=" "){return toString(e).padEnd(t,r)}function padStart(e,t=0,r=" "){return toString(e).padStart(t,r)}function repeat(e,t,r){return(r?isIterateeCall(e,t,r):t===void 0)?t=1:t=toInteger(t),toString(e).repeat(t)}function replace$1(e,t,r){return arguments.length<3?toString(e):toString(e).replace(t,r)}function snakeCase(e){return snakeCase$1(normalizeForCase(e))}function split(e,t,r){return toString(e).split(t,r)}function startCase(e){const t=words$1(normalizeForCase(e).trim());let r="";for(let n=0;n<t.length;n++){const o=t[n];r&&(r+=" "),o===o.toUpperCase()?r+=o:r+=o[0].toUpperCase()+o.slice(1).toLowerCase()}return r}function startsWith(e,t,r){return e==null||t==null?!1:(r==null&&(r=0),e.startsWith(t,r))}const esTemplateRegExp=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,unEscapedRegExp=/['\n\r\u2028\u2029\\]/g,noMatchExp=/($^)/,escapeMap=new Map([["\\","\\"],["'","'"],[`
`,"n"],["\r","r"],["\u2028","u2028"],["\u2029","u2029"]]);function escapeString(e){return`\\${escapeMap.get(e)}`}const templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,variable:"",imports:{_:{escape:escape$2,template}}};function template(e,t,r){var f,p,m;e=toString(e),r&&(t=templateSettings),t=defaults$1({...t},templateSettings);const n=new RegExp([((f=t.escape)==null?void 0:f.source)??noMatchExp.source,((p=t.interpolate)==null?void 0:p.source)??noMatchExp.source,t.interpolate?esTemplateRegExp.source:noMatchExp.source,((m=t.evaluate)==null?void 0:m.source)??noMatchExp.source,"$"].join("|"),"g");let o=0,i=!1,a="__p += ''";for(const x of e.matchAll(n)){const[y,C,$,E,R]=x,{index:B}=x;a+=` + '${e.slice(o,B).replace(unEscapedRegExp,escapeString)}'`,C&&(a+=` + _.escape(${C})`),$?a+=` + ((${$}) == null ? '' : ${$})`:E&&(a+=` + ((${E}) == null ? '' : ${E})`),R&&(a+=`;
${R};
 __p += ''`,i=!0),o=B+y.length}const s=defaults$1({...t.imports},templateSettings.imports),u=Object.keys(s),c=Object.values(s),l=`//# sourceURL=${t.sourceURL?String(t.sourceURL).replace(/[\r\n]/g," "):`es-toolkit.templateSource[${Date.now()}]`}
`,d=`function(${t.variable||"obj"}) {
    let __p = '';
    ${t.variable?"":"if (obj == null) { obj = {}; }"}
    ${i?"function print() { __p += Array.prototype.join.call(arguments, ''); }":""}
    ${t.variable?a:`with(obj) {
${a}
}`}
    return __p;
  }`,g=attempt(()=>new Function(...u,`${l}return ${d}`)(...c));if(g.source=d,g instanceof Error)throw g;return g}function toLower(e){return toString(e).toLowerCase()}function toUpper(e){return toString(e).toUpperCase()}function trim(e,t,r){if(e==null)return"";if(r!=null||t==null)return e.toString().trim();switch(typeof t){case"object":return Array.isArray(t)?trim$1(e,t.flatMap(n=>n.toString().split(""))):trim$1(e,t.toString().split(""));default:return trim$1(e,t.toString().split(""))}}function trimEnd(e,t,r){return e==null?"":r!=null||t==null?e.toString().trimEnd():trimEnd$1(e,t.toString().split(""))}function trimStart(e,t,r){return e==null?"":r!=null||t==null?e.toString().trimStart():trimStart$1(e,t.toString().split(""))}const regexMultiByte=/[\u200d\ud800-\udfff\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff\ufe0e\ufe0f]/;function truncate(e,t){e=e!=null?`${e}`:"";let r=30,n="...";isObject$1(t)&&(r=parseLength(t.length),n="omission"in t?`${t.omission}`:"...");let o=e.length;const i=Array.from(n).length,a=Math.max(r-i,0);let s;if(regexMultiByte.test(e)&&(s=Array.from(e),o=s.length),r>=o)return e;if(o<=i)return n;let c=s===void 0?e.slice(0,a):s==null?void 0:s.slice(0,a).join("");const l=t==null?void 0:t.separator;if(!l)return c+=n,c;const d=l instanceof RegExp?l.source:l,g="u"+(l instanceof RegExp?l.flags.replace("u",""):""),f=new RegExp(`(?<result>.*(?:(?!${d}).))(?:${d})`,g).exec(c);return(f!=null&&f.groups?f.groups.result:c)+n}function parseLength(e){return e==null?30:e<=0?0:e}function unescape$1(e){return unescape$2(toString(e))}function upperCase(e){return upperCase$1(normalizeForCase(e))}function upperFirst(e){return upperFirst$1(toString(e))}const rNonCharLatin="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\xd7\\xf7",rUnicodeUpper="\\p{Lu}",rUnicodeLower="\\p{Ll}",rMisc="(?:[\\p{Lm}\\p{Lo}]\\p{M}*)",rNumber="\\d",rUnicodeOptContrLower="(?:['](?:d|ll|m|re|s|t|ve))?",rUnicodeOptContrUpper="(?:['](?:D|LL|M|RE|S|T|VE))?",rUnicodeBreak=`[\\p{Z}\\p{P}${rNonCharLatin}]`,rUnicodeMiscUpper=`(?:${rUnicodeUpper}|${rMisc})`,rUnicodeMiscLower=`(?:${rUnicodeLower}|${rMisc})`,rUnicodeWord=RegExp([`${rUnicodeUpper}?${rUnicodeLower}+${rUnicodeOptContrLower}(?=${rUnicodeBreak}|${rUnicodeUpper}|$)`,`${rUnicodeMiscUpper}+${rUnicodeOptContrUpper}(?=${rUnicodeBreak}|${rUnicodeUpper}${rUnicodeMiscLower}|$)`,`${rUnicodeUpper}?${rUnicodeMiscLower}+${rUnicodeOptContrLower}`,`${rUnicodeUpper}+${rUnicodeOptContrUpper}`,`${rNumber}*(?:1ST|2ND|3RD|(?![123])${rNumber}TH)(?=\\b|[a-z_])`,`${rNumber}*(?:1st|2nd|3rd|(?![123])${rNumber}th)(?=\\b|[A-Z_])`,`${rNumber}+`,"\\p{Emoji_Presentation}","\\p{Extended_Pictographic}"].join("|"),"gu");function words(e,t=rUnicodeWord,r){const n=toString(e);return r&&(t=rUnicodeWord),typeof t=="number"&&(t=t.toString()),Array.from(n.match(t)??[]).filter(i=>i!=="")}function cond(e){const t=e.length,r=e.map(n=>{const o=n[0],i=n[1];if(!isFunction$2(i))throw new TypeError("Expected a function");return[iteratee(o),i]});return function(...n){for(let o=0;o<t;o++){const i=r[o],a=i[0],s=i[1];if(a.apply(this,n))return s.apply(this,n)}}}function constant(e){return()=>e}function defaultTo(e,t){return e==null||Number.isNaN(e)?t:e}function gt(e,t){return typeof e=="string"&&typeof t=="string"?e>t:toNumber(e)>toNumber(t)}function gte(e,t){return typeof e=="string"&&typeof t=="string"?e>=t:toNumber(e)>=toNumber(t)}function invoke(e,t,...r){if(r=r.flat(1),e!=null)switch(typeof t){case"string":return typeof e=="object"&&Object.hasOwn(e,t)?invokeImpl(e,[t],r):invokeImpl(e,toPath(t),r);case"number":case"symbol":return invokeImpl(e,[t],r);default:return Array.isArray(t)?invokeImpl(e,t,r):invokeImpl(e,[t],r)}}function invokeImpl(e,t,r){const n=get$1(e,t.slice(0,-1),e);if(n==null)return;let o=last(t);const i=o==null?void 0:o.valueOf();typeof i=="number"?o=toKey(i):o=String(o);const a=get$1(n,o);return a==null?void 0:a.apply(n,r)}function lt(e,t){return typeof e=="string"&&typeof t=="string"?e<t:toNumber(e)<toNumber(t)}function lte(e,t){return typeof e=="string"&&typeof t=="string"?e<=t:toNumber(e)<=toNumber(t)}function method(e,...t){return function(r){return invoke(r,e,t)}}function methodOf(e,...t){return function(r){return invoke(e,r,t)}}function now(){return Date.now()}function over(...e){e.length===1&&Array.isArray(e[0])&&(e=e[0]);const t=e.map(r=>iteratee(r));return function(...r){return t.map(n=>n.apply(this,r))}}function overEvery(...e){return function(...t){for(let r=0;r<e.length;++r){const n=e[r];if(!Array.isArray(n)){if(!iteratee(n).apply(this,t))return!1;continue}for(let o=0;o<n.length;++o)if(!iteratee(n[o]).apply(this,t))return!1}return!0}}function overSome(...e){return function(...t){for(let r=0;r<e.length;++r){const n=e[r];if(!Array.isArray(n)){if(iteratee(n).apply(this,t))return!0;continue}for(let o=0;o<n.length;++o)if(iteratee(n[o]).apply(this,t))return!0}return!1}}function stubArray(){return[]}function stubFalse(){return!1}function stubObject(){return{}}function stubString(){return""}function stubTrue(){return!0}const MAX_ARRAY_LENGTH=4294967295;function toLength(e){if(e==null)return 0;const t=Math.floor(Number(e));return clamp(t,0,MAX_ARRAY_LENGTH)}function toPlainObject(e){const t={},r=keysIn(e);for(let n=0;n<r.length;n++){const o=r[n],i=e[o];o==="__proto__"?Object.defineProperty(t,o,{configurable:!0,enumerable:!0,value:i,writable:!0}):t[o]=i}return t}const MAX_SAFE_INTEGER=Number.MAX_SAFE_INTEGER;function toSafeInteger(e){return e==null?0:clamp(toInteger(e),-MAX_SAFE_INTEGER,MAX_SAFE_INTEGER)}let idCounter=0;function uniqueId(e=""){const t=++idCounter;return`${e}${t}`}const compat=Object.freeze(Object.defineProperty({__proto__:null,add,after,ary,assign:assign$2,assignIn,assignInWith,assignWith,at,attempt,before,bind,bindAll,bindKey,camelCase,capitalize,castArray,ceil,chunk,clamp,clone,cloneDeep,cloneDeepWith,cloneWith,compact,concat,cond,conforms,conformsTo,constant,countBy,create,curry,curryRight,debounce,deburr,defaultTo,defaults:defaults$1,defaultsDeep,defer,delay,difference,differenceBy,differenceWith,divide,drop,dropRight,dropRightWhile,dropWhile,each:forEach,eachRight:forEachRight,endsWith,eq,escape:escape$2,escapeRegExp,every,extend:assignIn,extendWith:assignInWith,fill,filter,find,findIndex,findKey,findLast,findLastIndex,findLastKey,first:head,flatMap,flatMapDeep,flatMapDepth,flatten,flattenDeep,flattenDepth,flip,floor:floor$1,flow,flowRight,forEach,forEachRight,forIn,forInRight,forOwn,forOwnRight,fromPairs,functions,functionsIn,get:get$1,groupBy,gt,gte,has:has$2,hasIn,head,identity,inRange,includes,indexOf,initial,intersection,intersectionBy,intersectionWith,invert,invertBy,invoke,invokeMap,isArguments,isArray,isArrayBuffer,isArrayLike,isArrayLikeObject,isBoolean,isBuffer,isDate,isElement,isEmpty,isEqual,isEqualWith,isError,isFinite,isFunction:isFunction$1,isInteger,isLength,isMap,isMatch,isMatchWith,isNaN:isNaN$1,isNative,isNil,isNull,isNumber:isNumber$1,isObject:isObject$1,isObjectLike,isPlainObject,isRegExp:isRegExp$1,isSafeInteger,isSet,isString:isString$3,isSymbol,isTypedArray,isUndefined,isWeakMap,isWeakSet,iteratee,join,kebabCase,keyBy,keys,keysIn,last,lastIndexOf,lowerCase,lowerFirst,lt,lte,map:map$1,mapKeys,mapValues,matches,matchesProperty,max,maxBy,mean,meanBy,memoize,merge,mergeWith,method,methodOf,min,minBy,multiply,negate,noop,now,nth,nthArg,omit,omitBy,once,orderBy,over,overArgs,overEvery,overSome,pad,padEnd,padStart,parseInt:parseInt$1,partial,partialRight,partition:partition$1,pick,pickBy,property,propertyOf,pull,pullAll,pullAllBy,pullAllWith,pullAt,random,range,rangeRight,rearg,reduce,reduceRight,reject,remove,repeat,replace:replace$1,rest,result,reverse,round,sample,sampleSize,set:set$1,setWith,shuffle,size,slice,snakeCase,some,sortBy,sortedIndex,sortedIndexBy,sortedIndexOf,sortedLastIndex,sortedLastIndexBy,sortedLastIndexOf,split,spread,startCase,startsWith,stubArray,stubFalse,stubObject,stubString,stubTrue,subtract,sum,sumBy,tail,take,takeRight,takeRightWhile,takeWhile,template,templateSettings,throttle,times,toArray,toDefaulted,toFinite,toInteger,toLength,toLower,toNumber,toPairs,toPairsIn,toPath,toPlainObject,toSafeInteger,toString,toUpper,transform,trim,trimEnd,trimStart,truncate,unary,unescape:unescape$1,union,unionBy,unionWith,uniq,uniqBy,uniqWith,uniqueId,unset:unset$1,unzip,unzipWith,update,updateWith,upperCase,upperFirst,values,valuesIn,without,words,wrap,xor,xorBy,xorWith,zip,zipObject,zipObjectDeep,zipWith},Symbol.toStringTag,{value:"Module"})),toolkit=e=>e;Object.assign(toolkit,compat);toolkit.partial.placeholder=toolkit;toolkit.partialRight.placeholder=toolkit;const EsToolKitCompat=Object.freeze(Object.defineProperty({__proto__:null,add,after,ary,assign:assign$2,assignIn,assignInWith,assignWith,at,attempt,before,bind,bindAll,bindKey,camelCase,capitalize,castArray,ceil,chunk,clamp,clone,cloneDeep,cloneDeepWith,cloneWith,compact,concat,cond,conforms,conformsTo,constant,countBy,create,curry,curryRight,debounce,deburr,default:toolkit,defaultTo,defaults:defaults$1,defaultsDeep,defer,delay,difference,differenceBy,differenceWith,divide,drop,dropRight,dropRightWhile,dropWhile,each:forEach,eachRight:forEachRight,endsWith,eq,escape:escape$2,escapeRegExp,every,extend:assignIn,extendWith:assignInWith,fill,filter,find,findIndex,findKey,findLast,findLastIndex,findLastKey,first:head,flatMap,flatMapDeep,flatMapDepth,flatten,flattenDeep,flattenDepth,flip,floor:floor$1,flow,flowRight,forEach,forEachRight,forIn,forInRight,forOwn,forOwnRight,fromPairs,functions,functionsIn,get:get$1,groupBy,gt,gte,has:has$2,hasIn,head,identity,inRange,includes,indexOf,initial,intersection,intersectionBy,intersectionWith,invert,invertBy,invoke,invokeMap,isArguments,isArray,isArrayBuffer,isArrayLike,isArrayLikeObject,isBoolean,isBuffer,isDate,isElement,isEmpty,isEqual,isEqualWith,isError,isFinite,isFunction:isFunction$1,isInteger,isLength,isMap,isMatch,isMatchWith,isNaN:isNaN$1,isNative,isNil,isNull,isNumber:isNumber$1,isObject:isObject$1,isObjectLike,isPlainObject,isRegExp:isRegExp$1,isSafeInteger,isSet,isString:isString$3,isSymbol,isTypedArray,isUndefined,isWeakMap,isWeakSet,iteratee,join,kebabCase,keyBy,keys,keysIn,last,lastIndexOf,lowerCase,lowerFirst,lt,lte,map:map$1,mapKeys,mapValues,matches,matchesProperty,max,maxBy,mean,meanBy,memoize,merge,mergeWith,method,methodOf,min,minBy,multiply,negate,noop,now,nth,nthArg,omit,omitBy,once,orderBy,over,overArgs,overEvery,overSome,pad,padEnd,padStart,parseInt:parseInt$1,partial,partialRight,partition:partition$1,pick,pickBy,property,propertyOf,pull,pullAll,pullAllBy,pullAllWith,pullAt,random,range,rangeRight,rearg,reduce,reduceRight,reject,remove,repeat,replace:replace$1,rest,result,reverse,round,sample,sampleSize,set:set$1,setWith,shuffle,size,slice,snakeCase,some,sortBy,sortedIndex,sortedIndexBy,sortedIndexOf,sortedLastIndex,sortedLastIndexBy,sortedLastIndexOf,split,spread,startCase,startsWith,stubArray,stubFalse,stubObject,stubString,stubTrue,subtract,sum,sumBy,tail,take,takeRight,takeRightWhile,takeWhile,template,templateSettings,throttle,times,toArray,toDefaulted,toFinite,toInteger,toLength,toLower,toNumber,toPairs,toPairsIn,toPath,toPlainObject,toSafeInteger,toString,toUpper,transform,trim,trimEnd,trimStart,truncate,unary,unescape:unescape$1,union,unionBy,unionWith,uniq,uniqBy,uniqWith,uniqueId,unset:unset$1,unzip,unzipWith,update,updateWith,upperCase,upperFirst,values,valuesIn,without,words,wrap,xor,xorBy,xorWith,zip,zipObject,zipObjectDeep,zipWith},Symbol.toStringTag,{value:"Module"})),darkModeClassName="my-app-dark",useDarkModeStore=defineStore("darkMode",()=>{const e=ref(darkModeClassName),t=ref(!1),r=computed(()=>`.${e.value}`),n=computed(()=>document.documentElement.classList.contains(darkModeClassName)),o=()=>{document.documentElement.classList.add(e.value),t.value=!0},i=()=>{document.documentElement.classList.remove(e.value),t.value=!1};return{className:e,isOn:t,darkModeClass:r,isDarkMode:n,turnOn:o,turnOff:i,toggle:()=>{document.documentElement.classList.toggle(e.value),t.value=!t.value},turn:()=>{t.value?o():i()}}},{persist:{serializer:{deserialize:lib$1.parse,serialize:lib$1.stringify},pick:["isOn"]}}),defaultState={locale:"en",fallbackLocale:"en",availableLocales:["en","zh"]},systemSettingsDefinition={state:()=>_.cloneDeep(defaultState),getters:{},actions:{setLocale(e,t){var r;e=(e??"").toLowerCase(),(r=this.availableLocales)!=null&&r.includes(e)||(e=this.locale),t!=null&&(t.value=e),this.locale=e}},persist:{serializer:{deserialize:lib$1.parse,serialize:lib$1.stringify}}},useSystemSettingsStore=defineStore("systemSettingsStore",systemSettingsDefinition),RootLayout=defineComponent({setup(){const e=useDarkModeStore(),{turn:t}=e,r=useSystemSettingsStore(),{setLocale:n}=r;return watchEffect(()=>{t(),n()}),()=>[h(RouterView),h(script),h(script$1),h(script$2)]}});window.toolPack={_,axios,clipboard,Dexie,EsToolKit,EsToolKitCompat,FileSaver,ini,jschardet,json5:lib$2,JSON5:lib$2,jsonc,JSONC:jsonc,jszip,JSZip:jszip,localforage,lodash:_,Lodash:_,LodashEs,md5,nanoid,pako,saveAs:FileSaver_minExports.saveAs,TOML,yaml:YAML,zipson};window._=_;window.axios=axios;window.clipboard=clipboard;window.Dexie=Dexie;window.EsToolKit=EsToolKit;window.EsToolKitCompat=EsToolKitCompat;window.FileSaver=FileSaver;window.ini=ini;window.jschardet=jschardet;window.json5=lib$2;window.JSON5=lib$2;window.jsonc=jsonc;window.JSONC=jsonc;window.jszip=jszip;window.JSZip=jszip;window.localforage=localforage;window.lodash=_;window.Lodash=_;window.LodashEs=LodashEs;window.md5=md5;window.nanoid=nanoid;window.pako=pako;window.saveAs=FileSaver_minExports.saveAs;window.TOML=TOML;window.yaml=YAML;window.zipson=zipson;const App=defineComponent({setup(){return()=>h(RootLayout)}});var index$1p={root:{transitionDuration:"{transition.duration}"},panel:{borderWidth:"0 0 1px 0",borderColor:"{content.border.color}"},header:{color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{text.color}",padding:"1.125rem",fontWeight:"600",borderRadius:"0",borderWidth:"0",borderColor:"{content.border.color}",background:"{content.background}",hoverBackground:"{content.background}",activeBackground:"{content.background}",activeHoverBackground:"{content.background}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"},toggleIcon:{color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{text.color}",activeHoverColor:"{text.color}"},first:{topBorderRadius:"{content.border.radius}",borderWidth:"0"},last:{bottomBorderRadius:"{content.border.radius}",activeBottomBorderRadius:"0"}},content:{borderWidth:"0",borderColor:"{content.border.color}",background:"{content.background}",color:"{text.color}",padding:"0 1.125rem 1.125rem 1.125rem"}},index$1o={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}"},overlay:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},list:{padding:"{list.padding}",gap:"{list.gap}"},option:{focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"},optionGroup:{background:"{list.option.group.background}",color:"{list.option.group.color}",fontWeight:"{list.option.group.font.weight}",padding:"{list.option.group.padding}"},dropdown:{width:"2.5rem",sm:{width:"2rem"},lg:{width:"3rem"},borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.border.color}",activeBorderColor:"{form.field.border.color}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},chip:{borderRadius:"{border.radius.sm}"},emptyMessage:{padding:"{list.option.padding}"},colorScheme:{light:{chip:{focusBackground:"{surface.200}",focusColor:"{surface.800}"},dropdown:{background:"{surface.100}",hoverBackground:"{surface.200}",activeBackground:"{surface.300}",color:"{surface.600}",hoverColor:"{surface.700}",activeColor:"{surface.800}"}},dark:{chip:{focusBackground:"{surface.700}",focusColor:"{surface.0}"},dropdown:{background:"{surface.800}",hoverBackground:"{surface.700}",activeBackground:"{surface.600}",color:"{surface.300}",hoverColor:"{surface.200}",activeColor:"{surface.100}"}}}},index$1n={root:{width:"2rem",height:"2rem",fontSize:"1rem",background:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}"},icon:{size:"1rem"},group:{borderColor:"{content.background}",offset:"-0.75rem"},lg:{width:"3rem",height:"3rem",fontSize:"1.5rem",icon:{size:"1.5rem"},group:{offset:"-1rem"}},xl:{width:"4rem",height:"4rem",fontSize:"2rem",icon:{size:"2rem"},group:{offset:"-1.5rem"}}},index$1m={root:{borderRadius:"{border.radius.md}",padding:"0 0.5rem",fontSize:"0.75rem",fontWeight:"700",minWidth:"1.5rem",height:"1.5rem"},dot:{size:"0.5rem"},sm:{fontSize:"0.625rem",minWidth:"1.25rem",height:"1.25rem"},lg:{fontSize:"0.875rem",minWidth:"1.75rem",height:"1.75rem"},xl:{fontSize:"1rem",minWidth:"2rem",height:"2rem"},colorScheme:{light:{primary:{background:"{primary.color}",color:"{primary.contrast.color}"},secondary:{background:"{surface.100}",color:"{surface.600}"},success:{background:"{green.500}",color:"{surface.0}"},info:{background:"{sky.500}",color:"{surface.0}"},warn:{background:"{orange.500}",color:"{surface.0}"},danger:{background:"{red.500}",color:"{surface.0}"},contrast:{background:"{surface.950}",color:"{surface.0}"}},dark:{primary:{background:"{primary.color}",color:"{primary.contrast.color}"},secondary:{background:"{surface.800}",color:"{surface.300}"},success:{background:"{green.400}",color:"{green.950}"},info:{background:"{sky.400}",color:"{sky.950}"},warn:{background:"{orange.400}",color:"{orange.950}"},danger:{background:"{red.400}",color:"{red.950}"},contrast:{background:"{surface.0}",color:"{surface.950}"}}}},index$1l={primitive:{borderRadius:{none:"0",xs:"2px",sm:"4px",md:"6px",lg:"8px",xl:"12px"},emerald:{50:"#ecfdf5",100:"#d1fae5",200:"#a7f3d0",300:"#6ee7b7",400:"#34d399",500:"#10b981",600:"#059669",700:"#047857",800:"#065f46",900:"#064e3b",950:"#022c22"},green:{50:"#f0fdf4",100:"#dcfce7",200:"#bbf7d0",300:"#86efac",400:"#4ade80",500:"#22c55e",600:"#16a34a",700:"#15803d",800:"#166534",900:"#14532d",950:"#052e16"},lime:{50:"#f7fee7",100:"#ecfccb",200:"#d9f99d",300:"#bef264",400:"#a3e635",500:"#84cc16",600:"#65a30d",700:"#4d7c0f",800:"#3f6212",900:"#365314",950:"#1a2e05"},red:{50:"#fef2f2",100:"#fee2e2",200:"#fecaca",300:"#fca5a5",400:"#f87171",500:"#ef4444",600:"#dc2626",700:"#b91c1c",800:"#991b1b",900:"#7f1d1d",950:"#450a0a"},orange:{50:"#fff7ed",100:"#ffedd5",200:"#fed7aa",300:"#fdba74",400:"#fb923c",500:"#f97316",600:"#ea580c",700:"#c2410c",800:"#9a3412",900:"#7c2d12",950:"#431407"},amber:{50:"#fffbeb",100:"#fef3c7",200:"#fde68a",300:"#fcd34d",400:"#fbbf24",500:"#f59e0b",600:"#d97706",700:"#b45309",800:"#92400e",900:"#78350f",950:"#451a03"},yellow:{50:"#fefce8",100:"#fef9c3",200:"#fef08a",300:"#fde047",400:"#facc15",500:"#eab308",600:"#ca8a04",700:"#a16207",800:"#854d0e",900:"#713f12",950:"#422006"},teal:{50:"#f0fdfa",100:"#ccfbf1",200:"#99f6e4",300:"#5eead4",400:"#2dd4bf",500:"#14b8a6",600:"#0d9488",700:"#0f766e",800:"#115e59",900:"#134e4a",950:"#042f2e"},cyan:{50:"#ecfeff",100:"#cffafe",200:"#a5f3fc",300:"#67e8f9",400:"#22d3ee",500:"#06b6d4",600:"#0891b2",700:"#0e7490",800:"#155e75",900:"#164e63",950:"#083344"},sky:{50:"#f0f9ff",100:"#e0f2fe",200:"#bae6fd",300:"#7dd3fc",400:"#38bdf8",500:"#0ea5e9",600:"#0284c7",700:"#0369a1",800:"#075985",900:"#0c4a6e",950:"#082f49"},blue:{50:"#eff6ff",100:"#dbeafe",200:"#bfdbfe",300:"#93c5fd",400:"#60a5fa",500:"#3b82f6",600:"#2563eb",700:"#1d4ed8",800:"#1e40af",900:"#1e3a8a",950:"#172554"},indigo:{50:"#eef2ff",100:"#e0e7ff",200:"#c7d2fe",300:"#a5b4fc",400:"#818cf8",500:"#6366f1",600:"#4f46e5",700:"#4338ca",800:"#3730a3",900:"#312e81",950:"#1e1b4b"},violet:{50:"#f5f3ff",100:"#ede9fe",200:"#ddd6fe",300:"#c4b5fd",400:"#a78bfa",500:"#8b5cf6",600:"#7c3aed",700:"#6d28d9",800:"#5b21b6",900:"#4c1d95",950:"#2e1065"},purple:{50:"#faf5ff",100:"#f3e8ff",200:"#e9d5ff",300:"#d8b4fe",400:"#c084fc",500:"#a855f7",600:"#9333ea",700:"#7e22ce",800:"#6b21a8",900:"#581c87",950:"#3b0764"},fuchsia:{50:"#fdf4ff",100:"#fae8ff",200:"#f5d0fe",300:"#f0abfc",400:"#e879f9",500:"#d946ef",600:"#c026d3",700:"#a21caf",800:"#86198f",900:"#701a75",950:"#4a044e"},pink:{50:"#fdf2f8",100:"#fce7f3",200:"#fbcfe8",300:"#f9a8d4",400:"#f472b6",500:"#ec4899",600:"#db2777",700:"#be185d",800:"#9d174d",900:"#831843",950:"#500724"},rose:{50:"#fff1f2",100:"#ffe4e6",200:"#fecdd3",300:"#fda4af",400:"#fb7185",500:"#f43f5e",600:"#e11d48",700:"#be123c",800:"#9f1239",900:"#881337",950:"#4c0519"},slate:{50:"#f8fafc",100:"#f1f5f9",200:"#e2e8f0",300:"#cbd5e1",400:"#94a3b8",500:"#64748b",600:"#475569",700:"#334155",800:"#1e293b",900:"#0f172a",950:"#020617"},gray:{50:"#f9fafb",100:"#f3f4f6",200:"#e5e7eb",300:"#d1d5db",400:"#9ca3af",500:"#6b7280",600:"#4b5563",700:"#374151",800:"#1f2937",900:"#111827",950:"#030712"},zinc:{50:"#fafafa",100:"#f4f4f5",200:"#e4e4e7",300:"#d4d4d8",400:"#a1a1aa",500:"#71717a",600:"#52525b",700:"#3f3f46",800:"#27272a",900:"#18181b",950:"#09090b"},neutral:{50:"#fafafa",100:"#f5f5f5",200:"#e5e5e5",300:"#d4d4d4",400:"#a3a3a3",500:"#737373",600:"#525252",700:"#404040",800:"#262626",900:"#171717",950:"#0a0a0a"},stone:{50:"#fafaf9",100:"#f5f5f4",200:"#e7e5e4",300:"#d6d3d1",400:"#a8a29e",500:"#78716c",600:"#57534e",700:"#44403c",800:"#292524",900:"#1c1917",950:"#0c0a09"}},semantic:{transitionDuration:"0.2s",focusRing:{width:"1px",style:"solid",color:"{primary.color}",offset:"2px",shadow:"none"},disabledOpacity:"0.6",iconSize:"1rem",anchorGutter:"2px",primary:{50:"{emerald.50}",100:"{emerald.100}",200:"{emerald.200}",300:"{emerald.300}",400:"{emerald.400}",500:"{emerald.500}",600:"{emerald.600}",700:"{emerald.700}",800:"{emerald.800}",900:"{emerald.900}",950:"{emerald.950}"},formField:{paddingX:"0.75rem",paddingY:"0.5rem",sm:{fontSize:"0.875rem",paddingX:"0.625rem",paddingY:"0.375rem"},lg:{fontSize:"1.125rem",paddingX:"0.875rem",paddingY:"0.625rem"},borderRadius:"{border.radius.md}",focusRing:{width:"0",style:"none",color:"transparent",offset:"0",shadow:"none"},transitionDuration:"{transition.duration}"},list:{padding:"0.25rem 0.25rem",gap:"2px",header:{padding:"0.5rem 1rem 0.25rem 1rem"},option:{padding:"0.5rem 0.75rem",borderRadius:"{border.radius.sm}"},optionGroup:{padding:"0.5rem 0.75rem",fontWeight:"600"}},content:{borderRadius:"{border.radius.md}"},mask:{transitionDuration:"0.15s"},navigation:{list:{padding:"0.25rem 0.25rem",gap:"2px"},item:{padding:"0.5rem 0.75rem",borderRadius:"{border.radius.sm}",gap:"0.5rem"},submenuLabel:{padding:"0.5rem 0.75rem",fontWeight:"600"},submenuIcon:{size:"0.875rem"}},overlay:{select:{borderRadius:"{border.radius.md}",shadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1)"},popover:{borderRadius:"{border.radius.md}",padding:"0.75rem",shadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1)"},modal:{borderRadius:"{border.radius.xl}",padding:"1.25rem",shadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1)"},navigation:{shadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1)"}},colorScheme:{light:{surface:{0:"#ffffff",50:"{slate.50}",100:"{slate.100}",200:"{slate.200}",300:"{slate.300}",400:"{slate.400}",500:"{slate.500}",600:"{slate.600}",700:"{slate.700}",800:"{slate.800}",900:"{slate.900}",950:"{slate.950}"},primary:{color:"{primary.500}",contrastColor:"#ffffff",hoverColor:"{primary.600}",activeColor:"{primary.700}"},highlight:{background:"{primary.50}",focusBackground:"{primary.100}",color:"{primary.700}",focusColor:"{primary.800}"},mask:{background:"rgba(0,0,0,0.4)",color:"{surface.200}"},formField:{background:"{surface.0}",disabledBackground:"{surface.200}",filledBackground:"{surface.50}",filledHoverBackground:"{surface.50}",filledFocusBackground:"{surface.50}",borderColor:"{surface.300}",hoverBorderColor:"{surface.400}",focusBorderColor:"{primary.color}",invalidBorderColor:"{red.400}",color:"{surface.700}",disabledColor:"{surface.500}",placeholderColor:"{surface.500}",invalidPlaceholderColor:"{red.600}",floatLabelColor:"{surface.500}",floatLabelFocusColor:"{primary.600}",floatLabelActiveColor:"{surface.500}",floatLabelInvalidColor:"{form.field.invalid.placeholder.color}",iconColor:"{surface.400}",shadow:"0 0 #0000, 0 0 #0000, 0 1px 2px 0 rgba(18, 18, 23, 0.05)"},text:{color:"{surface.700}",hoverColor:"{surface.800}",mutedColor:"{surface.500}",hoverMutedColor:"{surface.600}"},content:{background:"{surface.0}",hoverBackground:"{surface.100}",borderColor:"{surface.200}",color:"{text.color}",hoverColor:"{text.hover.color}"},overlay:{select:{background:"{surface.0}",borderColor:"{surface.200}",color:"{text.color}"},popover:{background:"{surface.0}",borderColor:"{surface.200}",color:"{text.color}"},modal:{background:"{surface.0}",borderColor:"{surface.200}",color:"{text.color}"}},list:{option:{focusBackground:"{surface.100}",selectedBackground:"{highlight.background}",selectedFocusBackground:"{highlight.focus.background}",color:"{text.color}",focusColor:"{text.hover.color}",selectedColor:"{highlight.color}",selectedFocusColor:"{highlight.focus.color}",icon:{color:"{surface.400}",focusColor:"{surface.500}"}},optionGroup:{background:"transparent",color:"{text.muted.color}"}},navigation:{item:{focusBackground:"{surface.100}",activeBackground:"{surface.100}",color:"{text.color}",focusColor:"{text.hover.color}",activeColor:"{text.hover.color}",icon:{color:"{surface.400}",focusColor:"{surface.500}",activeColor:"{surface.500}"}},submenuLabel:{background:"transparent",color:"{text.muted.color}"},submenuIcon:{color:"{surface.400}",focusColor:"{surface.500}",activeColor:"{surface.500}"}}},dark:{surface:{0:"#ffffff",50:"{zinc.50}",100:"{zinc.100}",200:"{zinc.200}",300:"{zinc.300}",400:"{zinc.400}",500:"{zinc.500}",600:"{zinc.600}",700:"{zinc.700}",800:"{zinc.800}",900:"{zinc.900}",950:"{zinc.950}"},primary:{color:"{primary.400}",contrastColor:"{surface.900}",hoverColor:"{primary.300}",activeColor:"{primary.200}"},highlight:{background:"color-mix(in srgb, {primary.400}, transparent 84%)",focusBackground:"color-mix(in srgb, {primary.400}, transparent 76%)",color:"rgba(255,255,255,.87)",focusColor:"rgba(255,255,255,.87)"},mask:{background:"rgba(0,0,0,0.6)",color:"{surface.200}"},formField:{background:"{surface.950}",disabledBackground:"{surface.700}",filledBackground:"{surface.800}",filledHoverBackground:"{surface.800}",filledFocusBackground:"{surface.800}",borderColor:"{surface.600}",hoverBorderColor:"{surface.500}",focusBorderColor:"{primary.color}",invalidBorderColor:"{red.300}",color:"{surface.0}",disabledColor:"{surface.400}",placeholderColor:"{surface.400}",invalidPlaceholderColor:"{red.400}",floatLabelColor:"{surface.400}",floatLabelFocusColor:"{primary.color}",floatLabelActiveColor:"{surface.400}",floatLabelInvalidColor:"{form.field.invalid.placeholder.color}",iconColor:"{surface.400}",shadow:"0 0 #0000, 0 0 #0000, 0 1px 2px 0 rgba(18, 18, 23, 0.05)"},text:{color:"{surface.0}",hoverColor:"{surface.0}",mutedColor:"{surface.400}",hoverMutedColor:"{surface.300}"},content:{background:"{surface.900}",hoverBackground:"{surface.800}",borderColor:"{surface.700}",color:"{text.color}",hoverColor:"{text.hover.color}"},overlay:{select:{background:"{surface.900}",borderColor:"{surface.700}",color:"{text.color}"},popover:{background:"{surface.900}",borderColor:"{surface.700}",color:"{text.color}"},modal:{background:"{surface.900}",borderColor:"{surface.700}",color:"{text.color}"}},list:{option:{focusBackground:"{surface.800}",selectedBackground:"{highlight.background}",selectedFocusBackground:"{highlight.focus.background}",color:"{text.color}",focusColor:"{text.hover.color}",selectedColor:"{highlight.color}",selectedFocusColor:"{highlight.focus.color}",icon:{color:"{surface.500}",focusColor:"{surface.400}"}},optionGroup:{background:"transparent",color:"{text.muted.color}"}},navigation:{item:{focusBackground:"{surface.800}",activeBackground:"{surface.800}",color:"{text.color}",focusColor:"{text.hover.color}",activeColor:"{text.hover.color}",icon:{color:"{surface.500}",focusColor:"{surface.400}",activeColor:"{surface.400}"}},submenuLabel:{background:"transparent",color:"{text.muted.color}"},submenuIcon:{color:"{surface.500}",focusColor:"{surface.400}",activeColor:"{surface.400}"}}}}}},index$1k={root:{borderRadius:"{content.border.radius}"}},index$1j={root:{padding:"1rem",background:"{content.background}",gap:"0.5rem",transitionDuration:"{transition.duration}"},item:{color:"{text.muted.color}",hoverColor:"{text.color}",borderRadius:"{content.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",hoverColor:"{navigation.item.icon.focus.color}"},focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},separator:{color:"{navigation.item.icon.color}"}},index$1i={root:{borderRadius:"{form.field.border.radius}",roundedBorderRadius:"2rem",gap:"0.5rem",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",iconOnlyWidth:"2.5rem",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"},label:{fontWeight:"500"},raisedShadow:"0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12)",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",offset:"{focus.ring.offset}"},badgeSize:"1rem",transitionDuration:"{form.field.transition.duration}"},colorScheme:{light:{root:{primary:{background:"{primary.color}",hoverBackground:"{primary.hover.color}",activeBackground:"{primary.active.color}",borderColor:"{primary.color}",hoverBorderColor:"{primary.hover.color}",activeBorderColor:"{primary.active.color}",color:"{primary.contrast.color}",hoverColor:"{primary.contrast.color}",activeColor:"{primary.contrast.color}",focusRing:{color:"{primary.color}",shadow:"none"}},secondary:{background:"{surface.100}",hoverBackground:"{surface.200}",activeBackground:"{surface.300}",borderColor:"{surface.100}",hoverBorderColor:"{surface.200}",activeBorderColor:"{surface.300}",color:"{surface.600}",hoverColor:"{surface.700}",activeColor:"{surface.800}",focusRing:{color:"{surface.600}",shadow:"none"}},info:{background:"{sky.500}",hoverBackground:"{sky.600}",activeBackground:"{sky.700}",borderColor:"{sky.500}",hoverBorderColor:"{sky.600}",activeBorderColor:"{sky.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{sky.500}",shadow:"none"}},success:{background:"{green.500}",hoverBackground:"{green.600}",activeBackground:"{green.700}",borderColor:"{green.500}",hoverBorderColor:"{green.600}",activeBorderColor:"{green.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{green.500}",shadow:"none"}},warn:{background:"{orange.500}",hoverBackground:"{orange.600}",activeBackground:"{orange.700}",borderColor:"{orange.500}",hoverBorderColor:"{orange.600}",activeBorderColor:"{orange.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{orange.500}",shadow:"none"}},help:{background:"{purple.500}",hoverBackground:"{purple.600}",activeBackground:"{purple.700}",borderColor:"{purple.500}",hoverBorderColor:"{purple.600}",activeBorderColor:"{purple.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{purple.500}",shadow:"none"}},danger:{background:"{red.500}",hoverBackground:"{red.600}",activeBackground:"{red.700}",borderColor:"{red.500}",hoverBorderColor:"{red.600}",activeBorderColor:"{red.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{red.500}",shadow:"none"}},contrast:{background:"{surface.950}",hoverBackground:"{surface.900}",activeBackground:"{surface.800}",borderColor:"{surface.950}",hoverBorderColor:"{surface.900}",activeBorderColor:"{surface.800}",color:"{surface.0}",hoverColor:"{surface.0}",activeColor:"{surface.0}",focusRing:{color:"{surface.950}",shadow:"none"}}},outlined:{primary:{hoverBackground:"{primary.50}",activeBackground:"{primary.100}",borderColor:"{primary.200}",color:"{primary.color}"},secondary:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",borderColor:"{surface.200}",color:"{surface.500}"},success:{hoverBackground:"{green.50}",activeBackground:"{green.100}",borderColor:"{green.200}",color:"{green.500}"},info:{hoverBackground:"{sky.50}",activeBackground:"{sky.100}",borderColor:"{sky.200}",color:"{sky.500}"},warn:{hoverBackground:"{orange.50}",activeBackground:"{orange.100}",borderColor:"{orange.200}",color:"{orange.500}"},help:{hoverBackground:"{purple.50}",activeBackground:"{purple.100}",borderColor:"{purple.200}",color:"{purple.500}"},danger:{hoverBackground:"{red.50}",activeBackground:"{red.100}",borderColor:"{red.200}",color:"{red.500}"},contrast:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",borderColor:"{surface.700}",color:"{surface.950}"},plain:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",borderColor:"{surface.200}",color:"{surface.700}"}},text:{primary:{hoverBackground:"{primary.50}",activeBackground:"{primary.100}",color:"{primary.color}"},secondary:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",color:"{surface.500}"},success:{hoverBackground:"{green.50}",activeBackground:"{green.100}",color:"{green.500}"},info:{hoverBackground:"{sky.50}",activeBackground:"{sky.100}",color:"{sky.500}"},warn:{hoverBackground:"{orange.50}",activeBackground:"{orange.100}",color:"{orange.500}"},help:{hoverBackground:"{purple.50}",activeBackground:"{purple.100}",color:"{purple.500}"},danger:{hoverBackground:"{red.50}",activeBackground:"{red.100}",color:"{red.500}"},contrast:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",color:"{surface.950}"},plain:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",color:"{surface.700}"}},link:{color:"{primary.color}",hoverColor:"{primary.color}",activeColor:"{primary.color}"}},dark:{root:{primary:{background:"{primary.color}",hoverBackground:"{primary.hover.color}",activeBackground:"{primary.active.color}",borderColor:"{primary.color}",hoverBorderColor:"{primary.hover.color}",activeBorderColor:"{primary.active.color}",color:"{primary.contrast.color}",hoverColor:"{primary.contrast.color}",activeColor:"{primary.contrast.color}",focusRing:{color:"{primary.color}",shadow:"none"}},secondary:{background:"{surface.800}",hoverBackground:"{surface.700}",activeBackground:"{surface.600}",borderColor:"{surface.800}",hoverBorderColor:"{surface.700}",activeBorderColor:"{surface.600}",color:"{surface.300}",hoverColor:"{surface.200}",activeColor:"{surface.100}",focusRing:{color:"{surface.300}",shadow:"none"}},info:{background:"{sky.400}",hoverBackground:"{sky.300}",activeBackground:"{sky.200}",borderColor:"{sky.400}",hoverBorderColor:"{sky.300}",activeBorderColor:"{sky.200}",color:"{sky.950}",hoverColor:"{sky.950}",activeColor:"{sky.950}",focusRing:{color:"{sky.400}",shadow:"none"}},success:{background:"{green.400}",hoverBackground:"{green.300}",activeBackground:"{green.200}",borderColor:"{green.400}",hoverBorderColor:"{green.300}",activeBorderColor:"{green.200}",color:"{green.950}",hoverColor:"{green.950}",activeColor:"{green.950}",focusRing:{color:"{green.400}",shadow:"none"}},warn:{background:"{orange.400}",hoverBackground:"{orange.300}",activeBackground:"{orange.200}",borderColor:"{orange.400}",hoverBorderColor:"{orange.300}",activeBorderColor:"{orange.200}",color:"{orange.950}",hoverColor:"{orange.950}",activeColor:"{orange.950}",focusRing:{color:"{orange.400}",shadow:"none"}},help:{background:"{purple.400}",hoverBackground:"{purple.300}",activeBackground:"{purple.200}",borderColor:"{purple.400}",hoverBorderColor:"{purple.300}",activeBorderColor:"{purple.200}",color:"{purple.950}",hoverColor:"{purple.950}",activeColor:"{purple.950}",focusRing:{color:"{purple.400}",shadow:"none"}},danger:{background:"{red.400}",hoverBackground:"{red.300}",activeBackground:"{red.200}",borderColor:"{red.400}",hoverBorderColor:"{red.300}",activeBorderColor:"{red.200}",color:"{red.950}",hoverColor:"{red.950}",activeColor:"{red.950}",focusRing:{color:"{red.400}",shadow:"none"}},contrast:{background:"{surface.0}",hoverBackground:"{surface.100}",activeBackground:"{surface.200}",borderColor:"{surface.0}",hoverBorderColor:"{surface.100}",activeBorderColor:"{surface.200}",color:"{surface.950}",hoverColor:"{surface.950}",activeColor:"{surface.950}",focusRing:{color:"{surface.0}",shadow:"none"}}},outlined:{primary:{hoverBackground:"color-mix(in srgb, {primary.color}, transparent 96%)",activeBackground:"color-mix(in srgb, {primary.color}, transparent 84%)",borderColor:"{primary.700}",color:"{primary.color}"},secondary:{hoverBackground:"rgba(255,255,255,0.04)",activeBackground:"rgba(255,255,255,0.16)",borderColor:"{surface.700}",color:"{surface.400}"},success:{hoverBackground:"color-mix(in srgb, {green.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {green.400}, transparent 84%)",borderColor:"{green.700}",color:"{green.400}"},info:{hoverBackground:"color-mix(in srgb, {sky.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {sky.400}, transparent 84%)",borderColor:"{sky.700}",color:"{sky.400}"},warn:{hoverBackground:"color-mix(in srgb, {orange.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {orange.400}, transparent 84%)",borderColor:"{orange.700}",color:"{orange.400}"},help:{hoverBackground:"color-mix(in srgb, {purple.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {purple.400}, transparent 84%)",borderColor:"{purple.700}",color:"{purple.400}"},danger:{hoverBackground:"color-mix(in srgb, {red.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {red.400}, transparent 84%)",borderColor:"{red.700}",color:"{red.400}"},contrast:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",borderColor:"{surface.500}",color:"{surface.0}"},plain:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",borderColor:"{surface.600}",color:"{surface.0}"}},text:{primary:{hoverBackground:"color-mix(in srgb, {primary.color}, transparent 96%)",activeBackground:"color-mix(in srgb, {primary.color}, transparent 84%)",color:"{primary.color}"},secondary:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",color:"{surface.400}"},success:{hoverBackground:"color-mix(in srgb, {green.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {green.400}, transparent 84%)",color:"{green.400}"},info:{hoverBackground:"color-mix(in srgb, {sky.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {sky.400}, transparent 84%)",color:"{sky.400}"},warn:{hoverBackground:"color-mix(in srgb, {orange.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {orange.400}, transparent 84%)",color:"{orange.400}"},help:{hoverBackground:"color-mix(in srgb, {purple.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {purple.400}, transparent 84%)",color:"{purple.400}"},danger:{hoverBackground:"color-mix(in srgb, {red.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {red.400}, transparent 84%)",color:"{red.400}"},contrast:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",color:"{surface.0}"},plain:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",color:"{surface.0}"}},link:{color:"{primary.color}",hoverColor:"{primary.color}",activeColor:"{primary.color}"}}}},index$1h={root:{background:"{content.background}",borderRadius:"{border.radius.xl}",color:"{content.color}",shadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px -1px rgba(0, 0, 0, 0.1)"},body:{padding:"1.25rem",gap:"0.5rem"},caption:{gap:"0.5rem"},title:{fontSize:"1.25rem",fontWeight:"500"},subtitle:{color:"{text.muted.color}"}},index$1g={root:{transitionDuration:"{transition.duration}"},content:{gap:"0.25rem"},indicatorList:{padding:"1rem",gap:"0.5rem"},indicator:{width:"2rem",height:"0.5rem",borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},colorScheme:{light:{indicator:{background:"{surface.200}",hoverBackground:"{surface.300}",activeBackground:"{primary.color}"}},dark:{indicator:{background:"{surface.700}",hoverBackground:"{surface.600}",activeBackground:"{primary.color}"}}}},index$1f={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}},dropdown:{width:"2.5rem",color:"{form.field.icon.color}"},overlay:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},list:{padding:"{list.padding}",gap:"{list.gap}",mobileIndent:"1rem"},option:{focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}",icon:{color:"{list.option.icon.color}",focusColor:"{list.option.icon.focus.color}",size:"0.875rem"}},clearIcon:{color:"{form.field.icon.color}"}},index$1e={root:{borderRadius:"{border.radius.sm}",width:"1.25rem",height:"1.25rem",background:"{form.field.background}",checkedBackground:"{primary.color}",checkedHoverBackground:"{primary.hover.color}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.border.color}",checkedBorderColor:"{primary.color}",checkedHoverBorderColor:"{primary.hover.color}",checkedFocusBorderColor:"{primary.color}",checkedDisabledBorderColor:"{form.field.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",shadow:"{form.field.shadow}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{width:"1rem",height:"1rem"},lg:{width:"1.5rem",height:"1.5rem"}},icon:{size:"0.875rem",color:"{form.field.color}",checkedColor:"{primary.contrast.color}",checkedHoverColor:"{primary.contrast.color}",disabledColor:"{form.field.disabled.color}",sm:{size:"0.75rem"},lg:{size:"1rem"}}},index$1d={root:{borderRadius:"16px",paddingX:"0.75rem",paddingY:"0.5rem",gap:"0.5rem",transitionDuration:"{transition.duration}"},image:{width:"2rem",height:"2rem"},icon:{size:"1rem"},removeIcon:{size:"1rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"}},colorScheme:{light:{root:{background:"{surface.100}",color:"{surface.800}"},icon:{color:"{surface.800}"},removeIcon:{color:"{surface.800}"}},dark:{root:{background:"{surface.800}",color:"{surface.0}"},icon:{color:"{surface.0}"},removeIcon:{color:"{surface.0}"}}}},index$1c={root:{transitionDuration:"{transition.duration}"},preview:{width:"1.5rem",height:"1.5rem",borderRadius:"{form.field.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},panel:{shadow:"{overlay.popover.shadow}",borderRadius:"{overlay.popover.borderRadius}"},colorScheme:{light:{panel:{background:"{surface.800}",borderColor:"{surface.900}"},handle:{color:"{surface.0}"}},dark:{panel:{background:"{surface.900}",borderColor:"{surface.700}"},handle:{color:"{surface.0}"}}}},index$1b={icon:{size:"2rem",color:"{overlay.modal.color}"},content:{gap:"1rem"}},index$1a={root:{background:"{overlay.popover.background}",borderColor:"{overlay.popover.border.color}",color:"{overlay.popover.color}",borderRadius:"{overlay.popover.border.radius}",shadow:"{overlay.popover.shadow}",gutter:"10px",arrowOffset:"1.25rem"},content:{padding:"{overlay.popover.padding}",gap:"1rem"},icon:{size:"1.5rem",color:"{overlay.popover.color}"},footer:{gap:"0.5rem",padding:"0 {overlay.popover.padding} {overlay.popover.padding} {overlay.popover.padding}"}},index$19={root:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.navigation.shadow}",transitionDuration:"{transition.duration}"},list:{padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},item:{focusBackground:"{navigation.item.focus.background}",activeBackground:"{navigation.item.active.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",activeColor:"{navigation.item.active.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}",activeColor:"{navigation.item.icon.active.color}"}},submenu:{mobileIndent:"1rem"},submenuIcon:{size:"{navigation.submenu.icon.size}",color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}",activeColor:"{navigation.submenu.icon.active.color}"},separator:{borderColor:"{content.border.color}"}},index$18={root:{transitionDuration:"{transition.duration}"},header:{background:"{content.background}",borderColor:"{datatable.border.color}",color:"{content.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem"},headerCell:{background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",borderColor:"{datatable.border.color}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{highlight.color}",gap:"0.5rem",padding:"0.75rem 1rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},columnTitle:{fontWeight:"600"},row:{background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{highlight.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},bodyCell:{borderColor:"{datatable.border.color}",padding:"0.75rem 1rem"},footerCell:{background:"{content.background}",borderColor:"{datatable.border.color}",color:"{content.color}",padding:"0.75rem 1rem"},columnFooter:{fontWeight:"600"},footer:{background:"{content.background}",borderColor:"{datatable.border.color}",color:"{content.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem"},dropPoint:{color:"{primary.color}"},columnResizerWidth:"0.5rem",resizeIndicator:{width:"1px",color:"{primary.color}"},sortIcon:{color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",size:"0.875rem"},loadingIcon:{size:"2rem"},rowToggleButton:{hoverBackground:"{content.hover.background}",selectedHoverBackground:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.color}",selectedHoverColor:"{primary.color}",size:"1.75rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},filter:{inlineGap:"0.5rem",overlaySelect:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},overlayPopover:{background:"{overlay.popover.background}",borderColor:"{overlay.popover.border.color}",borderRadius:"{overlay.popover.border.radius}",color:"{overlay.popover.color}",shadow:"{overlay.popover.shadow}",padding:"{overlay.popover.padding}",gap:"0.5rem"},rule:{borderColor:"{content.border.color}"},constraintList:{padding:"{list.padding}",gap:"{list.gap}"},constraint:{focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",separator:{borderColor:"{content.border.color}"},padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"}},paginatorTop:{borderColor:"{datatable.border.color}",borderWidth:"0 0 1px 0"},paginatorBottom:{borderColor:"{datatable.border.color}",borderWidth:"0 0 1px 0"},colorScheme:{light:{root:{borderColor:"{content.border.color}"},row:{stripedBackground:"{surface.50}"},bodyCell:{selectedBorderColor:"{primary.100}"}},dark:{root:{borderColor:"{surface.800}"},row:{stripedBackground:"{surface.950}"},bodyCell:{selectedBorderColor:"{primary.900}"}}}},index$17={root:{borderColor:"transparent",borderWidth:"0",borderRadius:"0",padding:"0"},header:{background:"{content.background}",color:"{content.color}",borderColor:"{content.border.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem",borderRadius:"0"},content:{background:"{content.background}",color:"{content.color}",borderColor:"transparent",borderWidth:"0",padding:"0",borderRadius:"0"},footer:{background:"{content.background}",color:"{content.color}",borderColor:"{content.border.color}",borderWidth:"1px 0 0 0",padding:"0.75rem 1rem",borderRadius:"0"},paginatorTop:{borderColor:"{content.border.color}",borderWidth:"0 0 1px 0"},paginatorBottom:{borderColor:"{content.border.color}",borderWidth:"1px 0 0 0"}},index$16={root:{transitionDuration:"{transition.duration}"},panel:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.popover.shadow}",padding:"{overlay.popover.padding}"},header:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",padding:"0 0 0.5rem 0"},title:{gap:"0.5rem",fontWeight:"500"},dropdown:{width:"2.5rem",sm:{width:"2rem"},lg:{width:"3rem"},borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.border.color}",activeBorderColor:"{form.field.border.color}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},inputIcon:{color:"{form.field.icon.color}"},selectMonth:{hoverBackground:"{content.hover.background}",color:"{content.color}",hoverColor:"{content.hover.color}",padding:"0.25rem 0.5rem",borderRadius:"{content.border.radius}"},selectYear:{hoverBackground:"{content.hover.background}",color:"{content.color}",hoverColor:"{content.hover.color}",padding:"0.25rem 0.5rem",borderRadius:"{content.border.radius}"},group:{borderColor:"{content.border.color}",gap:"{overlay.popover.padding}"},dayView:{margin:"0.5rem 0 0 0"},weekDay:{padding:"0.25rem",fontWeight:"500",color:"{content.color}"},date:{hoverBackground:"{content.hover.background}",selectedBackground:"{primary.color}",rangeSelectedBackground:"{highlight.background}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{primary.contrast.color}",rangeSelectedColor:"{highlight.color}",width:"2rem",height:"2rem",borderRadius:"50%",padding:"0.25rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},monthView:{margin:"0.5rem 0 0 0"},month:{padding:"0.375rem",borderRadius:"{content.border.radius}"},yearView:{margin:"0.5rem 0 0 0"},year:{padding:"0.375rem",borderRadius:"{content.border.radius}"},buttonbar:{padding:"0.5rem 0 0 0",borderColor:"{content.border.color}"},timePicker:{padding:"0.5rem 0 0 0",borderColor:"{content.border.color}",gap:"0.5rem",buttonGap:"0.25rem"},colorScheme:{light:{dropdown:{background:"{surface.100}",hoverBackground:"{surface.200}",activeBackground:"{surface.300}",color:"{surface.600}",hoverColor:"{surface.700}",activeColor:"{surface.800}"},today:{background:"{surface.200}",color:"{surface.900}"}},dark:{dropdown:{background:"{surface.800}",hoverBackground:"{surface.700}",activeBackground:"{surface.600}",color:"{surface.300}",hoverColor:"{surface.200}",activeColor:"{surface.100}"},today:{background:"{surface.700}",color:"{surface.0}"}}}},index$15={root:{background:"{overlay.modal.background}",borderColor:"{overlay.modal.border.color}",color:"{overlay.modal.color}",borderRadius:"{overlay.modal.border.radius}",shadow:"{overlay.modal.shadow}"},header:{padding:"{overlay.modal.padding}",gap:"0.5rem"},title:{fontSize:"1.25rem",fontWeight:"600"},content:{padding:"0 {overlay.modal.padding} {overlay.modal.padding} {overlay.modal.padding}"},footer:{padding:"0 {overlay.modal.padding} {overlay.modal.padding} {overlay.modal.padding}",gap:"0.5rem"}},index$14={root:{borderColor:"{content.border.color}"},content:{background:"{content.background}",color:"{text.color}"},horizontal:{margin:"1rem 0",padding:"0 1rem",content:{padding:"0 0.5rem"}},vertical:{margin:"0 1rem",padding:"0.5rem 0",content:{padding:"0.5rem 0"}}},index$13={root:{background:"rgba(255, 255, 255, 0.1)",borderColor:"rgba(255, 255, 255, 0.2)",padding:"0.5rem",borderRadius:"{border.radius.xl}"},item:{borderRadius:"{content.border.radius}",padding:"0.5rem",size:"3rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}}},index$12={root:{background:"{overlay.modal.background}",borderColor:"{overlay.modal.border.color}",color:"{overlay.modal.color}",shadow:"{overlay.modal.shadow}"},header:{padding:"{overlay.modal.padding}"},title:{fontSize:"1.5rem",fontWeight:"600"},content:{padding:"0 {overlay.modal.padding} {overlay.modal.padding} {overlay.modal.padding}"},footer:{padding:"{overlay.modal.padding}"}},index$11={toolbar:{background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}"},toolbarItem:{color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}"},overlay:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}",padding:"{list.padding}"},overlayOption:{focusBackground:"{list.option.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"},content:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}"}},index$10={root:{background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",padding:"0 1.125rem 1.125rem 1.125rem",transitionDuration:"{transition.duration}"},legend:{background:"{content.background}",hoverBackground:"{content.hover.background}",color:"{content.color}",hoverColor:"{content.hover.color}",borderRadius:"{content.border.radius}",borderWidth:"1px",borderColor:"transparent",padding:"0.5rem 0.75rem",gap:"0.5rem",fontWeight:"600",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},toggleIcon:{color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}"},content:{padding:"0"}},index$$={root:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",transitionDuration:"{transition.duration}"},header:{background:"transparent",color:"{text.color}",padding:"1.125rem",borderColor:"unset",borderWidth:"0",borderRadius:"0",gap:"0.5rem"},content:{highlightBorderColor:"{primary.color}",padding:"0 1.125rem 1.125rem 1.125rem",gap:"1rem"},file:{padding:"1rem",gap:"1rem",borderColor:"{content.border.color}",info:{gap:"0.5rem"}},fileList:{gap:"0.5rem"},progressbar:{height:"0.25rem"},basic:{gap:"0.5rem"}},index$_={root:{color:"{form.field.float.label.color}",focusColor:"{form.field.float.label.focus.color}",activeColor:"{form.field.float.label.active.color}",invalidColor:"{form.field.float.label.invalid.color}",transitionDuration:"0.2s",positionX:"{form.field.padding.x}",positionY:"{form.field.padding.y}",fontWeight:"500",active:{fontSize:"0.75rem",fontWeight:"400"}},over:{active:{top:"-1.25rem"}},in:{input:{paddingTop:"1.5rem",paddingBottom:"{form.field.padding.y}"},active:{top:"{form.field.padding.y}"}},on:{borderRadius:"{border.radius.xs}",active:{background:"{form.field.background}",padding:"0 0.125rem"}}},index$Z={root:{borderWidth:"1px",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",transitionDuration:"{transition.duration}"},navButton:{background:"rgba(255, 255, 255, 0.1)",hoverBackground:"rgba(255, 255, 255, 0.2)",color:"{surface.100}",hoverColor:"{surface.0}",size:"3rem",gutter:"0.5rem",prev:{borderRadius:"50%"},next:{borderRadius:"50%"},focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},navIcon:{size:"1.5rem"},thumbnailsContent:{background:"{content.background}",padding:"1rem 0.25rem"},thumbnailNavButton:{size:"2rem",borderRadius:"{content.border.radius}",gutter:"0.5rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},thumbnailNavButtonIcon:{size:"1rem"},caption:{background:"rgba(0, 0, 0, 0.5)",color:"{surface.100}",padding:"1rem"},indicatorList:{gap:"0.5rem",padding:"1rem"},indicatorButton:{width:"1rem",height:"1rem",activeBackground:"{primary.color}",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},insetIndicatorList:{background:"rgba(0, 0, 0, 0.5)"},insetIndicatorButton:{background:"rgba(255, 255, 255, 0.4)",hoverBackground:"rgba(255, 255, 255, 0.6)",activeBackground:"rgba(255, 255, 255, 0.9)"},closeButton:{size:"3rem",gutter:"0.5rem",background:"rgba(255, 255, 255, 0.1)",hoverBackground:"rgba(255, 255, 255, 0.2)",color:"{surface.50}",hoverColor:"{surface.0}",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},closeButtonIcon:{size:"1.5rem"},colorScheme:{light:{thumbnailNavButton:{hoverBackground:"{surface.100}",color:"{surface.600}",hoverColor:"{surface.700}"},indicatorButton:{background:"{surface.200}",hoverBackground:"{surface.300}"}},dark:{thumbnailNavButton:{hoverBackground:"{surface.700}",color:"{surface.400}",hoverColor:"{surface.0}"},indicatorButton:{background:"{surface.700}",hoverBackground:"{surface.600}"}}}},index$Y={icon:{color:"{form.field.icon.color}"}},index$X={root:{color:"{form.field.float.label.color}",focusColor:"{form.field.float.label.focus.color}",invalidColor:"{form.field.float.label.invalid.color}",transitionDuration:"0.2s",positionX:"{form.field.padding.x}",top:"{form.field.padding.y}",fontSize:"0.75rem",fontWeight:"400"},input:{paddingTop:"1.5rem",paddingBottom:"{form.field.padding.y}"}},index$W={root:{transitionDuration:"{transition.duration}"},preview:{icon:{size:"1.5rem"},mask:{background:"{mask.background}",color:"{mask.color}"}},toolbar:{position:{left:"auto",right:"1rem",top:"1rem",bottom:"auto"},blur:"8px",background:"rgba(255,255,255,0.1)",borderColor:"rgba(255,255,255,0.2)",borderWidth:"1px",borderRadius:"30px",padding:".5rem",gap:"0.5rem"},action:{hoverBackground:"rgba(255,255,255,0.1)",color:"{surface.50}",hoverColor:"{surface.0}",size:"3rem",iconSize:"1.5rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}}},index$V={handle:{size:"15px",hoverSize:"30px",background:"rgba(255,255,255,0.3)",hoverBackground:"rgba(255,255,255,0.3)",borderColor:"unset",hoverBorderColor:"unset",borderWidth:"0",borderRadius:"50%",transitionDuration:"{transition.duration}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"rgba(255,255,255,0.3)",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}}},index$U={root:{padding:"{form.field.padding.y} {form.field.padding.x}",borderRadius:"{content.border.radius}",gap:"0.5rem"},text:{fontWeight:"500"},icon:{size:"1rem"},colorScheme:{light:{info:{background:"color-mix(in srgb, {blue.50}, transparent 5%)",borderColor:"{blue.200}",color:"{blue.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)"},success:{background:"color-mix(in srgb, {green.50}, transparent 5%)",borderColor:"{green.200}",color:"{green.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)"},warn:{background:"color-mix(in srgb,{yellow.50}, transparent 5%)",borderColor:"{yellow.200}",color:"{yellow.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)"},error:{background:"color-mix(in srgb, {red.50}, transparent 5%)",borderColor:"{red.200}",color:"{red.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)"},secondary:{background:"{surface.100}",borderColor:"{surface.200}",color:"{surface.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)"},contrast:{background:"{surface.900}",borderColor:"{surface.950}",color:"{surface.50}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)"}},dark:{info:{background:"color-mix(in srgb, {blue.500}, transparent 84%)",borderColor:"color-mix(in srgb, {blue.700}, transparent 64%)",color:"{blue.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)"},success:{background:"color-mix(in srgb, {green.500}, transparent 84%)",borderColor:"color-mix(in srgb, {green.700}, transparent 64%)",color:"{green.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)"},warn:{background:"color-mix(in srgb, {yellow.500}, transparent 84%)",borderColor:"color-mix(in srgb, {yellow.700}, transparent 64%)",color:"{yellow.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)"},error:{background:"color-mix(in srgb, {red.500}, transparent 84%)",borderColor:"color-mix(in srgb, {red.700}, transparent 64%)",color:"{red.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)"},secondary:{background:"{surface.800}",borderColor:"{surface.700}",color:"{surface.300}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)"},contrast:{background:"{surface.0}",borderColor:"{surface.100}",color:"{surface.950}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)"}}}},index$T={root:{padding:"{form.field.padding.y} {form.field.padding.x}",borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},transitionDuration:"{transition.duration}"},display:{hoverBackground:"{content.hover.background}",hoverColor:"{content.hover.color}"}},index$S={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}"},chip:{borderRadius:"{border.radius.sm}"},colorScheme:{light:{chip:{focusBackground:"{surface.200}",color:"{surface.800}"}},dark:{chip:{focusBackground:"{surface.700}",color:"{surface.0}"}}}},index$R={addon:{background:"{form.field.background}",borderColor:"{form.field.border.color}",color:"{form.field.icon.color}",borderRadius:"{form.field.border.radius}",padding:"0.5rem",minWidth:"2.5rem"}},index$Q={root:{transitionDuration:"{transition.duration}"},button:{width:"2.5rem",borderRadius:"{form.field.border.radius}",verticalPadding:"{form.field.padding.y}"},colorScheme:{light:{button:{background:"transparent",hoverBackground:"{surface.100}",activeBackground:"{surface.200}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.border.color}",activeBorderColor:"{form.field.border.color}",color:"{surface.400}",hoverColor:"{surface.500}",activeColor:"{surface.600}"}},dark:{button:{background:"transparent",hoverBackground:"{surface.800}",activeBackground:"{surface.700}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.border.color}",activeBorderColor:"{form.field.border.color}",color:"{surface.400}",hoverColor:"{surface.300}",activeColor:"{surface.200}"}}}},index$P={root:{gap:"0.5rem"},input:{width:"2.5rem",sm:{width:"2rem"},lg:{width:"3rem"}}},index$O={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}}},index$N={root:{transitionDuration:"{transition.duration}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},value:{background:"{primary.color}"},range:{background:"{content.border.color}"},text:{color:"{text.muted.color}"}},index$M={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",borderColor:"{form.field.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",shadow:"{form.field.shadow}",borderRadius:"{form.field.border.radius}",transitionDuration:"{form.field.transition.duration}"},list:{padding:"{list.padding}",gap:"{list.gap}",header:{padding:"{list.header.padding}"}},option:{focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"},optionGroup:{background:"{list.option.group.background}",color:"{list.option.group.color}",fontWeight:"{list.option.group.font.weight}",padding:"{list.option.group.padding}"},checkmark:{color:"{list.option.color}",gutterStart:"-0.375rem",gutterEnd:"0.375rem"},emptyMessage:{padding:"{list.option.padding}"},colorScheme:{light:{option:{stripedBackground:"{surface.50}"}},dark:{option:{stripedBackground:"{surface.900}"}}}},index$L={root:{background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",gap:"0.5rem",verticalOrientation:{padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},horizontalOrientation:{padding:"0.5rem 0.75rem",gap:"0.5rem"},transitionDuration:"{transition.duration}"},baseItem:{borderRadius:"{content.border.radius}",padding:"{navigation.item.padding}"},item:{focusBackground:"{navigation.item.focus.background}",activeBackground:"{navigation.item.active.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",activeColor:"{navigation.item.active.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}",activeColor:"{navigation.item.icon.active.color}"}},overlay:{padding:"0",background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",shadow:"{overlay.navigation.shadow}",gap:"0.5rem"},submenu:{padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},submenuLabel:{padding:"{navigation.submenu.label.padding}",fontWeight:"{navigation.submenu.label.font.weight}",background:"{navigation.submenu.label.background.}",color:"{navigation.submenu.label.color}"},submenuIcon:{size:"{navigation.submenu.icon.size}",color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}",activeColor:"{navigation.submenu.icon.active.color}"},separator:{borderColor:"{content.border.color}"},mobileButton:{borderRadius:"50%",size:"1.75rem",color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",hoverBackground:"{content.hover.background}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}}},index$K={root:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.navigation.shadow}",transitionDuration:"{transition.duration}"},list:{padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},item:{focusBackground:"{navigation.item.focus.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}"}},submenuLabel:{padding:"{navigation.submenu.label.padding}",fontWeight:"{navigation.submenu.label.font.weight}",background:"{navigation.submenu.label.background}",color:"{navigation.submenu.label.color}"},separator:{borderColor:"{content.border.color}"}},index$J={root:{background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",gap:"0.5rem",padding:"0.5rem 0.75rem",transitionDuration:"{transition.duration}"},baseItem:{borderRadius:"{content.border.radius}",padding:"{navigation.item.padding}"},item:{focusBackground:"{navigation.item.focus.background}",activeBackground:"{navigation.item.active.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",activeColor:"{navigation.item.active.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}",activeColor:"{navigation.item.icon.active.color}"}},submenu:{padding:"{navigation.list.padding}",gap:"{navigation.list.gap}",background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.navigation.shadow}",mobileIndent:"1rem",icon:{size:"{navigation.submenu.icon.size}",color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}",activeColor:"{navigation.submenu.icon.active.color}"}},separator:{borderColor:"{content.border.color}"},mobileButton:{borderRadius:"50%",size:"1.75rem",color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",hoverBackground:"{content.hover.background}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}}},index$I={root:{borderRadius:"{content.border.radius}",borderWidth:"1px",transitionDuration:"{transition.duration}"},content:{padding:"0.5rem 0.75rem",gap:"0.5rem",sm:{padding:"0.375rem 0.625rem"},lg:{padding:"0.625rem 0.875rem"}},text:{fontSize:"1rem",fontWeight:"500",sm:{fontSize:"0.875rem"},lg:{fontSize:"1.125rem"}},icon:{size:"1.125rem",sm:{size:"1rem"},lg:{size:"1.25rem"}},closeButton:{width:"1.75rem",height:"1.75rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",offset:"{focus.ring.offset}"}},closeIcon:{size:"1rem",sm:{size:"0.875rem"},lg:{size:"1.125rem"}},outlined:{root:{borderWidth:"1px"}},simple:{content:{padding:"0"}},colorScheme:{light:{info:{background:"color-mix(in srgb, {blue.50}, transparent 5%)",borderColor:"{blue.200}",color:"{blue.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)",closeButton:{hoverBackground:"{blue.100}",focusRing:{color:"{blue.600}",shadow:"none"}},outlined:{color:"{blue.600}",borderColor:"{blue.600}"},simple:{color:"{blue.600}"}},success:{background:"color-mix(in srgb, {green.50}, transparent 5%)",borderColor:"{green.200}",color:"{green.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)",closeButton:{hoverBackground:"{green.100}",focusRing:{color:"{green.600}",shadow:"none"}},outlined:{color:"{green.600}",borderColor:"{green.600}"},simple:{color:"{green.600}"}},warn:{background:"color-mix(in srgb,{yellow.50}, transparent 5%)",borderColor:"{yellow.200}",color:"{yellow.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)",closeButton:{hoverBackground:"{yellow.100}",focusRing:{color:"{yellow.600}",shadow:"none"}},outlined:{color:"{yellow.600}",borderColor:"{yellow.600}"},simple:{color:"{yellow.600}"}},error:{background:"color-mix(in srgb, {red.50}, transparent 5%)",borderColor:"{red.200}",color:"{red.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)",closeButton:{hoverBackground:"{red.100}",focusRing:{color:"{red.600}",shadow:"none"}},outlined:{color:"{red.600}",borderColor:"{red.600}"},simple:{color:"{red.600}"}},secondary:{background:"{surface.100}",borderColor:"{surface.200}",color:"{surface.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)",closeButton:{hoverBackground:"{surface.200}",focusRing:{color:"{surface.600}",shadow:"none"}},outlined:{color:"{surface.500}",borderColor:"{surface.500}"},simple:{color:"{surface.500}"}},contrast:{background:"{surface.900}",borderColor:"{surface.950}",color:"{surface.50}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)",closeButton:{hoverBackground:"{surface.800}",focusRing:{color:"{surface.50}",shadow:"none"}},outlined:{color:"{surface.950}",borderColor:"{surface.950}"},simple:{color:"{surface.950}"}}},dark:{info:{background:"color-mix(in srgb, {blue.500}, transparent 84%)",borderColor:"color-mix(in srgb, {blue.700}, transparent 64%)",color:"{blue.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{blue.500}",shadow:"none"}},outlined:{color:"{blue.500}",borderColor:"{blue.500}"},simple:{color:"{blue.500}"}},success:{background:"color-mix(in srgb, {green.500}, transparent 84%)",borderColor:"color-mix(in srgb, {green.700}, transparent 64%)",color:"{green.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{green.500}",shadow:"none"}},outlined:{color:"{green.500}",borderColor:"{green.500}"},simple:{color:"{green.500}"}},warn:{background:"color-mix(in srgb, {yellow.500}, transparent 84%)",borderColor:"color-mix(in srgb, {yellow.700}, transparent 64%)",color:"{yellow.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{yellow.500}",shadow:"none"}},outlined:{color:"{yellow.500}",borderColor:"{yellow.500}"},simple:{color:"{yellow.500}"}},error:{background:"color-mix(in srgb, {red.500}, transparent 84%)",borderColor:"color-mix(in srgb, {red.700}, transparent 64%)",color:"{red.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{red.500}",shadow:"none"}},outlined:{color:"{red.500}",borderColor:"{red.500}"},simple:{color:"{red.500}"}},secondary:{background:"{surface.800}",borderColor:"{surface.700}",color:"{surface.300}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)",closeButton:{hoverBackground:"{surface.700}",focusRing:{color:"{surface.300}",shadow:"none"}},outlined:{color:"{surface.400}",borderColor:"{surface.400}"},simple:{color:"{surface.400}"}},contrast:{background:"{surface.0}",borderColor:"{surface.100}",color:"{surface.950}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)",closeButton:{hoverBackground:"{surface.100}",focusRing:{color:"{surface.950}",shadow:"none"}},outlined:{color:"{surface.0}",borderColor:"{surface.0}"},simple:{color:"{surface.0}"}}}}},index$H={root:{borderRadius:"{content.border.radius}",gap:"1rem"},meters:{background:"{content.border.color}",size:"0.5rem"},label:{gap:"0.5rem"},labelMarker:{size:"0.5rem"},labelIcon:{size:"1rem"},labelList:{verticalGap:"0.5rem",horizontalGap:"1rem"}},index$G={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}},dropdown:{width:"2.5rem",color:"{form.field.icon.color}"},overlay:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},list:{padding:"{list.padding}",gap:"{list.gap}",header:{padding:"{list.header.padding}"}},option:{focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}",gap:"0.5rem"},optionGroup:{background:"{list.option.group.background}",color:"{list.option.group.color}",fontWeight:"{list.option.group.font.weight}",padding:"{list.option.group.padding}"},clearIcon:{color:"{form.field.icon.color}"},chip:{borderRadius:"{border.radius.sm}"},emptyMessage:{padding:"{list.option.padding}"}},index$F={root:{gap:"1.125rem"},controls:{gap:"0.5rem"}},index$E={root:{gutter:"0.75rem",transitionDuration:"{transition.duration}"},node:{background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",borderColor:"{content.border.color}",color:"{content.color}",selectedColor:"{highlight.color}",hoverColor:"{content.hover.color}",padding:"0.75rem 1rem",toggleablePadding:"0.75rem 1rem 1.25rem 1rem",borderRadius:"{content.border.radius}"},nodeToggleButton:{background:"{content.background}",hoverBackground:"{content.hover.background}",borderColor:"{content.border.color}",color:"{text.muted.color}",hoverColor:"{text.color}",size:"1.5rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},connector:{color:"{content.border.color}",borderRadius:"{content.border.radius}",height:"24px"}},index$D={root:{outline:{width:"2px",color:"{content.background}"}}},index$C={root:{padding:"0.5rem 1rem",gap:"0.25rem",borderRadius:"{content.border.radius}",background:"{content.background}",color:"{content.color}",transitionDuration:"{transition.duration}"},navButton:{background:"transparent",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",selectedColor:"{highlight.color}",width:"2.5rem",height:"2.5rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},currentPageReport:{color:"{text.muted.color}"},jumpToPageInput:{maxWidth:"2.5rem"}},index$B={root:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}"},header:{background:"transparent",color:"{text.color}",padding:"1.125rem",borderColor:"{content.border.color}",borderWidth:"0",borderRadius:"0"},toggleableHeader:{padding:"0.375rem 1.125rem"},title:{fontWeight:"600"},content:{padding:"0 1.125rem 1.125rem 1.125rem"},footer:{padding:"0 1.125rem 1.125rem 1.125rem"}},index$A={root:{gap:"0.5rem",transitionDuration:"{transition.duration}"},panel:{background:"{content.background}",borderColor:"{content.border.color}",borderWidth:"1px",color:"{content.color}",padding:"0.25rem 0.25rem",borderRadius:"{content.border.radius}",first:{borderWidth:"1px",topBorderRadius:"{content.border.radius}"},last:{borderWidth:"1px",bottomBorderRadius:"{content.border.radius}"}},item:{focusBackground:"{navigation.item.focus.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",gap:"0.5rem",padding:"{navigation.item.padding}",borderRadius:"{content.border.radius}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}"}},submenu:{indent:"1rem"},submenuIcon:{color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}"}},index$z={meter:{background:"{content.border.color}",borderRadius:"{content.border.radius}",height:".75rem"},icon:{color:"{form.field.icon.color}"},overlay:{background:"{overlay.popover.background}",borderColor:"{overlay.popover.border.color}",borderRadius:"{overlay.popover.border.radius}",color:"{overlay.popover.color}",padding:"{overlay.popover.padding}",shadow:"{overlay.popover.shadow}"},content:{gap:"0.5rem"},colorScheme:{light:{strength:{weakBackground:"{red.500}",mediumBackground:"{amber.500}",strongBackground:"{green.500}"}},dark:{strength:{weakBackground:"{red.400}",mediumBackground:"{amber.400}",strongBackground:"{green.400}"}}}},index$y={root:{gap:"1.125rem"},controls:{gap:"0.5rem"}},index$x={root:{background:"{overlay.popover.background}",borderColor:"{overlay.popover.border.color}",color:"{overlay.popover.color}",borderRadius:"{overlay.popover.border.radius}",shadow:"{overlay.popover.shadow}",gutter:"10px",arrowOffset:"1.25rem"},content:{padding:"{overlay.popover.padding}"}},index$w={root:{background:"{content.border.color}",borderRadius:"{content.border.radius}",height:"1.25rem"},value:{background:"{primary.color}"},label:{color:"{primary.contrast.color}",fontSize:"0.75rem",fontWeight:"600"}},index$v={colorScheme:{light:{root:{"color.1":"{red.500}","color.2":"{blue.500}","color.3":"{green.500}","color.4":"{yellow.500}"}},dark:{root:{"color.1":"{red.400}","color.2":"{blue.400}","color.3":"{green.400}","color.4":"{yellow.400}"}}}},index$u={root:{width:"1.25rem",height:"1.25rem",background:"{form.field.background}",checkedBackground:"{primary.color}",checkedHoverBackground:"{primary.hover.color}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.border.color}",checkedBorderColor:"{primary.color}",checkedHoverBorderColor:"{primary.hover.color}",checkedFocusBorderColor:"{primary.color}",checkedDisabledBorderColor:"{form.field.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",shadow:"{form.field.shadow}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{width:"1rem",height:"1rem"},lg:{width:"1.5rem",height:"1.5rem"}},icon:{size:"0.75rem",checkedColor:"{primary.contrast.color}",checkedHoverColor:"{primary.contrast.color}",disabledColor:"{form.field.disabled.color}",sm:{size:"0.5rem"},lg:{size:"1rem"}}},index$t={root:{gap:"0.25rem",transitionDuration:"{transition.duration}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},icon:{size:"1rem",color:"{text.muted.color}",hoverColor:"{primary.color}",activeColor:"{primary.color}"}},index$s={colorScheme:{light:{root:{background:"rgba(0,0,0,0.1)"}},dark:{root:{background:"rgba(255,255,255,0.3)"}}}},index$r={root:{transitionDuration:"{transition.duration}"},bar:{size:"9px",borderRadius:"{border.radius.sm}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},colorScheme:{light:{bar:{background:"{surface.100}"}},dark:{bar:{background:"{surface.800}"}}}},index$q={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}},dropdown:{width:"2.5rem",color:"{form.field.icon.color}"},overlay:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},list:{padding:"{list.padding}",gap:"{list.gap}",header:{padding:"{list.header.padding}"}},option:{focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"},optionGroup:{background:"{list.option.group.background}",color:"{list.option.group.color}",fontWeight:"{list.option.group.font.weight}",padding:"{list.option.group.padding}"},clearIcon:{color:"{form.field.icon.color}"},checkmark:{color:"{list.option.color}",gutterStart:"-0.375rem",gutterEnd:"0.375rem"},emptyMessage:{padding:"{list.option.padding}"}},index$p={root:{borderRadius:"{form.field.border.radius}"},colorScheme:{light:{root:{invalidBorderColor:"{form.field.invalid.border.color}"}},dark:{root:{invalidBorderColor:"{form.field.invalid.border.color}"}}}},index$o={root:{borderRadius:"{content.border.radius}"},colorScheme:{light:{root:{background:"{surface.200}",animationBackground:"rgba(255,255,255,0.4)"}},dark:{root:{background:"rgba(255, 255, 255, 0.06)",animationBackground:"rgba(255, 255, 255, 0.04)"}}}},index$n={root:{transitionDuration:"{transition.duration}"},track:{background:"{content.border.color}",borderRadius:"{content.border.radius}",size:"3px"},range:{background:"{primary.color}"},handle:{width:"20px",height:"20px",borderRadius:"50%",background:"{content.border.color}",hoverBackground:"{content.border.color}",content:{borderRadius:"50%",hoverBackground:"{content.background}",width:"16px",height:"16px",shadow:"0px 0.5px 0px 0px rgba(0, 0, 0, 0.08), 0px 1px 1px 0px rgba(0, 0, 0, 0.14)"},focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},colorScheme:{light:{handle:{contentBackground:"{surface.0}"}},dark:{handle:{contentBackground:"{surface.950}"}}}},index$m={root:{gap:"0.5rem",transitionDuration:"{transition.duration}"}},index$l={root:{borderRadius:"{form.field.border.radius}",roundedBorderRadius:"2rem",raisedShadow:"0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12)"}},index$k={root:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",transitionDuration:"{transition.duration}"},gutter:{background:"{content.border.color}"},handle:{size:"24px",background:"transparent",borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}}},index$j={root:{transitionDuration:"{transition.duration}"},separator:{background:"{content.border.color}",activeBackground:"{primary.color}",margin:"0 0 0 1.625rem",size:"2px"},step:{padding:"0.5rem",gap:"1rem"},stepHeader:{padding:"0",borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},gap:"0.5rem"},stepTitle:{color:"{text.muted.color}",activeColor:"{primary.color}",fontWeight:"500"},stepNumber:{background:"{content.background}",activeBackground:"{content.background}",borderColor:"{content.border.color}",activeBorderColor:"{content.border.color}",color:"{text.muted.color}",activeColor:"{primary.color}",size:"2rem",fontSize:"1.143rem",fontWeight:"500",borderRadius:"50%",shadow:"0px 0.5px 0px 0px rgba(0, 0, 0, 0.06), 0px 1px 1px 0px rgba(0, 0, 0, 0.12)"},steppanels:{padding:"0.875rem 0.5rem 1.125rem 0.5rem"},steppanel:{background:"{content.background}",color:"{content.color}",padding:"0",indent:"1rem"}},index$i={root:{transitionDuration:"{transition.duration}"},separator:{background:"{content.border.color}"},itemLink:{borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},gap:"0.5rem"},itemLabel:{color:"{text.muted.color}",activeColor:"{primary.color}",fontWeight:"500"},itemNumber:{background:"{content.background}",activeBackground:"{content.background}",borderColor:"{content.border.color}",activeBorderColor:"{content.border.color}",color:"{text.muted.color}",activeColor:"{primary.color}",size:"2rem",fontSize:"1.143rem",fontWeight:"500",borderRadius:"50%",shadow:"0px 0.5px 0px 0px rgba(0, 0, 0, 0.06), 0px 1px 1px 0px rgba(0, 0, 0, 0.12)"}},index$h={root:{transitionDuration:"{transition.duration}"},tablist:{borderWidth:"0 0 1px 0",background:"{content.background}",borderColor:"{content.border.color}"},item:{background:"transparent",hoverBackground:"transparent",activeBackground:"transparent",borderWidth:"0 0 1px 0",borderColor:"{content.border.color}",hoverBorderColor:"{content.border.color}",activeBorderColor:"{primary.color}",color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}",padding:"1rem 1.125rem",fontWeight:"600",margin:"0 0 -1px 0",gap:"0.5rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},itemIcon:{color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}"},activeBar:{height:"1px",bottom:"-1px",background:"{primary.color}"}},index$g={root:{transitionDuration:"{transition.duration}"},tablist:{borderWidth:"0 0 1px 0",background:"{content.background}",borderColor:"{content.border.color}"},tab:{background:"transparent",hoverBackground:"transparent",activeBackground:"transparent",borderWidth:"0 0 1px 0",borderColor:"{content.border.color}",hoverBorderColor:"{content.border.color}",activeBorderColor:"{primary.color}",color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}",padding:"1rem 1.125rem",fontWeight:"600",margin:"0 0 -1px 0",gap:"0.5rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},tabpanel:{background:"{content.background}",color:"{content.color}",padding:"0.875rem 1.125rem 1.125rem 1.125rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"inset {focus.ring.shadow}"}},navButton:{background:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.color}",width:"2.5rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},activeBar:{height:"1px",bottom:"-1px",background:"{primary.color}"},colorScheme:{light:{navButton:{shadow:"0px 0px 10px 50px rgba(255, 255, 255, 0.6)"}},dark:{navButton:{shadow:"0px 0px 10px 50px color-mix(in srgb, {content.background}, transparent 50%)"}}}},index$f={root:{transitionDuration:"{transition.duration}"},tabList:{background:"{content.background}",borderColor:"{content.border.color}"},tab:{borderColor:"{content.border.color}",activeBorderColor:"{primary.color}",color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}"},tabPanel:{background:"{content.background}",color:"{content.color}"},navButton:{background:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.color}"},colorScheme:{light:{navButton:{shadow:"0px 0px 10px 50px rgba(255, 255, 255, 0.6)"}},dark:{navButton:{shadow:"0px 0px 10px 50px color-mix(in srgb, {content.background}, transparent 50%)"}}}},index$e={root:{fontSize:"0.875rem",fontWeight:"700",padding:"0.25rem 0.5rem",gap:"0.25rem",borderRadius:"{content.border.radius}",roundedBorderRadius:"{border.radius.xl}"},icon:{size:"0.75rem"},colorScheme:{light:{primary:{background:"{primary.100}",color:"{primary.700}"},secondary:{background:"{surface.100}",color:"{surface.600}"},success:{background:"{green.100}",color:"{green.700}"},info:{background:"{sky.100}",color:"{sky.700}"},warn:{background:"{orange.100}",color:"{orange.700}"},danger:{background:"{red.100}",color:"{red.700}"},contrast:{background:"{surface.950}",color:"{surface.0}"}},dark:{primary:{background:"color-mix(in srgb, {primary.500}, transparent 84%)",color:"{primary.300}"},secondary:{background:"{surface.800}",color:"{surface.300}"},success:{background:"color-mix(in srgb, {green.500}, transparent 84%)",color:"{green.300}"},info:{background:"color-mix(in srgb, {sky.500}, transparent 84%)",color:"{sky.300}"},warn:{background:"color-mix(in srgb, {orange.500}, transparent 84%)",color:"{orange.300}"},danger:{background:"color-mix(in srgb, {red.500}, transparent 84%)",color:"{red.300}"},contrast:{background:"{surface.0}",color:"{surface.950}"}}}},index$d={root:{background:"{form.field.background}",borderColor:"{form.field.border.color}",color:"{form.field.color}",height:"18rem",padding:"{form.field.padding.y} {form.field.padding.x}",borderRadius:"{form.field.border.radius}"},prompt:{gap:"0.25rem"},commandResponse:{margin:"2px 0"}},index$c={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}}},index$b={root:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.navigation.shadow}",transitionDuration:"{transition.duration}"},list:{padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},item:{focusBackground:"{navigation.item.focus.background}",activeBackground:"{navigation.item.active.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",activeColor:"{navigation.item.active.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}",activeColor:"{navigation.item.icon.active.color}"}},submenu:{mobileIndent:"1rem"},submenuIcon:{size:"{navigation.submenu.icon.size}",color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}",activeColor:"{navigation.submenu.icon.active.color}"},separator:{borderColor:"{content.border.color}"}},index$a={event:{minHeight:"5rem"},horizontal:{eventContent:{padding:"1rem 0"}},vertical:{eventContent:{padding:"0 1rem"}},eventMarker:{size:"1.125rem",borderRadius:"50%",borderWidth:"2px",background:"{content.background}",borderColor:"{content.border.color}",content:{borderRadius:"50%",size:"0.375rem",background:"{primary.color}",insetShadow:"0px 0.5px 0px 0px rgba(0, 0, 0, 0.06), 0px 1px 1px 0px rgba(0, 0, 0, 0.12)"}},eventConnector:{color:"{content.border.color}",size:"2px"}},index$9={root:{width:"25rem",borderRadius:"{content.border.radius}",borderWidth:"1px",transitionDuration:"{transition.duration}"},icon:{size:"1.125rem"},content:{padding:"{overlay.popover.padding}",gap:"0.5rem"},text:{gap:"0.5rem"},summary:{fontWeight:"500",fontSize:"1rem"},detail:{fontWeight:"500",fontSize:"0.875rem"},closeButton:{width:"1.75rem",height:"1.75rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",offset:"{focus.ring.offset}"}},closeIcon:{size:"1rem"},colorScheme:{light:{blur:"1.5px",info:{background:"color-mix(in srgb, {blue.50}, transparent 5%)",borderColor:"{blue.200}",color:"{blue.600}",detailColor:"{surface.700}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)",closeButton:{hoverBackground:"{blue.100}",focusRing:{color:"{blue.600}",shadow:"none"}}},success:{background:"color-mix(in srgb, {green.50}, transparent 5%)",borderColor:"{green.200}",color:"{green.600}",detailColor:"{surface.700}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)",closeButton:{hoverBackground:"{green.100}",focusRing:{color:"{green.600}",shadow:"none"}}},warn:{background:"color-mix(in srgb,{yellow.50}, transparent 5%)",borderColor:"{yellow.200}",color:"{yellow.600}",detailColor:"{surface.700}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)",closeButton:{hoverBackground:"{yellow.100}",focusRing:{color:"{yellow.600}",shadow:"none"}}},error:{background:"color-mix(in srgb, {red.50}, transparent 5%)",borderColor:"{red.200}",color:"{red.600}",detailColor:"{surface.700}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)",closeButton:{hoverBackground:"{red.100}",focusRing:{color:"{red.600}",shadow:"none"}}},secondary:{background:"{surface.100}",borderColor:"{surface.200}",color:"{surface.600}",detailColor:"{surface.700}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)",closeButton:{hoverBackground:"{surface.200}",focusRing:{color:"{surface.600}",shadow:"none"}}},contrast:{background:"{surface.900}",borderColor:"{surface.950}",color:"{surface.50}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)",closeButton:{hoverBackground:"{surface.800}",focusRing:{color:"{surface.50}",shadow:"none"}}}},dark:{blur:"10px",info:{background:"color-mix(in srgb, {blue.500}, transparent 84%)",borderColor:"color-mix(in srgb, {blue.700}, transparent 64%)",color:"{blue.500}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{blue.500}",shadow:"none"}}},success:{background:"color-mix(in srgb, {green.500}, transparent 84%)",borderColor:"color-mix(in srgb, {green.700}, transparent 64%)",color:"{green.500}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{green.500}",shadow:"none"}}},warn:{background:"color-mix(in srgb, {yellow.500}, transparent 84%)",borderColor:"color-mix(in srgb, {yellow.700}, transparent 64%)",color:"{yellow.500}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{yellow.500}",shadow:"none"}}},error:{background:"color-mix(in srgb, {red.500}, transparent 84%)",borderColor:"color-mix(in srgb, {red.700}, transparent 64%)",color:"{red.500}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{red.500}",shadow:"none"}}},secondary:{background:"{surface.800}",borderColor:"{surface.700}",color:"{surface.300}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)",closeButton:{hoverBackground:"{surface.700}",focusRing:{color:"{surface.300}",shadow:"none"}}},contrast:{background:"{surface.0}",borderColor:"{surface.100}",color:"{surface.950}",detailColor:"{surface.950}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)",closeButton:{hoverBackground:"{surface.100}",focusRing:{color:"{surface.950}",shadow:"none"}}}}}},index$8={root:{padding:"0.5rem 1rem",borderRadius:"{content.border.radius}",gap:"0.5rem",fontWeight:"500",disabledBackground:"{form.field.disabled.background}",disabledBorderColor:"{form.field.disabled.background}",disabledColor:"{form.field.disabled.color}",invalidBorderColor:"{form.field.invalid.border.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",padding:"0.375rem 0.75rem"},lg:{fontSize:"{form.field.lg.font.size}",padding:"0.625rem 1.25rem"}},icon:{disabledColor:"{form.field.disabled.color}"},content:{left:"0.25rem",top:"0.25rem",checkedShadow:"0px 1px 2px 0px rgba(0, 0, 0, 0.02), 0px 1px 2px 0px rgba(0, 0, 0, 0.04)"},colorScheme:{light:{root:{background:"{surface.100}",checkedBackground:"{surface.100}",hoverBackground:"{surface.100}",borderColor:"{surface.100}",color:"{surface.500}",hoverColor:"{surface.700}",checkedColor:"{surface.900}",checkedBorderColor:"{surface.100}"},content:{checkedBackground:"{surface.0}"},icon:{color:"{surface.500}",hoverColor:"{surface.700}",checkedColor:"{surface.900}"}},dark:{root:{background:"{surface.950}",checkedBackground:"{surface.950}",hoverBackground:"{surface.950}",borderColor:"{surface.950}",color:"{surface.400}",hoverColor:"{surface.300}",checkedColor:"{surface.0}",checkedBorderColor:"{surface.950}"},content:{checkedBackground:"{surface.800}"},icon:{color:"{surface.400}",hoverColor:"{surface.300}",checkedColor:"{surface.0}"}}}},index$7={root:{width:"2.5rem",height:"1.5rem",borderRadius:"30px",gap:"0.25rem",shadow:"{form.field.shadow}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},borderWidth:"1px",borderColor:"transparent",hoverBorderColor:"transparent",checkedBorderColor:"transparent",checkedHoverBorderColor:"transparent",invalidBorderColor:"{form.field.invalid.border.color}",transitionDuration:"{form.field.transition.duration}",slideDuration:"0.2s"},handle:{borderRadius:"50%",size:"1rem"},colorScheme:{light:{root:{background:"{surface.300}",disabledBackground:"{form.field.disabled.background}",hoverBackground:"{surface.400}",checkedBackground:"{primary.color}",checkedHoverBackground:"{primary.hover.color}"},handle:{background:"{surface.0}",disabledBackground:"{form.field.disabled.color}",hoverBackground:"{surface.0}",checkedBackground:"{surface.0}",checkedHoverBackground:"{surface.0}",color:"{text.muted.color}",hoverColor:"{text.color}",checkedColor:"{primary.color}",checkedHoverColor:"{primary.hover.color}"}},dark:{root:{background:"{surface.700}",disabledBackground:"{surface.600}",hoverBackground:"{surface.600}",checkedBackground:"{primary.color}",checkedHoverBackground:"{primary.hover.color}"},handle:{background:"{surface.400}",disabledBackground:"{surface.900}",hoverBackground:"{surface.300}",checkedBackground:"{surface.900}",checkedHoverBackground:"{surface.900}",color:"{surface.900}",hoverColor:"{surface.800}",checkedColor:"{primary.color}",checkedHoverColor:"{primary.hover.color}"}}}},index$6={root:{background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",gap:"0.5rem",padding:"0.75rem"}},index$5={root:{maxWidth:"12.5rem",gutter:"0.25rem",shadow:"{overlay.popover.shadow}",padding:"0.5rem 0.75rem",borderRadius:"{overlay.popover.border.radius}"},colorScheme:{light:{root:{background:"{surface.700}",color:"{surface.0}"}},dark:{root:{background:"{surface.700}",color:"{surface.0}"}}}},index$4={root:{background:"{content.background}",color:"{content.color}",padding:"1rem",gap:"2px",indent:"1rem",transitionDuration:"{transition.duration}"},node:{padding:"0.25rem 0.5rem",borderRadius:"{content.border.radius}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",color:"{text.color}",hoverColor:"{text.hover.color}",selectedColor:"{highlight.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"},gap:"0.25rem"},nodeIcon:{color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",selectedColor:"{highlight.color}"},nodeToggleButton:{borderRadius:"50%",size:"1.75rem",hoverBackground:"{content.hover.background}",selectedHoverBackground:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",selectedHoverColor:"{primary.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},loadingIcon:{size:"2rem"},filter:{margin:"0 0 0.5rem 0"}},index$3={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}},dropdown:{width:"2.5rem",color:"{form.field.icon.color}"},overlay:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},tree:{padding:"{list.padding}"},clearIcon:{color:"{form.field.icon.color}"},emptyMessage:{padding:"{list.option.padding}"},chip:{borderRadius:"{border.radius.sm}"}},index$2={root:{transitionDuration:"{transition.duration}"},header:{background:"{content.background}",borderColor:"{treetable.border.color}",color:"{content.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem"},headerCell:{background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",borderColor:"{treetable.border.color}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{highlight.color}",gap:"0.5rem",padding:"0.75rem 1rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},columnTitle:{fontWeight:"600"},row:{background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{highlight.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},bodyCell:{borderColor:"{treetable.border.color}",padding:"0.75rem 1rem",gap:"0.5rem"},footerCell:{background:"{content.background}",borderColor:"{treetable.border.color}",color:"{content.color}",padding:"0.75rem 1rem"},columnFooter:{fontWeight:"600"},footer:{background:"{content.background}",borderColor:"{treetable.border.color}",color:"{content.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem"},columnResizerWidth:"0.5rem",resizeIndicator:{width:"1px",color:"{primary.color}"},sortIcon:{color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",size:"0.875rem"},loadingIcon:{size:"2rem"},nodeToggleButton:{hoverBackground:"{content.hover.background}",selectedHoverBackground:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.color}",selectedHoverColor:"{primary.color}",size:"1.75rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},paginatorTop:{borderColor:"{content.border.color}",borderWidth:"0 0 1px 0"},paginatorBottom:{borderColor:"{content.border.color}",borderWidth:"0 0 1px 0"},colorScheme:{light:{root:{borderColor:"{content.border.color}"},bodyCell:{selectedBorderColor:"{primary.100}"}},dark:{root:{borderColor:"{surface.800}"},bodyCell:{selectedBorderColor:"{primary.900}"}}}},index$1={loader:{mask:{background:"{content.background}",color:"{text.muted.color}"},icon:{size:"2rem"}}};function _typeof(e){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(e)}function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach(function(n){_defineProperty(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _defineProperty(e,t,r){return(t=_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return _typeof(t)=="symbol"?t:t+""}function _toPrimitive(e,t){if(_typeof(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(_typeof(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var index=_objectSpread(_objectSpread({},index$1l),{},{components:{accordion:index$1p,autocomplete:index$1o,avatar:index$1n,badge:index$1m,blockui:index$1k,breadcrumb:index$1j,button:index$1i,datepicker:index$16,card:index$1h,carousel:index$1g,cascadeselect:index$1f,checkbox:index$1e,chip:index$1d,colorpicker:index$1c,confirmdialog:index$1b,confirmpopup:index$1a,contextmenu:index$19,dataview:index$17,datatable:index$18,dialog:index$15,divider:index$14,dock:index$13,drawer:index$12,editor:index$11,fieldset:index$10,fileupload:index$$,iftalabel:index$X,floatlabel:index$_,galleria:index$Z,iconfield:index$Y,image:index$W,imagecompare:index$V,inlinemessage:index$U,inplace:index$T,inputchips:index$S,inputgroup:index$R,inputnumber:index$Q,inputotp:index$P,inputtext:index$O,knob:index$N,listbox:index$M,megamenu:index$L,menu:index$K,menubar:index$J,message:index$I,metergroup:index$H,multiselect:index$G,orderlist:index$F,organizationchart:index$E,overlaybadge:index$D,popover:index$x,paginator:index$C,password:index$z,panel:index$B,panelmenu:index$A,picklist:index$y,progressbar:index$w,progressspinner:index$v,radiobutton:index$u,rating:index$t,scrollpanel:index$r,select:index$q,selectbutton:index$p,skeleton:index$o,slider:index$n,speeddial:index$m,splitter:index$k,splitbutton:index$l,stepper:index$j,steps:index$i,tabmenu:index$h,tabs:index$g,tabview:index$f,textarea:index$c,tieredmenu:index$b,tag:index$e,terminal:index$d,timeline:index$a,togglebutton:index$8,toggleswitch:index$7,tree:index$4,treeselect:index$3,treetable:index$2,toast:index$9,toolbar:index$6,virtualscroller:index$1},directives:{tooltip:index$5,ripple:index$s}});const IndigoThemePreset=definePreset(index,{semantic:{primary:{50:"{indigo.50}",100:"{indigo.100}",200:"{indigo.200}",300:"{indigo.300}",400:"{indigo.400}",500:"{indigo.500}",600:"{indigo.600}",700:"{indigo.700}",800:"{indigo.800}",900:"{indigo.900}",950:"{indigo.950}"}}}),NotFoundView=defineComponent({name:"NotFoundView",setup(){const e=useRouter();return()=>h("div",{class:"container"},[h("div",{class:["my-4rem"]}),h(script$3,{header:"404",toggleable:!0,class:"my-3"},{default:()=>[h("div",{class:["flex flex-row flex-items-center flex-wrap gap-2 flex-content-around flex-justify-around"]},[h(script$4,{label:"go app",onClick:()=>{e.push({name:"app"})}}),h(script$4,{label:"go home",onClick:()=>{e.push({name:"home"})}}),h(script$4,{label:"go root",onClick:()=>{e.push({name:"root"})}})])]})])}}),APP_NAME="JS AI",AppView=defineComponent({name:"AppView",setup(){const{locale:e}=useI18n({useScope:"global"});console.log({i18nLocale:e.value});const t=useDarkModeStore(),{toggle:r}=t,{isOn:n}=storeToRefs(t),o=useSystemSettingsStore(),{setLocale:i}=o,{availableLocales:a,locale:s}=storeToRefs(o),u=ref([{label:"",name:"app-config",icon:"pi pi-cog"},{label:"Function Test",name:"app-func-test",icon:"pi pi-wrench"},{label:"Chat Test",name:"app-chat-test",icon:"pi pi-comments"},{label:"Tool Test",name:"app-tool-test",icon:"pi pi-hammer"},{label:"",name:"app-notes",icon:"pi pi-clipboard"}]),c=ref(u.value[0].label),l=useRouter(),d=useRoute();return watch(()=>d.name,()=>{c.value=`${String(d.name??"")}`},{immediate:!0}),()=>{var g,f,p;return h("div",{class:["--bg-var-p-zinc-800 overflow-auto","md:px-0.5rem md:py-0.75rem h-100dvh w-100dvw","stack-v"]},[h(script$5,{class:["md:max-w-768px md:mx-auto w-100%","border-none! bg-transparent!"],breakpoint:"0px",model:[((g=window==null?void 0:window.location)==null?void 0:g.hostname)!="localhost"?null:{label:"Dev Ref",icon:"pi pi-external-link",items:[{label:"Dexie",items:[{label:"Dexie",url:"https://dexie.org",target:"_blank"},{label:"Design",url:"https://dexie.org/docs/Tutorial/Design",target:"_blank"},{label:"Version.stores()",url:"https://dexie.org/docs/Version/Version.stores()",target:"_blank"},{label:"IDB",url:"https://juejin.cn/post/7025592963002531871",target:"_blank"},{label:"supported-operations",url:"https://github.com/dexie/Dexie.js#supported-operations",target:"_blank"},{label:"Tutorial/Vue",url:"https://dexie.org/docs/Tutorial/Vue",target:"_blank"},{label:"liveQuery()",url:"https://dexie.org/docs/liveQuery()",target:"_blank"},{label:"version()",url:"https://dexie.org/docs/Dexie/Dexie.version()",target:"_blank"}]},{label:"D3",items:[{label:"d3-dispatch",url:"https://d3js.org/d3-dispatch",target:"_blank"}]},{label:"vue-icons",url:"https://vue-icons.kalimah-apps.com/getting-started.html",target:"_blank"},{label:"Prime Icons",url:"https://primevue.org/icons/",target:"_blank"},{label:"UnoCSS",url:"https://unocss.dev/interactive/",target:"_blank"},{label:"Vue I18n",url:"https://vue-i18n.intlify.dev/guide/advanced/composition.html",target:"_blank"},{label:"VueUse",url:"https://vueuse.org/",target:"_blank"},{label:"Vue Router",url:"https://router.vuejs.org/zh/guide/",target:"_blank"},{label:"Pinia",url:"https://pinia.vuejs.org/zh/core-concepts/",target:"_blank"},{label:"Pinia Persisted",url:"https://prazdevs.github.io/pinia-plugin-persistedstate/guide/config.html",target:"_blank"},{label:"zipson",url:"https://jgranstrom.github.io/zipson/",target:"_blank"},{label:"vue render func",url:"https://cn.vuejs.org/guide/extras/render-function.html",target:"_blank"},{label:"vuejs.org",url:"https://vuejs.org/",target:"_blank"},{label:"vuejs.dev",url:"https://vuejs.dev/",target:"_blank"},{label:"Dexie.js",url:"https://dexie.org/docs/Tutorial/Vue",target:"_blank"},{label:"test",url:"#daf/ewf/2efw3?asd:df=w23?df"}]},{label:"GitHub",icon:"pi pi-github",url:"https://github.com/ziioai",target:"_blank"},{label:"theme",icon:`pi pi-${n.value?"moon":"sun"}`,command:()=>{r()}},((f=window==null?void 0:window.location)==null?void 0:f.hostname)!="localhost"?null:{label:`${s.value} | ${e.value}`,icon:"pi pi-language",items:(p=a==null?void 0:a.value)==null?void 0:p.map(m=>({label:m,icon:"pi pi-flag",command:()=>{i(m,e)}}))}].filter(m=>m!=null),pt:{rootList:{class:"ml-auto!"}}},{start:()=>h("span",{class:"font-bold mx-0.5rem"},APP_NAME)}),h("div",{class:["md:rounded-0.5rem md:border-3 md:max-w-768px md:mx-auto","w-100% p-0.75rem bg-var-p-panel-background border-var-p-panel-border-color overflow-auto","grow-1"]},[h("div",{class:["--md:rounded-0.5rem --md:border-2 md:max-w-768px md:mx-auto","w-100% --p-0.75rem bg-var-p-panel-background border-var-p-panel-border-color","bg-transparent! [background:transparent]!"],style:{"--p-panel-background":"transparent","--p-tabs-tablist-background":"transparent"}},[h(script$6,{class:"bg-transparent!",value:c.value,scrollable:!0},{default:()=>h(script$7,{class:"bg-transparent!",pt:{tabList:{class:"bg-transparent! [background:transparent]!"}}},{default:()=>u.value.map(m=>h(script$8,{class:"bg-transparent!",key:m.label,value:m.name,onClick:()=>{l.hasRoute(m==null?void 0:m.name)&&l.push({name:m.name})}},{default:()=>h("span",{class:"inline-flex flex-row flex-items-center gap-2"},[h("i",{class:m.icon}),h("span",{},m.label)])}))})})]),h(RouterView)])])}}}),ToolButton=defineComponent({name:"ToolButton",props:["label","tip","command","class","tooltipProps","direction","focus"],setup(e){const t=resolveDirective("tooltip");return()=>{const{label:r,tip:n,command:o,class:i,tooltipProps:a,direction:s,focus:u,...c}=e;return n!=null&&n.length?withDirectives(h(script$4,{label:r,severity:"secondary",onClick:o,outlined:!0,...c,class:["p-var-p-button-padding-y!",i]}),[[t,{value:n??r,showDelay:300,hideDelay:300,...a},s??"bottom",{[s??"bottom"]:!0,focus:u}]]):h(script$4,{label:r,severity:"secondary",onClick:o,outlined:!0,...c,class:["p-var-p-button-padding-y!",i]})}}});function isString$2(e){return typeof e=="string"}const useTypedEffect=(e,t,r,n)=>{const o=ref(""),i=ref(1),a=t&&isString$2(e);return watch(()=>e,u=>{o.value=u,!a&&isString$2(u)?i.value=u.length:isString$2(u)&&isString$2(o.value)&&u.indexOf(o.value)!==0&&(i.value=1)}),onMounted(()=>{let u;const c=()=>{a&&i.value<e.length&&(u=window.setTimeout(()=>{i.value+=r,c()},n))};c(),onUnmounted(()=>{clearTimeout(u)})}),[a?e.slice(0,i.value):e,a&&i.value<e.length]},Bubble=defineComponent({name:"MyBubble",props:["avatarProps","loadingProps","placement","typing","loading","onTypingComplete","messageRender","content","prefixCls"],setup(e,{slots:t}){var d,g,f;const[r,n,o,i]=e.typing?[!0,(d=e.typing)==null?void 0:d.step,(g=e.typing)==null?void 0:g.interval,((f=e.typing)==null?void 0:f.suffix)??"|"]:[!1,0,0,""],[a,s]=useTypedEffect(e.content,r,n,o),u=e.messageRender?e.messageRender(a):a,c=ref(null),l=ref(!1);return onMounted(()=>{var p;!s&&!e.loading?l.value||(l.value=!0,(p=e.onTypingComplete)==null||p.call(e)):l.value=!1}),()=>{var p,m,x;return h("div",{ref:c,class:["my-bubble","---overflow-x-auto","stack-h w-100% flex-nowrap!",e.placement=="end"?"justify-content-end! flex-row-reverse!":"justify-content-start",e!=null&&e.avatarProps?"mt-0.75rem":null]},[h("div",{class:["my-bubble--avatar-wrapper","flex-basis-auto",e.placement=="end"?"items-end!":"items-start!"]},[h(script$9,{size:"large",...e==null?void 0:e.avatarProps,class:["overflow-hidden",e!=null&&e.avatarProps?null:"opacity-0 pointer-events-none",(p=e==null?void 0:e.avatarProps)==null?void 0:p.class]})]),h("div",{class:["my-bubble--content-wrapper","stack-v my-0.25rem flex-basis-auto",e.placement=="end"?"items-end!":"items-start!"]},[t.header&&((m=t.header)==null?void 0:m.call(t)),e.loading?h(script$a,{strokeWidth:6,animationDuration:".25s",...e==null?void 0:e.loadingProps,class:"w-28px! h-28px!"}):h(script$b,{pt:{body:{class:"p-0.75rem!"}}},{content:()=>[h("div",{class:"markdown-body",innerHTML:u}),s&&i]}),t.footer&&((x=t.footer)==null?void 0:x.call(t))]),h("div",{class:["my-bubble--tail","w-16rem"]})])}}}),read=async e=>new Promise((t,r)=>{try{e==null?e=[]:e!=null&&!Array.isArray(e)&&(e=[e]),(e==null?void 0:e.length)>1&&(e=[e[0]]);const o=e[0];if(o==null)throw"file is null.";const i=new FileReader;i.onload=a=>{t({status:"success",event:a,response:{textContent:String(i.result)}})},i.onerror=a=>{console.log("fileReader onerror"),r({status:"fail",error:": fileReader onerror",event:a,response:{}})},i.onabort=a=>{console.log("fileReader onabort"),r({status:"fail",error:": fileReader onabort",event:a,response:{}})},i.readAsText(o)}catch(n){r({status:"fail",error:`: ${n}`,err:n,response:{}})}}),processJsonLines=async e=>{const t=e.split(`
`);if(t.length==1)return JSON.parse(e);const r=[];for(const n of t)r.push(JSON.parse(n));return r},extractJson=async e=>{var n;if(e.status=="fail")throw e.error;if(((n=e.response)==null?void 0:n.textContent)==null)throw"response.response?.textContent is null.";const t=e.response.textContent;return JSON.parse(t)},extractJsonLines=async e=>{var n;if(e.status=="fail")throw e.error;if(((n=e.response)==null?void 0:n.textContent)==null)throw"response.response?.textContent is null.";const t=e.response.textContent;return await processJsonLines(t)},extractText=async e=>{var r;if(e.status=="fail")throw e.error;if(((r=e.response)==null?void 0:r.textContent)==null)throw"response.response?.textContent is null.";return e.response.textContent??""},readJsonOrJsonLines=async e=>{const t=await read(e);try{return{status:"success",data:await extractJsonLines(t),type:"jsonlines"}}catch(r){try{return{status:"success",data:await extractJson(t),type:"json"}}catch(n){try{return{status:"success",data:await extractText(t),type:"text"}}catch(o){return{status:"fail",error:[r,n,o],data:null}}}}},sleep$1=async e=>new Promise(t=>{setTimeout(()=>{t({})},e)}),AppFileView=defineComponent({setup(){const e=useToast(),t=ref(),r=ref([]),n=async o=>{console.log({fileBox:t.value}),t.value.files=o.files;const i=o.files.length,a=1/i;let s=0;t.value.progress=0;for(const u of o.files){try{await sleep$1(500);const c=await readJsonOrJsonLines(u);console.log({response:c,file:u}),r.value.push({file:u,response:c}),t.value.progress=t.value.progress+a,s+=1,t.value.$emit("progress",{originalEvent:o,progress:t.value.progress})}catch(c){console.error({error:c,file:u}),t.value.$emit("error",{files:t.value.files})}console.log({loadedCount:s,fileCount:i,progress:t.value.progress,files_length:t.value.files.length})}s===i?(t.value.fileLimit&&(t.value.uploadedFileCount+=t.value.files.length),t.value.$emit("upload",o)):t.value.$emit("error",{files:t.value.files}),t.value.uploadedFiles.push(...t.value.files),t.value.clear()};return()=>h(script$3,{header:"",toggleable:!0,collapsed:!0,class:"my-3"},{default:()=>[h(script$c,{ref:t,multiple:!0,customUpload:!0,chooseLabel:"",uploadLabel:"",cancelLabel:"",onUploader:o=>{n(o)},onUpload:o=>{console.log({dd:o}),e.add({severity:"success",summary:"Success",detail:"",life:3e3})}},{empty:()=>h("div",{},[""])}),r.value.length>0&&h("div",{class:["p-panel-title","mt-2rem mb-1.5rem"]},""),h("div",{class:["app-file-cards-box"]},[r.value.map(o=>h(script$b,{class:"app-file-card"},{title:()=>o.file.name,subtitle:()=>{var i;return(i=o.response)==null?void 0:i.type},content:()=>{var i;return h("div",{class:["stack-v","text-sm","overflow-auto","max-h-8rem"]},[h("pre",{class:[""]},JSON.stringify((i=o.response)==null?void 0:i.data,null,2).slice(0,1024))])},footer:()=>h("div",{class:["stack-h"]},[h(ToolButton,{icon:"pi pi-trash",text:!0,onClick:()=>{r.value=r.value.filter(i=>i!==o)}}),h(ToolButton,{icon:"pi pi-arrow-circle-right",label:"",tip:"",text:!0,onClick:()=>{var u;const i=(u=o.response)==null?void 0:u.data;let a=[];_.isString(i)?a=i.split(/\n+/):a=JSON.stringify(i,null,2).split(/\n+/),a=a.filter(c=>c.trim().length>0);const s=a.map((c,l)=>({text:c,meta:{idx:l}}));console.log({dataList:s})}})])}))])]})}}),$1="\n js JsToolAPI\n\n- **** JsTool\n  - **** `JsToolUsed`\n  -  JsTool \n  -  JsTool \n-  JsTool `CallStart``CallEnd` 1  JsTool\n\n\n\n-  JsTool  import \n-  JsTool  `console.log`  `JsTool.log` \n-  JsTool  `JsTool.set(key, value)`  `JsTool.get(key)`\n\n-  JsTool  lodash `_`\n-  JsTool  id  `the-only-art-board-wrap`  div  div  canvas  svg \n- js\n-  JsTool \n\n- `ReturnStart``ReturnEnd` `JsTool.log` \n-  JsTool \n  \n\n`ResultStart``ResultEnd`",TemplateJsTool$1={__KV__:{},__History__:[],log(e){const t=JSON.stringify(e);this.__History__.push(t),console.log(t)},clear(){this.__KV__={},this.__History__=[]},set(e,t){this.__KV__[e]=t},get(e){return this.__KV__[e]},last(){return this.__History__[this.__History__.length-1]},history(){return this.__History__},runCode(code){const frags=code.split(/(CallStart|CallEnd)/g);for(;frags[0]!=="CallStart";)if(frags.shift(),frags.length===0)return this.log("Error Code block not found."),this.last();for(frags.shift();frags[frags.length-1]!=="CallEnd";)if(frags.pop(),frags.length===0)return this.log("Error Code block not found."),this.last();frags.pop(),code=frags.join("").trim(),code=code.replace(/^```([Jj](ava)?[Ss](cript)?)?/g,""),code=code.replace(/```$/g,""),code=code.trim();try{eval(code)}catch(e){this.log(String(e))}return this.last()}},AppRootView=defineComponent({setup(){const e=useToast(),t=ref(""),r=reactive(TemplateJsTool$1),n=reactive({url:"",key:"",model:""}),o=i=>r.runCode(i);return onMounted(()=>{window.JsTool=r}),onUnmounted(()=>{window.JsTool=void 0}),()=>[h(script$3,{header:"",toggleable:!0,class:"my-1.5rem! col"},{default:()=>h("div",{class:"stack-v"},[h("p",{},[""])])}),h(script$3,{header:"",toggleable:!0,collapsed:!0,class:"my-1.5rem! col"},{default:()=>h("div",{class:"stack-v"},[h(ToolButton,{icon:"pi pi-copy",label:"",command:()=>{clipboard.copy($1),e.add({severity:"info",summary:"",detail:"",life:2e3})}}),h("pre",{class:"overflow-auto w-full"},[$1])])}),h(script$3,{header:"",toggleable:!0,class:"my-1.5rem! col"},{default:()=>h("div",{class:"stack-v",id:"the-only-art-board-wrap"},[])}),h(script$3,{header:"",toggleable:!0,class:"my-1.5rem! col"},{default:()=>h("div",{class:"stack-v max-w-640px mx-auto max-h-80vh overflow-auto"},[h(Bubble,{content:"",loading:!1,placement:"start",avatarProps:{icon:"pi pi-face-smile"}}),h(script$d,{severity:"secondary",size:"small",class:"max-w-80% mx-auto -outline-width-0!",pt:{text:{class:"-fw-400!"}}},{default:()=>[""]}),h(script$d,{severity:"secondary",size:"small",class:"max-w-80% mx-auto -outline-width-0!",pt:{text:{class:"-fw-400!"}}},{default:()=>[""]}),h(Bubble,{content:"",loading:!1,placement:"start",avatarProps:{image:"/js-ai/images/avatar-robot.png"}},{header:()=>h("div",{class:"stack-h fw-500 text-red"},[""])}),h(Bubble,{content:"",loading:!1,placement:"start",avatarProps:{image:"/js-ai/images/avatar-master.png"}},{header:()=>h("div",{class:"stack-h fw-500 text-green"},[""])}),h(Bubble,{content:"",loading:!1,placement:"end",avatarProps:{image:"/js-ai/images/avatar-mou.png"}},{header:()=>h("div",{class:"stack-h fw-500"},[""])}),h(Bubble,{content:"",loading:!1,placement:"end",avatarProps:{icon:"pi pi-user"}}),h(Bubble,{content:"",loading:!1,placement:"start",avatarProps:{icon:"pi pi-face-smile"}},{header:()=>h("div",{class:"stack-h"},["Assistant"])}),h(Bubble,{content:"",loading:!1,placement:"start"}),h(Bubble,{content:"",loading:!1,placement:"end",avatarProps:{icon:"pi pi-user"}},{header:()=>h("div",{class:"stack-h"},["User"])}),h(Bubble,{content:"",loading:!1,placement:"end"})])}),h(script$3,{header:"",toggleable:!0,class:"my-1.5rem!"},{default:()=>h("div",{class:"stack-v"},[h(script$e,{fluid:!0,modelValue:t.value,"onUpdate:modelValue":i=>{t.value=i}}),h("div",{class:"stack-h"},[h(ToolButton,{icon:"pi pi-send",label:"",class:"ml-auto",command:()=>{var i;t.value.trim()!==""&&(e.add({severity:"info",summary:"",detail:` ${(i=t.value)==null?void 0:i.length} `,life:2e3}),t.value="")}}),h(ToolButton,{icon:"pi pi-play",label:"",command:()=>{o(t.value)}}),h(ToolButton,{icon:"pi pi-copy",label:"",command:()=>{var i,a;clipboard.copy(t.value),e.add({severity:"info",summary:"",detail:`${(i=t.value)==null?void 0:i.length} 
${t.value.slice(0,20)}${((a=t.value)==null?void 0:a.length)<=20?"":"..."}`,life:2e3})}}),h(ToolButton,{icon:"pi pi-trash",label:"",command:()=>{t.value=""}})])])}),h("div",{class:"grid grid-cols-2 gap-4"},[h(script$3,{header:"JsTool ",toggleable:!0,class:"my-1.5rem! col"},{default:()=>h("div",{class:"stack-v"},[h(ToolButton,{icon:"pi pi-copy",label:"",command:()=>{var i;clipboard.copy(`ReturnStart${r.last()}ReturnEnd`),e.add({severity:"info",summary:"",detail:` ${(i=`${r.last()}`)==null?void 0:i.length} `,life:2e3})}}),JSON.stringify(r.history(),null,2)])}),h(script$3,{header:"JsTool ",toggleable:!0,class:"my-1.5rem! col"},{default:()=>h("div",{class:"stack-v"},[JSON.stringify(r.__KV__,null,2)])})]),h(AppFileView,{class:"w-full"}),h(script$3,{header:"",toggleable:!0,class:"my-1.5rem!"},{default:()=>h("div",{class:"grid grid-cols-3 gap-4"},[["url","key","model"].map((i,a)=>h(script$f,{variant:"on",class:"col-span-3 lg-col-span-1"},{default:()=>[h(script$g,{id:`${i}Input`,fluid:!0,key:`[${a}]${i}`,modelValue:n[i],"onUpdate:modelValue":s=>{n[i]=s},...i==="key"?{type:"password"}:{}}),h("label",{for:`${i}Input`},i)]}))])})]}}),default_format="RFC3986",formatters={RFC1738:e=>String(e).replace(/%20/g,"+"),RFC3986:e=>String(e)},RFC1738="RFC1738",is_array$1=Array.isArray,hex_table=(()=>{const e=[];for(let t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e})(),limit=1024,encode$2=(e,t,r,n,o)=>{if(e.length===0)return e;let i=e;if(typeof e=="symbol"?i=Symbol.prototype.toString.call(e):typeof e!="string"&&(i=String(e)),r==="iso-8859-1")return escape(i).replace(/%u[0-9a-f]{4}/gi,function(s){return"%26%23"+parseInt(s.slice(2),16)+"%3B"});let a="";for(let s=0;s<i.length;s+=limit){const u=i.length>=limit?i.slice(s,s+limit):i,c=[];for(let l=0;l<u.length;++l){let d=u.charCodeAt(l);if(d===45||d===46||d===95||d===126||d>=48&&d<=57||d>=65&&d<=90||d>=97&&d<=122||o===RFC1738&&(d===40||d===41)){c[c.length]=u.charAt(l);continue}if(d<128){c[c.length]=hex_table[d];continue}if(d<2048){c[c.length]=hex_table[192|d>>6]+hex_table[128|d&63];continue}if(d<55296||d>=57344){c[c.length]=hex_table[224|d>>12]+hex_table[128|d>>6&63]+hex_table[128|d&63];continue}l+=1,d=65536+((d&1023)<<10|u.charCodeAt(l)&1023),c[c.length]=hex_table[240|d>>18]+hex_table[128|d>>12&63]+hex_table[128|d>>6&63]+hex_table[128|d&63]}a+=c.join("")}return a};function is_buffer(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))}function maybe_map(e,t){if(is_array$1(e)){const r=[];for(let n=0;n<e.length;n+=1)r.push(t(e[n]));return r}return t(e)}const has$1=Object.prototype.hasOwnProperty,array_prefix_generators={brackets(e){return String(e)+"[]"},comma:"comma",indices(e,t){return String(e)+"["+t+"]"},repeat(e){return String(e)}},is_array=Array.isArray,push=Array.prototype.push,push_to_array=function(e,t){push.apply(e,is_array(t)?t:[t])},to_ISO=Date.prototype.toISOString,defaults={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:encode$2,encodeValuesOnly:!1,format:default_format,formatter:formatters[default_format],indices:!1,serializeDate(e){return to_ISO.call(e)},skipNulls:!1,strictNullHandling:!1};function is_non_nullish_primitive(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"}const sentinel={};function inner_stringify(e,t,r,n,o,i,a,s,u,c,l,d,g,f,p,m,x,y){let C=e,$=y,E=0,R=!1;for(;($=$.get(sentinel))!==void 0&&!R;){const T=$.get(e);if(E+=1,typeof T<"u"){if(T===E)throw new RangeError("Cyclic object value");R=!0}typeof $.get(sentinel)>"u"&&(E=0)}if(typeof c=="function"?C=c(t,C):C instanceof Date?C=g==null?void 0:g(C):r==="comma"&&is_array(C)&&(C=maybe_map(C,function(T){return T instanceof Date?g==null?void 0:g(T):T})),C===null){if(i)return u&&!m?u(t,defaults.encoder,x,"key",f):t;C=""}if(is_non_nullish_primitive(C)||is_buffer(C)){if(u){const T=m?t:u(t,defaults.encoder,x,"key",f);return[(p==null?void 0:p(T))+"="+(p==null?void 0:p(u(C,defaults.encoder,x,"value",f)))]}return[(p==null?void 0:p(t))+"="+(p==null?void 0:p(String(C)))]}const B=[];if(typeof C>"u")return B;let F;if(r==="comma"&&is_array(C))m&&u&&(C=maybe_map(C,u)),F=[{value:C.length>0?C.join(",")||null:void 0}];else if(is_array(c))F=c;else{const T=Object.keys(C);F=l?T.sort(l):T}const N=s?String(t).replace(/\./g,"%2E"):String(t),I=n&&is_array(C)&&C.length===1?N+"[]":N;if(o&&is_array(C)&&C.length===0)return I+"[]";for(let T=0;T<F.length;++T){const D=F[T],U=typeof D=="object"&&typeof D.value<"u"?D.value:C[D];if(a&&U===null)continue;const W=d&&s?D.replace(/\./g,"%2E"):D,q=is_array(C)?typeof r=="function"?r(I,W):I:I+(d?"."+W:"["+W+"]");y.set(e,E);const z=new WeakMap;z.set(sentinel,y),push_to_array(B,inner_stringify(U,q,r,n,o,i,a,s,r==="comma"&&m&&is_array(C)?null:u,c,l,d,g,f,p,m,x,z))}return B}function normalize_stringify_options(e=defaults){if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");const t=e.charset||defaults.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let r=default_format;if(typeof e.format<"u"){if(!has$1.call(formatters,e.format))throw new TypeError("Unknown format option provided.");r=e.format}const n=formatters[r];let o=defaults.filter;(typeof e.filter=="function"||is_array(e.filter))&&(o=e.filter);let i;if(e.arrayFormat&&e.arrayFormat in array_prefix_generators?i=e.arrayFormat:"indices"in e?i=e.indices?"indices":"repeat":i=defaults.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const a=typeof e.allowDots>"u"?e.encodeDotInKeys?!0:defaults.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:defaults.addQueryPrefix,allowDots:a,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:defaults.allowEmptyArrays,arrayFormat:i,charset:t,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:defaults.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?defaults.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:defaults.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:defaults.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:defaults.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:defaults.encodeValuesOnly,filter:o,format:r,formatter:n,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:defaults.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:defaults.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:defaults.strictNullHandling}}function stringify(e,t={}){let r=e;const n=normalize_stringify_options(t);let o,i;typeof n.filter=="function"?(i=n.filter,r=i("",r)):is_array(n.filter)&&(i=n.filter,o=i);const a=[];if(typeof r!="object"||r===null)return"";const s=array_prefix_generators[n.arrayFormat],u=s==="comma"&&n.commaRoundTrip;o||(o=Object.keys(r)),n.sort&&o.sort(n.sort);const c=new WeakMap;for(let g=0;g<o.length;++g){const f=o[g];n.skipNulls&&r[f]===null||push_to_array(a,inner_stringify(r[f],f,s,u,n.allowEmptyArrays,n.strictNullHandling,n.skipNulls,n.encodeDotInKeys,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,c))}const l=a.join(n.delimiter);let d=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?d+="utf8=%26%2310003%3B&":d+="utf8=%E2%9C%93&"),l.length>0?d+l:""}const VERSION="4.85.2";let auto=!1,kind,fetch$1,FormData$1,File$1,ReadableStream$1,getMultipartRequestOptions,getDefaultAgent,fileFromPath,isFsReadStream;function setShims(e,t={auto:!1}){if(auto)throw new Error(`you must \`import 'openai/shims/${e.kind}'\` before importing anything else from openai`);if(kind)throw new Error(`can't \`import 'openai/shims/${e.kind}'\` after \`import 'openai/shims/${kind}'\``);auto=t.auto,kind=e.kind,fetch$1=e.fetch,FormData$1=e.FormData,File$1=e.File,ReadableStream$1=e.ReadableStream,getMultipartRequestOptions=e.getMultipartRequestOptions,getDefaultAgent=e.getDefaultAgent,fileFromPath=e.fileFromPath,isFsReadStream=e.isFsReadStream}class MultipartBody{constructor(t){this.body=t}get[Symbol.toStringTag](){return"MultipartBody"}}function getRuntime({manuallyImported:e}={}){const t=e?"You may need to use polyfills":"Add one of these imports before your first `import  from 'openai'`:\n- `import 'openai/shims/node'` (if you're running on Node)\n- `import 'openai/shims/web'` (otherwise)\n";let r,n,o,i;try{r=fetch,n=Request,o=Response,i=Headers}catch(a){throw new Error(`this environment is missing the following Web Fetch API type: ${a.message}. ${t}`)}return{kind:"web",fetch:r,Request:n,Response:o,Headers:i,FormData:typeof FormData<"u"?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${t}`)}},Blob:typeof Blob<"u"?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${t}`)}},File:typeof File<"u"?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${t}`)}},ReadableStream:typeof ReadableStream<"u"?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${t}`)}},getMultipartRequestOptions:async(a,s)=>({...s,body:new MultipartBody(a)}),getDefaultAgent:a=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/openai/openai-node#file-uploads")},isFsReadStream:a=>!1}}kind||setShims(getRuntime(),{auto:!0});class OpenAIError extends Error{}class APIError extends OpenAIError{constructor(t,r,n,o){super(`${APIError.makeMessage(t,r,n)}`),this.status=t,this.headers=o,this.request_id=o==null?void 0:o["x-request-id"],this.error=r;const i=r;this.code=i==null?void 0:i.code,this.param=i==null?void 0:i.param,this.type=i==null?void 0:i.type}static makeMessage(t,r,n){const o=r!=null&&r.message?typeof r.message=="string"?r.message:JSON.stringify(r.message):r?JSON.stringify(r):n;return t&&o?`${t} ${o}`:t?`${t} status code (no body)`:o||"(no status code or body)"}static generate(t,r,n,o){if(!t||!o)return new APIConnectionError({message:n,cause:castToError(r)});const i=r==null?void 0:r.error;return t===400?new BadRequestError(t,i,n,o):t===401?new AuthenticationError(t,i,n,o):t===403?new PermissionDeniedError(t,i,n,o):t===404?new NotFoundError(t,i,n,o):t===409?new ConflictError(t,i,n,o):t===422?new UnprocessableEntityError(t,i,n,o):t===429?new RateLimitError(t,i,n,o):t>=500?new InternalServerError(t,i,n,o):new APIError(t,i,n,o)}}class APIUserAbortError extends APIError{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class APIConnectionError extends APIError{constructor({message:t,cause:r}){super(void 0,void 0,t||"Connection error.",void 0),r&&(this.cause=r)}}class APIConnectionTimeoutError extends APIConnectionError{constructor({message:t}={}){super({message:t??"Request timed out."})}}class BadRequestError extends APIError{}class AuthenticationError extends APIError{}class PermissionDeniedError extends APIError{}class NotFoundError extends APIError{}class ConflictError extends APIError{}class UnprocessableEntityError extends APIError{}class RateLimitError extends APIError{}class InternalServerError extends APIError{}class LengthFinishReasonError extends OpenAIError{constructor(){super("Could not parse response content as the length limit was reached")}}class ContentFilterFinishReasonError extends OpenAIError{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}var __classPrivateFieldSet$4=function(e,t,r,n,o){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?o.call(e,r):o?o.value=r:t.set(e,r),r},__classPrivateFieldGet$5=function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},_LineDecoder_carriageReturnIndex;class LineDecoder{constructor(){_LineDecoder_carriageReturnIndex.set(this,void 0),this.buffer=new Uint8Array,__classPrivateFieldSet$4(this,_LineDecoder_carriageReturnIndex,null,"f")}decode(t){if(t==null)return[];const r=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?new TextEncoder().encode(t):t;let n=new Uint8Array(this.buffer.length+r.length);n.set(this.buffer),n.set(r,this.buffer.length),this.buffer=n;const o=[];let i;for(;(i=findNewlineIndex(this.buffer,__classPrivateFieldGet$5(this,_LineDecoder_carriageReturnIndex,"f")))!=null;){if(i.carriage&&__classPrivateFieldGet$5(this,_LineDecoder_carriageReturnIndex,"f")==null){__classPrivateFieldSet$4(this,_LineDecoder_carriageReturnIndex,i.index,"f");continue}if(__classPrivateFieldGet$5(this,_LineDecoder_carriageReturnIndex,"f")!=null&&(i.index!==__classPrivateFieldGet$5(this,_LineDecoder_carriageReturnIndex,"f")+1||i.carriage)){o.push(this.decodeText(this.buffer.slice(0,__classPrivateFieldGet$5(this,_LineDecoder_carriageReturnIndex,"f")-1))),this.buffer=this.buffer.slice(__classPrivateFieldGet$5(this,_LineDecoder_carriageReturnIndex,"f")),__classPrivateFieldSet$4(this,_LineDecoder_carriageReturnIndex,null,"f");continue}const a=__classPrivateFieldGet$5(this,_LineDecoder_carriageReturnIndex,"f")!==null?i.preceding-1:i.preceding,s=this.decodeText(this.buffer.slice(0,a));o.push(s),this.buffer=this.buffer.slice(i.index),__classPrivateFieldSet$4(this,_LineDecoder_carriageReturnIndex,null,"f")}return o}decodeText(t){if(t==null)return"";if(typeof t=="string")return t;if(typeof Buffer<"u"){if(t instanceof Buffer)return t.toString();if(t instanceof Uint8Array)return Buffer.from(t).toString();throw new OpenAIError(`Unexpected: received non-Uint8Array (${t.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if(typeof TextDecoder<"u"){if(t instanceof Uint8Array||t instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(t);throw new OpenAIError(`Unexpected: received non-Uint8Array/ArrayBuffer (${t.constructor.name}) in a web platform. Please report this error.`)}throw new OpenAIError("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){return this.buffer.length?this.decode(`
`):[]}}_LineDecoder_carriageReturnIndex=new WeakMap;LineDecoder.NEWLINE_CHARS=new Set([`
`,"\r"]);LineDecoder.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function findNewlineIndex(e,t){for(let o=t??0;o<e.length;o++){if(e[o]===10)return{preceding:o,index:o+1,carriage:!1};if(e[o]===13)return{preceding:o,index:o+1,carriage:!0}}return null}function findDoubleNewlineIndex(e){for(let n=0;n<e.length-1;n++){if(e[n]===10&&e[n+1]===10||e[n]===13&&e[n+1]===13)return n+2;if(e[n]===13&&e[n+1]===10&&n+3<e.length&&e[n+2]===13&&e[n+3]===10)return n+4}return-1}function ReadableStreamToAsyncIterable(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const r=await t.read();return r!=null&&r.done&&t.releaseLock(),r}catch(r){throw t.releaseLock(),r}},async return(){const r=t.cancel();return t.releaseLock(),await r,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}class Stream{constructor(t,r){this.iterator=t,this.controller=r}static fromSSEResponse(t,r){let n=!1;async function*o(){if(n)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");n=!0;let i=!1;try{for await(const a of _iterSSEMessages(t,r))if(!i){if(a.data.startsWith("[DONE]")){i=!0;continue}if(a.event===null){let s;try{s=JSON.parse(a.data)}catch(u){throw console.error("Could not parse message into JSON:",a.data),console.error("From chunk:",a.raw),u}if(s&&s.error)throw new APIError(void 0,s.error,void 0,void 0);yield s}else{let s;try{s=JSON.parse(a.data)}catch(u){throw console.error("Could not parse message into JSON:",a.data),console.error("From chunk:",a.raw),u}if(a.event=="error")throw new APIError(void 0,s.error,s.message,void 0);yield{event:a.event,data:s}}}i=!0}catch(a){if(a instanceof Error&&a.name==="AbortError")return;throw a}finally{i||r.abort()}}return new Stream(o,r)}static fromReadableStream(t,r){let n=!1;async function*o(){const a=new LineDecoder,s=ReadableStreamToAsyncIterable(t);for await(const u of s)for(const c of a.decode(u))yield c;for(const u of a.flush())yield u}async function*i(){if(n)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");n=!0;let a=!1;try{for await(const s of o())a||s&&(yield JSON.parse(s));a=!0}catch(s){if(s instanceof Error&&s.name==="AbortError")return;throw s}finally{a||r.abort()}}return new Stream(i,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],r=[],n=this.iterator(),o=i=>({next:()=>{if(i.length===0){const a=n.next();t.push(a),r.push(a)}return i.shift()}});return[new Stream(()=>o(t),this.controller),new Stream(()=>o(r),this.controller)]}toReadableStream(){const t=this;let r;const n=new TextEncoder;return new ReadableStream$1({async start(){r=t[Symbol.asyncIterator]()},async pull(o){try{const{value:i,done:a}=await r.next();if(a)return o.close();const s=n.encode(JSON.stringify(i)+`
`);o.enqueue(s)}catch(i){o.error(i)}},async cancel(){var o;await((o=r.return)==null?void 0:o.call(r))}})}}async function*_iterSSEMessages(e,t){if(!e.body)throw t.abort(),new OpenAIError("Attempted to iterate over a response with no body");const r=new SSEDecoder,n=new LineDecoder,o=ReadableStreamToAsyncIterable(e.body);for await(const i of iterSSEChunks(o))for(const a of n.decode(i)){const s=r.decode(a);s&&(yield s)}for(const i of n.flush()){const a=r.decode(i);a&&(yield a)}}async function*iterSSEChunks(e){let t=new Uint8Array;for await(const r of e){if(r==null)continue;const n=r instanceof ArrayBuffer?new Uint8Array(r):typeof r=="string"?new TextEncoder().encode(r):r;let o=new Uint8Array(t.length+n.length);o.set(t),o.set(n,t.length),t=o;let i;for(;(i=findDoubleNewlineIndex(t))!==-1;)yield t.slice(0,i),t=t.slice(i)}t.length>0&&(yield t)}class SSEDecoder{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const i={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],i}if(this.chunks.push(t),t.startsWith(":"))return null;let[r,n,o]=partition(t,":");return o.startsWith(" ")&&(o=o.substring(1)),r==="event"?this.event=o:r==="data"&&this.data.push(o),null}}function partition(e,t){const r=e.indexOf(t);return r!==-1?[e.substring(0,r),t,e.substring(r+t.length)]:[e,"",""]}const isResponseLike=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function",isFileLike=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&isBlobLike(e),isBlobLike=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",isUploadable=e=>isFileLike(e)||isResponseLike(e)||isFsReadStream(e);async function toFile(e,t,r){var o;if(e=await e,isFileLike(e))return e;if(isResponseLike(e)){const i=await e.blob();t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()??"unknown_file");const a=isBlobLike(i)?[await i.arrayBuffer()]:[i];return new File$1(a,t,r)}const n=await getBytes(e);if(t||(t=getName(e)??"unknown_file"),!(r!=null&&r.type)){const i=(o=n[0])==null?void 0:o.type;typeof i=="string"&&(r={...r,type:i})}return new File$1(n,t,r)}async function getBytes(e){var r;let t=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)t.push(e);else if(isBlobLike(e))t.push(await e.arrayBuffer());else if(isAsyncIterableIterator(e))for await(const n of e)t.push(n);else throw new Error(`Unexpected data type: ${typeof e}; constructor: ${(r=e==null?void 0:e.constructor)==null?void 0:r.name}; props: ${propsForError(e)}`);return t}function propsForError(e){return`[${Object.getOwnPropertyNames(e).map(r=>`"${r}"`).join(", ")}]`}function getName(e){var t;return getStringFromMaybeBuffer(e.name)||getStringFromMaybeBuffer(e.filename)||((t=getStringFromMaybeBuffer(e.path))==null?void 0:t.split(/[\\/]/).pop())}const getStringFromMaybeBuffer=e=>{if(typeof e=="string")return e;if(typeof Buffer<"u"&&e instanceof Buffer)return String(e)},isAsyncIterableIterator=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function",isMultipartBody=e=>e&&typeof e=="object"&&e.body&&e[Symbol.toStringTag]==="MultipartBody",multipartFormRequestOptions=async e=>{const t=await createForm(e.body);return getMultipartRequestOptions(t,e)},createForm=async e=>{const t=new FormData$1;return await Promise.all(Object.entries(e||{}).map(([r,n])=>addFormValue(t,r,n))),t},addFormValue=async(e,t,r)=>{if(r!==void 0){if(r==null)throw new TypeError(`Received null for "${t}"; to pass null in FormData, you must use the string 'null'`);if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")e.append(t,String(r));else if(isUploadable(r)){const n=await toFile(r);e.append(t,n)}else if(Array.isArray(r))await Promise.all(r.map(n=>addFormValue(e,t+"[]",n)));else if(typeof r=="object")await Promise.all(Object.entries(r).map(([n,o])=>addFormValue(e,`${t}[${n}]`,o)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${r} instead`)}};var define_process_env_default={},__classPrivateFieldSet$3=function(e,t,r,n,o){if(typeof t=="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,r),r},__classPrivateFieldGet$4=function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},_AbstractPage_client;async function defaultParseResponse(e){const{response:t}=e;if(e.options.stream)return debug("response",t.status,t.url,t.headers,t.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(t,e.controller):Stream.fromSSEResponse(t,e.controller);if(t.status===204)return null;if(e.options.__binaryResponse)return t;const r=t.headers.get("content-type");if((r==null?void 0:r.includes("application/json"))||(r==null?void 0:r.includes("application/vnd.api+json"))){const i=await t.json();return debug("response",t.status,t.url,t.headers,i),_addRequestID(i,t)}const o=await t.text();return debug("response",t.status,t.url,t.headers,o),o}function _addRequestID(e,t){return!e||typeof e!="object"||Array.isArray(e)?e:Object.defineProperty(e,"_request_id",{value:t.headers.get("x-request-id"),enumerable:!1})}class APIPromise extends Promise{constructor(t,r=defaultParseResponse){super(n=>{n(null)}),this.responsePromise=t,this.parseResponse=r}_thenUnwrap(t){return new APIPromise(this.responsePromise,async r=>_addRequestID(t(await this.parseResponse(r),r),r.response))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,r]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:r,request_id:r.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(t,r){return this.parse().then(t,r)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}class APIClient{constructor({baseURL:t,maxRetries:r=2,timeout:n=6e5,httpAgent:o,fetch:i}){this.baseURL=t,this.maxRetries=validatePositiveInteger("maxRetries",r),this.timeout=validatePositiveInteger("timeout",n),this.httpAgent=o,this.fetch=i??fetch$1}authHeaders(t){return{}}defaultHeaders(t){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...getPlatformHeaders(),...this.authHeaders(t)}}validateHeaders(t,r){}defaultIdempotencyKey(){return`stainless-node-retry-${uuid4()}`}get(t,r){return this.methodRequest("get",t,r)}post(t,r){return this.methodRequest("post",t,r)}patch(t,r){return this.methodRequest("patch",t,r)}put(t,r){return this.methodRequest("put",t,r)}delete(t,r){return this.methodRequest("delete",t,r)}methodRequest(t,r,n){return this.request(Promise.resolve(n).then(async o=>{const i=o&&isBlobLike(o==null?void 0:o.body)?new DataView(await o.body.arrayBuffer()):(o==null?void 0:o.body)instanceof DataView?o.body:(o==null?void 0:o.body)instanceof ArrayBuffer?new DataView(o.body):o&&ArrayBuffer.isView(o==null?void 0:o.body)?new DataView(o.body.buffer):o==null?void 0:o.body;return{method:t,path:r,...o,body:i}}))}getAPIList(t,r,n){return this.requestAPIList(r,{method:"get",path:t,...n})}calculateContentLength(t){if(typeof t=="string"){if(typeof Buffer<"u")return Buffer.byteLength(t,"utf8").toString();if(typeof TextEncoder<"u")return new TextEncoder().encode(t).length.toString()}else if(ArrayBuffer.isView(t))return t.byteLength.toString();return null}buildRequest(t,{retryCount:r=0}={}){var p;t={...t};const{method:n,path:o,query:i,headers:a={}}=t,s=ArrayBuffer.isView(t.body)||t.__binaryRequest&&typeof t.body=="string"?t.body:isMultipartBody(t.body)?t.body.body:t.body?JSON.stringify(t.body,null,2):null,u=this.calculateContentLength(s),c=this.buildURL(o,i);"timeout"in t&&validatePositiveInteger("timeout",t.timeout),t.timeout=t.timeout??this.timeout;const l=t.httpAgent??this.httpAgent??getDefaultAgent(c),d=t.timeout+1e3;typeof((p=l==null?void 0:l.options)==null?void 0:p.timeout)=="number"&&d>(l.options.timeout??0)&&(l.options.timeout=d),this.idempotencyHeader&&n!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),a[this.idempotencyHeader]=t.idempotencyKey);const g=this.buildHeaders({options:t,headers:a,contentLength:u,retryCount:r});return{req:{method:n,...s&&{body:s},headers:g,...l&&{agent:l},signal:t.signal??null},url:c,timeout:t.timeout}}buildHeaders({options:t,headers:r,contentLength:n,retryCount:o}){const i={};n&&(i["content-length"]=n);const a=this.defaultHeaders(t);return applyHeadersMut(i,a),applyHeadersMut(i,r),isMultipartBody(t.body)&&kind!=="node"&&delete i["content-type"],getHeader(a,"x-stainless-retry-count")===void 0&&getHeader(r,"x-stainless-retry-count")===void 0&&(i["x-stainless-retry-count"]=String(o)),getHeader(a,"x-stainless-timeout")===void 0&&getHeader(r,"x-stainless-timeout")===void 0&&t.timeout&&(i["x-stainless-timeout"]=String(t.timeout)),this.validateHeaders(i,r),i}async prepareOptions(t){}async prepareRequest(t,{url:r,options:n}){}parseHeaders(t){return t?Symbol.iterator in t?Object.fromEntries(Array.from(t).map(r=>[...r])):{...t}:{}}makeStatusError(t,r,n,o){return APIError.generate(t,r,n,o)}request(t,r=null){return new APIPromise(this.makeRequest(t,r))}async makeRequest(t,r){var d,g;const n=await t,o=n.maxRetries??this.maxRetries;r==null&&(r=o),await this.prepareOptions(n);const{req:i,url:a,timeout:s}=this.buildRequest(n,{retryCount:o-r});if(await this.prepareRequest(i,{url:a,options:n}),debug("request",a,n,i.headers),(d=n.signal)!=null&&d.aborted)throw new APIUserAbortError;const u=new AbortController,c=await this.fetchWithTimeout(a,i,s,u).catch(castToError);if(c instanceof Error){if((g=n.signal)!=null&&g.aborted)throw new APIUserAbortError;if(r)return this.retryRequest(n,r);throw c.name==="AbortError"?new APIConnectionTimeoutError:new APIConnectionError({cause:c})}const l=createResponseHeaders(c.headers);if(!c.ok){if(r&&this.shouldRetry(c)){const C=`retrying, ${r} attempts remaining`;return debug(`response (error; ${C})`,c.status,a,l),this.retryRequest(n,r,l)}const f=await c.text().catch(C=>castToError(C).message),p=safeJSON(f),m=p?void 0:f;throw debug(`response (error; ${r?"(error; no more retries left)":"(error; not retryable)"})`,c.status,a,l,m),this.makeStatusError(c.status,p,m,l)}return{response:c,options:n,controller:u}}requestAPIList(t,r){const n=this.makeRequest(r,null);return new PagePromise(this,n,t)}buildURL(t,r){const n=isAbsoluteURL(t)?new URL(t):new URL(this.baseURL+(this.baseURL.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),o=this.defaultQuery();return isEmptyObj(o)||(r={...o,...r}),typeof r=="object"&&r&&!Array.isArray(r)&&(n.search=this.stringifyQuery(r)),n.toString()}stringifyQuery(t){return Object.entries(t).filter(([r,n])=>typeof n<"u").map(([r,n])=>{if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")return`${encodeURIComponent(r)}=${encodeURIComponent(n)}`;if(n===null)return`${encodeURIComponent(r)}=`;throw new OpenAIError(`Cannot stringify type ${typeof n}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}async fetchWithTimeout(t,r,n,o){const{signal:i,...a}=r||{};i&&i.addEventListener("abort",()=>o.abort());const s=setTimeout(()=>o.abort(),n),u={signal:o.signal,...a};return u.method&&(u.method=u.method.toUpperCase()),this.fetch.call(void 0,t,u).finally(()=>{clearTimeout(s)})}shouldRetry(t){const r=t.headers.get("x-should-retry");return r==="true"?!0:r==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,r,n){let o;const i=n==null?void 0:n["retry-after-ms"];if(i){const s=parseFloat(i);Number.isNaN(s)||(o=s)}const a=n==null?void 0:n["retry-after"];if(a&&!o){const s=parseFloat(a);Number.isNaN(s)?o=Date.parse(a)-Date.now():o=s*1e3}if(!(o&&0<=o&&o<60*1e3)){const s=t.maxRetries??this.maxRetries;o=this.calculateDefaultRetryTimeoutMillis(r,s)}return await sleep(o),this.makeRequest(t,r-1)}calculateDefaultRetryTimeoutMillis(t,r){const i=r-t,a=Math.min(.5*Math.pow(2,i),8),s=1-Math.random()*.25;return a*s*1e3}getUserAgent(){return`${this.constructor.name}/JS ${VERSION}`}}class AbstractPage{constructor(t,r,n,o){_AbstractPage_client.set(this,void 0),__classPrivateFieldSet$3(this,_AbstractPage_client,t),this.options=o,this.response=r,this.body=n}hasNextPage(){return this.getPaginatedItems().length?this.nextPageInfo()!=null:!1}async getNextPage(){const t=this.nextPageInfo();if(!t)throw new OpenAIError("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");const r={...this.options};if("params"in t&&typeof r.query=="object")r.query={...r.query,...t.params};else if("url"in t){const n=[...Object.entries(r.query||{}),...t.url.searchParams.entries()];for(const[o,i]of n)t.url.searchParams.set(o,i);r.query=void 0,r.path=t.url.toString()}return await __classPrivateFieldGet$4(this,_AbstractPage_client,"f").requestAPIList(this.constructor,r)}async*iterPages(){let t=this;for(yield t;t.hasNextPage();)t=await t.getNextPage(),yield t}async*[(_AbstractPage_client=new WeakMap,Symbol.asyncIterator)](){for await(const t of this.iterPages())for(const r of t.getPaginatedItems())yield r}}class PagePromise extends APIPromise{constructor(t,r,n){super(r,async o=>new n(t,o.response,await defaultParseResponse(o),o.options))}async*[Symbol.asyncIterator](){const t=await this;for await(const r of t)yield r}}const createResponseHeaders=e=>new Proxy(Object.fromEntries(e.entries()),{get(t,r){const n=r.toString();return t[n.toLowerCase()]||t[n]}}),requestOptionsKeys={method:!0,path:!0,query:!0,body:!0,headers:!0,maxRetries:!0,stream:!0,timeout:!0,httpAgent:!0,signal:!0,idempotencyKey:!0,__metadata:!0,__binaryRequest:!0,__binaryResponse:!0,__streamClass:!0},isRequestOptions=e=>typeof e=="object"&&e!==null&&!isEmptyObj(e)&&Object.keys(e).every(t=>hasOwn(requestOptionsKeys,t)),getPlatformProperties=()=>{var t;if(typeof Deno<"u"&&Deno.build!=null)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":VERSION,"X-Stainless-OS":normalizePlatform(Deno.build.os),"X-Stainless-Arch":normalizeArch(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:((t=Deno.version)==null?void 0:t.deno)??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":VERSION,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":VERSION,"X-Stainless-OS":normalizePlatform(process.platform),"X-Stainless-Arch":normalizeArch(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const e=getBrowserInfo();return e?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":VERSION,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${e.browser}`,"X-Stainless-Runtime-Version":e.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":VERSION,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function getBrowserInfo(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:r}of e){const n=r.exec(navigator.userAgent);if(n){const o=n[1]||0,i=n[2]||0,a=n[3]||0;return{browser:t,version:`${o}.${i}.${a}`}}}return null}const normalizeArch=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",normalizePlatform=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let _platformHeaders;const getPlatformHeaders=()=>_platformHeaders??(_platformHeaders=getPlatformProperties()),safeJSON=e=>{try{return JSON.parse(e)}catch{return}},startsWithSchemeRegexp=/^[a-z][a-z0-9+.-]*:/i,isAbsoluteURL=e=>startsWithSchemeRegexp.test(e),sleep=e=>new Promise(t=>setTimeout(t,e)),validatePositiveInteger=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new OpenAIError(`${e} must be an integer`);if(t<0)throw new OpenAIError(`${e} must be a positive integer`);return t},castToError=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null)try{return new Error(JSON.stringify(e))}catch{}return new Error(e)},readEnv=e=>{var t,r,n,o;if(typeof process<"u")return((t=define_process_env_default==null?void 0:define_process_env_default[e])==null?void 0:t.trim())??void 0;if(typeof Deno<"u")return(o=(n=(r=Deno.env)==null?void 0:r.get)==null?void 0:n.call(r,e))==null?void 0:o.trim()};function isEmptyObj(e){if(!e)return!0;for(const t in e)return!1;return!0}function hasOwn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function applyHeadersMut(e,t){for(const r in t){if(!hasOwn(t,r))continue;const n=r.toLowerCase();if(!n)continue;const o=t[r];o===null?delete e[n]:o!==void 0&&(e[n]=o)}}const SENSITIVE_HEADERS=new Set(["authorization","api-key"]);function debug(e,...t){if(typeof process<"u"&&(define_process_env_default==null?void 0:define_process_env_default.DEBUG)==="true"){const r=t.map(n=>{if(!n)return n;if(n.headers){const i={...n,headers:{...n.headers}};for(const a in n.headers)SENSITIVE_HEADERS.has(a.toLowerCase())&&(i.headers[a]="REDACTED");return i}let o=null;for(const i in n)SENSITIVE_HEADERS.has(i.toLowerCase())&&(o??(o={...n}),o[i]="REDACTED");return o??n});console.log(`OpenAI:DEBUG:${e}`,...r)}}const uuid4=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)}),isRunningInBrowser=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u",isHeadersProtocol=e=>typeof(e==null?void 0:e.get)=="function",getHeader=(e,t)=>{var n;const r=t.toLowerCase();if(isHeadersProtocol(e)){const o=((n=t[0])==null?void 0:n.toUpperCase())+t.substring(1).replace(/([^\w])(\w)/g,(i,a,s)=>a+s.toUpperCase());for(const i of[t,r,t.toUpperCase(),o]){const a=e.get(i);if(a)return a}}for(const[o,i]of Object.entries(e))if(o.toLowerCase()===r)return Array.isArray(i)?(i.length<=1||console.warn(`Received ${i.length} entries for the ${t} header, using the first entry.`),i[0]):i};function isObj(e){return e!=null&&typeof e=="object"&&!Array.isArray(e)}class Page extends AbstractPage{constructor(t,r,n,o){super(t,r,n,o),this.data=n.data||[],this.object=n.object}getPaginatedItems(){return this.data??[]}nextPageParams(){return null}nextPageInfo(){return null}}class CursorPage extends AbstractPage{constructor(t,r,n,o){super(t,r,n,o),this.data=n.data||[],this.has_more=n.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageParams(){const t=this.nextPageInfo();if(!t)return null;if("params"in t)return t.params;const r=Object.fromEntries(t.url.searchParams);return Object.keys(r).length?r:null}nextPageInfo(){var n;const t=this.getPaginatedItems();if(!t.length)return null;const r=(n=t[t.length-1])==null?void 0:n.id;return r?{params:{after:r}}:null}}class APIResource{constructor(t){this._client=t}}let Messages$1=class extends APIResource{list(t,r={},n){return isRequestOptions(r)?this.list(t,{},r):this._client.getAPIList(`/chat/completions/${t}/messages`,ChatCompletionStoreMessagesPage,{query:r,...n})}},Completions$2=class extends APIResource{constructor(){super(...arguments),this.messages=new Messages$1(this._client)}create(t,r){return this._client.post("/chat/completions",{body:t,...r,stream:t.stream??!1})}retrieve(t,r){return this._client.get(`/chat/completions/${t}`,r)}update(t,r,n){return this._client.post(`/chat/completions/${t}`,{body:r,...n})}list(t={},r){return isRequestOptions(t)?this.list({},t):this._client.getAPIList("/chat/completions",ChatCompletionsPage,{query:t,...r})}del(t,r){return this._client.delete(`/chat/completions/${t}`,r)}};class ChatCompletionsPage extends CursorPage{}class ChatCompletionStoreMessagesPage extends CursorPage{}Completions$2.ChatCompletionsPage=ChatCompletionsPage;Completions$2.Messages=Messages$1;let Chat$1=class extends APIResource{constructor(){super(...arguments),this.completions=new Completions$2(this._client)}};Chat$1.Completions=Completions$2;Chat$1.ChatCompletionsPage=ChatCompletionsPage;class Speech extends APIResource{create(t,r){return this._client.post("/audio/speech",{body:t,...r,headers:{Accept:"application/octet-stream",...r==null?void 0:r.headers},__binaryResponse:!0})}}class Transcriptions extends APIResource{create(t,r){return this._client.post("/audio/transcriptions",multipartFormRequestOptions({body:t,...r,__metadata:{model:t.model}}))}}class Translations extends APIResource{create(t,r){return this._client.post("/audio/translations",multipartFormRequestOptions({body:t,...r,__metadata:{model:t.model}}))}}class Audio extends APIResource{constructor(){super(...arguments),this.transcriptions=new Transcriptions(this._client),this.translations=new Translations(this._client),this.speech=new Speech(this._client)}}Audio.Transcriptions=Transcriptions;Audio.Translations=Translations;Audio.Speech=Speech;class Batches extends APIResource{create(t,r){return this._client.post("/batches",{body:t,...r})}retrieve(t,r){return this._client.get(`/batches/${t}`,r)}list(t={},r){return isRequestOptions(t)?this.list({},t):this._client.getAPIList("/batches",BatchesPage,{query:t,...r})}cancel(t,r){return this._client.post(`/batches/${t}/cancel`,r)}}class BatchesPage extends CursorPage{}Batches.BatchesPage=BatchesPage;class Assistants extends APIResource{create(t,r){return this._client.post("/assistants",{body:t,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(t,r){return this._client.get(`/assistants/${t}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(t,r,n){return this._client.post(`/assistants/${t}`,{body:r,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}list(t={},r){return isRequestOptions(t)?this.list({},t):this._client.getAPIList("/assistants",AssistantsPage,{query:t,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(t,r){return this._client.delete(`/assistants/${t}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}}class AssistantsPage extends CursorPage{}Assistants.AssistantsPage=AssistantsPage;function isRunnableFunctionWithParse(e){return typeof e.parse=="function"}const isAssistantMessage=e=>(e==null?void 0:e.role)==="assistant",isFunctionMessage=e=>(e==null?void 0:e.role)==="function",isToolMessage=e=>(e==null?void 0:e.role)==="tool";var __classPrivateFieldSet$2=function(e,t,r,n,o){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?o.call(e,r):o?o.value=r:t.set(e,r),r},__classPrivateFieldGet$3=function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},_EventStream_instances,_EventStream_connectedPromise,_EventStream_resolveConnectedPromise,_EventStream_rejectConnectedPromise,_EventStream_endPromise,_EventStream_resolveEndPromise,_EventStream_rejectEndPromise,_EventStream_listeners,_EventStream_ended,_EventStream_errored,_EventStream_aborted,_EventStream_catchingPromiseCreated,_EventStream_handleError;class EventStream{constructor(){_EventStream_instances.add(this),this.controller=new AbortController,_EventStream_connectedPromise.set(this,void 0),_EventStream_resolveConnectedPromise.set(this,()=>{}),_EventStream_rejectConnectedPromise.set(this,()=>{}),_EventStream_endPromise.set(this,void 0),_EventStream_resolveEndPromise.set(this,()=>{}),_EventStream_rejectEndPromise.set(this,()=>{}),_EventStream_listeners.set(this,{}),_EventStream_ended.set(this,!1),_EventStream_errored.set(this,!1),_EventStream_aborted.set(this,!1),_EventStream_catchingPromiseCreated.set(this,!1),__classPrivateFieldSet$2(this,_EventStream_connectedPromise,new Promise((t,r)=>{__classPrivateFieldSet$2(this,_EventStream_resolveConnectedPromise,t,"f"),__classPrivateFieldSet$2(this,_EventStream_rejectConnectedPromise,r,"f")}),"f"),__classPrivateFieldSet$2(this,_EventStream_endPromise,new Promise((t,r)=>{__classPrivateFieldSet$2(this,_EventStream_resolveEndPromise,t,"f"),__classPrivateFieldSet$2(this,_EventStream_rejectEndPromise,r,"f")}),"f"),__classPrivateFieldGet$3(this,_EventStream_connectedPromise,"f").catch(()=>{}),__classPrivateFieldGet$3(this,_EventStream_endPromise,"f").catch(()=>{})}_run(t){setTimeout(()=>{t().then(()=>{this._emitFinal(),this._emit("end")},__classPrivateFieldGet$3(this,_EventStream_instances,"m",_EventStream_handleError).bind(this))},0)}_connected(){this.ended||(__classPrivateFieldGet$3(this,_EventStream_resolveConnectedPromise,"f").call(this),this._emit("connect"))}get ended(){return __classPrivateFieldGet$3(this,_EventStream_ended,"f")}get errored(){return __classPrivateFieldGet$3(this,_EventStream_errored,"f")}get aborted(){return __classPrivateFieldGet$3(this,_EventStream_aborted,"f")}abort(){this.controller.abort()}on(t,r){return(__classPrivateFieldGet$3(this,_EventStream_listeners,"f")[t]||(__classPrivateFieldGet$3(this,_EventStream_listeners,"f")[t]=[])).push({listener:r}),this}off(t,r){const n=__classPrivateFieldGet$3(this,_EventStream_listeners,"f")[t];if(!n)return this;const o=n.findIndex(i=>i.listener===r);return o>=0&&n.splice(o,1),this}once(t,r){return(__classPrivateFieldGet$3(this,_EventStream_listeners,"f")[t]||(__classPrivateFieldGet$3(this,_EventStream_listeners,"f")[t]=[])).push({listener:r,once:!0}),this}emitted(t){return new Promise((r,n)=>{__classPrivateFieldSet$2(this,_EventStream_catchingPromiseCreated,!0,"f"),t!=="error"&&this.once("error",n),this.once(t,r)})}async done(){__classPrivateFieldSet$2(this,_EventStream_catchingPromiseCreated,!0,"f"),await __classPrivateFieldGet$3(this,_EventStream_endPromise,"f")}_emit(t,...r){if(__classPrivateFieldGet$3(this,_EventStream_ended,"f"))return;t==="end"&&(__classPrivateFieldSet$2(this,_EventStream_ended,!0,"f"),__classPrivateFieldGet$3(this,_EventStream_resolveEndPromise,"f").call(this));const n=__classPrivateFieldGet$3(this,_EventStream_listeners,"f")[t];if(n&&(__classPrivateFieldGet$3(this,_EventStream_listeners,"f")[t]=n.filter(o=>!o.once),n.forEach(({listener:o})=>o(...r))),t==="abort"){const o=r[0];!__classPrivateFieldGet$3(this,_EventStream_catchingPromiseCreated,"f")&&!(n!=null&&n.length)&&Promise.reject(o),__classPrivateFieldGet$3(this,_EventStream_rejectConnectedPromise,"f").call(this,o),__classPrivateFieldGet$3(this,_EventStream_rejectEndPromise,"f").call(this,o),this._emit("end");return}if(t==="error"){const o=r[0];!__classPrivateFieldGet$3(this,_EventStream_catchingPromiseCreated,"f")&&!(n!=null&&n.length)&&Promise.reject(o),__classPrivateFieldGet$3(this,_EventStream_rejectConnectedPromise,"f").call(this,o),__classPrivateFieldGet$3(this,_EventStream_rejectEndPromise,"f").call(this,o),this._emit("end")}}_emitFinal(){}}_EventStream_connectedPromise=new WeakMap,_EventStream_resolveConnectedPromise=new WeakMap,_EventStream_rejectConnectedPromise=new WeakMap,_EventStream_endPromise=new WeakMap,_EventStream_resolveEndPromise=new WeakMap,_EventStream_rejectEndPromise=new WeakMap,_EventStream_listeners=new WeakMap,_EventStream_ended=new WeakMap,_EventStream_errored=new WeakMap,_EventStream_aborted=new WeakMap,_EventStream_catchingPromiseCreated=new WeakMap,_EventStream_instances=new WeakSet,_EventStream_handleError=function e(t){if(__classPrivateFieldSet$2(this,_EventStream_errored,!0,"f"),t instanceof Error&&t.name==="AbortError"&&(t=new APIUserAbortError),t instanceof APIUserAbortError)return __classPrivateFieldSet$2(this,_EventStream_aborted,!0,"f"),this._emit("abort",t);if(t instanceof OpenAIError)return this._emit("error",t);if(t instanceof Error){const r=new OpenAIError(t.message);return r.cause=t,this._emit("error",r)}return this._emit("error",new OpenAIError(String(t)))};function isAutoParsableResponseFormat(e){return(e==null?void 0:e.$brand)==="auto-parseable-response-format"}function isAutoParsableTool(e){return(e==null?void 0:e.$brand)==="auto-parseable-tool"}function maybeParseChatCompletion(e,t){return!t||!hasAutoParseableInput(t)?{...e,choices:e.choices.map(r=>({...r,message:{...r.message,parsed:null,tool_calls:r.message.tool_calls??[]}}))}:parseChatCompletion(e,t)}function parseChatCompletion(e,t){const r=e.choices.map(n=>{var o;if(n.finish_reason==="length")throw new LengthFinishReasonError;if(n.finish_reason==="content_filter")throw new ContentFilterFinishReasonError;return{...n,message:{...n.message,tool_calls:((o=n.message.tool_calls)==null?void 0:o.map(i=>parseToolCall(t,i)))??[],parsed:n.message.content&&!n.message.refusal?parseResponseFormat(t,n.message.content):null}}});return{...e,choices:r}}function parseResponseFormat(e,t){var r,n;return((r=e.response_format)==null?void 0:r.type)!=="json_schema"?null:((n=e.response_format)==null?void 0:n.type)==="json_schema"?"$parseRaw"in e.response_format?e.response_format.$parseRaw(t):JSON.parse(t):null}function parseToolCall(e,t){var n;const r=(n=e.tools)==null?void 0:n.find(o=>{var i;return((i=o.function)==null?void 0:i.name)===t.function.name});return{...t,function:{...t.function,parsed_arguments:isAutoParsableTool(r)?r.$parseRaw(t.function.arguments):r!=null&&r.function.strict?JSON.parse(t.function.arguments):null}}}function shouldParseToolCall(e,t){var n;if(!e)return!1;const r=(n=e.tools)==null?void 0:n.find(o=>{var i;return((i=o.function)==null?void 0:i.name)===t.function.name});return isAutoParsableTool(r)||(r==null?void 0:r.function.strict)||!1}function hasAutoParseableInput(e){var t;return isAutoParsableResponseFormat(e.response_format)?!0:((t=e.tools)==null?void 0:t.some(r=>isAutoParsableTool(r)||r.type==="function"&&r.function.strict===!0))??!1}function validateInputTools(e){for(const t of e??[]){if(t.type!=="function")throw new OpenAIError(`Currently only \`function\` tool types support auto-parsing; Received \`${t.type}\``);if(t.function.strict!==!0)throw new OpenAIError(`The \`${t.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}var __classPrivateFieldGet$2=function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},_AbstractChatCompletionRunner_instances,_AbstractChatCompletionRunner_getFinalContent,_AbstractChatCompletionRunner_getFinalMessage,_AbstractChatCompletionRunner_getFinalFunctionCall,_AbstractChatCompletionRunner_getFinalFunctionCallResult,_AbstractChatCompletionRunner_calculateTotalUsage,_AbstractChatCompletionRunner_validateParams,_AbstractChatCompletionRunner_stringifyFunctionCallResult;const DEFAULT_MAX_CHAT_COMPLETIONS=10;class AbstractChatCompletionRunner extends EventStream{constructor(){super(...arguments),_AbstractChatCompletionRunner_instances.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(t){var n;this._chatCompletions.push(t),this._emit("chatCompletion",t);const r=(n=t.choices[0])==null?void 0:n.message;return r&&this._addMessage(r),t}_addMessage(t,r=!0){if("content"in t||(t.content=null),this.messages.push(t),r){if(this._emit("message",t),(isFunctionMessage(t)||isToolMessage(t))&&t.content)this._emit("functionCallResult",t.content);else if(isAssistantMessage(t)&&t.function_call)this._emit("functionCall",t.function_call);else if(isAssistantMessage(t)&&t.tool_calls)for(const n of t.tool_calls)n.type==="function"&&this._emit("functionCall",n.function)}}async finalChatCompletion(){await this.done();const t=this._chatCompletions[this._chatCompletions.length-1];if(!t)throw new OpenAIError("stream ended without producing a ChatCompletion");return t}async finalContent(){return await this.done(),__classPrivateFieldGet$2(this,_AbstractChatCompletionRunner_instances,"m",_AbstractChatCompletionRunner_getFinalContent).call(this)}async finalMessage(){return await this.done(),__classPrivateFieldGet$2(this,_AbstractChatCompletionRunner_instances,"m",_AbstractChatCompletionRunner_getFinalMessage).call(this)}async finalFunctionCall(){return await this.done(),__classPrivateFieldGet$2(this,_AbstractChatCompletionRunner_instances,"m",_AbstractChatCompletionRunner_getFinalFunctionCall).call(this)}async finalFunctionCallResult(){return await this.done(),__classPrivateFieldGet$2(this,_AbstractChatCompletionRunner_instances,"m",_AbstractChatCompletionRunner_getFinalFunctionCallResult).call(this)}async totalUsage(){return await this.done(),__classPrivateFieldGet$2(this,_AbstractChatCompletionRunner_instances,"m",_AbstractChatCompletionRunner_calculateTotalUsage).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const t=this._chatCompletions[this._chatCompletions.length-1];t&&this._emit("finalChatCompletion",t);const r=__classPrivateFieldGet$2(this,_AbstractChatCompletionRunner_instances,"m",_AbstractChatCompletionRunner_getFinalMessage).call(this);r&&this._emit("finalMessage",r);const n=__classPrivateFieldGet$2(this,_AbstractChatCompletionRunner_instances,"m",_AbstractChatCompletionRunner_getFinalContent).call(this);n&&this._emit("finalContent",n);const o=__classPrivateFieldGet$2(this,_AbstractChatCompletionRunner_instances,"m",_AbstractChatCompletionRunner_getFinalFunctionCall).call(this);o&&this._emit("finalFunctionCall",o);const i=__classPrivateFieldGet$2(this,_AbstractChatCompletionRunner_instances,"m",_AbstractChatCompletionRunner_getFinalFunctionCallResult).call(this);i!=null&&this._emit("finalFunctionCallResult",i),this._chatCompletions.some(a=>a.usage)&&this._emit("totalUsage",__classPrivateFieldGet$2(this,_AbstractChatCompletionRunner_instances,"m",_AbstractChatCompletionRunner_calculateTotalUsage).call(this))}async _createChatCompletion(t,r,n){const o=n==null?void 0:n.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort())),__classPrivateFieldGet$2(this,_AbstractChatCompletionRunner_instances,"m",_AbstractChatCompletionRunner_validateParams).call(this,r);const i=await t.chat.completions.create({...r,stream:!1},{...n,signal:this.controller.signal});return this._connected(),this._addChatCompletion(parseChatCompletion(i,r))}async _runChatCompletion(t,r,n){for(const o of r.messages)this._addMessage(o,!1);return await this._createChatCompletion(t,r,n)}async _runFunctions(t,r,n){var g;const o="function",{function_call:i="auto",stream:a,...s}=r,u=typeof i!="string"&&(i==null?void 0:i.name),{maxChatCompletions:c=DEFAULT_MAX_CHAT_COMPLETIONS}=n||{},l={};for(const f of r.functions)l[f.name||f.function.name]=f;const d=r.functions.map(f=>({name:f.name||f.function.name,parameters:f.parameters,description:f.description}));for(const f of r.messages)this._addMessage(f,!1);for(let f=0;f<c;++f){const m=(g=(await this._createChatCompletion(t,{...s,function_call:i,functions:d,messages:[...this.messages]},n)).choices[0])==null?void 0:g.message;if(!m)throw new OpenAIError("missing message in ChatCompletion response");if(!m.function_call)return;const{name:x,arguments:y}=m.function_call,C=l[x];if(C){if(u&&u!==x){const B=`Invalid function_call: ${JSON.stringify(x)}. ${JSON.stringify(u)} requested. Please try again`;this._addMessage({role:o,name:x,content:B});continue}}else{const B=`Invalid function_call: ${JSON.stringify(x)}. Available options are: ${d.map(F=>JSON.stringify(F.name)).join(", ")}. Please try again`;this._addMessage({role:o,name:x,content:B});continue}let $;try{$=isRunnableFunctionWithParse(C)?await C.parse(y):y}catch(B){this._addMessage({role:o,name:x,content:B instanceof Error?B.message:String(B)});continue}const E=await C.function($,this),R=__classPrivateFieldGet$2(this,_AbstractChatCompletionRunner_instances,"m",_AbstractChatCompletionRunner_stringifyFunctionCallResult).call(this,E);if(this._addMessage({role:o,name:x,content:R}),u)return}}async _runTools(t,r,n){var f,p,m;const o="tool",{tool_choice:i="auto",stream:a,...s}=r,u=typeof i!="string"&&((f=i==null?void 0:i.function)==null?void 0:f.name),{maxChatCompletions:c=DEFAULT_MAX_CHAT_COMPLETIONS}=n||{},l=r.tools.map(x=>{if(isAutoParsableTool(x)){if(!x.$callback)throw new OpenAIError("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:x.$callback,name:x.function.name,description:x.function.description||"",parameters:x.function.parameters,parse:x.$parseRaw,strict:!0}}}return x}),d={};for(const x of l)x.type==="function"&&(d[x.function.name||x.function.function.name]=x.function);const g="tools"in r?l.map(x=>x.type==="function"?{type:"function",function:{name:x.function.name||x.function.function.name,parameters:x.function.parameters,description:x.function.description,strict:x.function.strict}}:x):void 0;for(const x of r.messages)this._addMessage(x,!1);for(let x=0;x<c;++x){const C=(p=(await this._createChatCompletion(t,{...s,tool_choice:i,tools:g,messages:[...this.messages]},n)).choices[0])==null?void 0:p.message;if(!C)throw new OpenAIError("missing message in ChatCompletion response");if(!((m=C.tool_calls)!=null&&m.length))return;for(const $ of C.tool_calls){if($.type!=="function")continue;const E=$.id,{name:R,arguments:B}=$.function,F=d[R];if(F){if(u&&u!==R){const D=`Invalid tool_call: ${JSON.stringify(R)}. ${JSON.stringify(u)} requested. Please try again`;this._addMessage({role:o,tool_call_id:E,content:D});continue}}else{const D=`Invalid tool_call: ${JSON.stringify(R)}. Available options are: ${Object.keys(d).map(U=>JSON.stringify(U)).join(", ")}. Please try again`;this._addMessage({role:o,tool_call_id:E,content:D});continue}let N;try{N=isRunnableFunctionWithParse(F)?await F.parse(B):B}catch(D){const U=D instanceof Error?D.message:String(D);this._addMessage({role:o,tool_call_id:E,content:U});continue}const I=await F.function(N,this),T=__classPrivateFieldGet$2(this,_AbstractChatCompletionRunner_instances,"m",_AbstractChatCompletionRunner_stringifyFunctionCallResult).call(this,I);if(this._addMessage({role:o,tool_call_id:E,content:T}),u)return}}}}_AbstractChatCompletionRunner_instances=new WeakSet,_AbstractChatCompletionRunner_getFinalContent=function e(){return __classPrivateFieldGet$2(this,_AbstractChatCompletionRunner_instances,"m",_AbstractChatCompletionRunner_getFinalMessage).call(this).content??null},_AbstractChatCompletionRunner_getFinalMessage=function e(){let t=this.messages.length;for(;t-- >0;){const r=this.messages[t];if(isAssistantMessage(r)){const{function_call:n,...o}=r,i={...o,content:r.content??null,refusal:r.refusal??null};return n&&(i.function_call=n),i}}throw new OpenAIError("stream ended without producing a ChatCompletionMessage with role=assistant")},_AbstractChatCompletionRunner_getFinalFunctionCall=function e(){var t,r;for(let n=this.messages.length-1;n>=0;n--){const o=this.messages[n];if(isAssistantMessage(o)&&(o!=null&&o.function_call))return o.function_call;if(isAssistantMessage(o)&&((t=o==null?void 0:o.tool_calls)!=null&&t.length))return(r=o.tool_calls.at(-1))==null?void 0:r.function}},_AbstractChatCompletionRunner_getFinalFunctionCallResult=function e(){for(let t=this.messages.length-1;t>=0;t--){const r=this.messages[t];if(isFunctionMessage(r)&&r.content!=null||isToolMessage(r)&&r.content!=null&&typeof r.content=="string"&&this.messages.some(n=>{var o;return n.role==="assistant"&&((o=n.tool_calls)==null?void 0:o.some(i=>i.type==="function"&&i.id===r.tool_call_id))}))return r.content}},_AbstractChatCompletionRunner_calculateTotalUsage=function e(){const t={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:r}of this._chatCompletions)r&&(t.completion_tokens+=r.completion_tokens,t.prompt_tokens+=r.prompt_tokens,t.total_tokens+=r.total_tokens);return t},_AbstractChatCompletionRunner_validateParams=function e(t){if(t.n!=null&&t.n>1)throw new OpenAIError("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},_AbstractChatCompletionRunner_stringifyFunctionCallResult=function e(t){return typeof t=="string"?t:t===void 0?"undefined":JSON.stringify(t)};class ChatCompletionRunner extends AbstractChatCompletionRunner{static runFunctions(t,r,n){const o=new ChatCompletionRunner,i={...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"runFunctions"}};return o._run(()=>o._runFunctions(t,r,i)),o}static runTools(t,r,n){const o=new ChatCompletionRunner,i={...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"runTools"}};return o._run(()=>o._runTools(t,r,i)),o}_addMessage(t,r=!0){super._addMessage(t,r),isAssistantMessage(t)&&t.content&&this._emit("content",t.content)}}const STR=1,NUM=2,ARR=4,OBJ=8,NULL=16,BOOL=32,NAN=64,INFINITY=128,MINUS_INFINITY=256,INF=INFINITY|MINUS_INFINITY,SPECIAL=NULL|BOOL|INF|NAN,ATOM=STR|NUM|SPECIAL,COLLECTION=ARR|OBJ,ALL=ATOM|COLLECTION,Allow={STR,NUM,ARR,OBJ,NULL,BOOL,NAN,INFINITY,MINUS_INFINITY,INF,SPECIAL,ATOM,COLLECTION,ALL};class PartialJSON extends Error{}class MalformedJSON extends Error{}function parseJSON(e,t=Allow.ALL){if(typeof e!="string")throw new TypeError(`expecting str, got ${typeof e}`);if(!e.trim())throw new Error(`${e} is empty`);return _parseJSON(e.trim(),t)}const _parseJSON=(e,t)=>{const r=e.length;let n=0;const o=g=>{throw new PartialJSON(`${g} at position ${n}`)},i=g=>{throw new MalformedJSON(`${g} at position ${n}`)},a=()=>(d(),n>=r&&o("Unexpected end of input"),e[n]==='"'?s():e[n]==="{"?u():e[n]==="["?c():e.substring(n,n+4)==="null"||Allow.NULL&t&&r-n<4&&"null".startsWith(e.substring(n))?(n+=4,null):e.substring(n,n+4)==="true"||Allow.BOOL&t&&r-n<4&&"true".startsWith(e.substring(n))?(n+=4,!0):e.substring(n,n+5)==="false"||Allow.BOOL&t&&r-n<5&&"false".startsWith(e.substring(n))?(n+=5,!1):e.substring(n,n+8)==="Infinity"||Allow.INFINITY&t&&r-n<8&&"Infinity".startsWith(e.substring(n))?(n+=8,1/0):e.substring(n,n+9)==="-Infinity"||Allow.MINUS_INFINITY&t&&1<r-n&&r-n<9&&"-Infinity".startsWith(e.substring(n))?(n+=9,-1/0):e.substring(n,n+3)==="NaN"||Allow.NAN&t&&r-n<3&&"NaN".startsWith(e.substring(n))?(n+=3,NaN):l()),s=()=>{const g=n;let f=!1;for(n++;n<r&&(e[n]!=='"'||f&&e[n-1]==="\\");)f=e[n]==="\\"?!f:!1,n++;if(e.charAt(n)=='"')try{return JSON.parse(e.substring(g,++n-Number(f)))}catch(p){i(String(p))}else if(Allow.STR&t)try{return JSON.parse(e.substring(g,n-Number(f))+'"')}catch{return JSON.parse(e.substring(g,e.lastIndexOf("\\"))+'"')}o("Unterminated string literal")},u=()=>{n++,d();const g={};try{for(;e[n]!=="}";){if(d(),n>=r&&Allow.OBJ&t)return g;const f=s();d(),n++;try{const p=a();Object.defineProperty(g,f,{value:p,writable:!0,enumerable:!0,configurable:!0})}catch(p){if(Allow.OBJ&t)return g;throw p}d(),e[n]===","&&n++}}catch{if(Allow.OBJ&t)return g;o("Expected '}' at end of object")}return n++,g},c=()=>{n++;const g=[];try{for(;e[n]!=="]";)g.push(a()),d(),e[n]===","&&n++}catch{if(Allow.ARR&t)return g;o("Expected ']' at end of array")}return n++,g},l=()=>{if(n===0){e==="-"&&Allow.NUM&t&&o("Not sure what '-' is");try{return JSON.parse(e)}catch(f){if(Allow.NUM&t)try{return e[e.length-1]==="."?JSON.parse(e.substring(0,e.lastIndexOf("."))):JSON.parse(e.substring(0,e.lastIndexOf("e")))}catch{}i(String(f))}}const g=n;for(e[n]==="-"&&n++;e[n]&&!",]}".includes(e[n]);)n++;n==r&&!(Allow.NUM&t)&&o("Unterminated number literal");try{return JSON.parse(e.substring(g,n))}catch{e.substring(g,n)==="-"&&Allow.NUM&t&&o("Not sure what '-' is");try{return JSON.parse(e.substring(g,e.lastIndexOf("e")))}catch(p){i(String(p))}}},d=()=>{for(;n<r&&` 
\r	`.includes(e[n]);)n++};return a()},partialParse=e=>parseJSON(e,Allow.ALL^Allow.NUM);var __classPrivateFieldSet$1=function(e,t,r,n,o){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?o.call(e,r):o?o.value=r:t.set(e,r),r},__classPrivateFieldGet$1=function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},_ChatCompletionStream_instances,_ChatCompletionStream_params,_ChatCompletionStream_choiceEventStates,_ChatCompletionStream_currentChatCompletionSnapshot,_ChatCompletionStream_beginRequest,_ChatCompletionStream_getChoiceEventState,_ChatCompletionStream_addChunk,_ChatCompletionStream_emitToolCallDoneEvent,_ChatCompletionStream_emitContentDoneEvents,_ChatCompletionStream_endRequest,_ChatCompletionStream_getAutoParseableResponseFormat,_ChatCompletionStream_accumulateChatCompletion;class ChatCompletionStream extends AbstractChatCompletionRunner{constructor(t){super(),_ChatCompletionStream_instances.add(this),_ChatCompletionStream_params.set(this,void 0),_ChatCompletionStream_choiceEventStates.set(this,void 0),_ChatCompletionStream_currentChatCompletionSnapshot.set(this,void 0),__classPrivateFieldSet$1(this,_ChatCompletionStream_params,t,"f"),__classPrivateFieldSet$1(this,_ChatCompletionStream_choiceEventStates,[],"f")}get currentChatCompletionSnapshot(){return __classPrivateFieldGet$1(this,_ChatCompletionStream_currentChatCompletionSnapshot,"f")}static fromReadableStream(t){const r=new ChatCompletionStream(null);return r._run(()=>r._fromReadableStream(t)),r}static createChatCompletion(t,r,n){const o=new ChatCompletionStream(r);return o._run(()=>o._runChatCompletion(t,{...r,stream:!0},{...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"stream"}})),o}async _createChatCompletion(t,r,n){var a;super._createChatCompletion;const o=n==null?void 0:n.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort())),__classPrivateFieldGet$1(this,_ChatCompletionStream_instances,"m",_ChatCompletionStream_beginRequest).call(this);const i=await t.chat.completions.create({...r,stream:!0},{...n,signal:this.controller.signal});this._connected();for await(const s of i)__classPrivateFieldGet$1(this,_ChatCompletionStream_instances,"m",_ChatCompletionStream_addChunk).call(this,s);if((a=i.controller.signal)!=null&&a.aborted)throw new APIUserAbortError;return this._addChatCompletion(__classPrivateFieldGet$1(this,_ChatCompletionStream_instances,"m",_ChatCompletionStream_endRequest).call(this))}async _fromReadableStream(t,r){var a;const n=r==null?void 0:r.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",()=>this.controller.abort())),__classPrivateFieldGet$1(this,_ChatCompletionStream_instances,"m",_ChatCompletionStream_beginRequest).call(this),this._connected();const o=Stream.fromReadableStream(t,this.controller);let i;for await(const s of o)i&&i!==s.id&&this._addChatCompletion(__classPrivateFieldGet$1(this,_ChatCompletionStream_instances,"m",_ChatCompletionStream_endRequest).call(this)),__classPrivateFieldGet$1(this,_ChatCompletionStream_instances,"m",_ChatCompletionStream_addChunk).call(this,s),i=s.id;if((a=o.controller.signal)!=null&&a.aborted)throw new APIUserAbortError;return this._addChatCompletion(__classPrivateFieldGet$1(this,_ChatCompletionStream_instances,"m",_ChatCompletionStream_endRequest).call(this))}[(_ChatCompletionStream_params=new WeakMap,_ChatCompletionStream_choiceEventStates=new WeakMap,_ChatCompletionStream_currentChatCompletionSnapshot=new WeakMap,_ChatCompletionStream_instances=new WeakSet,_ChatCompletionStream_beginRequest=function(){this.ended||__classPrivateFieldSet$1(this,_ChatCompletionStream_currentChatCompletionSnapshot,void 0,"f")},_ChatCompletionStream_getChoiceEventState=function(r){let n=__classPrivateFieldGet$1(this,_ChatCompletionStream_choiceEventStates,"f")[r.index];return n||(n={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},__classPrivateFieldGet$1(this,_ChatCompletionStream_choiceEventStates,"f")[r.index]=n,n)},_ChatCompletionStream_addChunk=function(r){var o,i,a,s,u,c,l,d,g,f,p,m,x,y,C;if(this.ended)return;const n=__classPrivateFieldGet$1(this,_ChatCompletionStream_instances,"m",_ChatCompletionStream_accumulateChatCompletion).call(this,r);this._emit("chunk",r,n);for(const $ of r.choices){const E=n.choices[$.index];$.delta.content!=null&&((o=E.message)==null?void 0:o.role)==="assistant"&&((i=E.message)!=null&&i.content)&&(this._emit("content",$.delta.content,E.message.content),this._emit("content.delta",{delta:$.delta.content,snapshot:E.message.content,parsed:E.message.parsed})),$.delta.refusal!=null&&((a=E.message)==null?void 0:a.role)==="assistant"&&((s=E.message)!=null&&s.refusal)&&this._emit("refusal.delta",{delta:$.delta.refusal,snapshot:E.message.refusal}),((u=$.logprobs)==null?void 0:u.content)!=null&&((c=E.message)==null?void 0:c.role)==="assistant"&&this._emit("logprobs.content.delta",{content:(l=$.logprobs)==null?void 0:l.content,snapshot:((d=E.logprobs)==null?void 0:d.content)??[]}),((g=$.logprobs)==null?void 0:g.refusal)!=null&&((f=E.message)==null?void 0:f.role)==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:(p=$.logprobs)==null?void 0:p.refusal,snapshot:((m=E.logprobs)==null?void 0:m.refusal)??[]});const R=__classPrivateFieldGet$1(this,_ChatCompletionStream_instances,"m",_ChatCompletionStream_getChoiceEventState).call(this,E);E.finish_reason&&(__classPrivateFieldGet$1(this,_ChatCompletionStream_instances,"m",_ChatCompletionStream_emitContentDoneEvents).call(this,E),R.current_tool_call_index!=null&&__classPrivateFieldGet$1(this,_ChatCompletionStream_instances,"m",_ChatCompletionStream_emitToolCallDoneEvent).call(this,E,R.current_tool_call_index));for(const B of $.delta.tool_calls??[])R.current_tool_call_index!==B.index&&(__classPrivateFieldGet$1(this,_ChatCompletionStream_instances,"m",_ChatCompletionStream_emitContentDoneEvents).call(this,E),R.current_tool_call_index!=null&&__classPrivateFieldGet$1(this,_ChatCompletionStream_instances,"m",_ChatCompletionStream_emitToolCallDoneEvent).call(this,E,R.current_tool_call_index)),R.current_tool_call_index=B.index;for(const B of $.delta.tool_calls??[]){const F=(x=E.message.tool_calls)==null?void 0:x[B.index];F!=null&&F.type&&((F==null?void 0:F.type)==="function"?this._emit("tool_calls.function.arguments.delta",{name:(y=F.function)==null?void 0:y.name,index:B.index,arguments:F.function.arguments,parsed_arguments:F.function.parsed_arguments,arguments_delta:((C=B.function)==null?void 0:C.arguments)??""}):(F==null||F.type,void 0))}}},_ChatCompletionStream_emitToolCallDoneEvent=function(r,n){var a,s,u;if(__classPrivateFieldGet$1(this,_ChatCompletionStream_instances,"m",_ChatCompletionStream_getChoiceEventState).call(this,r).done_tool_calls.has(n))return;const i=(a=r.message.tool_calls)==null?void 0:a[n];if(!i)throw new Error("no tool call snapshot");if(!i.type)throw new Error("tool call snapshot missing `type`");if(i.type==="function"){const c=(u=(s=__classPrivateFieldGet$1(this,_ChatCompletionStream_params,"f"))==null?void 0:s.tools)==null?void 0:u.find(l=>l.type==="function"&&l.function.name===i.function.name);this._emit("tool_calls.function.arguments.done",{name:i.function.name,index:n,arguments:i.function.arguments,parsed_arguments:isAutoParsableTool(c)?c.$parseRaw(i.function.arguments):c!=null&&c.function.strict?JSON.parse(i.function.arguments):null})}else i.type},_ChatCompletionStream_emitContentDoneEvents=function(r){var o,i;const n=__classPrivateFieldGet$1(this,_ChatCompletionStream_instances,"m",_ChatCompletionStream_getChoiceEventState).call(this,r);if(r.message.content&&!n.content_done){n.content_done=!0;const a=__classPrivateFieldGet$1(this,_ChatCompletionStream_instances,"m",_ChatCompletionStream_getAutoParseableResponseFormat).call(this);this._emit("content.done",{content:r.message.content,parsed:a?a.$parseRaw(r.message.content):null})}r.message.refusal&&!n.refusal_done&&(n.refusal_done=!0,this._emit("refusal.done",{refusal:r.message.refusal})),(o=r.logprobs)!=null&&o.content&&!n.logprobs_content_done&&(n.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:r.logprobs.content})),(i=r.logprobs)!=null&&i.refusal&&!n.logprobs_refusal_done&&(n.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:r.logprobs.refusal}))},_ChatCompletionStream_endRequest=function(){if(this.ended)throw new OpenAIError("stream has ended, this shouldn't happen");const r=__classPrivateFieldGet$1(this,_ChatCompletionStream_currentChatCompletionSnapshot,"f");if(!r)throw new OpenAIError("request ended without sending any chunks");return __classPrivateFieldSet$1(this,_ChatCompletionStream_currentChatCompletionSnapshot,void 0,"f"),__classPrivateFieldSet$1(this,_ChatCompletionStream_choiceEventStates,[],"f"),finalizeChatCompletion(r,__classPrivateFieldGet$1(this,_ChatCompletionStream_params,"f"))},_ChatCompletionStream_getAutoParseableResponseFormat=function(){var n;const r=(n=__classPrivateFieldGet$1(this,_ChatCompletionStream_params,"f"))==null?void 0:n.response_format;return isAutoParsableResponseFormat(r)?r:null},_ChatCompletionStream_accumulateChatCompletion=function(r){var n,o,i,a;let s=__classPrivateFieldGet$1(this,_ChatCompletionStream_currentChatCompletionSnapshot,"f");const{choices:u,...c}=r;s?Object.assign(s,c):s=__classPrivateFieldSet$1(this,_ChatCompletionStream_currentChatCompletionSnapshot,{...c,choices:[]},"f");for(const{delta:l,finish_reason:d,index:g,logprobs:f=null,...p}of r.choices){let m=s.choices[g];if(m||(m=s.choices[g]={finish_reason:d,index:g,message:{},logprobs:f,...p}),f)if(!m.logprobs)m.logprobs=Object.assign({},f);else{const{content:B,refusal:F,...N}=f;Object.assign(m.logprobs,N),B&&((n=m.logprobs).content??(n.content=[]),m.logprobs.content.push(...B)),F&&((o=m.logprobs).refusal??(o.refusal=[]),m.logprobs.refusal.push(...F))}if(d&&(m.finish_reason=d,__classPrivateFieldGet$1(this,_ChatCompletionStream_params,"f")&&hasAutoParseableInput(__classPrivateFieldGet$1(this,_ChatCompletionStream_params,"f")))){if(d==="length")throw new LengthFinishReasonError;if(d==="content_filter")throw new ContentFilterFinishReasonError}if(Object.assign(m,p),!l)continue;const{content:x,refusal:y,function_call:C,role:$,tool_calls:E,...R}=l;if(Object.assign(m.message,R),y&&(m.message.refusal=(m.message.refusal||"")+y),$&&(m.message.role=$),C&&(m.message.function_call?(C.name&&(m.message.function_call.name=C.name),C.arguments&&((i=m.message.function_call).arguments??(i.arguments=""),m.message.function_call.arguments+=C.arguments)):m.message.function_call=C),x&&(m.message.content=(m.message.content||"")+x,!m.message.refusal&&__classPrivateFieldGet$1(this,_ChatCompletionStream_instances,"m",_ChatCompletionStream_getAutoParseableResponseFormat).call(this)&&(m.message.parsed=partialParse(m.message.content))),E){m.message.tool_calls||(m.message.tool_calls=[]);for(const{index:B,id:F,type:N,function:I,...T}of E){const D=(a=m.message.tool_calls)[B]??(a[B]={});Object.assign(D,T),F&&(D.id=F),N&&(D.type=N),I&&(D.function??(D.function={name:I.name??"",arguments:""})),I!=null&&I.name&&(D.function.name=I.name),I!=null&&I.arguments&&(D.function.arguments+=I.arguments,shouldParseToolCall(__classPrivateFieldGet$1(this,_ChatCompletionStream_params,"f"),D)&&(D.function.parsed_arguments=partialParse(D.function.arguments)))}}}return s},Symbol.asyncIterator)](){const t=[],r=[];let n=!1;return this.on("chunk",o=>{const i=r.shift();i?i.resolve(o):t.push(o)}),this.on("end",()=>{n=!0;for(const o of r)o.resolve(void 0);r.length=0}),this.on("abort",o=>{n=!0;for(const i of r)i.reject(o);r.length=0}),this.on("error",o=>{n=!0;for(const i of r)i.reject(o);r.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:n?{value:void 0,done:!0}:new Promise((i,a)=>r.push({resolve:i,reject:a})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new Stream(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function finalizeChatCompletion(e,t){const{id:r,choices:n,created:o,model:i,system_fingerprint:a,...s}=e,u={...s,id:r,choices:n.map(({message:c,finish_reason:l,index:d,logprobs:g,...f})=>{if(!l)throw new OpenAIError(`missing finish_reason for choice ${d}`);const{content:p=null,function_call:m,tool_calls:x,...y}=c,C=c.role;if(!C)throw new OpenAIError(`missing role for choice ${d}`);if(m){const{arguments:$,name:E}=m;if($==null)throw new OpenAIError(`missing function_call.arguments for choice ${d}`);if(!E)throw new OpenAIError(`missing function_call.name for choice ${d}`);return{...f,message:{content:p,function_call:{arguments:$,name:E},role:C,refusal:c.refusal??null},finish_reason:l,index:d,logprobs:g}}return x?{...f,index:d,finish_reason:l,logprobs:g,message:{...y,role:C,content:p,refusal:c.refusal??null,tool_calls:x.map(($,E)=>{const{function:R,type:B,id:F,...N}=$,{arguments:I,name:T,...D}=R||{};if(F==null)throw new OpenAIError(`missing choices[${d}].tool_calls[${E}].id
${str(e)}`);if(B==null)throw new OpenAIError(`missing choices[${d}].tool_calls[${E}].type
${str(e)}`);if(T==null)throw new OpenAIError(`missing choices[${d}].tool_calls[${E}].function.name
${str(e)}`);if(I==null)throw new OpenAIError(`missing choices[${d}].tool_calls[${E}].function.arguments
${str(e)}`);return{...N,id:F,type:B,function:{...D,name:T,arguments:I}}})}}:{...f,message:{...y,content:p,role:C,refusal:c.refusal??null},finish_reason:l,index:d,logprobs:g}}),created:o,model:i,object:"chat.completion",...a?{system_fingerprint:a}:{}};return maybeParseChatCompletion(u,t)}function str(e){return JSON.stringify(e)}function assertNever(e){}class ChatCompletionStreamingRunner extends ChatCompletionStream{static fromReadableStream(t){const r=new ChatCompletionStreamingRunner(null);return r._run(()=>r._fromReadableStream(t)),r}static runFunctions(t,r,n){const o=new ChatCompletionStreamingRunner(null),i={...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"runFunctions"}};return o._run(()=>o._runFunctions(t,r,i)),o}static runTools(t,r,n){const o=new ChatCompletionStreamingRunner(r),i={...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"runTools"}};return o._run(()=>o._runTools(t,r,i)),o}}let Completions$1=class extends APIResource{parse(t,r){return validateInputTools(t.tools),this._client.chat.completions.create(t,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"beta.chat.completions.parse"}})._thenUnwrap(n=>parseChatCompletion(n,t))}runFunctions(t,r){return t.stream?ChatCompletionStreamingRunner.runFunctions(this._client,t,r):ChatCompletionRunner.runFunctions(this._client,t,r)}runTools(t,r){return t.stream?ChatCompletionStreamingRunner.runTools(this._client,t,r):ChatCompletionRunner.runTools(this._client,t,r)}stream(t,r){return ChatCompletionStream.createChatCompletion(this._client,t,r)}};class Chat extends APIResource{constructor(){super(...arguments),this.completions=new Completions$1(this._client)}}(function(e){e.Completions=Completions$1})(Chat||(Chat={}));class Sessions extends APIResource{create(t,r){return this._client.post("/realtime/sessions",{body:t,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}}class Realtime extends APIResource{constructor(){super(...arguments),this.sessions=new Sessions(this._client)}}Realtime.Sessions=Sessions;var __classPrivateFieldGet=function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},__classPrivateFieldSet=function(e,t,r,n,o){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?o.call(e,r):o?o.value=r:t.set(e,r),r},_AssistantStream_instances,_AssistantStream_events,_AssistantStream_runStepSnapshots,_AssistantStream_messageSnapshots,_AssistantStream_messageSnapshot,_AssistantStream_finalRun,_AssistantStream_currentContentIndex,_AssistantStream_currentContent,_AssistantStream_currentToolCallIndex,_AssistantStream_currentToolCall,_AssistantStream_currentEvent,_AssistantStream_currentRunSnapshot,_AssistantStream_currentRunStepSnapshot,_AssistantStream_addEvent,_AssistantStream_endRequest,_AssistantStream_handleMessage,_AssistantStream_handleRunStep,_AssistantStream_handleEvent,_AssistantStream_accumulateRunStep,_AssistantStream_accumulateMessage,_AssistantStream_accumulateContent,_AssistantStream_handleRun;class AssistantStream extends EventStream{constructor(){super(...arguments),_AssistantStream_instances.add(this),_AssistantStream_events.set(this,[]),_AssistantStream_runStepSnapshots.set(this,{}),_AssistantStream_messageSnapshots.set(this,{}),_AssistantStream_messageSnapshot.set(this,void 0),_AssistantStream_finalRun.set(this,void 0),_AssistantStream_currentContentIndex.set(this,void 0),_AssistantStream_currentContent.set(this,void 0),_AssistantStream_currentToolCallIndex.set(this,void 0),_AssistantStream_currentToolCall.set(this,void 0),_AssistantStream_currentEvent.set(this,void 0),_AssistantStream_currentRunSnapshot.set(this,void 0),_AssistantStream_currentRunStepSnapshot.set(this,void 0)}[(_AssistantStream_events=new WeakMap,_AssistantStream_runStepSnapshots=new WeakMap,_AssistantStream_messageSnapshots=new WeakMap,_AssistantStream_messageSnapshot=new WeakMap,_AssistantStream_finalRun=new WeakMap,_AssistantStream_currentContentIndex=new WeakMap,_AssistantStream_currentContent=new WeakMap,_AssistantStream_currentToolCallIndex=new WeakMap,_AssistantStream_currentToolCall=new WeakMap,_AssistantStream_currentEvent=new WeakMap,_AssistantStream_currentRunSnapshot=new WeakMap,_AssistantStream_currentRunStepSnapshot=new WeakMap,_AssistantStream_instances=new WeakSet,Symbol.asyncIterator)](){const t=[],r=[];let n=!1;return this.on("event",o=>{const i=r.shift();i?i.resolve(o):t.push(o)}),this.on("end",()=>{n=!0;for(const o of r)o.resolve(void 0);r.length=0}),this.on("abort",o=>{n=!0;for(const i of r)i.reject(o);r.length=0}),this.on("error",o=>{n=!0;for(const i of r)i.reject(o);r.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:n?{value:void 0,done:!0}:new Promise((i,a)=>r.push({resolve:i,reject:a})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(t){const r=new AssistantStream;return r._run(()=>r._fromReadableStream(t)),r}async _fromReadableStream(t,r){var i;const n=r==null?void 0:r.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",()=>this.controller.abort())),this._connected();const o=Stream.fromReadableStream(t,this.controller);for await(const a of o)__classPrivateFieldGet(this,_AssistantStream_instances,"m",_AssistantStream_addEvent).call(this,a);if((i=o.controller.signal)!=null&&i.aborted)throw new APIUserAbortError;return this._addRun(__classPrivateFieldGet(this,_AssistantStream_instances,"m",_AssistantStream_endRequest).call(this))}toReadableStream(){return new Stream(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(t,r,n,o,i){const a=new AssistantStream;return a._run(()=>a._runToolAssistantStream(t,r,n,o,{...i,headers:{...i==null?void 0:i.headers,"X-Stainless-Helper-Method":"stream"}})),a}async _createToolAssistantStream(t,r,n,o,i){var c;const a=i==null?void 0:i.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort()));const s={...o,stream:!0},u=await t.submitToolOutputs(r,n,s,{...i,signal:this.controller.signal});this._connected();for await(const l of u)__classPrivateFieldGet(this,_AssistantStream_instances,"m",_AssistantStream_addEvent).call(this,l);if((c=u.controller.signal)!=null&&c.aborted)throw new APIUserAbortError;return this._addRun(__classPrivateFieldGet(this,_AssistantStream_instances,"m",_AssistantStream_endRequest).call(this))}static createThreadAssistantStream(t,r,n){const o=new AssistantStream;return o._run(()=>o._threadAssistantStream(t,r,{...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"stream"}})),o}static createAssistantStream(t,r,n,o){const i=new AssistantStream;return i._run(()=>i._runAssistantStream(t,r,n,{...o,headers:{...o==null?void 0:o.headers,"X-Stainless-Helper-Method":"stream"}})),i}currentEvent(){return __classPrivateFieldGet(this,_AssistantStream_currentEvent,"f")}currentRun(){return __classPrivateFieldGet(this,_AssistantStream_currentRunSnapshot,"f")}currentMessageSnapshot(){return __classPrivateFieldGet(this,_AssistantStream_messageSnapshot,"f")}currentRunStepSnapshot(){return __classPrivateFieldGet(this,_AssistantStream_currentRunStepSnapshot,"f")}async finalRunSteps(){return await this.done(),Object.values(__classPrivateFieldGet(this,_AssistantStream_runStepSnapshots,"f"))}async finalMessages(){return await this.done(),Object.values(__classPrivateFieldGet(this,_AssistantStream_messageSnapshots,"f"))}async finalRun(){if(await this.done(),!__classPrivateFieldGet(this,_AssistantStream_finalRun,"f"))throw Error("Final run was not received.");return __classPrivateFieldGet(this,_AssistantStream_finalRun,"f")}async _createThreadAssistantStream(t,r,n){var s;const o=n==null?void 0:n.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort()));const i={...r,stream:!0},a=await t.createAndRun(i,{...n,signal:this.controller.signal});this._connected();for await(const u of a)__classPrivateFieldGet(this,_AssistantStream_instances,"m",_AssistantStream_addEvent).call(this,u);if((s=a.controller.signal)!=null&&s.aborted)throw new APIUserAbortError;return this._addRun(__classPrivateFieldGet(this,_AssistantStream_instances,"m",_AssistantStream_endRequest).call(this))}async _createAssistantStream(t,r,n,o){var u;const i=o==null?void 0:o.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort()));const a={...n,stream:!0},s=await t.create(r,a,{...o,signal:this.controller.signal});this._connected();for await(const c of s)__classPrivateFieldGet(this,_AssistantStream_instances,"m",_AssistantStream_addEvent).call(this,c);if((u=s.controller.signal)!=null&&u.aborted)throw new APIUserAbortError;return this._addRun(__classPrivateFieldGet(this,_AssistantStream_instances,"m",_AssistantStream_endRequest).call(this))}static accumulateDelta(t,r){for(const[n,o]of Object.entries(r)){if(!t.hasOwnProperty(n)){t[n]=o;continue}let i=t[n];if(i==null){t[n]=o;continue}if(n==="index"||n==="type"){t[n]=o;continue}if(typeof i=="string"&&typeof o=="string")i+=o;else if(typeof i=="number"&&typeof o=="number")i+=o;else if(isObj(i)&&isObj(o))i=this.accumulateDelta(i,o);else if(Array.isArray(i)&&Array.isArray(o)){if(i.every(a=>typeof a=="string"||typeof a=="number")){i.push(...o);continue}for(const a of o){if(!isObj(a))throw new Error(`Expected array delta entry to be an object but got: ${a}`);const s=a.index;if(s==null)throw console.error(a),new Error("Expected array delta entry to have an `index` property");if(typeof s!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${s}`);const u=i[s];u==null?i.push(a):i[s]=this.accumulateDelta(u,a)}continue}else throw Error(`Unhandled record type: ${n}, deltaValue: ${o}, accValue: ${i}`);t[n]=i}return t}_addRun(t){return t}async _threadAssistantStream(t,r,n){return await this._createThreadAssistantStream(r,t,n)}async _runAssistantStream(t,r,n,o){return await this._createAssistantStream(r,t,n,o)}async _runToolAssistantStream(t,r,n,o,i){return await this._createToolAssistantStream(n,t,r,o,i)}}_AssistantStream_addEvent=function e(t){if(!this.ended)switch(__classPrivateFieldSet(this,_AssistantStream_currentEvent,t,"f"),__classPrivateFieldGet(this,_AssistantStream_instances,"m",_AssistantStream_handleEvent).call(this,t),t.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":__classPrivateFieldGet(this,_AssistantStream_instances,"m",_AssistantStream_handleRun).call(this,t);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":__classPrivateFieldGet(this,_AssistantStream_instances,"m",_AssistantStream_handleRunStep).call(this,t);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":__classPrivateFieldGet(this,_AssistantStream_instances,"m",_AssistantStream_handleMessage).call(this,t);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},_AssistantStream_endRequest=function e(){if(this.ended)throw new OpenAIError("stream has ended, this shouldn't happen");if(!__classPrivateFieldGet(this,_AssistantStream_finalRun,"f"))throw Error("Final run has not been received");return __classPrivateFieldGet(this,_AssistantStream_finalRun,"f")},_AssistantStream_handleMessage=function e(t){const[r,n]=__classPrivateFieldGet(this,_AssistantStream_instances,"m",_AssistantStream_accumulateMessage).call(this,t,__classPrivateFieldGet(this,_AssistantStream_messageSnapshot,"f"));__classPrivateFieldSet(this,_AssistantStream_messageSnapshot,r,"f"),__classPrivateFieldGet(this,_AssistantStream_messageSnapshots,"f")[r.id]=r;for(const o of n){const i=r.content[o.index];(i==null?void 0:i.type)=="text"&&this._emit("textCreated",i.text)}switch(t.event){case"thread.message.created":this._emit("messageCreated",t.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",t.data.delta,r),t.data.delta.content)for(const o of t.data.delta.content){if(o.type=="text"&&o.text){let i=o.text,a=r.content[o.index];if(a&&a.type=="text")this._emit("textDelta",i,a.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(o.index!=__classPrivateFieldGet(this,_AssistantStream_currentContentIndex,"f")){if(__classPrivateFieldGet(this,_AssistantStream_currentContent,"f"))switch(__classPrivateFieldGet(this,_AssistantStream_currentContent,"f").type){case"text":this._emit("textDone",__classPrivateFieldGet(this,_AssistantStream_currentContent,"f").text,__classPrivateFieldGet(this,_AssistantStream_messageSnapshot,"f"));break;case"image_file":this._emit("imageFileDone",__classPrivateFieldGet(this,_AssistantStream_currentContent,"f").image_file,__classPrivateFieldGet(this,_AssistantStream_messageSnapshot,"f"));break}__classPrivateFieldSet(this,_AssistantStream_currentContentIndex,o.index,"f")}__classPrivateFieldSet(this,_AssistantStream_currentContent,r.content[o.index],"f")}break;case"thread.message.completed":case"thread.message.incomplete":if(__classPrivateFieldGet(this,_AssistantStream_currentContentIndex,"f")!==void 0){const o=t.data.content[__classPrivateFieldGet(this,_AssistantStream_currentContentIndex,"f")];if(o)switch(o.type){case"image_file":this._emit("imageFileDone",o.image_file,__classPrivateFieldGet(this,_AssistantStream_messageSnapshot,"f"));break;case"text":this._emit("textDone",o.text,__classPrivateFieldGet(this,_AssistantStream_messageSnapshot,"f"));break}}__classPrivateFieldGet(this,_AssistantStream_messageSnapshot,"f")&&this._emit("messageDone",t.data),__classPrivateFieldSet(this,_AssistantStream_messageSnapshot,void 0,"f")}},_AssistantStream_handleRunStep=function e(t){const r=__classPrivateFieldGet(this,_AssistantStream_instances,"m",_AssistantStream_accumulateRunStep).call(this,t);switch(__classPrivateFieldSet(this,_AssistantStream_currentRunStepSnapshot,r,"f"),t.event){case"thread.run.step.created":this._emit("runStepCreated",t.data);break;case"thread.run.step.delta":const n=t.data.delta;if(n.step_details&&n.step_details.type=="tool_calls"&&n.step_details.tool_calls&&r.step_details.type=="tool_calls")for(const i of n.step_details.tool_calls)i.index==__classPrivateFieldGet(this,_AssistantStream_currentToolCallIndex,"f")?this._emit("toolCallDelta",i,r.step_details.tool_calls[i.index]):(__classPrivateFieldGet(this,_AssistantStream_currentToolCall,"f")&&this._emit("toolCallDone",__classPrivateFieldGet(this,_AssistantStream_currentToolCall,"f")),__classPrivateFieldSet(this,_AssistantStream_currentToolCallIndex,i.index,"f"),__classPrivateFieldSet(this,_AssistantStream_currentToolCall,r.step_details.tool_calls[i.index],"f"),__classPrivateFieldGet(this,_AssistantStream_currentToolCall,"f")&&this._emit("toolCallCreated",__classPrivateFieldGet(this,_AssistantStream_currentToolCall,"f")));this._emit("runStepDelta",t.data.delta,r);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":__classPrivateFieldSet(this,_AssistantStream_currentRunStepSnapshot,void 0,"f"),t.data.step_details.type=="tool_calls"&&__classPrivateFieldGet(this,_AssistantStream_currentToolCall,"f")&&(this._emit("toolCallDone",__classPrivateFieldGet(this,_AssistantStream_currentToolCall,"f")),__classPrivateFieldSet(this,_AssistantStream_currentToolCall,void 0,"f")),this._emit("runStepDone",t.data,r);break}},_AssistantStream_handleEvent=function e(t){__classPrivateFieldGet(this,_AssistantStream_events,"f").push(t),this._emit("event",t)},_AssistantStream_accumulateRunStep=function e(t){switch(t.event){case"thread.run.step.created":return __classPrivateFieldGet(this,_AssistantStream_runStepSnapshots,"f")[t.data.id]=t.data,t.data;case"thread.run.step.delta":let r=__classPrivateFieldGet(this,_AssistantStream_runStepSnapshots,"f")[t.data.id];if(!r)throw Error("Received a RunStepDelta before creation of a snapshot");let n=t.data;if(n.delta){const o=AssistantStream.accumulateDelta(r,n.delta);__classPrivateFieldGet(this,_AssistantStream_runStepSnapshots,"f")[t.data.id]=o}return __classPrivateFieldGet(this,_AssistantStream_runStepSnapshots,"f")[t.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":__classPrivateFieldGet(this,_AssistantStream_runStepSnapshots,"f")[t.data.id]=t.data;break}if(__classPrivateFieldGet(this,_AssistantStream_runStepSnapshots,"f")[t.data.id])return __classPrivateFieldGet(this,_AssistantStream_runStepSnapshots,"f")[t.data.id];throw new Error("No snapshot available")},_AssistantStream_accumulateMessage=function e(t,r){let n=[];switch(t.event){case"thread.message.created":return[t.data,n];case"thread.message.delta":if(!r)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let o=t.data;if(o.delta.content)for(const i of o.delta.content)if(i.index in r.content){let a=r.content[i.index];r.content[i.index]=__classPrivateFieldGet(this,_AssistantStream_instances,"m",_AssistantStream_accumulateContent).call(this,i,a)}else r.content[i.index]=i,n.push(i);return[r,n];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(r)return[r,n];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},_AssistantStream_accumulateContent=function e(t,r){return AssistantStream.accumulateDelta(r,t)},_AssistantStream_handleRun=function e(t){switch(__classPrivateFieldSet(this,_AssistantStream_currentRunSnapshot,t.data,"f"),t.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":__classPrivateFieldSet(this,_AssistantStream_finalRun,t.data,"f"),__classPrivateFieldGet(this,_AssistantStream_currentToolCall,"f")&&(this._emit("toolCallDone",__classPrivateFieldGet(this,_AssistantStream_currentToolCall,"f")),__classPrivateFieldSet(this,_AssistantStream_currentToolCall,void 0,"f"));break}};class Messages extends APIResource{create(t,r,n){return this._client.post(`/threads/${t}/messages`,{body:r,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(t,r,n){return this._client.get(`/threads/${t}/messages/${r}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(t,r,n,o){return this._client.post(`/threads/${t}/messages/${r}`,{body:n,...o,headers:{"OpenAI-Beta":"assistants=v2",...o==null?void 0:o.headers}})}list(t,r={},n){return isRequestOptions(r)?this.list(t,{},r):this._client.getAPIList(`/threads/${t}/messages`,MessagesPage,{query:r,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(t,r,n){return this._client.delete(`/threads/${t}/messages/${r}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class MessagesPage extends CursorPage{}Messages.MessagesPage=MessagesPage;class Steps extends APIResource{retrieve(t,r,n,o={},i){return isRequestOptions(o)?this.retrieve(t,r,n,{},o):this._client.get(`/threads/${t}/runs/${r}/steps/${n}`,{query:o,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}list(t,r,n={},o){return isRequestOptions(n)?this.list(t,r,{},n):this._client.getAPIList(`/threads/${t}/runs/${r}/steps`,RunStepsPage,{query:n,...o,headers:{"OpenAI-Beta":"assistants=v2",...o==null?void 0:o.headers}})}}class RunStepsPage extends CursorPage{}Steps.RunStepsPage=RunStepsPage;class Runs extends APIResource{constructor(){super(...arguments),this.steps=new Steps(this._client)}create(t,r,n){const{include:o,...i}=r;return this._client.post(`/threads/${t}/runs`,{query:{include:o},body:i,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers},stream:r.stream??!1})}retrieve(t,r,n){return this._client.get(`/threads/${t}/runs/${r}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(t,r,n,o){return this._client.post(`/threads/${t}/runs/${r}`,{body:n,...o,headers:{"OpenAI-Beta":"assistants=v2",...o==null?void 0:o.headers}})}list(t,r={},n){return isRequestOptions(r)?this.list(t,{},r):this._client.getAPIList(`/threads/${t}/runs`,RunsPage,{query:r,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}cancel(t,r,n){return this._client.post(`/threads/${t}/runs/${r}/cancel`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}async createAndPoll(t,r,n){const o=await this.create(t,r,n);return await this.poll(t,o.id,n)}createAndStream(t,r,n){return AssistantStream.createAssistantStream(t,this._client.beta.threads.runs,r,n)}async poll(t,r,n){const o={...n==null?void 0:n.headers,"X-Stainless-Poll-Helper":"true"};for(n!=null&&n.pollIntervalMs&&(o["X-Stainless-Custom-Poll-Interval"]=n.pollIntervalMs.toString());;){const{data:i,response:a}=await this.retrieve(t,r,{...n,headers:{...n==null?void 0:n.headers,...o}}).withResponse();switch(i.status){case"queued":case"in_progress":case"cancelling":let s=5e3;if(n!=null&&n.pollIntervalMs)s=n.pollIntervalMs;else{const u=a.headers.get("openai-poll-after-ms");if(u){const c=parseInt(u);isNaN(c)||(s=c)}}await sleep(s);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return i}}}stream(t,r,n){return AssistantStream.createAssistantStream(t,this._client.beta.threads.runs,r,n)}submitToolOutputs(t,r,n,o){return this._client.post(`/threads/${t}/runs/${r}/submit_tool_outputs`,{body:n,...o,headers:{"OpenAI-Beta":"assistants=v2",...o==null?void 0:o.headers},stream:n.stream??!1})}async submitToolOutputsAndPoll(t,r,n,o){const i=await this.submitToolOutputs(t,r,n,o);return await this.poll(t,i.id,o)}submitToolOutputsStream(t,r,n,o){return AssistantStream.createToolAssistantStream(t,r,this._client.beta.threads.runs,n,o)}}class RunsPage extends CursorPage{}Runs.RunsPage=RunsPage;Runs.Steps=Steps;Runs.RunStepsPage=RunStepsPage;class Threads extends APIResource{constructor(){super(...arguments),this.runs=new Runs(this._client),this.messages=new Messages(this._client)}create(t={},r){return isRequestOptions(t)?this.create({},t):this._client.post("/threads",{body:t,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(t,r){return this._client.get(`/threads/${t}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(t,r,n){return this._client.post(`/threads/${t}`,{body:r,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(t,r){return this._client.delete(`/threads/${t}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}createAndRun(t,r){return this._client.post("/threads/runs",{body:t,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers},stream:t.stream??!1})}async createAndRunPoll(t,r){const n=await this.createAndRun(t,r);return await this.runs.poll(n.thread_id,n.id,r)}createAndRunStream(t,r){return AssistantStream.createThreadAssistantStream(t,this._client.beta.threads,r)}}Threads.Runs=Runs;Threads.RunsPage=RunsPage;Threads.Messages=Messages;Threads.MessagesPage=MessagesPage;const allSettledWithThrow=async e=>{const t=await Promise.allSettled(e),r=t.filter(o=>o.status==="rejected");if(r.length){for(const o of r)console.error(o.reason);throw new Error(`${r.length} promise(s) failed - see the above errors`)}const n=[];for(const o of t)o.status==="fulfilled"&&n.push(o.value);return n};let Files$1=class extends APIResource{create(t,r,n){return this._client.post(`/vector_stores/${t}/files`,{body:r,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(t,r,n){return this._client.get(`/vector_stores/${t}/files/${r}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}list(t,r={},n){return isRequestOptions(r)?this.list(t,{},r):this._client.getAPIList(`/vector_stores/${t}/files`,VectorStoreFilesPage,{query:r,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(t,r,n){return this._client.delete(`/vector_stores/${t}/files/${r}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}async createAndPoll(t,r,n){const o=await this.create(t,r,n);return await this.poll(t,o.id,n)}async poll(t,r,n){const o={...n==null?void 0:n.headers,"X-Stainless-Poll-Helper":"true"};for(n!=null&&n.pollIntervalMs&&(o["X-Stainless-Custom-Poll-Interval"]=n.pollIntervalMs.toString());;){const i=await this.retrieve(t,r,{...n,headers:o}).withResponse(),a=i.data;switch(a.status){case"in_progress":let s=5e3;if(n!=null&&n.pollIntervalMs)s=n.pollIntervalMs;else{const u=i.response.headers.get("openai-poll-after-ms");if(u){const c=parseInt(u);isNaN(c)||(s=c)}}await sleep(s);break;case"failed":case"completed":return a}}}async upload(t,r,n){const o=await this._client.files.create({file:r,purpose:"assistants"},n);return this.create(t,{file_id:o.id},n)}async uploadAndPoll(t,r,n){const o=await this.upload(t,r,n);return await this.poll(t,o.id,n)}};class VectorStoreFilesPage extends CursorPage{}Files$1.VectorStoreFilesPage=VectorStoreFilesPage;class FileBatches extends APIResource{create(t,r,n){return this._client.post(`/vector_stores/${t}/file_batches`,{body:r,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(t,r,n){return this._client.get(`/vector_stores/${t}/file_batches/${r}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}cancel(t,r,n){return this._client.post(`/vector_stores/${t}/file_batches/${r}/cancel`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}async createAndPoll(t,r,n){const o=await this.create(t,r);return await this.poll(t,o.id,n)}listFiles(t,r,n={},o){return isRequestOptions(n)?this.listFiles(t,r,{},n):this._client.getAPIList(`/vector_stores/${t}/file_batches/${r}/files`,VectorStoreFilesPage,{query:n,...o,headers:{"OpenAI-Beta":"assistants=v2",...o==null?void 0:o.headers}})}async poll(t,r,n){const o={...n==null?void 0:n.headers,"X-Stainless-Poll-Helper":"true"};for(n!=null&&n.pollIntervalMs&&(o["X-Stainless-Custom-Poll-Interval"]=n.pollIntervalMs.toString());;){const{data:i,response:a}=await this.retrieve(t,r,{...n,headers:o}).withResponse();switch(i.status){case"in_progress":let s=5e3;if(n!=null&&n.pollIntervalMs)s=n.pollIntervalMs;else{const u=a.headers.get("openai-poll-after-ms");if(u){const c=parseInt(u);isNaN(c)||(s=c)}}await sleep(s);break;case"failed":case"cancelled":case"completed":return i}}}async uploadAndPoll(t,{files:r,fileIds:n=[]},o){if(r==null||r.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const i=(o==null?void 0:o.maxConcurrency)??5,a=Math.min(i,r.length),s=this._client,u=r.values(),c=[...n];async function l(g){for(let f of g){const p=await s.files.create({file:f,purpose:"assistants"},o);c.push(p.id)}}const d=Array(a).fill(u).map(l);return await allSettledWithThrow(d),await this.createAndPoll(t,{file_ids:c})}}class VectorStores extends APIResource{constructor(){super(...arguments),this.files=new Files$1(this._client),this.fileBatches=new FileBatches(this._client)}create(t,r){return this._client.post("/vector_stores",{body:t,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(t,r){return this._client.get(`/vector_stores/${t}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(t,r,n){return this._client.post(`/vector_stores/${t}`,{body:r,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}list(t={},r){return isRequestOptions(t)?this.list({},t):this._client.getAPIList("/vector_stores",VectorStoresPage,{query:t,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(t,r){return this._client.delete(`/vector_stores/${t}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}}class VectorStoresPage extends CursorPage{}VectorStores.VectorStoresPage=VectorStoresPage;VectorStores.Files=Files$1;VectorStores.VectorStoreFilesPage=VectorStoreFilesPage;VectorStores.FileBatches=FileBatches;class Beta extends APIResource{constructor(){super(...arguments),this.realtime=new Realtime(this._client),this.vectorStores=new VectorStores(this._client),this.chat=new Chat(this._client),this.assistants=new Assistants(this._client),this.threads=new Threads(this._client)}}Beta.Realtime=Realtime;Beta.VectorStores=VectorStores;Beta.VectorStoresPage=VectorStoresPage;Beta.Assistants=Assistants;Beta.AssistantsPage=AssistantsPage;Beta.Threads=Threads;class Completions extends APIResource{create(t,r){return this._client.post("/completions",{body:t,...r,stream:t.stream??!1})}}class Embeddings extends APIResource{create(t,r){return this._client.post("/embeddings",{body:t,...r})}}class Files extends APIResource{create(t,r){return this._client.post("/files",multipartFormRequestOptions({body:t,...r}))}retrieve(t,r){return this._client.get(`/files/${t}`,r)}list(t={},r){return isRequestOptions(t)?this.list({},t):this._client.getAPIList("/files",FileObjectsPage,{query:t,...r})}del(t,r){return this._client.delete(`/files/${t}`,r)}content(t,r){return this._client.get(`/files/${t}/content`,{...r,headers:{Accept:"application/binary",...r==null?void 0:r.headers},__binaryResponse:!0})}retrieveContent(t,r){return this._client.get(`/files/${t}/content`,r)}async waitForProcessing(t,{pollInterval:r=5e3,maxWait:n=30*60*1e3}={}){const o=new Set(["processed","error","deleted"]),i=Date.now();let a=await this.retrieve(t);for(;!a.status||!o.has(a.status);)if(await sleep(r),a=await this.retrieve(t),Date.now()-i>n)throw new APIConnectionTimeoutError({message:`Giving up on waiting for file ${t} to finish processing after ${n} milliseconds.`});return a}}class FileObjectsPage extends CursorPage{}Files.FileObjectsPage=FileObjectsPage;class Checkpoints extends APIResource{list(t,r={},n){return isRequestOptions(r)?this.list(t,{},r):this._client.getAPIList(`/fine_tuning/jobs/${t}/checkpoints`,FineTuningJobCheckpointsPage,{query:r,...n})}}class FineTuningJobCheckpointsPage extends CursorPage{}Checkpoints.FineTuningJobCheckpointsPage=FineTuningJobCheckpointsPage;class Jobs extends APIResource{constructor(){super(...arguments),this.checkpoints=new Checkpoints(this._client)}create(t,r){return this._client.post("/fine_tuning/jobs",{body:t,...r})}retrieve(t,r){return this._client.get(`/fine_tuning/jobs/${t}`,r)}list(t={},r){return isRequestOptions(t)?this.list({},t):this._client.getAPIList("/fine_tuning/jobs",FineTuningJobsPage,{query:t,...r})}cancel(t,r){return this._client.post(`/fine_tuning/jobs/${t}/cancel`,r)}listEvents(t,r={},n){return isRequestOptions(r)?this.listEvents(t,{},r):this._client.getAPIList(`/fine_tuning/jobs/${t}/events`,FineTuningJobEventsPage,{query:r,...n})}}class FineTuningJobsPage extends CursorPage{}class FineTuningJobEventsPage extends CursorPage{}Jobs.FineTuningJobsPage=FineTuningJobsPage;Jobs.FineTuningJobEventsPage=FineTuningJobEventsPage;Jobs.Checkpoints=Checkpoints;Jobs.FineTuningJobCheckpointsPage=FineTuningJobCheckpointsPage;class FineTuning extends APIResource{constructor(){super(...arguments),this.jobs=new Jobs(this._client)}}FineTuning.Jobs=Jobs;FineTuning.FineTuningJobsPage=FineTuningJobsPage;FineTuning.FineTuningJobEventsPage=FineTuningJobEventsPage;class Images extends APIResource{createVariation(t,r){return this._client.post("/images/variations",multipartFormRequestOptions({body:t,...r}))}edit(t,r){return this._client.post("/images/edits",multipartFormRequestOptions({body:t,...r}))}generate(t,r){return this._client.post("/images/generations",{body:t,...r})}}class Models extends APIResource{retrieve(t,r){return this._client.get(`/models/${t}`,r)}list(t){return this._client.getAPIList("/models",ModelsPage,t)}del(t,r){return this._client.delete(`/models/${t}`,r)}}class ModelsPage extends Page{}Models.ModelsPage=ModelsPage;class Moderations extends APIResource{create(t,r){return this._client.post("/moderations",{body:t,...r})}}class Parts extends APIResource{create(t,r,n){return this._client.post(`/uploads/${t}/parts`,multipartFormRequestOptions({body:r,...n}))}}class Uploads extends APIResource{constructor(){super(...arguments),this.parts=new Parts(this._client)}create(t,r){return this._client.post("/uploads",{body:t,...r})}cancel(t,r){return this._client.post(`/uploads/${t}/cancel`,r)}complete(t,r,n){return this._client.post(`/uploads/${t}/complete`,{body:r,...n})}}Uploads.Parts=Parts;var _a$1;class OpenAI extends APIClient{constructor({baseURL:t=readEnv("OPENAI_BASE_URL"),apiKey:r=readEnv("OPENAI_API_KEY"),organization:n=readEnv("OPENAI_ORG_ID")??null,project:o=readEnv("OPENAI_PROJECT_ID")??null,...i}={}){if(r===void 0)throw new OpenAIError("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");const a={apiKey:r,organization:n,project:o,...i,baseURL:t||"https://api.openai.com/v1"};if(!a.dangerouslyAllowBrowser&&isRunningInBrowser())throw new OpenAIError(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);super({baseURL:a.baseURL,timeout:a.timeout??6e5,httpAgent:a.httpAgent,maxRetries:a.maxRetries,fetch:a.fetch}),this.completions=new Completions(this),this.chat=new Chat$1(this),this.embeddings=new Embeddings(this),this.files=new Files(this),this.images=new Images(this),this.audio=new Audio(this),this.moderations=new Moderations(this),this.models=new Models(this),this.fineTuning=new FineTuning(this),this.beta=new Beta(this),this.batches=new Batches(this),this.uploads=new Uploads(this),this._options=a,this.apiKey=r,this.organization=n,this.project=o}defaultQuery(){return this._options.defaultQuery}defaultHeaders(t){return{...super.defaultHeaders(t),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project,...this._options.defaultHeaders}}authHeaders(t){return{Authorization:`Bearer ${this.apiKey}`}}stringifyQuery(t){return stringify(t,{arrayFormat:"brackets"})}}_a$1=OpenAI;OpenAI.OpenAI=_a$1;OpenAI.DEFAULT_TIMEOUT=6e5;OpenAI.OpenAIError=OpenAIError;OpenAI.APIError=APIError;OpenAI.APIConnectionError=APIConnectionError;OpenAI.APIConnectionTimeoutError=APIConnectionTimeoutError;OpenAI.APIUserAbortError=APIUserAbortError;OpenAI.NotFoundError=NotFoundError;OpenAI.ConflictError=ConflictError;OpenAI.RateLimitError=RateLimitError;OpenAI.BadRequestError=BadRequestError;OpenAI.AuthenticationError=AuthenticationError;OpenAI.InternalServerError=InternalServerError;OpenAI.PermissionDeniedError=PermissionDeniedError;OpenAI.UnprocessableEntityError=UnprocessableEntityError;OpenAI.toFile=toFile;OpenAI.fileFromPath=fileFromPath;OpenAI.Completions=Completions;OpenAI.Chat=Chat$1;OpenAI.ChatCompletionsPage=ChatCompletionsPage;OpenAI.Embeddings=Embeddings;OpenAI.Files=Files;OpenAI.FileObjectsPage=FileObjectsPage;OpenAI.Images=Images;OpenAI.Audio=Audio;OpenAI.Moderations=Moderations;OpenAI.Models=Models;OpenAI.ModelsPage=ModelsPage;OpenAI.FineTuning=FineTuning;OpenAI.Beta=Beta;OpenAI.Batches=Batches;OpenAI.BatchesPage=BatchesPage;OpenAI.Uploads=Uploads;let b=class{constructor(e){this.baseURL=(e==null?void 0:e.baseURL)??"https://api.openai.com/v1",this.apiKey=(e==null?void 0:e.apiKey)??"",this.defaultModel=(e==null?void 0:e.defaultModel)??"gpt-3.5-turbo",this._api=new OpenAI({apiKey:this.apiKey,baseURL:this.baseURL,dangerouslyAllowBrowser:!0}),this._axios=axios.create({baseURL:this.baseURL,headers:{Authorization:`Bearer ${this.apiKey}`}})}loadDict(e){this.baseURL=(e==null?void 0:e.baseURL)??"https://api.openai.com/v1",this.apiKey=(e==null?void 0:e.apiKey)??"",this.defaultModel=(e==null?void 0:e.defaultModel)??"gpt-3.5-turbo"}async createChat__(e,t){return this._api.chat.completions.create(e,t)}async createChat(e,t){const r=await this._axios.post("/chat/completions",e,t);return r==null?void 0:r.data}async*createChatStream(e){var t;try{const r=await fetch(`${this.baseURL}/chat/completions`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.apiKey}`},body:JSON.stringify(e)});if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);const n=r.body.getReader(),o=new TextDecoder("utf-8");let i="";for(;;){const{done:a,value:s}=await n.read();if(a)break;const u=o.decode(s,{stream:!0});i+=u;const c=i.split(`
`);i=c.pop()??"";for(const l of c)if((t=l.trim())!=null&&t.length)try{const d=l.trim().slice(5).trim();if(d=="[DONE]"){yield{done:!0};continue}yield JSON.parse(d)}catch(d){console.error("Error parsing JSON:",d)}}}catch(r){throw console.error("Error streaming LLM JSON data:",r),r}}async chat(e,t=void 0,r=[],n={}){var o,i;const a=await this.createChat({model:this.defaultModel,messages:[...t!=null&&t.length?[{role:"system",content:t}]:[],...r??[],{role:"user",content:e}],temperature:.4,...n??{}}),{choices:s=[]}=a;return(i=(o=s==null?void 0:s[0])==null?void 0:o.message)==null?void 0:i.content}async*chatStream(e,t=void 0,r=[],n={},o=!1){var i,a,s;for await(const u of this.createChatStream({model:this.defaultModel,messages:[...t!=null&&t.length?[{role:"system",content:t}]:[],...r??[],...o?[]:[{role:"user",content:e}]],temperature:.4,stream:!0,...n??{}})){if(u.done){yield{done:!0};break}yield(s=(a=(i=u==null?void 0:u.choices)==null?void 0:i[0])==null?void 0:a.delta)==null?void 0:s.content}}setAPIKey(e){this.apiKey=e,this._api.apiKey=e}setBaseURL(e){this.baseURL=e,this._api.baseURL=e}async listModels(){return(await this._axios.get("/models")).data}};const S="[<[([[TASK]])]>]",k="[<[([[REQ]])]>]",w="[<[([[RES]])]>]",O='\nJSON\n\n```[<[([[TASK]])]>]```\n\n```[<[([[REQ]])]>]```\nJSON\n```[<[([[RES]])]>]```\n\n- JSONmarkdown"\\`\\`\\`json...\\`\\`\\`"\n- JSON_msg\n'.trim(),M='\nYou are an AI function, which returns the processing result according to the parameters input by the user and outputs in JSON format.\nYour task is:\n```[<[([[TASK]])]>]```\nThe input format you accept is:\n```[<[([[REQ]])]>]```\nYou should return a JSON object in the format:\n```[<[([[RES]])]>]```\nNote:\n- You are a function, can only return JSON format, cannot return natural language content, and cannot attach markdown code block tags (i.e. a block wrapped in three backticks "\\`\\`\\`json...\\`\\`\\`").\n- If you really want to explain something, you can attach a `_msg` sting field in the returned JSON object, but it\'s not recommended.\n'.trim();class v{constructor(t){var r,n,o,i,a,s,u;this.name=(t==null?void 0:t.name)??"",this.desc=(t==null?void 0:t.desc)??"",this.ai=new b(t==null?void 0:t.ai),this.task=(t==null?void 0:t.task)??"",this.reqFormat=(t==null?void 0:t.reqFormat)??"",this.resFormat=(t==null?void 0:t.resFormat)??"",_.isString(this.resFormat)||(this.resFormat=JSON.stringify(this.resFormat)),this.template=((r=t==null?void 0:t.template)!=null&&r.length?t==null?void 0:t.template:null)??M??O,this.taskMark=((n=t==null?void 0:t.taskMark)!=null&&n.length?t==null?void 0:t.taskMark:null)??S,this.reqMark=((o=t==null?void 0:t.reqMark)!=null&&o.length?t==null?void 0:t.reqMark:null)??k,this.resMark=((i=t==null?void 0:t.resMark)!=null&&i.length?t==null?void 0:t.resMark:null)??w,this.instruction=(u=(s=(a=t==null?void 0:t.instruction)==null?void 0:a.trim)==null?void 0:s.call(a))!=null&&u.length?t==null?void 0:t.instruction:this.makeInstruction(),this.schema=t==null?void 0:t.schema}makeInstruction(t=this.task,r=this.reqFormat,n=this.resFormat){return this.template.replace(this.taskMark,t).replace(this.reqMark,r).replace(this.resMark,n)}async doTask(t,r=[],n={}){const o=_.isString(t)?t:JSON.stringify(t);let i=await this.ai.chat(o,this.instruction,r,n)??"";i=i.trim(),i.slice(0,3)=="```"&&(i=i.replace(/^```[^\n]+\n|```$/g,"").trim());try{return lib$2.parse(i)}catch(a){return{_error:"NOT_JSON",_output:i,_errorString:String(a)}}}async*doTaskStream(t,r=[],n={}){const o=_.isString(t)?t:JSON.stringify(t);for await(const i of this.ai.chatStream(o,this.instruction,r,n))yield i}}const L=[{name:"",desc:"",instruction:`
    
    JSON
    
    
    - name: 
    - desc: 
    - task: 
    - reqFormat: JSON
    - resFormat:  JSON Schema JSONJSON
    JSON
    
    - JSONmarkdown"\\\`\\\`\\\`json...\\\`\\\`\\\`"
    - JSON_msg
    `.trim(),requestExamples:["LaTeX()","","JavaScriptJS",""]},{name:"",desc:"",task:"texttypetexttype",reqFormat:"",resFormat:'[{"text": "1", "type": "1"}, {"text": "2", "type": "2"}, ...]',requestExamples:["","","","104","",""]},{name:"",desc:"",task:"",reqFormat:"(LaTeX)",resFormat:'{"steps": string[], "result": any, "_error"?: any, "_msg"?: }',requestExamples:["(|3^2-4^3|)"]},{name:"",desc:"",task:"",reqFormat:"",resFormat:'{ "answer": , "_msg":  }'}],A=[{name:"DeepSeek",type:"ChatSupplier",desc:"DeepSeek",docUrl:"https://platform.deepseek.com/docs",baseUrl:"https://api.deepseek.com/v1",defaultModel:"deepseek-chat",chatUrl:"/chat/completions",modelsUrl:"/models"},{name:"",type:"ChatSupplier",desc:"",docUrl:"https://help.aliyun.com/zh/model-studio/user-guide/multi-round-conversation?spm=a2c4g.11186623.help-menu-2400256.d_1_0_0_4.1b54b0a8Obvgrf",baseUrl:"https://dashscope.aliyuncs.com/compatible-mode/v1",defaultModel:"deepseek-v3",chatUrl:"/chat/completions",modelsUrl:"/models"},{name:"",type:"ChatSupplier",desc:"",docUrl:"https://doc.zhizengzeng.com/",baseUrl:"https://api.zhizengzeng.com/v1",defaultModel:"deepseek-chat",chatUrl:"/chat/completions",modelsUrl:"/models"},{name:"",type:"ChatSupplier",desc:"",docUrl:"https://docs.siliconflow.cn/",baseUrl:"https://api.siliconflow.cn/v1",defaultModel:"deepseek-ai/DeepSeek-V3",chatUrl:"/chat/completions",modelsUrl:"/models"},{name:"ZhiPu",type:"ChatSupplier",desc:"",docUrl:"https://open.bigmodel.cn/dev/api",baseUrl:"https://open.bigmodel.cn/api/paas/v4",defaultModel:"glm-4",chatUrl:"/chat/completions",modelsUrl:"/models",models:[{id:"glm-4"},{id:"glm-4-air"},{id:"glm-4-flash"},{id:"glm-3-turbo"}]},{name:"Moonshot",type:"ChatSupplier",desc:"Moonshot",docUrl:"https://platform.moonshot.cn/docs/api-reference",baseUrl:"https://api.moonshot.cn/v1",defaultModel:"moonshot-v1-8k",chatUrl:"/chat/completions",modelsUrl:"/models",balanceUrl:"/users/me/balance",countTokenUrl:"/tokenizers/estimate-token-count"},{name:"OpenAI",type:"ChatSupplier",desc:"OpenAI",docUrl:"https://platform.openai.com/docs/api-reference/chat",baseUrl:"https://api.openai.com/v1",defaultModel:"gpt-3.5-turbo",chatUrl:"/chat/completions",modelsUrl:"/models",notes:`
    https://cookbook.openai.com/examples/how_to_count_tokens_with_tiktoken
    `.trim()},{name:"",type:"ChatSupplier",desc:"",docUrl:"",baseUrl:"https://api.132999.xyz/v1",defaultModel:"gpt-3.5-turbo",chatUrl:"/chat/completions",modelsUrl:"/models"}],DEFAULT_MODEL={label:"[[<DEFAULT>]]"},defaultBatchConfig={inputTemplate:"____",slotMark:"____",slotMarkIsRegExp:!1,itemsText:"  ",splitter:"[\\s\\n]+",splitterIsRegExp:!0,concurrency:1,showMore:!1,skip:0,limit:1/0,delay:700,retry:3,retryDaley:1e4,retryDaleyDelta:5e3},defaultTaskMark="[<[([[TASK]])]>]",defaultReqMark="[<[([[REQ]])]>]",defaultResMark="[<[([[RES]])]>]",defaultInstructionTemplateEN='\nYou are an AI function, which returns the processing result according to the parameters input by the user and outputs in JSON format.\nYour task is:\n```[<[([[TASK]])]>]```\nThe input format you accept is:\n```[<[([[REQ]])]>]```\nYou should return a JSON object in the format:\n```[<[([[RES]])]>]```\nNote:\n- You are a function, can only return JSON format, cannot return natural language content, and cannot attach markdown code block tags (i.e. a block wrapped in three backticks "\\`\\`\\`json...\\`\\`\\`").\n- If you really want to explain something, you can attach a `_msg` sting field in the returned JSON object, but it\'s not recommended.\n'.trim(),decodeCache={};function getDecodeCache(e){let t=decodeCache[e];if(t)return t;t=decodeCache[e]=[];for(let r=0;r<128;r++){const n=String.fromCharCode(r);t.push(n)}for(let r=0;r<e.length;r++){const n=e.charCodeAt(r);t[n]="%"+("0"+n.toString(16).toUpperCase()).slice(-2)}return t}function decode$1(e,t){typeof t!="string"&&(t=decode$1.defaultChars);const r=getDecodeCache(t);return e.replace(/(%[a-f0-9]{2})+/gi,function(n){let o="";for(let i=0,a=n.length;i<a;i+=3){const s=parseInt(n.slice(i+1,i+3),16);if(s<128){o+=r[s];continue}if((s&224)===192&&i+3<a){const u=parseInt(n.slice(i+4,i+6),16);if((u&192)===128){const c=s<<6&1984|u&63;c<128?o+="":o+=String.fromCharCode(c),i+=3;continue}}if((s&240)===224&&i+6<a){const u=parseInt(n.slice(i+4,i+6),16),c=parseInt(n.slice(i+7,i+9),16);if((u&192)===128&&(c&192)===128){const l=s<<12&61440|u<<6&4032|c&63;l<2048||l>=55296&&l<=57343?o+="":o+=String.fromCharCode(l),i+=6;continue}}if((s&248)===240&&i+9<a){const u=parseInt(n.slice(i+4,i+6),16),c=parseInt(n.slice(i+7,i+9),16),l=parseInt(n.slice(i+10,i+12),16);if((u&192)===128&&(c&192)===128&&(l&192)===128){let d=s<<18&1835008|u<<12&258048|c<<6&4032|l&63;d<65536||d>1114111?o+="":(d-=65536,o+=String.fromCharCode(55296+(d>>10),56320+(d&1023))),i+=9;continue}}o+=""}return o})}decode$1.defaultChars=";/?:@&=+$,#";decode$1.componentChars="";const encodeCache={};function getEncodeCache(e){let t=encodeCache[e];if(t)return t;t=encodeCache[e]=[];for(let r=0;r<128;r++){const n=String.fromCharCode(r);/^[0-9a-z]$/i.test(n)?t.push(n):t.push("%"+("0"+r.toString(16).toUpperCase()).slice(-2))}for(let r=0;r<e.length;r++)t[e.charCodeAt(r)]=e[r];return t}function encode$1(e,t,r){typeof t!="string"&&(r=t,t=encode$1.defaultChars),typeof r>"u"&&(r=!0);const n=getEncodeCache(t);let o="";for(let i=0,a=e.length;i<a;i++){const s=e.charCodeAt(i);if(r&&s===37&&i+2<a&&/^[0-9a-f]{2}$/i.test(e.slice(i+1,i+3))){o+=e.slice(i,i+3),i+=2;continue}if(s<128){o+=n[s];continue}if(s>=55296&&s<=57343){if(s>=55296&&s<=56319&&i+1<a){const u=e.charCodeAt(i+1);if(u>=56320&&u<=57343){o+=encodeURIComponent(e[i]+e[i+1]),i++;continue}}o+="%EF%BF%BD";continue}o+=encodeURIComponent(e[i])}return o}encode$1.defaultChars=";/?:@&=+$,-_.!~*'()#";encode$1.componentChars="-_.!~*'()";function format(e){let t="";return t+=e.protocol||"",t+=e.slashes?"//":"",t+=e.auth?e.auth+"@":"",e.hostname&&e.hostname.indexOf(":")!==-1?t+="["+e.hostname+"]":t+=e.hostname||"",t+=e.port?":"+e.port:"",t+=e.pathname||"",t+=e.search||"",t+=e.hash||"",t}function Url(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}const protocolPattern=/^([a-z0-9.+-]+:)/i,portPattern=/:[0-9]*$/,simplePathPattern=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,delims=["<",">",'"',"`"," ","\r",`
`,"	"],unwise=["{","}","|","\\","^","`"].concat(delims),autoEscape=["'"].concat(unwise),nonHostChars=["%","/","?",";","#"].concat(autoEscape),hostEndingChars=["/","?","#"],hostnameMaxLen=255,hostnamePartPattern=/^[+a-z0-9A-Z_-]{0,63}$/,hostnamePartStart=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,hostlessProtocol={javascript:!0,"javascript:":!0},slashedProtocol={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function urlParse(e,t){if(e&&e instanceof Url)return e;const r=new Url;return r.parse(e,t),r}Url.prototype.parse=function(e,t){let r,n,o,i=e;if(i=i.trim(),!t&&e.split("#").length===1){const c=simplePathPattern.exec(i);if(c)return this.pathname=c[1],c[2]&&(this.search=c[2]),this}let a=protocolPattern.exec(i);if(a&&(a=a[0],r=a.toLowerCase(),this.protocol=a,i=i.substr(a.length)),(t||a||i.match(/^\/\/[^@\/]+@[^@\/]+/))&&(o=i.substr(0,2)==="//",o&&!(a&&hostlessProtocol[a])&&(i=i.substr(2),this.slashes=!0)),!hostlessProtocol[a]&&(o||a&&!slashedProtocol[a])){let c=-1;for(let p=0;p<hostEndingChars.length;p++)n=i.indexOf(hostEndingChars[p]),n!==-1&&(c===-1||n<c)&&(c=n);let l,d;c===-1?d=i.lastIndexOf("@"):d=i.lastIndexOf("@",c),d!==-1&&(l=i.slice(0,d),i=i.slice(d+1),this.auth=l),c=-1;for(let p=0;p<nonHostChars.length;p++)n=i.indexOf(nonHostChars[p]),n!==-1&&(c===-1||n<c)&&(c=n);c===-1&&(c=i.length),i[c-1]===":"&&c--;const g=i.slice(0,c);i=i.slice(c),this.parseHost(g),this.hostname=this.hostname||"";const f=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!f){const p=this.hostname.split(/\./);for(let m=0,x=p.length;m<x;m++){const y=p[m];if(y&&!y.match(hostnamePartPattern)){let C="";for(let $=0,E=y.length;$<E;$++)y.charCodeAt($)>127?C+="x":C+=y[$];if(!C.match(hostnamePartPattern)){const $=p.slice(0,m),E=p.slice(m+1),R=y.match(hostnamePartStart);R&&($.push(R[1]),E.unshift(R[2])),E.length&&(i=E.join(".")+i),this.hostname=$.join(".");break}}}}this.hostname.length>hostnameMaxLen&&(this.hostname=""),f&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}const s=i.indexOf("#");s!==-1&&(this.hash=i.substr(s),i=i.slice(0,s));const u=i.indexOf("?");return u!==-1&&(this.search=i.substr(u),i=i.slice(0,u)),i&&(this.pathname=i),slashedProtocol[r]&&this.hostname&&!this.pathname&&(this.pathname=""),this};Url.prototype.parseHost=function(e){let t=portPattern.exec(e);t&&(t=t[0],t!==":"&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)};const mdurl=Object.freeze(Object.defineProperty({__proto__:null,decode:decode$1,encode:encode$1,format,parse:urlParse},Symbol.toStringTag,{value:"Module"})),Any=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,Cc=/[\0-\x1F\x7F-\x9F]/,regex$1=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u0890\u0891\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD80D[\uDC30-\uDC3F]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/,P=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/,regex=/[\$\+<->\^`\|~\xA2-\xA6\xA8\xA9\xAC\xAE-\xB1\xB4\xB8\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u0384\u0385\u03F6\u0482\u058D-\u058F\u0606-\u0608\u060B\u060E\u060F\u06DE\u06E9\u06FD\u06FE\u07F6\u07FE\u07FF\u0888\u09F2\u09F3\u09FA\u09FB\u0AF1\u0B70\u0BF3-\u0BFA\u0C7F\u0D4F\u0D79\u0E3F\u0F01-\u0F03\u0F13\u0F15-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE\u0FCF\u0FD5-\u0FD8\u109E\u109F\u1390-\u1399\u166D\u17DB\u1940\u19DE-\u19FF\u1B61-\u1B6A\u1B74-\u1B7C\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2044\u2052\u207A-\u207C\u208A-\u208C\u20A0-\u20C0\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2307\u230C-\u2328\u232B-\u2426\u2440-\u244A\u249C-\u24E9\u2500-\u2767\u2794-\u27C4\u27C7-\u27E5\u27F0-\u2982\u2999-\u29D7\u29DC-\u29FB\u29FE-\u2B73\u2B76-\u2B95\u2B97-\u2BFF\u2CE5-\u2CEA\u2E50\u2E51\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFF\u3004\u3012\u3013\u3020\u3036\u3037\u303E\u303F\u309B\u309C\u3190\u3191\u3196-\u319F\u31C0-\u31E3\u31EF\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uAA77-\uAA79\uAB5B\uAB6A\uAB6B\uFB29\uFBB2-\uFBC2\uFD40-\uFD4F\uFDCF\uFDFC-\uFDFF\uFE62\uFE64-\uFE66\uFE69\uFF04\uFF0B\uFF1C-\uFF1E\uFF3E\uFF40\uFF5C\uFF5E\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC]|\uD802[\uDC77\uDC78\uDEC8]|\uD805\uDF3F|\uD807[\uDFD5-\uDFF1]|\uD81A[\uDF3C-\uDF3F\uDF45]|\uD82F\uDC9C|\uD833[\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85\uDE86]|\uD838[\uDD4F\uDEFF]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED7\uDEDC-\uDEEC\uDEF0-\uDEFC\uDF00-\uDF76\uDF7B-\uDFD9\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0\uDCB1\uDD00-\uDE53\uDE60-\uDE6D\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC5\uDECE-\uDEDB\uDEE0-\uDEE8\uDEF0-\uDEF8\uDF00-\uDF92\uDF94-\uDFCA]/,Z=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,ucmicro=Object.freeze(Object.defineProperty({__proto__:null,Any,Cc,Cf:regex$1,P,S:regex,Z},Symbol.toStringTag,{value:"Module"})),htmlDecodeTree=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(e=>e.charCodeAt(0))),xmlDecodeTree=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(e=>e.charCodeAt(0)));var _a;const decodeMap=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),fromCodePoint$1=(_a=String.fromCodePoint)!==null&&_a!==void 0?_a:function(e){let t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|e&1023),t+=String.fromCharCode(e),t};function replaceCodePoint(e){var t;return e>=55296&&e<=57343||e>1114111?65533:(t=decodeMap.get(e))!==null&&t!==void 0?t:e}var CharCodes;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(CharCodes||(CharCodes={}));const TO_LOWER_BIT=32;var BinTrieFlags;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(BinTrieFlags||(BinTrieFlags={}));function isNumber(e){return e>=CharCodes.ZERO&&e<=CharCodes.NINE}function isHexadecimalCharacter(e){return e>=CharCodes.UPPER_A&&e<=CharCodes.UPPER_F||e>=CharCodes.LOWER_A&&e<=CharCodes.LOWER_F}function isAsciiAlphaNumeric(e){return e>=CharCodes.UPPER_A&&e<=CharCodes.UPPER_Z||e>=CharCodes.LOWER_A&&e<=CharCodes.LOWER_Z||isNumber(e)}function isEntityInAttributeInvalidEnd(e){return e===CharCodes.EQUALS||isAsciiAlphaNumeric(e)}var EntityDecoderState;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(EntityDecoderState||(EntityDecoderState={}));var DecodingMode;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(DecodingMode||(DecodingMode={}));class EntityDecoder{constructor(t,r,n){this.decodeTree=t,this.emitCodePoint=r,this.errors=n,this.state=EntityDecoderState.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=DecodingMode.Strict}startEntity(t){this.decodeMode=t,this.state=EntityDecoderState.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,r){switch(this.state){case EntityDecoderState.EntityStart:return t.charCodeAt(r)===CharCodes.NUM?(this.state=EntityDecoderState.NumericStart,this.consumed+=1,this.stateNumericStart(t,r+1)):(this.state=EntityDecoderState.NamedEntity,this.stateNamedEntity(t,r));case EntityDecoderState.NumericStart:return this.stateNumericStart(t,r);case EntityDecoderState.NumericDecimal:return this.stateNumericDecimal(t,r);case EntityDecoderState.NumericHex:return this.stateNumericHex(t,r);case EntityDecoderState.NamedEntity:return this.stateNamedEntity(t,r)}}stateNumericStart(t,r){return r>=t.length?-1:(t.charCodeAt(r)|TO_LOWER_BIT)===CharCodes.LOWER_X?(this.state=EntityDecoderState.NumericHex,this.consumed+=1,this.stateNumericHex(t,r+1)):(this.state=EntityDecoderState.NumericDecimal,this.stateNumericDecimal(t,r))}addToNumericResult(t,r,n,o){if(r!==n){const i=n-r;this.result=this.result*Math.pow(o,i)+parseInt(t.substr(r,i),o),this.consumed+=i}}stateNumericHex(t,r){const n=r;for(;r<t.length;){const o=t.charCodeAt(r);if(isNumber(o)||isHexadecimalCharacter(o))r+=1;else return this.addToNumericResult(t,n,r,16),this.emitNumericEntity(o,3)}return this.addToNumericResult(t,n,r,16),-1}stateNumericDecimal(t,r){const n=r;for(;r<t.length;){const o=t.charCodeAt(r);if(isNumber(o))r+=1;else return this.addToNumericResult(t,n,r,10),this.emitNumericEntity(o,2)}return this.addToNumericResult(t,n,r,10),-1}emitNumericEntity(t,r){var n;if(this.consumed<=r)return(n=this.errors)===null||n===void 0||n.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===CharCodes.SEMI)this.consumed+=1;else if(this.decodeMode===DecodingMode.Strict)return 0;return this.emitCodePoint(replaceCodePoint(this.result),this.consumed),this.errors&&(t!==CharCodes.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,r){const{decodeTree:n}=this;let o=n[this.treeIndex],i=(o&BinTrieFlags.VALUE_LENGTH)>>14;for(;r<t.length;r++,this.excess++){const a=t.charCodeAt(r);if(this.treeIndex=determineBranch(n,o,this.treeIndex+Math.max(1,i),a),this.treeIndex<0)return this.result===0||this.decodeMode===DecodingMode.Attribute&&(i===0||isEntityInAttributeInvalidEnd(a))?0:this.emitNotTerminatedNamedEntity();if(o=n[this.treeIndex],i=(o&BinTrieFlags.VALUE_LENGTH)>>14,i!==0){if(a===CharCodes.SEMI)return this.emitNamedEntityData(this.treeIndex,i,this.consumed+this.excess);this.decodeMode!==DecodingMode.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;const{result:r,decodeTree:n}=this,o=(n[r]&BinTrieFlags.VALUE_LENGTH)>>14;return this.emitNamedEntityData(r,o,this.consumed),(t=this.errors)===null||t===void 0||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,r,n){const{decodeTree:o}=this;return this.emitCodePoint(r===1?o[t]&~BinTrieFlags.VALUE_LENGTH:o[t+1],n),r===3&&this.emitCodePoint(o[t+2],n),n}end(){var t;switch(this.state){case EntityDecoderState.NamedEntity:return this.result!==0&&(this.decodeMode!==DecodingMode.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case EntityDecoderState.NumericDecimal:return this.emitNumericEntity(0,2);case EntityDecoderState.NumericHex:return this.emitNumericEntity(0,3);case EntityDecoderState.NumericStart:return(t=this.errors)===null||t===void 0||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case EntityDecoderState.EntityStart:return 0}}}function getDecoder(e){let t="";const r=new EntityDecoder(e,n=>t+=fromCodePoint$1(n));return function(o,i){let a=0,s=0;for(;(s=o.indexOf("&",s))>=0;){t+=o.slice(a,s),r.startEntity(i);const c=r.write(o,s+1);if(c<0){a=s+r.end();break}a=s+c,s=c===0?a+1:a}const u=t+o.slice(a);return t="",u}}function determineBranch(e,t,r,n){const o=(t&BinTrieFlags.BRANCH_LENGTH)>>7,i=t&BinTrieFlags.JUMP_TABLE;if(o===0)return i!==0&&n===i?r:-1;if(i){const u=n-i;return u<0||u>=o?-1:e[r+u]-1}let a=r,s=a+o-1;for(;a<=s;){const u=a+s>>>1,c=e[u];if(c<n)a=u+1;else if(c>n)s=u-1;else return e[u+o]}return-1}const htmlDecoder=getDecoder(htmlDecodeTree);getDecoder(xmlDecodeTree);function decodeHTML(e,t=DecodingMode.Legacy){return htmlDecoder(e,t)}function _class$1(e){return Object.prototype.toString.call(e)}function isString$1(e){return _class$1(e)==="[object String]"}const _hasOwnProperty=Object.prototype.hasOwnProperty;function has(e,t){return _hasOwnProperty.call(e,t)}function assign$1(e){return Array.prototype.slice.call(arguments,1).forEach(function(r){if(r){if(typeof r!="object")throw new TypeError(r+"must be object");Object.keys(r).forEach(function(n){e[n]=r[n]})}}),e}function arrayReplaceAt(e,t,r){return[].concat(e.slice(0,t),r,e.slice(t+1))}function isValidEntityCode(e){return!(e>=55296&&e<=57343||e>=64976&&e<=65007||(e&65535)===65535||(e&65535)===65534||e>=0&&e<=8||e===11||e>=14&&e<=31||e>=127&&e<=159||e>1114111)}function fromCodePoint(e){if(e>65535){e-=65536;const t=55296+(e>>10),r=56320+(e&1023);return String.fromCharCode(t,r)}return String.fromCharCode(e)}const UNESCAPE_MD_RE=/\\([!"#$%&'()*+,\-./:;<=>?@[\\\]^_`{|}~])/g,ENTITY_RE=/&([a-z#][a-z0-9]{1,31});/gi,UNESCAPE_ALL_RE=new RegExp(UNESCAPE_MD_RE.source+"|"+ENTITY_RE.source,"gi"),DIGITAL_ENTITY_TEST_RE=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))$/i;function replaceEntityPattern(e,t){if(t.charCodeAt(0)===35&&DIGITAL_ENTITY_TEST_RE.test(t)){const n=t[1].toLowerCase()==="x"?parseInt(t.slice(2),16):parseInt(t.slice(1),10);return isValidEntityCode(n)?fromCodePoint(n):e}const r=decodeHTML(e);return r!==e?r:e}function unescapeMd(e){return e.indexOf("\\")<0?e:e.replace(UNESCAPE_MD_RE,"$1")}function unescapeAll(e){return e.indexOf("\\")<0&&e.indexOf("&")<0?e:e.replace(UNESCAPE_ALL_RE,function(t,r,n){return r||replaceEntityPattern(t,n)})}const HTML_ESCAPE_TEST_RE=/[&<>"]/,HTML_ESCAPE_REPLACE_RE=/[&<>"]/g,HTML_REPLACEMENTS={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function replaceUnsafeChar(e){return HTML_REPLACEMENTS[e]}function escapeHtml(e){return HTML_ESCAPE_TEST_RE.test(e)?e.replace(HTML_ESCAPE_REPLACE_RE,replaceUnsafeChar):e}const REGEXP_ESCAPE_RE=/[.?*+^$[\]\\(){}|-]/g;function escapeRE$1(e){return e.replace(REGEXP_ESCAPE_RE,"\\$&")}function isSpace(e){switch(e){case 9:case 32:return!0}return!1}function isWhiteSpace(e){if(e>=8192&&e<=8202)return!0;switch(e){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}function isPunctChar(e){return P.test(e)||regex.test(e)}function isMdAsciiPunct(e){switch(e){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}function normalizeReference(e){return e=e.trim().replace(/\s+/g," "),"".toLowerCase()===""&&(e=e.replace(//g,"")),e.toLowerCase().toUpperCase()}const lib={mdurl,ucmicro},utils=Object.freeze(Object.defineProperty({__proto__:null,arrayReplaceAt,assign:assign$1,escapeHtml,escapeRE:escapeRE$1,fromCodePoint,has,isMdAsciiPunct,isPunctChar,isSpace,isString:isString$1,isValidEntityCode,isWhiteSpace,lib,normalizeReference,unescapeAll,unescapeMd},Symbol.toStringTag,{value:"Module"}));function parseLinkLabel(e,t,r){let n,o,i,a;const s=e.posMax,u=e.pos;for(e.pos=t+1,n=1;e.pos<s;){if(i=e.src.charCodeAt(e.pos),i===93&&(n--,n===0)){o=!0;break}if(a=e.pos,e.md.inline.skipToken(e),i===91){if(a===e.pos-1)n++;else if(r)return e.pos=u,-1}}let c=-1;return o&&(c=e.pos),e.pos=u,c}function parseLinkDestination(e,t,r){let n,o=t;const i={ok:!1,pos:0,str:""};if(e.charCodeAt(o)===60){for(o++;o<r;){if(n=e.charCodeAt(o),n===10||n===60)return i;if(n===62)return i.pos=o+1,i.str=unescapeAll(e.slice(t+1,o)),i.ok=!0,i;if(n===92&&o+1<r){o+=2;continue}o++}return i}let a=0;for(;o<r&&(n=e.charCodeAt(o),!(n===32||n<32||n===127));){if(n===92&&o+1<r){if(e.charCodeAt(o+1)===32)break;o+=2;continue}if(n===40&&(a++,a>32))return i;if(n===41){if(a===0)break;a--}o++}return t===o||a!==0||(i.str=unescapeAll(e.slice(t,o)),i.pos=o,i.ok=!0),i}function parseLinkTitle(e,t,r,n){let o,i=t;const a={ok:!1,can_continue:!1,pos:0,str:"",marker:0};if(n)a.str=n.str,a.marker=n.marker;else{if(i>=r)return a;let s=e.charCodeAt(i);if(s!==34&&s!==39&&s!==40)return a;t++,i++,s===40&&(s=41),a.marker=s}for(;i<r;){if(o=e.charCodeAt(i),o===a.marker)return a.pos=i+1,a.str+=unescapeAll(e.slice(t,i)),a.ok=!0,a;if(o===40&&a.marker===41)return a;o===92&&i+1<r&&i++,i++}return a.can_continue=!0,a.str+=unescapeAll(e.slice(t,i)),a}const helpers=Object.freeze(Object.defineProperty({__proto__:null,parseLinkDestination,parseLinkLabel,parseLinkTitle},Symbol.toStringTag,{value:"Module"})),default_rules={};default_rules.code_inline=function(e,t,r,n,o){const i=e[t];return"<code"+o.renderAttrs(i)+">"+escapeHtml(i.content)+"</code>"};default_rules.code_block=function(e,t,r,n,o){const i=e[t];return"<pre"+o.renderAttrs(i)+"><code>"+escapeHtml(e[t].content)+`</code></pre>
`};default_rules.fence=function(e,t,r,n,o){const i=e[t],a=i.info?unescapeAll(i.info).trim():"";let s="",u="";if(a){const l=a.split(/(\s+)/g);s=l[0],u=l.slice(2).join("")}let c;if(r.highlight?c=r.highlight(i.content,s,u)||escapeHtml(i.content):c=escapeHtml(i.content),c.indexOf("<pre")===0)return c+`
`;if(a){const l=i.attrIndex("class"),d=i.attrs?i.attrs.slice():[];l<0?d.push(["class",r.langPrefix+s]):(d[l]=d[l].slice(),d[l][1]+=" "+r.langPrefix+s);const g={attrs:d};return`<pre><code${o.renderAttrs(g)}>${c}</code></pre>
`}return`<pre><code${o.renderAttrs(i)}>${c}</code></pre>
`};default_rules.image=function(e,t,r,n,o){const i=e[t];return i.attrs[i.attrIndex("alt")][1]=o.renderInlineAsText(i.children,r,n),o.renderToken(e,t,r)};default_rules.hardbreak=function(e,t,r){return r.xhtmlOut?`<br />
`:`<br>
`};default_rules.softbreak=function(e,t,r){return r.breaks?r.xhtmlOut?`<br />
`:`<br>
`:`
`};default_rules.text=function(e,t){return escapeHtml(e[t].content)};default_rules.html_block=function(e,t){return e[t].content};default_rules.html_inline=function(e,t){return e[t].content};function Renderer(){this.rules=assign$1({},default_rules)}Renderer.prototype.renderAttrs=function e(t){let r,n,o;if(!t.attrs)return"";for(o="",r=0,n=t.attrs.length;r<n;r++)o+=" "+escapeHtml(t.attrs[r][0])+'="'+escapeHtml(t.attrs[r][1])+'"';return o};Renderer.prototype.renderToken=function e(t,r,n){const o=t[r];let i="";if(o.hidden)return"";o.block&&o.nesting!==-1&&r&&t[r-1].hidden&&(i+=`
`),i+=(o.nesting===-1?"</":"<")+o.tag,i+=this.renderAttrs(o),o.nesting===0&&n.xhtmlOut&&(i+=" /");let a=!1;if(o.block&&(a=!0,o.nesting===1&&r+1<t.length)){const s=t[r+1];(s.type==="inline"||s.hidden||s.nesting===-1&&s.tag===o.tag)&&(a=!1)}return i+=a?`>
`:">",i};Renderer.prototype.renderInline=function(e,t,r){let n="";const o=this.rules;for(let i=0,a=e.length;i<a;i++){const s=e[i].type;typeof o[s]<"u"?n+=o[s](e,i,t,r,this):n+=this.renderToken(e,i,t)}return n};Renderer.prototype.renderInlineAsText=function(e,t,r){let n="";for(let o=0,i=e.length;o<i;o++)switch(e[o].type){case"text":n+=e[o].content;break;case"image":n+=this.renderInlineAsText(e[o].children,t,r);break;case"html_inline":case"html_block":n+=e[o].content;break;case"softbreak":case"hardbreak":n+=`
`;break}return n};Renderer.prototype.render=function(e,t,r){let n="";const o=this.rules;for(let i=0,a=e.length;i<a;i++){const s=e[i].type;s==="inline"?n+=this.renderInline(e[i].children,t,r):typeof o[s]<"u"?n+=o[s](e,i,t,r,this):n+=this.renderToken(e,i,t,r)}return n};function Ruler(){this.__rules__=[],this.__cache__=null}Ruler.prototype.__find__=function(e){for(let t=0;t<this.__rules__.length;t++)if(this.__rules__[t].name===e)return t;return-1};Ruler.prototype.__compile__=function(){const e=this,t=[""];e.__rules__.forEach(function(r){r.enabled&&r.alt.forEach(function(n){t.indexOf(n)<0&&t.push(n)})}),e.__cache__={},t.forEach(function(r){e.__cache__[r]=[],e.__rules__.forEach(function(n){n.enabled&&(r&&n.alt.indexOf(r)<0||e.__cache__[r].push(n.fn))})})};Ruler.prototype.at=function(e,t,r){const n=this.__find__(e),o=r||{};if(n===-1)throw new Error("Parser rule not found: "+e);this.__rules__[n].fn=t,this.__rules__[n].alt=o.alt||[],this.__cache__=null};Ruler.prototype.before=function(e,t,r,n){const o=this.__find__(e),i=n||{};if(o===-1)throw new Error("Parser rule not found: "+e);this.__rules__.splice(o,0,{name:t,enabled:!0,fn:r,alt:i.alt||[]}),this.__cache__=null};Ruler.prototype.after=function(e,t,r,n){const o=this.__find__(e),i=n||{};if(o===-1)throw new Error("Parser rule not found: "+e);this.__rules__.splice(o+1,0,{name:t,enabled:!0,fn:r,alt:i.alt||[]}),this.__cache__=null};Ruler.prototype.push=function(e,t,r){const n=r||{};this.__rules__.push({name:e,enabled:!0,fn:t,alt:n.alt||[]}),this.__cache__=null};Ruler.prototype.enable=function(e,t){Array.isArray(e)||(e=[e]);const r=[];return e.forEach(function(n){const o=this.__find__(n);if(o<0){if(t)return;throw new Error("Rules manager: invalid rule name "+n)}this.__rules__[o].enabled=!0,r.push(n)},this),this.__cache__=null,r};Ruler.prototype.enableOnly=function(e,t){Array.isArray(e)||(e=[e]),this.__rules__.forEach(function(r){r.enabled=!1}),this.enable(e,t)};Ruler.prototype.disable=function(e,t){Array.isArray(e)||(e=[e]);const r=[];return e.forEach(function(n){const o=this.__find__(n);if(o<0){if(t)return;throw new Error("Rules manager: invalid rule name "+n)}this.__rules__[o].enabled=!1,r.push(n)},this),this.__cache__=null,r};Ruler.prototype.getRules=function(e){return this.__cache__===null&&this.__compile__(),this.__cache__[e]||[]};function Token(e,t,r){this.type=e,this.tag=t,this.attrs=null,this.map=null,this.nesting=r,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}Token.prototype.attrIndex=function e(t){if(!this.attrs)return-1;const r=this.attrs;for(let n=0,o=r.length;n<o;n++)if(r[n][0]===t)return n;return-1};Token.prototype.attrPush=function e(t){this.attrs?this.attrs.push(t):this.attrs=[t]};Token.prototype.attrSet=function e(t,r){const n=this.attrIndex(t),o=[t,r];n<0?this.attrPush(o):this.attrs[n]=o};Token.prototype.attrGet=function e(t){const r=this.attrIndex(t);let n=null;return r>=0&&(n=this.attrs[r][1]),n};Token.prototype.attrJoin=function e(t,r){const n=this.attrIndex(t);n<0?this.attrPush([t,r]):this.attrs[n][1]=this.attrs[n][1]+" "+r};function StateCore(e,t,r){this.src=e,this.env=r,this.tokens=[],this.inlineMode=!1,this.md=t}StateCore.prototype.Token=Token;const NEWLINES_RE=/\r\n?|\n/g,NULL_RE=/\0/g;function normalize(e){let t;t=e.src.replace(NEWLINES_RE,`
`),t=t.replace(NULL_RE,""),e.src=t}function block(e){let t;e.inlineMode?(t=new e.Token("inline","",0),t.content=e.src,t.map=[0,1],t.children=[],e.tokens.push(t)):e.md.block.parse(e.src,e.md,e.env,e.tokens)}function inline(e){const t=e.tokens;for(let r=0,n=t.length;r<n;r++){const o=t[r];o.type==="inline"&&e.md.inline.parse(o.content,e.md,e.env,o.children)}}function isLinkOpen$1(e){return/^<a[>\s]/i.test(e)}function isLinkClose$1(e){return/^<\/a\s*>/i.test(e)}function linkify$1(e){const t=e.tokens;if(e.md.options.linkify)for(let r=0,n=t.length;r<n;r++){if(t[r].type!=="inline"||!e.md.linkify.pretest(t[r].content))continue;let o=t[r].children,i=0;for(let a=o.length-1;a>=0;a--){const s=o[a];if(s.type==="link_close"){for(a--;o[a].level!==s.level&&o[a].type!=="link_open";)a--;continue}if(s.type==="html_inline"&&(isLinkOpen$1(s.content)&&i>0&&i--,isLinkClose$1(s.content)&&i++),!(i>0)&&s.type==="text"&&e.md.linkify.test(s.content)){const u=s.content;let c=e.md.linkify.match(u);const l=[];let d=s.level,g=0;c.length>0&&c[0].index===0&&a>0&&o[a-1].type==="text_special"&&(c=c.slice(1));for(let f=0;f<c.length;f++){const p=c[f].url,m=e.md.normalizeLink(p);if(!e.md.validateLink(m))continue;let x=c[f].text;c[f].schema?c[f].schema==="mailto:"&&!/^mailto:/i.test(x)?x=e.md.normalizeLinkText("mailto:"+x).replace(/^mailto:/,""):x=e.md.normalizeLinkText(x):x=e.md.normalizeLinkText("http://"+x).replace(/^http:\/\//,"");const y=c[f].index;if(y>g){const R=new e.Token("text","",0);R.content=u.slice(g,y),R.level=d,l.push(R)}const C=new e.Token("link_open","a",1);C.attrs=[["href",m]],C.level=d++,C.markup="linkify",C.info="auto",l.push(C);const $=new e.Token("text","",0);$.content=x,$.level=d,l.push($);const E=new e.Token("link_close","a",-1);E.level=--d,E.markup="linkify",E.info="auto",l.push(E),g=c[f].lastIndex}if(g<u.length){const f=new e.Token("text","",0);f.content=u.slice(g),f.level=d,l.push(f)}t[r].children=o=arrayReplaceAt(o,a,l)}}}}const RARE_RE=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,SCOPED_ABBR_TEST_RE=/\((c|tm|r)\)/i,SCOPED_ABBR_RE=/\((c|tm|r)\)/ig,SCOPED_ABBR={c:"",r:"",tm:""};function replaceFn(e,t){return SCOPED_ABBR[t.toLowerCase()]}function replace_scoped(e){let t=0;for(let r=e.length-1;r>=0;r--){const n=e[r];n.type==="text"&&!t&&(n.content=n.content.replace(SCOPED_ABBR_RE,replaceFn)),n.type==="link_open"&&n.info==="auto"&&t--,n.type==="link_close"&&n.info==="auto"&&t++}}function replace_rare(e){let t=0;for(let r=e.length-1;r>=0;r--){const n=e[r];n.type==="text"&&!t&&RARE_RE.test(n.content)&&(n.content=n.content.replace(/\+-/g,"").replace(/\.{2,}/g,"").replace(/([?!])/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/mg,"$1").replace(/(^|\s)--(?=\s|$)/mg,"$1").replace(/(^|[^-\s])--(?=[^-\s]|$)/mg,"$1")),n.type==="link_open"&&n.info==="auto"&&t--,n.type==="link_close"&&n.info==="auto"&&t++}}function replace(e){let t;if(e.md.options.typographer)for(t=e.tokens.length-1;t>=0;t--)e.tokens[t].type==="inline"&&(SCOPED_ABBR_TEST_RE.test(e.tokens[t].content)&&replace_scoped(e.tokens[t].children),RARE_RE.test(e.tokens[t].content)&&replace_rare(e.tokens[t].children))}const QUOTE_TEST_RE=/['"]/,QUOTE_RE=/['"]/g,APOSTROPHE="";function replaceAt(e,t,r){return e.slice(0,t)+r+e.slice(t+1)}function process_inlines(e,t){let r;const n=[];for(let o=0;o<e.length;o++){const i=e[o],a=e[o].level;for(r=n.length-1;r>=0&&!(n[r].level<=a);r--);if(n.length=r+1,i.type!=="text")continue;let s=i.content,u=0,c=s.length;e:for(;u<c;){QUOTE_RE.lastIndex=u;const l=QUOTE_RE.exec(s);if(!l)break;let d=!0,g=!0;u=l.index+1;const f=l[0]==="'";let p=32;if(l.index-1>=0)p=s.charCodeAt(l.index-1);else for(r=o-1;r>=0&&!(e[r].type==="softbreak"||e[r].type==="hardbreak");r--)if(e[r].content){p=e[r].content.charCodeAt(e[r].content.length-1);break}let m=32;if(u<c)m=s.charCodeAt(u);else for(r=o+1;r<e.length&&!(e[r].type==="softbreak"||e[r].type==="hardbreak");r++)if(e[r].content){m=e[r].content.charCodeAt(0);break}const x=isMdAsciiPunct(p)||isPunctChar(String.fromCharCode(p)),y=isMdAsciiPunct(m)||isPunctChar(String.fromCharCode(m)),C=isWhiteSpace(p),$=isWhiteSpace(m);if($?d=!1:y&&(C||x||(d=!1)),C?g=!1:x&&($||y||(g=!1)),m===34&&l[0]==='"'&&p>=48&&p<=57&&(g=d=!1),d&&g&&(d=x,g=y),!d&&!g){f&&(i.content=replaceAt(i.content,l.index,APOSTROPHE));continue}if(g)for(r=n.length-1;r>=0;r--){let E=n[r];if(n[r].level<a)break;if(E.single===f&&n[r].level===a){E=n[r];let R,B;f?(R=t.md.options.quotes[2],B=t.md.options.quotes[3]):(R=t.md.options.quotes[0],B=t.md.options.quotes[1]),i.content=replaceAt(i.content,l.index,B),e[E.token].content=replaceAt(e[E.token].content,E.pos,R),u+=B.length-1,E.token===o&&(u+=R.length-1),s=i.content,c=s.length,n.length=r;continue e}}d?n.push({token:o,pos:l.index,single:f,level:a}):g&&f&&(i.content=replaceAt(i.content,l.index,APOSTROPHE))}}}function smartquotes(e){if(e.md.options.typographer)for(let t=e.tokens.length-1;t>=0;t--)e.tokens[t].type!=="inline"||!QUOTE_TEST_RE.test(e.tokens[t].content)||process_inlines(e.tokens[t].children,e)}function text_join(e){let t,r;const n=e.tokens,o=n.length;for(let i=0;i<o;i++){if(n[i].type!=="inline")continue;const a=n[i].children,s=a.length;for(t=0;t<s;t++)a[t].type==="text_special"&&(a[t].type="text");for(t=r=0;t<s;t++)a[t].type==="text"&&t+1<s&&a[t+1].type==="text"?a[t+1].content=a[t].content+a[t+1].content:(t!==r&&(a[r]=a[t]),r++);t!==r&&(a.length=r)}}const _rules$2=[["normalize",normalize],["block",block],["inline",inline],["linkify",linkify$1],["replacements",replace],["smartquotes",smartquotes],["text_join",text_join]];function Core(){this.ruler=new Ruler;for(let e=0;e<_rules$2.length;e++)this.ruler.push(_rules$2[e][0],_rules$2[e][1])}Core.prototype.process=function(e){const t=this.ruler.getRules("");for(let r=0,n=t.length;r<n;r++)t[r](e)};Core.prototype.State=StateCore;function StateBlock(e,t,r,n){this.src=e,this.md=t,this.env=r,this.tokens=n,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0;const o=this.src;for(let i=0,a=0,s=0,u=0,c=o.length,l=!1;a<c;a++){const d=o.charCodeAt(a);if(!l)if(isSpace(d)){s++,d===9?u+=4-u%4:u++;continue}else l=!0;(d===10||a===c-1)&&(d!==10&&a++,this.bMarks.push(i),this.eMarks.push(a),this.tShift.push(s),this.sCount.push(u),this.bsCount.push(0),l=!1,s=0,u=0,i=a+1)}this.bMarks.push(o.length),this.eMarks.push(o.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}StateBlock.prototype.push=function(e,t,r){const n=new Token(e,t,r);return n.block=!0,r<0&&this.level--,n.level=this.level,r>0&&this.level++,this.tokens.push(n),n};StateBlock.prototype.isEmpty=function e(t){return this.bMarks[t]+this.tShift[t]>=this.eMarks[t]};StateBlock.prototype.skipEmptyLines=function e(t){for(let r=this.lineMax;t<r&&!(this.bMarks[t]+this.tShift[t]<this.eMarks[t]);t++);return t};StateBlock.prototype.skipSpaces=function e(t){for(let r=this.src.length;t<r;t++){const n=this.src.charCodeAt(t);if(!isSpace(n))break}return t};StateBlock.prototype.skipSpacesBack=function e(t,r){if(t<=r)return t;for(;t>r;)if(!isSpace(this.src.charCodeAt(--t)))return t+1;return t};StateBlock.prototype.skipChars=function e(t,r){for(let n=this.src.length;t<n&&this.src.charCodeAt(t)===r;t++);return t};StateBlock.prototype.skipCharsBack=function e(t,r,n){if(t<=n)return t;for(;t>n;)if(r!==this.src.charCodeAt(--t))return t+1;return t};StateBlock.prototype.getLines=function e(t,r,n,o){if(t>=r)return"";const i=new Array(r-t);for(let a=0,s=t;s<r;s++,a++){let u=0;const c=this.bMarks[s];let l=c,d;for(s+1<r||o?d=this.eMarks[s]+1:d=this.eMarks[s];l<d&&u<n;){const g=this.src.charCodeAt(l);if(isSpace(g))g===9?u+=4-(u+this.bsCount[s])%4:u++;else if(l-c<this.tShift[s])u++;else break;l++}u>n?i[a]=new Array(u-n+1).join(" ")+this.src.slice(l,d):i[a]=this.src.slice(l,d)}return i.join("")};StateBlock.prototype.Token=Token;const MAX_AUTOCOMPLETED_CELLS=65536;function getLine(e,t){const r=e.bMarks[t]+e.tShift[t],n=e.eMarks[t];return e.src.slice(r,n)}function escapedSplit(e){const t=[],r=e.length;let n=0,o=e.charCodeAt(n),i=!1,a=0,s="";for(;n<r;)o===124&&(i?(s+=e.substring(a,n-1),a=n):(t.push(s+e.substring(a,n)),s="",a=n+1)),i=o===92,n++,o=e.charCodeAt(n);return t.push(s+e.substring(a)),t}function table(e,t,r,n){if(t+2>r)return!1;let o=t+1;if(e.sCount[o]<e.blkIndent||e.sCount[o]-e.blkIndent>=4)return!1;let i=e.bMarks[o]+e.tShift[o];if(i>=e.eMarks[o])return!1;const a=e.src.charCodeAt(i++);if(a!==124&&a!==45&&a!==58||i>=e.eMarks[o])return!1;const s=e.src.charCodeAt(i++);if(s!==124&&s!==45&&s!==58&&!isSpace(s)||a===45&&isSpace(s))return!1;for(;i<e.eMarks[o];){const E=e.src.charCodeAt(i);if(E!==124&&E!==45&&E!==58&&!isSpace(E))return!1;i++}let u=getLine(e,t+1),c=u.split("|");const l=[];for(let E=0;E<c.length;E++){const R=c[E].trim();if(!R){if(E===0||E===c.length-1)continue;return!1}if(!/^:?-+:?$/.test(R))return!1;R.charCodeAt(R.length-1)===58?l.push(R.charCodeAt(0)===58?"center":"right"):R.charCodeAt(0)===58?l.push("left"):l.push("")}if(u=getLine(e,t).trim(),u.indexOf("|")===-1||e.sCount[t]-e.blkIndent>=4)return!1;c=escapedSplit(u),c.length&&c[0]===""&&c.shift(),c.length&&c[c.length-1]===""&&c.pop();const d=c.length;if(d===0||d!==l.length)return!1;if(n)return!0;const g=e.parentType;e.parentType="table";const f=e.md.block.ruler.getRules("blockquote"),p=e.push("table_open","table",1),m=[t,0];p.map=m;const x=e.push("thead_open","thead",1);x.map=[t,t+1];const y=e.push("tr_open","tr",1);y.map=[t,t+1];for(let E=0;E<c.length;E++){const R=e.push("th_open","th",1);l[E]&&(R.attrs=[["style","text-align:"+l[E]]]);const B=e.push("inline","",0);B.content=c[E].trim(),B.children=[],e.push("th_close","th",-1)}e.push("tr_close","tr",-1),e.push("thead_close","thead",-1);let C,$=0;for(o=t+2;o<r&&!(e.sCount[o]<e.blkIndent);o++){let E=!1;for(let B=0,F=f.length;B<F;B++)if(f[B](e,o,r,!0)){E=!0;break}if(E||(u=getLine(e,o).trim(),!u)||e.sCount[o]-e.blkIndent>=4||(c=escapedSplit(u),c.length&&c[0]===""&&c.shift(),c.length&&c[c.length-1]===""&&c.pop(),$+=d-c.length,$>MAX_AUTOCOMPLETED_CELLS))break;if(o===t+2){const B=e.push("tbody_open","tbody",1);B.map=C=[t+2,0]}const R=e.push("tr_open","tr",1);R.map=[o,o+1];for(let B=0;B<d;B++){const F=e.push("td_open","td",1);l[B]&&(F.attrs=[["style","text-align:"+l[B]]]);const N=e.push("inline","",0);N.content=c[B]?c[B].trim():"",N.children=[],e.push("td_close","td",-1)}e.push("tr_close","tr",-1)}return C&&(e.push("tbody_close","tbody",-1),C[1]=o),e.push("table_close","table",-1),m[1]=o,e.parentType=g,e.line=o,!0}function code(e,t,r){if(e.sCount[t]-e.blkIndent<4)return!1;let n=t+1,o=n;for(;n<r;){if(e.isEmpty(n)){n++;continue}if(e.sCount[n]-e.blkIndent>=4){n++,o=n;continue}break}e.line=o;const i=e.push("code_block","code",0);return i.content=e.getLines(t,o,4+e.blkIndent,!1)+`
`,i.map=[t,e.line],!0}function fence(e,t,r,n){let o=e.bMarks[t]+e.tShift[t],i=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4||o+3>i)return!1;const a=e.src.charCodeAt(o);if(a!==126&&a!==96)return!1;let s=o;o=e.skipChars(o,a);let u=o-s;if(u<3)return!1;const c=e.src.slice(s,o),l=e.src.slice(o,i);if(a===96&&l.indexOf(String.fromCharCode(a))>=0)return!1;if(n)return!0;let d=t,g=!1;for(;d++,!(d>=r||(o=s=e.bMarks[d]+e.tShift[d],i=e.eMarks[d],o<i&&e.sCount[d]<e.blkIndent));)if(e.src.charCodeAt(o)===a&&!(e.sCount[d]-e.blkIndent>=4)&&(o=e.skipChars(o,a),!(o-s<u)&&(o=e.skipSpaces(o),!(o<i)))){g=!0;break}u=e.sCount[t],e.line=d+(g?1:0);const f=e.push("fence","code",0);return f.info=l,f.content=e.getLines(t+1,d,u,!0),f.markup=c,f.map=[t,e.line],!0}function blockquote(e,t,r,n){let o=e.bMarks[t]+e.tShift[t],i=e.eMarks[t];const a=e.lineMax;if(e.sCount[t]-e.blkIndent>=4||e.src.charCodeAt(o)!==62)return!1;if(n)return!0;const s=[],u=[],c=[],l=[],d=e.md.block.ruler.getRules("blockquote"),g=e.parentType;e.parentType="blockquote";let f=!1,p;for(p=t;p<r;p++){const $=e.sCount[p]<e.blkIndent;if(o=e.bMarks[p]+e.tShift[p],i=e.eMarks[p],o>=i)break;if(e.src.charCodeAt(o++)===62&&!$){let R=e.sCount[p]+1,B,F;e.src.charCodeAt(o)===32?(o++,R++,F=!1,B=!0):e.src.charCodeAt(o)===9?(B=!0,(e.bsCount[p]+R)%4===3?(o++,R++,F=!1):F=!0):B=!1;let N=R;for(s.push(e.bMarks[p]),e.bMarks[p]=o;o<i;){const I=e.src.charCodeAt(o);if(isSpace(I))I===9?N+=4-(N+e.bsCount[p]+(F?1:0))%4:N++;else break;o++}f=o>=i,u.push(e.bsCount[p]),e.bsCount[p]=e.sCount[p]+1+(B?1:0),c.push(e.sCount[p]),e.sCount[p]=N-R,l.push(e.tShift[p]),e.tShift[p]=o-e.bMarks[p];continue}if(f)break;let E=!1;for(let R=0,B=d.length;R<B;R++)if(d[R](e,p,r,!0)){E=!0;break}if(E){e.lineMax=p,e.blkIndent!==0&&(s.push(e.bMarks[p]),u.push(e.bsCount[p]),l.push(e.tShift[p]),c.push(e.sCount[p]),e.sCount[p]-=e.blkIndent);break}s.push(e.bMarks[p]),u.push(e.bsCount[p]),l.push(e.tShift[p]),c.push(e.sCount[p]),e.sCount[p]=-1}const m=e.blkIndent;e.blkIndent=0;const x=e.push("blockquote_open","blockquote",1);x.markup=">";const y=[t,0];x.map=y,e.md.block.tokenize(e,t,p);const C=e.push("blockquote_close","blockquote",-1);C.markup=">",e.lineMax=a,e.parentType=g,y[1]=e.line;for(let $=0;$<l.length;$++)e.bMarks[$+t]=s[$],e.tShift[$+t]=l[$],e.sCount[$+t]=c[$],e.bsCount[$+t]=u[$];return e.blkIndent=m,!0}function hr(e,t,r,n){const o=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;let i=e.bMarks[t]+e.tShift[t];const a=e.src.charCodeAt(i++);if(a!==42&&a!==45&&a!==95)return!1;let s=1;for(;i<o;){const c=e.src.charCodeAt(i++);if(c!==a&&!isSpace(c))return!1;c===a&&s++}if(s<3)return!1;if(n)return!0;e.line=t+1;const u=e.push("hr","hr",0);return u.map=[t,e.line],u.markup=Array(s+1).join(String.fromCharCode(a)),!0}function skipBulletListMarker(e,t){const r=e.eMarks[t];let n=e.bMarks[t]+e.tShift[t];const o=e.src.charCodeAt(n++);if(o!==42&&o!==45&&o!==43)return-1;if(n<r){const i=e.src.charCodeAt(n);if(!isSpace(i))return-1}return n}function skipOrderedListMarker(e,t){const r=e.bMarks[t]+e.tShift[t],n=e.eMarks[t];let o=r;if(o+1>=n)return-1;let i=e.src.charCodeAt(o++);if(i<48||i>57)return-1;for(;;){if(o>=n)return-1;if(i=e.src.charCodeAt(o++),i>=48&&i<=57){if(o-r>=10)return-1;continue}if(i===41||i===46)break;return-1}return o<n&&(i=e.src.charCodeAt(o),!isSpace(i))?-1:o}function markTightParagraphs(e,t){const r=e.level+2;for(let n=t+2,o=e.tokens.length-2;n<o;n++)e.tokens[n].level===r&&e.tokens[n].type==="paragraph_open"&&(e.tokens[n+2].hidden=!0,e.tokens[n].hidden=!0,n+=2)}function list(e,t,r,n){let o,i,a,s,u=t,c=!0;if(e.sCount[u]-e.blkIndent>=4||e.listIndent>=0&&e.sCount[u]-e.listIndent>=4&&e.sCount[u]<e.blkIndent)return!1;let l=!1;n&&e.parentType==="paragraph"&&e.sCount[u]>=e.blkIndent&&(l=!0);let d,g,f;if((f=skipOrderedListMarker(e,u))>=0){if(d=!0,a=e.bMarks[u]+e.tShift[u],g=Number(e.src.slice(a,f-1)),l&&g!==1)return!1}else if((f=skipBulletListMarker(e,u))>=0)d=!1;else return!1;if(l&&e.skipSpaces(f)>=e.eMarks[u])return!1;if(n)return!0;const p=e.src.charCodeAt(f-1),m=e.tokens.length;d?(s=e.push("ordered_list_open","ol",1),g!==1&&(s.attrs=[["start",g]])):s=e.push("bullet_list_open","ul",1);const x=[u,0];s.map=x,s.markup=String.fromCharCode(p);let y=!1;const C=e.md.block.ruler.getRules("list"),$=e.parentType;for(e.parentType="list";u<r;){i=f,o=e.eMarks[u];const E=e.sCount[u]+f-(e.bMarks[u]+e.tShift[u]);let R=E;for(;i<o;){const z=e.src.charCodeAt(i);if(z===9)R+=4-(R+e.bsCount[u])%4;else if(z===32)R++;else break;i++}const B=i;let F;B>=o?F=1:F=R-E,F>4&&(F=1);const N=E+F;s=e.push("list_item_open","li",1),s.markup=String.fromCharCode(p);const I=[u,0];s.map=I,d&&(s.info=e.src.slice(a,f-1));const T=e.tight,D=e.tShift[u],U=e.sCount[u],W=e.listIndent;if(e.listIndent=e.blkIndent,e.blkIndent=N,e.tight=!0,e.tShift[u]=B-e.bMarks[u],e.sCount[u]=R,B>=o&&e.isEmpty(u+1)?e.line=Math.min(e.line+2,r):e.md.block.tokenize(e,u,r,!0),(!e.tight||y)&&(c=!1),y=e.line-u>1&&e.isEmpty(e.line-1),e.blkIndent=e.listIndent,e.listIndent=W,e.tShift[u]=D,e.sCount[u]=U,e.tight=T,s=e.push("list_item_close","li",-1),s.markup=String.fromCharCode(p),u=e.line,I[1]=u,u>=r||e.sCount[u]<e.blkIndent||e.sCount[u]-e.blkIndent>=4)break;let q=!1;for(let z=0,J=C.length;z<J;z++)if(C[z](e,u,r,!0)){q=!0;break}if(q)break;if(d){if(f=skipOrderedListMarker(e,u),f<0)break;a=e.bMarks[u]+e.tShift[u]}else if(f=skipBulletListMarker(e,u),f<0)break;if(p!==e.src.charCodeAt(f-1))break}return d?s=e.push("ordered_list_close","ol",-1):s=e.push("bullet_list_close","ul",-1),s.markup=String.fromCharCode(p),x[1]=u,e.line=u,e.parentType=$,c&&markTightParagraphs(e,m),!0}function reference(e,t,r,n){let o=e.bMarks[t]+e.tShift[t],i=e.eMarks[t],a=t+1;if(e.sCount[t]-e.blkIndent>=4||e.src.charCodeAt(o)!==91)return!1;function s(C){const $=e.lineMax;if(C>=$||e.isEmpty(C))return null;let E=!1;if(e.sCount[C]-e.blkIndent>3&&(E=!0),e.sCount[C]<0&&(E=!0),!E){const F=e.md.block.ruler.getRules("reference"),N=e.parentType;e.parentType="reference";let I=!1;for(let T=0,D=F.length;T<D;T++)if(F[T](e,C,$,!0)){I=!0;break}if(e.parentType=N,I)return null}const R=e.bMarks[C]+e.tShift[C],B=e.eMarks[C];return e.src.slice(R,B+1)}let u=e.src.slice(o,i+1);i=u.length;let c=-1;for(o=1;o<i;o++){const C=u.charCodeAt(o);if(C===91)return!1;if(C===93){c=o;break}else if(C===10){const $=s(a);$!==null&&(u+=$,i=u.length,a++)}else if(C===92&&(o++,o<i&&u.charCodeAt(o)===10)){const $=s(a);$!==null&&(u+=$,i=u.length,a++)}}if(c<0||u.charCodeAt(c+1)!==58)return!1;for(o=c+2;o<i;o++){const C=u.charCodeAt(o);if(C===10){const $=s(a);$!==null&&(u+=$,i=u.length,a++)}else if(!isSpace(C))break}const l=e.md.helpers.parseLinkDestination(u,o,i);if(!l.ok)return!1;const d=e.md.normalizeLink(l.str);if(!e.md.validateLink(d))return!1;o=l.pos;const g=o,f=a,p=o;for(;o<i;o++){const C=u.charCodeAt(o);if(C===10){const $=s(a);$!==null&&(u+=$,i=u.length,a++)}else if(!isSpace(C))break}let m=e.md.helpers.parseLinkTitle(u,o,i);for(;m.can_continue;){const C=s(a);if(C===null)break;u+=C,o=i,i=u.length,a++,m=e.md.helpers.parseLinkTitle(u,o,i,m)}let x;for(o<i&&p!==o&&m.ok?(x=m.str,o=m.pos):(x="",o=g,a=f);o<i;){const C=u.charCodeAt(o);if(!isSpace(C))break;o++}if(o<i&&u.charCodeAt(o)!==10&&x)for(x="",o=g,a=f;o<i;){const C=u.charCodeAt(o);if(!isSpace(C))break;o++}if(o<i&&u.charCodeAt(o)!==10)return!1;const y=normalizeReference(u.slice(1,c));return y?(n||(typeof e.env.references>"u"&&(e.env.references={}),typeof e.env.references[y]>"u"&&(e.env.references[y]={title:x,href:d}),e.line=a),!0):!1}const block_names=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],attr_name="[a-zA-Z_:][a-zA-Z0-9:._-]*",unquoted="[^\"'=<>`\\x00-\\x20]+",single_quoted="'[^']*'",double_quoted='"[^"]*"',attr_value="(?:"+unquoted+"|"+single_quoted+"|"+double_quoted+")",attribute="(?:\\s+"+attr_name+"(?:\\s*=\\s*"+attr_value+")?)",open_tag="<[A-Za-z][A-Za-z0-9\\-]*"+attribute+"*\\s*\\/?>",close_tag="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",comment="<!---?>|<!--(?:[^-]|-[^-]|--[^>])*-->",processing="<[?][\\s\\S]*?[?]>",declaration="<![A-Za-z][^>]*>",cdata="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",HTML_TAG_RE=new RegExp("^(?:"+open_tag+"|"+close_tag+"|"+comment+"|"+processing+"|"+declaration+"|"+cdata+")"),HTML_OPEN_CLOSE_TAG_RE=new RegExp("^(?:"+open_tag+"|"+close_tag+")"),HTML_SEQUENCES=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+block_names.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(HTML_OPEN_CLOSE_TAG_RE.source+"\\s*$"),/^$/,!1]];function html_block(e,t,r,n){let o=e.bMarks[t]+e.tShift[t],i=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4||!e.md.options.html||e.src.charCodeAt(o)!==60)return!1;let a=e.src.slice(o,i),s=0;for(;s<HTML_SEQUENCES.length&&!HTML_SEQUENCES[s][0].test(a);s++);if(s===HTML_SEQUENCES.length)return!1;if(n)return HTML_SEQUENCES[s][2];let u=t+1;if(!HTML_SEQUENCES[s][1].test(a)){for(;u<r&&!(e.sCount[u]<e.blkIndent);u++)if(o=e.bMarks[u]+e.tShift[u],i=e.eMarks[u],a=e.src.slice(o,i),HTML_SEQUENCES[s][1].test(a)){a.length!==0&&u++;break}}e.line=u;const c=e.push("html_block","",0);return c.map=[t,u],c.content=e.getLines(t,u,e.blkIndent,!0),!0}function heading(e,t,r,n){let o=e.bMarks[t]+e.tShift[t],i=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;let a=e.src.charCodeAt(o);if(a!==35||o>=i)return!1;let s=1;for(a=e.src.charCodeAt(++o);a===35&&o<i&&s<=6;)s++,a=e.src.charCodeAt(++o);if(s>6||o<i&&!isSpace(a))return!1;if(n)return!0;i=e.skipSpacesBack(i,o);const u=e.skipCharsBack(i,35,o);u>o&&isSpace(e.src.charCodeAt(u-1))&&(i=u),e.line=t+1;const c=e.push("heading_open","h"+String(s),1);c.markup="########".slice(0,s),c.map=[t,e.line];const l=e.push("inline","",0);l.content=e.src.slice(o,i).trim(),l.map=[t,e.line],l.children=[];const d=e.push("heading_close","h"+String(s),-1);return d.markup="########".slice(0,s),!0}function lheading(e,t,r){const n=e.md.block.ruler.getRules("paragraph");if(e.sCount[t]-e.blkIndent>=4)return!1;const o=e.parentType;e.parentType="paragraph";let i=0,a,s=t+1;for(;s<r&&!e.isEmpty(s);s++){if(e.sCount[s]-e.blkIndent>3)continue;if(e.sCount[s]>=e.blkIndent){let f=e.bMarks[s]+e.tShift[s];const p=e.eMarks[s];if(f<p&&(a=e.src.charCodeAt(f),(a===45||a===61)&&(f=e.skipChars(f,a),f=e.skipSpaces(f),f>=p))){i=a===61?1:2;break}}if(e.sCount[s]<0)continue;let g=!1;for(let f=0,p=n.length;f<p;f++)if(n[f](e,s,r,!0)){g=!0;break}if(g)break}if(!i)return!1;const u=e.getLines(t,s,e.blkIndent,!1).trim();e.line=s+1;const c=e.push("heading_open","h"+String(i),1);c.markup=String.fromCharCode(a),c.map=[t,e.line];const l=e.push("inline","",0);l.content=u,l.map=[t,e.line-1],l.children=[];const d=e.push("heading_close","h"+String(i),-1);return d.markup=String.fromCharCode(a),e.parentType=o,!0}function paragraph(e,t,r){const n=e.md.block.ruler.getRules("paragraph"),o=e.parentType;let i=t+1;for(e.parentType="paragraph";i<r&&!e.isEmpty(i);i++){if(e.sCount[i]-e.blkIndent>3||e.sCount[i]<0)continue;let c=!1;for(let l=0,d=n.length;l<d;l++)if(n[l](e,i,r,!0)){c=!0;break}if(c)break}const a=e.getLines(t,i,e.blkIndent,!1).trim();e.line=i;const s=e.push("paragraph_open","p",1);s.map=[t,e.line];const u=e.push("inline","",0);return u.content=a,u.map=[t,e.line],u.children=[],e.push("paragraph_close","p",-1),e.parentType=o,!0}const _rules$1=[["table",table,["paragraph","reference"]],["code",code],["fence",fence,["paragraph","reference","blockquote","list"]],["blockquote",blockquote,["paragraph","reference","blockquote","list"]],["hr",hr,["paragraph","reference","blockquote","list"]],["list",list,["paragraph","reference","blockquote"]],["reference",reference],["html_block",html_block,["paragraph","reference","blockquote"]],["heading",heading,["paragraph","reference","blockquote"]],["lheading",lheading],["paragraph",paragraph]];function ParserBlock(){this.ruler=new Ruler;for(let e=0;e<_rules$1.length;e++)this.ruler.push(_rules$1[e][0],_rules$1[e][1],{alt:(_rules$1[e][2]||[]).slice()})}ParserBlock.prototype.tokenize=function(e,t,r){const n=this.ruler.getRules(""),o=n.length,i=e.md.options.maxNesting;let a=t,s=!1;for(;a<r&&(e.line=a=e.skipEmptyLines(a),!(a>=r||e.sCount[a]<e.blkIndent));){if(e.level>=i){e.line=r;break}const u=e.line;let c=!1;for(let l=0;l<o;l++)if(c=n[l](e,a,r,!1),c){if(u>=e.line)throw new Error("block rule didn't increment state.line");break}if(!c)throw new Error("none of the block rules matched");e.tight=!s,e.isEmpty(e.line-1)&&(s=!0),a=e.line,a<r&&e.isEmpty(a)&&(s=!0,a++,e.line=a)}};ParserBlock.prototype.parse=function(e,t,r,n){if(!e)return;const o=new this.State(e,t,r,n);this.tokenize(o,o.line,o.lineMax)};ParserBlock.prototype.State=StateBlock;function StateInline(e,t,r,n){this.src=e,this.env=r,this.md=t,this.tokens=n,this.tokens_meta=Array(n.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1,this.linkLevel=0}StateInline.prototype.pushPending=function(){const e=new Token("text","",0);return e.content=this.pending,e.level=this.pendingLevel,this.tokens.push(e),this.pending="",e};StateInline.prototype.push=function(e,t,r){this.pending&&this.pushPending();const n=new Token(e,t,r);let o=null;return r<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),n.level=this.level,r>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],o={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(n),this.tokens_meta.push(o),n};StateInline.prototype.scanDelims=function(e,t){const r=this.posMax,n=this.src.charCodeAt(e),o=e>0?this.src.charCodeAt(e-1):32;let i=e;for(;i<r&&this.src.charCodeAt(i)===n;)i++;const a=i-e,s=i<r?this.src.charCodeAt(i):32,u=isMdAsciiPunct(o)||isPunctChar(String.fromCharCode(o)),c=isMdAsciiPunct(s)||isPunctChar(String.fromCharCode(s)),l=isWhiteSpace(o),d=isWhiteSpace(s),g=!d&&(!c||l||u),f=!l&&(!u||d||c);return{can_open:g&&(t||!f||u),can_close:f&&(t||!g||c),length:a}};StateInline.prototype.Token=Token;function isTerminatorChar(e){switch(e){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}function text(e,t){let r=e.pos;for(;r<e.posMax&&!isTerminatorChar(e.src.charCodeAt(r));)r++;return r===e.pos?!1:(t||(e.pending+=e.src.slice(e.pos,r)),e.pos=r,!0)}const SCHEME_RE=/(?:^|[^a-z0-9.+-])([a-z][a-z0-9.+-]*)$/i;function linkify(e,t){if(!e.md.options.linkify||e.linkLevel>0)return!1;const r=e.pos,n=e.posMax;if(r+3>n||e.src.charCodeAt(r)!==58||e.src.charCodeAt(r+1)!==47||e.src.charCodeAt(r+2)!==47)return!1;const o=e.pending.match(SCHEME_RE);if(!o)return!1;const i=o[1],a=e.md.linkify.matchAtStart(e.src.slice(r-i.length));if(!a)return!1;let s=a.url;if(s.length<=i.length)return!1;s=s.replace(/\*+$/,"");const u=e.md.normalizeLink(s);if(!e.md.validateLink(u))return!1;if(!t){e.pending=e.pending.slice(0,-i.length);const c=e.push("link_open","a",1);c.attrs=[["href",u]],c.markup="linkify",c.info="auto";const l=e.push("text","",0);l.content=e.md.normalizeLinkText(s);const d=e.push("link_close","a",-1);d.markup="linkify",d.info="auto"}return e.pos+=s.length-i.length,!0}function newline(e,t){let r=e.pos;if(e.src.charCodeAt(r)!==10)return!1;const n=e.pending.length-1,o=e.posMax;if(!t)if(n>=0&&e.pending.charCodeAt(n)===32)if(n>=1&&e.pending.charCodeAt(n-1)===32){let i=n-1;for(;i>=1&&e.pending.charCodeAt(i-1)===32;)i--;e.pending=e.pending.slice(0,i),e.push("hardbreak","br",0)}else e.pending=e.pending.slice(0,-1),e.push("softbreak","br",0);else e.push("softbreak","br",0);for(r++;r<o&&isSpace(e.src.charCodeAt(r));)r++;return e.pos=r,!0}const ESCAPED=[];for(let e=0;e<256;e++)ESCAPED.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(e){ESCAPED[e.charCodeAt(0)]=1});function escape$1(e,t){let r=e.pos;const n=e.posMax;if(e.src.charCodeAt(r)!==92||(r++,r>=n))return!1;let o=e.src.charCodeAt(r);if(o===10){for(t||e.push("hardbreak","br",0),r++;r<n&&(o=e.src.charCodeAt(r),!!isSpace(o));)r++;return e.pos=r,!0}let i=e.src[r];if(o>=55296&&o<=56319&&r+1<n){const s=e.src.charCodeAt(r+1);s>=56320&&s<=57343&&(i+=e.src[r+1],r++)}const a="\\"+i;if(!t){const s=e.push("text_special","",0);o<256&&ESCAPED[o]!==0?s.content=i:s.content=a,s.markup=a,s.info="escape"}return e.pos=r+1,!0}function backtick(e,t){let r=e.pos;if(e.src.charCodeAt(r)!==96)return!1;const o=r;r++;const i=e.posMax;for(;r<i&&e.src.charCodeAt(r)===96;)r++;const a=e.src.slice(o,r),s=a.length;if(e.backticksScanned&&(e.backticks[s]||0)<=o)return t||(e.pending+=a),e.pos+=s,!0;let u=r,c;for(;(c=e.src.indexOf("`",u))!==-1;){for(u=c+1;u<i&&e.src.charCodeAt(u)===96;)u++;const l=u-c;if(l===s){if(!t){const d=e.push("code_inline","code",0);d.markup=a,d.content=e.src.slice(r,c).replace(/\n/g," ").replace(/^ (.+) $/,"$1")}return e.pos=u,!0}e.backticks[l]=c}return e.backticksScanned=!0,t||(e.pending+=a),e.pos+=s,!0}function strikethrough_tokenize(e,t){const r=e.pos,n=e.src.charCodeAt(r);if(t||n!==126)return!1;const o=e.scanDelims(e.pos,!0);let i=o.length;const a=String.fromCharCode(n);if(i<2)return!1;let s;i%2&&(s=e.push("text","",0),s.content=a,i--);for(let u=0;u<i;u+=2)s=e.push("text","",0),s.content=a+a,e.delimiters.push({marker:n,length:0,token:e.tokens.length-1,end:-1,open:o.can_open,close:o.can_close});return e.pos+=o.length,!0}function postProcess$1(e,t){let r;const n=[],o=t.length;for(let i=0;i<o;i++){const a=t[i];if(a.marker!==126||a.end===-1)continue;const s=t[a.end];r=e.tokens[a.token],r.type="s_open",r.tag="s",r.nesting=1,r.markup="~~",r.content="",r=e.tokens[s.token],r.type="s_close",r.tag="s",r.nesting=-1,r.markup="~~",r.content="",e.tokens[s.token-1].type==="text"&&e.tokens[s.token-1].content==="~"&&n.push(s.token-1)}for(;n.length;){const i=n.pop();let a=i+1;for(;a<e.tokens.length&&e.tokens[a].type==="s_close";)a++;a--,i!==a&&(r=e.tokens[a],e.tokens[a]=e.tokens[i],e.tokens[i]=r)}}function strikethrough_postProcess(e){const t=e.tokens_meta,r=e.tokens_meta.length;postProcess$1(e,e.delimiters);for(let n=0;n<r;n++)t[n]&&t[n].delimiters&&postProcess$1(e,t[n].delimiters)}const r_strikethrough={tokenize:strikethrough_tokenize,postProcess:strikethrough_postProcess};function emphasis_tokenize(e,t){const r=e.pos,n=e.src.charCodeAt(r);if(t||n!==95&&n!==42)return!1;const o=e.scanDelims(e.pos,n===42);for(let i=0;i<o.length;i++){const a=e.push("text","",0);a.content=String.fromCharCode(n),e.delimiters.push({marker:n,length:o.length,token:e.tokens.length-1,end:-1,open:o.can_open,close:o.can_close})}return e.pos+=o.length,!0}function postProcess(e,t){const r=t.length;for(let n=r-1;n>=0;n--){const o=t[n];if(o.marker!==95&&o.marker!==42||o.end===-1)continue;const i=t[o.end],a=n>0&&t[n-1].end===o.end+1&&t[n-1].marker===o.marker&&t[n-1].token===o.token-1&&t[o.end+1].token===i.token+1,s=String.fromCharCode(o.marker),u=e.tokens[o.token];u.type=a?"strong_open":"em_open",u.tag=a?"strong":"em",u.nesting=1,u.markup=a?s+s:s,u.content="";const c=e.tokens[i.token];c.type=a?"strong_close":"em_close",c.tag=a?"strong":"em",c.nesting=-1,c.markup=a?s+s:s,c.content="",a&&(e.tokens[t[n-1].token].content="",e.tokens[t[o.end+1].token].content="",n--)}}function emphasis_post_process(e){const t=e.tokens_meta,r=e.tokens_meta.length;postProcess(e,e.delimiters);for(let n=0;n<r;n++)t[n]&&t[n].delimiters&&postProcess(e,t[n].delimiters)}const r_emphasis={tokenize:emphasis_tokenize,postProcess:emphasis_post_process};function link(e,t){let r,n,o,i,a="",s="",u=e.pos,c=!0;if(e.src.charCodeAt(e.pos)!==91)return!1;const l=e.pos,d=e.posMax,g=e.pos+1,f=e.md.helpers.parseLinkLabel(e,e.pos,!0);if(f<0)return!1;let p=f+1;if(p<d&&e.src.charCodeAt(p)===40){for(c=!1,p++;p<d&&(r=e.src.charCodeAt(p),!(!isSpace(r)&&r!==10));p++);if(p>=d)return!1;if(u=p,o=e.md.helpers.parseLinkDestination(e.src,p,e.posMax),o.ok){for(a=e.md.normalizeLink(o.str),e.md.validateLink(a)?p=o.pos:a="",u=p;p<d&&(r=e.src.charCodeAt(p),!(!isSpace(r)&&r!==10));p++);if(o=e.md.helpers.parseLinkTitle(e.src,p,e.posMax),p<d&&u!==p&&o.ok)for(s=o.str,p=o.pos;p<d&&(r=e.src.charCodeAt(p),!(!isSpace(r)&&r!==10));p++);}(p>=d||e.src.charCodeAt(p)!==41)&&(c=!0),p++}if(c){if(typeof e.env.references>"u")return!1;if(p<d&&e.src.charCodeAt(p)===91?(u=p+1,p=e.md.helpers.parseLinkLabel(e,p),p>=0?n=e.src.slice(u,p++):p=f+1):p=f+1,n||(n=e.src.slice(g,f)),i=e.env.references[normalizeReference(n)],!i)return e.pos=l,!1;a=i.href,s=i.title}if(!t){e.pos=g,e.posMax=f;const m=e.push("link_open","a",1),x=[["href",a]];m.attrs=x,s&&x.push(["title",s]),e.linkLevel++,e.md.inline.tokenize(e),e.linkLevel--,e.push("link_close","a",-1)}return e.pos=p,e.posMax=d,!0}function image(e,t){let r,n,o,i,a,s,u,c,l="";const d=e.pos,g=e.posMax;if(e.src.charCodeAt(e.pos)!==33||e.src.charCodeAt(e.pos+1)!==91)return!1;const f=e.pos+2,p=e.md.helpers.parseLinkLabel(e,e.pos+1,!1);if(p<0)return!1;if(i=p+1,i<g&&e.src.charCodeAt(i)===40){for(i++;i<g&&(r=e.src.charCodeAt(i),!(!isSpace(r)&&r!==10));i++);if(i>=g)return!1;for(c=i,s=e.md.helpers.parseLinkDestination(e.src,i,e.posMax),s.ok&&(l=e.md.normalizeLink(s.str),e.md.validateLink(l)?i=s.pos:l=""),c=i;i<g&&(r=e.src.charCodeAt(i),!(!isSpace(r)&&r!==10));i++);if(s=e.md.helpers.parseLinkTitle(e.src,i,e.posMax),i<g&&c!==i&&s.ok)for(u=s.str,i=s.pos;i<g&&(r=e.src.charCodeAt(i),!(!isSpace(r)&&r!==10));i++);else u="";if(i>=g||e.src.charCodeAt(i)!==41)return e.pos=d,!1;i++}else{if(typeof e.env.references>"u")return!1;if(i<g&&e.src.charCodeAt(i)===91?(c=i+1,i=e.md.helpers.parseLinkLabel(e,i),i>=0?o=e.src.slice(c,i++):i=p+1):i=p+1,o||(o=e.src.slice(f,p)),a=e.env.references[normalizeReference(o)],!a)return e.pos=d,!1;l=a.href,u=a.title}if(!t){n=e.src.slice(f,p);const m=[];e.md.inline.parse(n,e.md,e.env,m);const x=e.push("image","img",0),y=[["src",l],["alt",""]];x.attrs=y,x.children=m,x.content=n,u&&y.push(["title",u])}return e.pos=i,e.posMax=g,!0}const EMAIL_RE=/^([a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,AUTOLINK_RE=/^([a-zA-Z][a-zA-Z0-9+.-]{1,31}):([^<>\x00-\x20]*)$/;function autolink(e,t){let r=e.pos;if(e.src.charCodeAt(r)!==60)return!1;const n=e.pos,o=e.posMax;for(;;){if(++r>=o)return!1;const a=e.src.charCodeAt(r);if(a===60)return!1;if(a===62)break}const i=e.src.slice(n+1,r);if(AUTOLINK_RE.test(i)){const a=e.md.normalizeLink(i);if(!e.md.validateLink(a))return!1;if(!t){const s=e.push("link_open","a",1);s.attrs=[["href",a]],s.markup="autolink",s.info="auto";const u=e.push("text","",0);u.content=e.md.normalizeLinkText(i);const c=e.push("link_close","a",-1);c.markup="autolink",c.info="auto"}return e.pos+=i.length+2,!0}if(EMAIL_RE.test(i)){const a=e.md.normalizeLink("mailto:"+i);if(!e.md.validateLink(a))return!1;if(!t){const s=e.push("link_open","a",1);s.attrs=[["href",a]],s.markup="autolink",s.info="auto";const u=e.push("text","",0);u.content=e.md.normalizeLinkText(i);const c=e.push("link_close","a",-1);c.markup="autolink",c.info="auto"}return e.pos+=i.length+2,!0}return!1}function isLinkOpen(e){return/^<a[>\s]/i.test(e)}function isLinkClose(e){return/^<\/a\s*>/i.test(e)}function isLetter(e){const t=e|32;return t>=97&&t<=122}function html_inline(e,t){if(!e.md.options.html)return!1;const r=e.posMax,n=e.pos;if(e.src.charCodeAt(n)!==60||n+2>=r)return!1;const o=e.src.charCodeAt(n+1);if(o!==33&&o!==63&&o!==47&&!isLetter(o))return!1;const i=e.src.slice(n).match(HTML_TAG_RE);if(!i)return!1;if(!t){const a=e.push("html_inline","",0);a.content=i[0],isLinkOpen(a.content)&&e.linkLevel++,isLinkClose(a.content)&&e.linkLevel--}return e.pos+=i[0].length,!0}const DIGITAL_RE=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,NAMED_RE=/^&([a-z][a-z0-9]{1,31});/i;function entity(e,t){const r=e.pos,n=e.posMax;if(e.src.charCodeAt(r)!==38||r+1>=n)return!1;if(e.src.charCodeAt(r+1)===35){const i=e.src.slice(r).match(DIGITAL_RE);if(i){if(!t){const a=i[1][0].toLowerCase()==="x"?parseInt(i[1].slice(1),16):parseInt(i[1],10),s=e.push("text_special","",0);s.content=isValidEntityCode(a)?fromCodePoint(a):fromCodePoint(65533),s.markup=i[0],s.info="entity"}return e.pos+=i[0].length,!0}}else{const i=e.src.slice(r).match(NAMED_RE);if(i){const a=decodeHTML(i[0]);if(a!==i[0]){if(!t){const s=e.push("text_special","",0);s.content=a,s.markup=i[0],s.info="entity"}return e.pos+=i[0].length,!0}}}return!1}function processDelimiters(e){const t={},r=e.length;if(!r)return;let n=0,o=-2;const i=[];for(let a=0;a<r;a++){const s=e[a];if(i.push(0),(e[n].marker!==s.marker||o!==s.token-1)&&(n=a),o=s.token,s.length=s.length||0,!s.close)continue;t.hasOwnProperty(s.marker)||(t[s.marker]=[-1,-1,-1,-1,-1,-1]);const u=t[s.marker][(s.open?3:0)+s.length%3];let c=n-i[n]-1,l=c;for(;c>u;c-=i[c]+1){const d=e[c];if(d.marker===s.marker&&d.open&&d.end<0){let g=!1;if((d.close||s.open)&&(d.length+s.length)%3===0&&(d.length%3!==0||s.length%3!==0)&&(g=!0),!g){const f=c>0&&!e[c-1].open?i[c-1]+1:0;i[a]=a-c+f,i[c]=f,s.open=!1,d.end=a,d.close=!1,l=-1,o=-2;break}}}l!==-1&&(t[s.marker][(s.open?3:0)+(s.length||0)%3]=l)}}function link_pairs(e){const t=e.tokens_meta,r=e.tokens_meta.length;processDelimiters(e.delimiters);for(let n=0;n<r;n++)t[n]&&t[n].delimiters&&processDelimiters(t[n].delimiters)}function fragments_join(e){let t,r,n=0;const o=e.tokens,i=e.tokens.length;for(t=r=0;t<i;t++)o[t].nesting<0&&n--,o[t].level=n,o[t].nesting>0&&n++,o[t].type==="text"&&t+1<i&&o[t+1].type==="text"?o[t+1].content=o[t].content+o[t+1].content:(t!==r&&(o[r]=o[t]),r++);t!==r&&(o.length=r)}const _rules=[["text",text],["linkify",linkify],["newline",newline],["escape",escape$1],["backticks",backtick],["strikethrough",r_strikethrough.tokenize],["emphasis",r_emphasis.tokenize],["link",link],["image",image],["autolink",autolink],["html_inline",html_inline],["entity",entity]],_rules2=[["balance_pairs",link_pairs],["strikethrough",r_strikethrough.postProcess],["emphasis",r_emphasis.postProcess],["fragments_join",fragments_join]];function ParserInline(){this.ruler=new Ruler;for(let e=0;e<_rules.length;e++)this.ruler.push(_rules[e][0],_rules[e][1]);this.ruler2=new Ruler;for(let e=0;e<_rules2.length;e++)this.ruler2.push(_rules2[e][0],_rules2[e][1])}ParserInline.prototype.skipToken=function(e){const t=e.pos,r=this.ruler.getRules(""),n=r.length,o=e.md.options.maxNesting,i=e.cache;if(typeof i[t]<"u"){e.pos=i[t];return}let a=!1;if(e.level<o){for(let s=0;s<n;s++)if(e.level++,a=r[s](e,!0),e.level--,a){if(t>=e.pos)throw new Error("inline rule didn't increment state.pos");break}}else e.pos=e.posMax;a||e.pos++,i[t]=e.pos};ParserInline.prototype.tokenize=function(e){const t=this.ruler.getRules(""),r=t.length,n=e.posMax,o=e.md.options.maxNesting;for(;e.pos<n;){const i=e.pos;let a=!1;if(e.level<o){for(let s=0;s<r;s++)if(a=t[s](e,!1),a){if(i>=e.pos)throw new Error("inline rule didn't increment state.pos");break}}if(a){if(e.pos>=n)break;continue}e.pending+=e.src[e.pos++]}e.pending&&e.pushPending()};ParserInline.prototype.parse=function(e,t,r,n){const o=new this.State(e,t,r,n);this.tokenize(o);const i=this.ruler2.getRules(""),a=i.length;for(let s=0;s<a;s++)i[s](o)};ParserInline.prototype.State=StateInline;function reFactory(e){const t={};e=e||{},t.src_Any=Any.source,t.src_Cc=Cc.source,t.src_Z=Z.source,t.src_P=P.source,t.src_ZPCc=[t.src_Z,t.src_P,t.src_Cc].join("|"),t.src_ZCc=[t.src_Z,t.src_Cc].join("|");const r="[><]";return t.src_pseudo_letter="(?:(?!"+r+"|"+t.src_ZPCc+")"+t.src_Any+")",t.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",t.src_auth="(?:(?:(?!"+t.src_ZCc+"|[@/\\[\\]()]).)+@)?",t.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",t.src_host_terminator="(?=$|"+r+"|"+t.src_ZPCc+")(?!"+(e["---"]?"-(?!--)|":"-|")+"_|:\\d|\\.-|\\.(?!$|"+t.src_ZPCc+"))",t.src_path="(?:[/?#](?:(?!"+t.src_ZCc+"|"+r+`|[()[\\]{}.,"'?!\\-;]).|\\[(?:(?!`+t.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+t.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+t.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+t.src_ZCc+`|["]).)+\\"|\\'(?:(?!`+t.src_ZCc+"|[']).)+\\'|\\'(?="+t.src_pseudo_letter+"|[-])|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+t.src_ZCc+"|[.]|$)|"+(e["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+t.src_ZCc+"|$)|;(?!"+t.src_ZCc+"|$)|\\!+(?!"+t.src_ZCc+"|[!]|$)|\\?(?!"+t.src_ZCc+"|[?]|$))+|\\/)?",t.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',t.src_xn="xn--[a-z0-9\\-]{1,59}",t.src_domain_root="(?:"+t.src_xn+"|"+t.src_pseudo_letter+"{1,63})",t.src_domain="(?:"+t.src_xn+"|(?:"+t.src_pseudo_letter+")|(?:"+t.src_pseudo_letter+"(?:-|"+t.src_pseudo_letter+"){0,61}"+t.src_pseudo_letter+"))",t.src_host="(?:(?:(?:(?:"+t.src_domain+")\\.)*"+t.src_domain+"))",t.tpl_host_fuzzy="(?:"+t.src_ip4+"|(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%)))",t.tpl_host_no_ip_fuzzy="(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%))",t.src_host_strict=t.src_host+t.src_host_terminator,t.tpl_host_fuzzy_strict=t.tpl_host_fuzzy+t.src_host_terminator,t.src_host_port_strict=t.src_host+t.src_port+t.src_host_terminator,t.tpl_host_port_fuzzy_strict=t.tpl_host_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_port_no_ip_fuzzy_strict=t.tpl_host_no_ip_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+t.src_ZPCc+"|>|$))",t.tpl_email_fuzzy="(^|"+r+'|"|\\(|'+t.src_ZCc+")("+t.src_email_name+"@"+t.tpl_host_fuzzy_strict+")",t.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+t.src_ZPCc+"))((?![$+<=>^`|])"+t.tpl_host_port_fuzzy_strict+t.src_path+")",t.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+t.src_ZPCc+"))((?![$+<=>^`|])"+t.tpl_host_port_no_ip_fuzzy_strict+t.src_path+")",t}function assign(e){return Array.prototype.slice.call(arguments,1).forEach(function(r){r&&Object.keys(r).forEach(function(n){e[n]=r[n]})}),e}function _class(e){return Object.prototype.toString.call(e)}function isString(e){return _class(e)==="[object String]"}function isObject(e){return _class(e)==="[object Object]"}function isRegExp(e){return _class(e)==="[object RegExp]"}function isFunction(e){return _class(e)==="[object Function]"}function escapeRE(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}const defaultOptions={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};function isOptionsObj(e){return Object.keys(e||{}).reduce(function(t,r){return t||defaultOptions.hasOwnProperty(r)},!1)}const defaultSchemas={"http:":{validate:function(e,t,r){const n=e.slice(t);return r.re.http||(r.re.http=new RegExp("^\\/\\/"+r.re.src_auth+r.re.src_host_port_strict+r.re.src_path,"i")),r.re.http.test(n)?n.match(r.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(e,t,r){const n=e.slice(t);return r.re.no_http||(r.re.no_http=new RegExp("^"+r.re.src_auth+"(?:localhost|(?:(?:"+r.re.src_domain+")\\.)+"+r.re.src_domain_root+")"+r.re.src_port+r.re.src_host_terminator+r.re.src_path,"i")),r.re.no_http.test(n)?t>=3&&e[t-3]===":"||t>=3&&e[t-3]==="/"?0:n.match(r.re.no_http)[0].length:0}},"mailto:":{validate:function(e,t,r){const n=e.slice(t);return r.re.mailto||(r.re.mailto=new RegExp("^"+r.re.src_email_name+"@"+r.re.src_host_strict,"i")),r.re.mailto.test(n)?n.match(r.re.mailto)[0].length:0}}},tlds_2ch_src_re="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",tlds_default="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|".split("|");function resetScanCache(e){e.__index__=-1,e.__text_cache__=""}function createValidator(e){return function(t,r){const n=t.slice(r);return e.test(n)?n.match(e)[0].length:0}}function createNormalizer(){return function(e,t){t.normalize(e)}}function compile(e){const t=e.re=reFactory(e.__opts__),r=e.__tlds__.slice();e.onCompile(),e.__tlds_replaced__||r.push(tlds_2ch_src_re),r.push(t.src_xn),t.src_tlds=r.join("|");function n(s){return s.replace("%TLDS%",t.src_tlds)}t.email_fuzzy=RegExp(n(t.tpl_email_fuzzy),"i"),t.link_fuzzy=RegExp(n(t.tpl_link_fuzzy),"i"),t.link_no_ip_fuzzy=RegExp(n(t.tpl_link_no_ip_fuzzy),"i"),t.host_fuzzy_test=RegExp(n(t.tpl_host_fuzzy_test),"i");const o=[];e.__compiled__={};function i(s,u){throw new Error('(LinkifyIt) Invalid schema "'+s+'": '+u)}Object.keys(e.__schemas__).forEach(function(s){const u=e.__schemas__[s];if(u===null)return;const c={validate:null,link:null};if(e.__compiled__[s]=c,isObject(u)){isRegExp(u.validate)?c.validate=createValidator(u.validate):isFunction(u.validate)?c.validate=u.validate:i(s,u),isFunction(u.normalize)?c.normalize=u.normalize:u.normalize?i(s,u):c.normalize=createNormalizer();return}if(isString(u)){o.push(s);return}i(s,u)}),o.forEach(function(s){e.__compiled__[e.__schemas__[s]]&&(e.__compiled__[s].validate=e.__compiled__[e.__schemas__[s]].validate,e.__compiled__[s].normalize=e.__compiled__[e.__schemas__[s]].normalize)}),e.__compiled__[""]={validate:null,normalize:createNormalizer()};const a=Object.keys(e.__compiled__).filter(function(s){return s.length>0&&e.__compiled__[s]}).map(escapeRE).join("|");e.re.schema_test=RegExp("(^|(?!_)(?:[><]|"+t.src_ZPCc+"))("+a+")","i"),e.re.schema_search=RegExp("(^|(?!_)(?:[><]|"+t.src_ZPCc+"))("+a+")","ig"),e.re.schema_at_start=RegExp("^"+e.re.schema_search.source,"i"),e.re.pretest=RegExp("("+e.re.schema_test.source+")|("+e.re.host_fuzzy_test.source+")|@","i"),resetScanCache(e)}function Match(e,t){const r=e.__index__,n=e.__last_index__,o=e.__text_cache__.slice(r,n);this.schema=e.__schema__.toLowerCase(),this.index=r+t,this.lastIndex=n+t,this.raw=o,this.text=o,this.url=o}function createMatch(e,t){const r=new Match(e,t);return e.__compiled__[r.schema].normalize(r,e),r}function LinkifyIt(e,t){if(!(this instanceof LinkifyIt))return new LinkifyIt(e,t);t||isOptionsObj(e)&&(t=e,e={}),this.__opts__=assign({},defaultOptions,t),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=assign({},defaultSchemas,e),this.__compiled__={},this.__tlds__=tlds_default,this.__tlds_replaced__=!1,this.re={},compile(this)}LinkifyIt.prototype.add=function e(t,r){return this.__schemas__[t]=r,compile(this),this};LinkifyIt.prototype.set=function e(t){return this.__opts__=assign(this.__opts__,t),this};LinkifyIt.prototype.test=function e(t){if(this.__text_cache__=t,this.__index__=-1,!t.length)return!1;let r,n,o,i,a,s,u,c,l;if(this.re.schema_test.test(t)){for(u=this.re.schema_search,u.lastIndex=0;(r=u.exec(t))!==null;)if(i=this.testSchemaAt(t,r[2],u.lastIndex),i){this.__schema__=r[2],this.__index__=r.index+r[1].length,this.__last_index__=r.index+r[0].length+i;break}}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(c=t.search(this.re.host_fuzzy_test),c>=0&&(this.__index__<0||c<this.__index__)&&(n=t.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))!==null&&(a=n.index+n[1].length,(this.__index__<0||a<this.__index__)&&(this.__schema__="",this.__index__=a,this.__last_index__=n.index+n[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(l=t.indexOf("@"),l>=0&&(o=t.match(this.re.email_fuzzy))!==null&&(a=o.index+o[1].length,s=o.index+o[0].length,(this.__index__<0||a<this.__index__||a===this.__index__&&s>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=a,this.__last_index__=s))),this.__index__>=0};LinkifyIt.prototype.pretest=function e(t){return this.re.pretest.test(t)};LinkifyIt.prototype.testSchemaAt=function e(t,r,n){return this.__compiled__[r.toLowerCase()]?this.__compiled__[r.toLowerCase()].validate(t,n,this):0};LinkifyIt.prototype.match=function e(t){const r=[];let n=0;this.__index__>=0&&this.__text_cache__===t&&(r.push(createMatch(this,n)),n=this.__last_index__);let o=n?t.slice(n):t;for(;this.test(o);)r.push(createMatch(this,n)),o=o.slice(this.__last_index__),n+=this.__last_index__;return r.length?r:null};LinkifyIt.prototype.matchAtStart=function e(t){if(this.__text_cache__=t,this.__index__=-1,!t.length)return null;const r=this.re.schema_at_start.exec(t);if(!r)return null;const n=this.testSchemaAt(t,r[2],r[0].length);return n?(this.__schema__=r[2],this.__index__=r.index+r[1].length,this.__last_index__=r.index+r[0].length+n,createMatch(this,0)):null};LinkifyIt.prototype.tlds=function e(t,r){return t=Array.isArray(t)?t:[t],r?(this.__tlds__=this.__tlds__.concat(t).sort().filter(function(n,o,i){return n!==i[o-1]}).reverse(),compile(this),this):(this.__tlds__=t.slice(),this.__tlds_replaced__=!0,compile(this),this)};LinkifyIt.prototype.normalize=function e(t){t.schema||(t.url="http://"+t.url),t.schema==="mailto:"&&!/^mailto:/i.test(t.url)&&(t.url="mailto:"+t.url)};LinkifyIt.prototype.onCompile=function e(){};const maxInt=2147483647,base=36,tMin=1,tMax=26,skew=38,damp=700,initialBias=72,initialN=128,delimiter="-",regexPunycode=/^xn--/,regexNonASCII=/[^\0-\x7F]/,regexSeparators=/[\x2E\u3002\uFF0E\uFF61]/g,errors={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},baseMinusTMin=base-tMin,floor=Math.floor,stringFromCharCode=String.fromCharCode;function error(e){throw new RangeError(errors[e])}function map(e,t){const r=[];let n=e.length;for(;n--;)r[n]=t(e[n]);return r}function mapDomain(e,t){const r=e.split("@");let n="";r.length>1&&(n=r[0]+"@",e=r[1]),e=e.replace(regexSeparators,".");const o=e.split("."),i=map(o,t).join(".");return n+i}function ucs2decode(e){const t=[];let r=0;const n=e.length;for(;r<n;){const o=e.charCodeAt(r++);if(o>=55296&&o<=56319&&r<n){const i=e.charCodeAt(r++);(i&64512)==56320?t.push(((o&1023)<<10)+(i&1023)+65536):(t.push(o),r--)}else t.push(o)}return t}const ucs2encode=e=>String.fromCodePoint(...e),basicToDigit=function(e){return e>=48&&e<58?26+(e-48):e>=65&&e<91?e-65:e>=97&&e<123?e-97:base},digitToBasic=function(e,t){return e+22+75*(e<26)-((t!=0)<<5)},adapt=function(e,t,r){let n=0;for(e=r?floor(e/damp):e>>1,e+=floor(e/t);e>baseMinusTMin*tMax>>1;n+=base)e=floor(e/baseMinusTMin);return floor(n+(baseMinusTMin+1)*e/(e+skew))},decode=function(e){const t=[],r=e.length;let n=0,o=initialN,i=initialBias,a=e.lastIndexOf(delimiter);a<0&&(a=0);for(let s=0;s<a;++s)e.charCodeAt(s)>=128&&error("not-basic"),t.push(e.charCodeAt(s));for(let s=a>0?a+1:0;s<r;){const u=n;for(let l=1,d=base;;d+=base){s>=r&&error("invalid-input");const g=basicToDigit(e.charCodeAt(s++));g>=base&&error("invalid-input"),g>floor((maxInt-n)/l)&&error("overflow"),n+=g*l;const f=d<=i?tMin:d>=i+tMax?tMax:d-i;if(g<f)break;const p=base-f;l>floor(maxInt/p)&&error("overflow"),l*=p}const c=t.length+1;i=adapt(n-u,c,u==0),floor(n/c)>maxInt-o&&error("overflow"),o+=floor(n/c),n%=c,t.splice(n++,0,o)}return String.fromCodePoint(...t)},encode=function(e){const t=[];e=ucs2decode(e);const r=e.length;let n=initialN,o=0,i=initialBias;for(const u of e)u<128&&t.push(stringFromCharCode(u));const a=t.length;let s=a;for(a&&t.push(delimiter);s<r;){let u=maxInt;for(const l of e)l>=n&&l<u&&(u=l);const c=s+1;u-n>floor((maxInt-o)/c)&&error("overflow"),o+=(u-n)*c,n=u;for(const l of e)if(l<n&&++o>maxInt&&error("overflow"),l===n){let d=o;for(let g=base;;g+=base){const f=g<=i?tMin:g>=i+tMax?tMax:g-i;if(d<f)break;const p=d-f,m=base-f;t.push(stringFromCharCode(digitToBasic(f+p%m,0))),d=floor(p/m)}t.push(stringFromCharCode(digitToBasic(d,0))),i=adapt(o,c,s===a),o=0,++s}++o,++n}return t.join("")},toUnicode=function(e){return mapDomain(e,function(t){return regexPunycode.test(t)?decode(t.slice(4).toLowerCase()):t})},toASCII=function(e){return mapDomain(e,function(t){return regexNonASCII.test(t)?"xn--"+encode(t):t})},punycode={version:"2.3.1",ucs2:{decode:ucs2decode,encode:ucs2encode},decode,encode,toASCII,toUnicode},cfg_default={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}},cfg_zero={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","fragments_join"]}}},cfg_commonmark={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","fragments_join"]}}},config={default:cfg_default,zero:cfg_zero,commonmark:cfg_commonmark},BAD_PROTO_RE=/^(vbscript|javascript|file|data):/,GOOD_DATA_RE=/^data:image\/(gif|png|jpeg|webp);/;function validateLink(e){const t=e.trim().toLowerCase();return BAD_PROTO_RE.test(t)?GOOD_DATA_RE.test(t):!0}const RECODE_HOSTNAME_FOR=["http:","https:","mailto:"];function normalizeLink(e){const t=urlParse(e,!0);if(t.hostname&&(!t.protocol||RECODE_HOSTNAME_FOR.indexOf(t.protocol)>=0))try{t.hostname=punycode.toASCII(t.hostname)}catch{}return encode$1(format(t))}function normalizeLinkText(e){const t=urlParse(e,!0);if(t.hostname&&(!t.protocol||RECODE_HOSTNAME_FOR.indexOf(t.protocol)>=0))try{t.hostname=punycode.toUnicode(t.hostname)}catch{}return decode$1(format(t),decode$1.defaultChars+"%")}function MarkdownIt(e,t){if(!(this instanceof MarkdownIt))return new MarkdownIt(e,t);t||isString$1(e)||(t=e||{},e="default"),this.inline=new ParserInline,this.block=new ParserBlock,this.core=new Core,this.renderer=new Renderer,this.linkify=new LinkifyIt,this.validateLink=validateLink,this.normalizeLink=normalizeLink,this.normalizeLinkText=normalizeLinkText,this.utils=utils,this.helpers=assign$1({},helpers),this.options={},this.configure(e),t&&this.set(t)}MarkdownIt.prototype.set=function(e){return assign$1(this.options,e),this};MarkdownIt.prototype.configure=function(e){const t=this;if(isString$1(e)){const r=e;if(e=config[r],!e)throw new Error('Wrong `markdown-it` preset "'+r+'", check name')}if(!e)throw new Error("Wrong `markdown-it` preset, can't be empty");return e.options&&t.set(e.options),e.components&&Object.keys(e.components).forEach(function(r){e.components[r].rules&&t[r].ruler.enableOnly(e.components[r].rules),e.components[r].rules2&&t[r].ruler2.enableOnly(e.components[r].rules2)}),this};MarkdownIt.prototype.enable=function(e,t){let r=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach(function(o){r=r.concat(this[o].ruler.enable(e,!0))},this),r=r.concat(this.inline.ruler2.enable(e,!0));const n=e.filter(function(o){return r.indexOf(o)<0});if(n.length&&!t)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+n);return this};MarkdownIt.prototype.disable=function(e,t){let r=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach(function(o){r=r.concat(this[o].ruler.disable(e,!0))},this),r=r.concat(this.inline.ruler2.disable(e,!0));const n=e.filter(function(o){return r.indexOf(o)<0});if(n.length&&!t)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+n);return this};MarkdownIt.prototype.use=function(e){const t=[this].concat(Array.prototype.slice.call(arguments,1));return e.apply(e,t),this};MarkdownIt.prototype.parse=function(e,t){if(typeof e!="string")throw new Error("Input data should be a String");const r=new this.core.State(e,this,t);return this.core.process(r),r.tokens};MarkdownIt.prototype.render=function(e,t){return t=t||{},this.renderer.render(this.parse(e,t),this.options,t)};MarkdownIt.prototype.parseInline=function(e,t){const r=new this.core.State(e,this,t);return r.inlineMode=!0,this.core.process(r),r.tokens};MarkdownIt.prototype.renderInline=function(e,t){return t=t||{},this.renderer.render(this.parseInline(e,t),this.options,t)};const db$2=new Dexie("AgentCompanyDemoRecords");db$2.version(1).stores({kvs:"++id, &key, value",functions:"++id, &name, config",records:"++id, supplier, function, input, output",chats:"++id, title"});function tryOnScopeDispose(e){return getCurrentScope()?(onScopeDispose(e),!0):!1}typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;function useObservable(e,t){const r=ref(void 0),n=e.subscribe({next:o=>r.value=o,error:void 0});return tryOnScopeDispose(()=>{n.unsubscribe()}),r}const functionSettings=L,db$1=db$2,md$1=MarkdownIt({breaks:!0,linkify:!0}),textRenderEngine={process:e=>md$1.render(e)},load=async e=>{var r;const t=(r=await db$1.kvs.get({key:e}))==null?void 0:r.value;return t==null?null:lib$1.parse(t)},save=async(e,t)=>{const r=lib$1.stringify(t);await db$1.kvs.put({id:e,key:e,value:r})},=async e=>{if(e.id!=null){const t=e.id;return await db$1.chats.delete(e.id),e.id=void 0,{ok:!0,id:t}}return{ok:!1}},=async e=>{const t=await db$1.chats.add(_.cloneDeep({...e,id:void 0}));return e.id=t,{ok:!0,id:t}},=async e=>e.id!=null?(await db$1.chats.put(_.cloneDeep(e)),{ok:!0,id:e.id}):(e),=async e=>[`
system

${e.systemPrompt??""}

---
`,...e.messages.map(n=>`
${n.role}

${n.content}

---
`)].join(`
`),=async e=>{const t=await (e),r=new Blob([t],{type:"text/plain"});FileSaver_minExports.saveAs(r,`[${(e==null?void 0:e.id)??"-"}]${(e==null?void 0:e.title)??"chat"}(${new Date().toLocaleString()}).md`)},=async(e,t)=>{var o;const r=t.apiKeyDict,n=t.supplierModelsDict;try{const i=`Bearer ${r[e.name]}`;console.log({supplier:e,apiKeyDict:r,Authorization:i});let a;try{a=await axios.get(`${e.baseUrl}${e.modelsUrl}`),console.log(a)}catch(c){try{a=await axios.get(`${e.baseUrl}${e.modelsUrl}`,{headers:{Authorization:i}}),console.log(a)}catch(l){console.warn(c),console.warn(l)}}let s=((o=a==null?void 0:a.data)==null?void 0:o.data)??[];console.log({models:s}),s!=null&&s.length||(s=(e==null?void 0:e.models)??[]);const u={...n};u[e.name]=s,t.supplierModelsDict=u,save("supplierForm",t)}catch(i){console.warn(i)}},=async(e,t)=>{const r=_.cloneDeep(e),n=_.cloneDeep(t.savedSettings);let o=!!functionSettings.find(a=>a.name==r.name);for(;o;)r.name=`${r.name}*`,o=!!functionSettings.find(a=>a.name==r.name);t.functionSetting=r,save("functionSetting",r);const i=n.find(a=>a.name==r.name);i==null?n.push(r):Object.assign(i,r),t.savedSettings=n,save("savedSettings",n)},=async(e,t)=>{t.savedSettings=t.savedSettings.filter(r=>r.name!=e.name),save("savedSettings",t.savedSettings)},=async(e,t)=>{t=t??`myFunctionSettings(${new Date().toLocaleString()}).json`;const r=new Blob([JSON.stringify(e)],{type:"application/json"});FileSaver_minExports.saveAs(r,t)},=async(e,t)=>{t=t??`${(e==null?void 0:e.name)??"myFunctionSetting"}(${new Date().toLocaleString()}).json`;const r=new Blob([JSON.stringify([e])],{type:"application/json"});FileSaver_minExports.saveAs(r,t)},=async(e,t)=>{const r=_.cloneDeep(e);r.name=`${r.name}*`,(r,t)},useDbRecords=(e=5)=>{const t=liveQuery(()=>db$1.records.orderBy("id").reverse().limit(e).toArray());return{lastNRecords:useObservable(t)}},useDbChats=(e=5)=>{const t=liveQuery(()=>db$1.chats.orderBy("id").reverse().limit(e).toArray());return{lastNChats:useObservable(t)}},=async()=>{const e=await db$1.records.toArray()??[],t=new Blob([e.map(JSON.stringify).join(`
`)],{type:"application/json"});FileSaver_minExports.saveAs(t,`records(${new Date().toLocaleString()}).jsonl`)},=async()=>{await db$1.records.clear()},=async(e,t,r,n,o,i,a)=>{const s=new v({...r,ai:{baseURL:e.baseUrl,apiKey:t,defaultModel:e.defaultModel}});console.log({supplier:e,apiKey:t,functionSetting:r,taskInput:n,callback:o,aiFunc:s});const u=Date.now(),c=await s.doTask(n,i,a).catch(f=>(console.error(String(f)),console.error(f),{error:f})),l=Date.now(),d=l-u,g={result:c,timeCost:d,timeStart:u,timeEnd:l};return console.log({report:g}),o?o==null?void 0:o(g):g},=async(e,t,r,n,o,i,a,s)=>{const u=new v({...n,ai:{baseURL:t.baseUrl,apiKey:r,defaultModel:t.defaultModel}});console.log({supplier:t,apiKey:r,functionSetting:n,taskInput:o,callback:i,aiFunc:u});const c=Date.now(),l=u.doTaskStream(o,a,s),d=[];let g="";for await(const y of l)if(y!=null){if(y!=null&&y.done)break;g+=_.isString(y)?y:JSON.stringify(y),d.push(y),e.result.result=g}console.log({resultText:g});const f=Date.now(),p=f-c,m={result:void 0,error:void 0};try{const y=JSON.parse(g);console.log({jjj:y,jjj_str:JSON.stringify(y)}),m.result=y}catch(y){console.warn("error"),m.result=g,m.error=y}console.log("result.result",m.result);const x={...m,chunks:d,timeCost:p,timeStart:c,timeEnd:f};return console.log({report:x}),i?i==null?void 0:i(x):x},=async(e,t,r,n,o,i,a)=>{const s=async c=>{var d;const l=JSON.parse(JSON.stringify(c));if(save("result",l),e.result=JSON.parse(JSON.stringify(l)),!((d=l==null?void 0:l.result)!=null&&d.error)){o.output=l;const g=await db$1.records.add(_.cloneDeep(o));e.lastRecordId=g}return c};if(a!=null&&a.stream)return (e,r,n,t==null?void 0:t.functionSetting,e==null?void 0:e.taskInput,s,i,a);const u=await (r,n,t==null?void 0:t.functionSetting,e==null?void 0:e.taskInput,s,i,a);return console.log({output:u}),u},=async(e,t,r,n,o)=>{var s,u;e.result={},e.processing=!0,e.lastRecordId=null;const i=_.cloneDeep({supplier:(s=t==null?void 0:t.selectedSupplier)==null?void 0:s.name,function:r==null?void 0:r.functionSetting,input:e==null?void 0:e.taskInput,otherParams:o}),a=await (e,r,t==null?void 0:t.selectedSupplier,t==null?void 0:t.apiKeyDict[(u=t==null?void 0:t.selectedSupplier)==null?void 0:u.name],i,n,o);return e.processing=!1,a},=,=async(e,t,r,n,o,i,a=!1)=>{var y,C,$;e.processing=!0;const s=(e==null?void 0:e.taskInput)??"",u=_.clone(n),c=new b({baseURL:(y=t==null?void 0:t.selectedSupplier)==null?void 0:y.baseUrl,apiKey:t==null?void 0:t.apiKeyDict[(C=t==null?void 0:t.selectedSupplier)==null?void 0:C.name],defaultModel:($=t==null?void 0:t.selectedSupplier)==null?void 0:$.defaultModel}),l=Date.now(),d=[];let g="";for await(const E of c.chatStream(s,r==null?void 0:r.systemPrompt,u,o,a))if(E!=null){if(E!=null&&E.done)break;g+=_.isString(E)?E:JSON.stringify(E),r.newMessage=g,d.push(E),await nextTick()}const f=Date.now(),p=f-l,m={result:void 0,error:void 0};try{m.result=JSON.parse(g)}catch(E){m.result=g,m.error=E}await(i==null?void 0:i(m)),e.processing=!1;const x={...m,chunks:d,timeCost:p,timeStart:l,timeEnd:f};return console.log({report:x}),x},=async(e,t,r,n,o,i)=>{const a=n.map(u=>{var c;return{supplier:(c=t==null?void 0:t.selectedSupplier)==null?void 0:c.name,function:r==null?void 0:r.functionSetting,input:u.input,batchUnit:u.unit,batchIdx:u.idx,otherParams:i}});return await Promise.all(a.map(async u=>{var l;return await (e,r,t==null?void 0:t.selectedSupplier,t==null?void 0:t.apiKeyDict[(l=t==null?void 0:t.selectedSupplier)==null?void 0:l.name],u,o,i)}))},=async(e,t,r,n,o,i,a)=>{const s=_.max([(t==null?void 0:t.skip)??0,0]);let u=_.min([(t==null?void 0:t.limit)??1/0,1/0]);u<=0&&(u=1/0),console.log({skip:s,limit:u});const c=r.slice(s,s+u),l=_.chunk(c,(t==null?void 0:t.concurrency)??1);let d=0;e:for await(const g of l){const p=(await (e,n,o,g,[],a)).filter(m=>{var x;return(x=m==null?void 0:m.result)==null?void 0:x.error});if(p!=null&&p.length){const m=(t==null?void 0:t.retry)??3;t:for(let x=0;x<m;x++){const y=((t==null?void 0:t.retryDaley)??1e4)+x*((t==null?void 0:t.retryDaleyDelta)??5e3);await sleep$1(y);const C=p.map(R=>({unit:R==null?void 0:R.batchUnit,idx:R==null?void 0:R.batchIdx,input:R==null?void 0:R.input})),$=await (e,n,o,C,[],a),E=$.filter(R=>{var B;return(B=R==null?void 0:R.result)==null?void 0:B.error});if(!(E!=null&&E.length))break t;if(x>=m-1){console.error("",{errorOutputs:p,retryOutputs:$});break e}}}d<l.length-1&&sleep$1((t==null?void 0:t.delay)??700),d++}console.log("")},AppConfigView=defineComponent({setup(){const e=reactive({selectedSupplier:A[0],apiKeyDict:{},supplierModelsDict:{},selectedModelDict:{}}),t=computed(()=>{var i,a,s;const o={name:(i=e.selectedSupplier)==null?void 0:i.defaultModel};return((s=e.selectedModelDict[(a=e.selectedSupplier)==null?void 0:a.name])==null?void 0:s.name)==DEFAULT_MODEL.label?o:e.selectedModelDict[e.selectedSupplier.name]??o}),r=computed(()=>{var o;return e.supplierModelsDict[(o=e.selectedSupplier)==null?void 0:o.name]??[]}),n=computed(()=>[{name:DEFAULT_MODEL.label},...r.value.map(o=>({name:(o==null?void 0:o.label)??(o==null?void 0:o.name)??(o==null?void 0:o.id)}))]);return onMounted(async()=>{const o=await load("supplierForm");o!=null&&Object.assign(e,o)}),()=>[h(script$3,{header:"",toggleable:!0,class:"my-1.5rem! col"},{default:()=>{var o;return h("div",{class:"stack-v"},[h(script$h,{name:"supplier",options:A,optionLabel:"name",placeholder:"",fluid:!0,modelValue:e.selectedSupplier,"onUpdate:modelValue":i=>{e.selectedSupplier=i}}),h(script$g,{type:"password",name:"apiKey",placeholder:"API Key",fluid:!0,modelValue:e.apiKeyDict[(o=e.selectedSupplier)==null?void 0:o.name],"onUpdate:modelValue":i=>{e.apiKeyDict[e.selectedSupplier.name]=i,save("supplierForm",e)}}),h("div",{class:"stack-h w-full"},[h(script$h,{name:"model",options:n.value,optionLabel:"name",placeholder:"",class:"grow-1",modelValue:t.value,"onUpdate:modelValue":i=>{e.selectedModelDict[e.selectedSupplier.name]=i,save("supplierForm",e)}}),h(ToolButton,{icon:"pi pi-trash",label:"",command:()=>{(e.selectedSupplier,e)}})]),h(ToolButton,{size:"small",icon:"pi pi-trash",label:"debug",command:()=>{console.log({supplierForm:e,selectedModel:t.value})}})])}})]}}),tableTextarea=(e,t,r,n,o=t,i)=>[h("div",{class:"opacity-80 fw-500"},t),h(script$e,{class:"w-full",placeholder:o,...i,modelValue:e==null?void 0:e[r],"onUpdate:modelValue":a=>{e[r]=a,save(n,e)}})],cacheRenderer=e=>{if(_.isString(e))return e;try{return JSON.stringify(e,null,2)}catch(t){return console.log({error:t}),String(e)}},resultRenderer=(e,t=!1)=>t?e??"":cacheRenderer(e),ResultCard=defineComponent({name:"ResultCard",props:["appData"],setup(e){return()=>h(script$b,{onClick:()=>{var t;console.log((t=e==null?void 0:e.appData)==null?void 0:t.result)},pt:{body:{class:"py-0.75rem! px-1rem!"}},class:"w-full"},{content:()=>{var t,r,n;return h("div",{class:"stack-v"},[h("div",{class:"whitespace-pre-wrap font-mono! min-h-6em max-h-20em w-full overflow-y-auto"},`${resultRenderer((r=(t=e==null?void 0:e.appData)==null?void 0:t.result)==null?void 0:r.result,(n=e==null?void 0:e.appData)==null?void 0:n.processing)}`)])}})}}),AppFuncTestView=defineComponent({setup(){const e=useToast(),t=useConfirm(),r=useDbRecords(5),n=reactive({ipAndCountryCode:{},taskInput:"",processing:!1,lastRecordId:null,result:{},_lastResultError:null}),o=reactive({batchMode:!1,batchConfig:{inputTemplate:"",slotMark:"__",slotMarkIsRegExp:!1,itemsText:"",splitter:"[\\s\\n]+",splitterIsRegExp:!0,skip:0,limit:0,concurrency:1,showMore:!1,delay:0,retry:1,retryDaley:5e3,retryDaleyDelta:0},batchState:{}}),i=reactive({template:null,taskMask:null,reqMask:null,resMask:null}),a=reactive({functionSetting:L[0],savedSettings:[]}),s=reactive({selectedSupplier:A[0],apiKeyDict:{},supplierModelsDict:{},selectedModelDict:{}}),u=computed(()=>{const f={...a.functionSetting,...i};return new v(f).makeInstruction()}),c=computed(()=>{var f,p;return console.log("lastNRecords",(f=r==null?void 0:r.lastNRecords)==null?void 0:f.value),((p=r==null?void 0:r.lastNRecords)==null?void 0:p.value)??[]}),l=computed(()=>{const f=_.cloneDeep(defaultBatchConfig);Object.assign(f,o.batchConfig);let p=f.splitter;f!=null&&f.splitterIsRegExp&&(p=new RegExp(f.splitter,"g"));let m=f.slotMark;return f!=null&&f.slotMarkIsRegExp&&(m=new RegExp(f.slotMark,"g")),f.itemsText.trim().split(p).map(y=>y.trim()).filter(y=>y==null?void 0:y.length).map((y,C)=>({idx:C,unit:y,input:f.inputTemplate.replace(m,y)}))}),d=computed(()=>{var f;return JSON.stringify((f=n.result)==null?void 0:f.result,null,2)}),g=computed(()=>[{label:"",items:a.savedSettings},{label:"",items:L}]);return onMounted(async()=>{const f=await load("templateForm");f!=null&&Object.assign(i,f);const p=await load("batchForm");p!=null&&Object.assign(o,p);const m=await load("savedSettings");m!=null&&(a.savedSettings=m);const x=await load("supplierForm");x!=null&&Object.assign(s,x);const y=await load("functionSetting");y!=null&&(a.functionSetting=y);const C=await load("taskInput");C!=null&&(n.taskInput=C);let $=await load("result");if($!=null){if(_.isString($))try{$=JSON.parse($)}catch(E){n._lastResultError=E}n.result=$}}),()=>[h(script$3,{header:"",toggleable:!0,collapsed:!0,class:"my-1.5rem! col"},{default:()=>h("div",{class:"stack-v"},[tableTextarea(i,"","template","templateForm",defaultInstructionTemplateEN),tableTextarea(i,"","taskMask","templateForm",defaultTaskMark),tableTextarea(i,"","reqMask","templateForm",defaultReqMark),tableTextarea(i,"","resMask","templateForm",defaultResMark),h("div",{class:"opacity-80 fw-500"},""),h(script$e,{class:"w-full",placeholder:"",value:u.value})])}),h(script$3,{header:"",toggleable:!0,class:"my-1.5rem! col"},{default:()=>{var f,p;return h("div",{class:"stack-v"},[h("div",{class:"stack-h"},[h(ToolButton,{size:"small",icon:"pi pi-save",label:"",command:async()=>{(a.savedSettings)}}),h(ToolButton,{size:"small",icon:"pi pi-file-import",label:"",command:async()=>{e.add({severity:"warn",summary:"",detail:"",life:2e3})}})]),h("div",{class:"stack-h"},[h(ToolButton,{size:"small",icon:"pi pi-save",label:"",command:async()=>{(a==null?void 0:a.functionSetting)}}),h(ToolButton,{size:"small",icon:"pi pi-copy",label:"",command:async()=>{(a==null?void 0:a.functionSetting,a)}})]),h("div",{class:"opacity-80 fw-500"},""),h(script$h,{name:"functionSettingName",options:g.value,optionLabel:"name",optionGroupLabel:"label",optionGroupChildren:"items",placeholder:"",fluid:!0,modelValue:a.functionSetting,"onUpdate:modelValue":m=>{a.functionSetting=m,save("functionSetting",_.cloneDeep(a.functionSetting))}},{optiongroup:m=>h("div",{},m.option.label)}),tableTextarea(a==null?void 0:a.functionSetting,"","name","functionSetting","",{rows:1}),tableTextarea(a==null?void 0:a.functionSetting,"","desc","functionSetting","",{rows:1}),h("div",{class:"stack-h"},[h("div",{class:"opacity-80 fw-500"},""),h(script$i,{modelValue:(f=a==null?void 0:a.functionSetting)==null?void 0:f.instructed,"onUpdate:modelValue":m=>{a.functionSetting.instructed=m,save("functionSetting",a.functionSetting)}})]),(p=a==null?void 0:a.functionSetting)!=null&&p.instructed?[tableTextarea(a==null?void 0:a.functionSetting,"","instruction","functionSetting")]:[tableTextarea(a==null?void 0:a.functionSetting,"","task","functionSetting"),tableTextarea(a==null?void 0:a.functionSetting,"","reqFormat","functionSetting"),tableTextarea(a==null?void 0:a.functionSetting,"","resFormat","functionSetting")],h("div",{class:"stack-h w-full justify-between!"},[h(ToolButton,{size:"small",icon:"pi pi-save",label:"",command:async()=>{await (a.functionSetting,a),e.add({severity:"info",summary:"",detail:"",life:2e3})}}),h(ToolButton,{size:"small",icon:"pi pi-trash",label:"",command:m=>{t.require({target:m.currentTarget,message:"",rejectProps:{label:"",severity:"secondary",outlined:!0},acceptProps:{label:"",severity:"danger"},accept:()=>{(a.functionSetting,a)},reject:()=>{e.add({severity:"info",summary:"",detail:"",life:2e3})}})}})])])}}),h(script$3,{header:"",toggleable:!0,class:"my-1.5rem! col"},{default:()=>{var f,p,m;return h("div",{class:"stack-v"},[h("div",{class:"stack-h"},[h("div",{class:"opacity-80 fw-500"},""),h(script$i,{modelValue:o.batchMode,"onUpdate:modelValue":x=>{o.batchMode=x,save("batchForm",o)}})]),o.batchMode?null:[h(script$e,{class:"w-full",placeholder:"",modelValue:n.taskInput,"onUpdate:modelValue":x=>{n.taskInput=x,save("taskInput",x)}}),h("div",{class:"stack-h"},[h(ToolButton,{size:"small",icon:"pi pi-plus",label:"",command:()=>{n.taskInput.trim()!==""&&(a.functionSetting.requestExamples=[...a.functionSetting.requestExamples,n.taskInput],save("functionSetting",a.functionSetting))}}),h(ToolButton,{size:"small",icon:"pi pi-copy",label:"",command:()=>{var x,y;clipboard.copy(n.taskInput),e.add({severity:"info",summary:"",detail:`${(x=n.taskInput)==null?void 0:x.length} 
${n.taskInput.slice(0,20)}${((y=n.taskInput)==null?void 0:y.length)<=20?"":"..."}`,life:2e3})}}),h(ToolButton,{size:"small",icon:"pi pi-trash",label:"",command:()=>{n.taskInput=""}})]),(((f=a==null?void 0:a.functionSetting)==null?void 0:f.requestExamples)??[]).map((x,y)=>h(ToolButton,{size:"small",key:`requestExample[${y}]${x}`,label:x,tip:`[${y+1}]`,class:"w-full",command:()=>{n.taskInput=x}})),(m=(p=a==null?void 0:a.functionSetting)==null?void 0:p.requestExamples)!=null&&m.length?h(ToolButton,{size:"small",icon:"pi pi-trash",label:"",command:()=>{a.functionSetting.requestExamples=[],save("functionSetting",a.functionSetting)}}):null]])}}),h(script$3,{header:"",toggleable:!0,class:"my-1.5rem! col"},{default:()=>{var f,p;return h("div",{class:"stack-v"},[o.batchMode?null:h(ToolButton,{size:"small",icon:"pi pi-play",label:"",fluid:!0,command:()=>{(n,s,a,[],{stream:!0})}}),o.batchMode?h(ToolButton,{size:"small",icon:"pi pi-play",label:"",fluid:!0,command:()=>{(n,o.batchConfig,l.value,s,a)}}):null,h("div",{class:"opacity-80 fw-500"},[n.processing?"":(f=n.result)!=null&&f.timeCost?` ${(p=n.result)==null?void 0:p.timeCost}ms`:""]),h(ResultCard,{appData:n}),h(ToolButton,{size:"small",icon:"pi pi-copy",label:"",command:()=>{var m;clipboard.copy(d.value),e.add({severity:"info",summary:"",detail:`${(m=d.value)==null?void 0:m.length} `,life:2e3})}})])}}),h(script$3,{header:"",toggleable:!0,class:"my-1.5rem! col"},{default:()=>h("div",{class:"stack-v"},[h(ToolButton,{size:"small",icon:"pi pi-trash",label:"",command:f=>{t.require({target:f.currentTarget,message:"",rejectProps:{label:"",severity:"secondary",outlined:!0},acceptProps:{label:"",severity:"danger"},accept:()=>{(),e.add({severity:"info",summary:"",detail:"",life:2e3})},reject:()=>{e.add({severity:"info",summary:"",detail:"",life:2e3})}})}}),(c.value??[]).map((f,p)=>h(script$b,{key:`lastNRecords[${p}]`,onClick:()=>{console.log(f)},pt:{body:{class:"py-0.75rem! px-1rem!"}},class:"w-full"},{content:()=>{var m,x,y;return h("div",{class:"stack-v"},[h("div",{class:"opacity-80",title:JSON.stringify(f==null?void 0:f.function,null,2)},[`[${f==null?void 0:f.id}] ${(m=f==null?void 0:f.function)==null?void 0:m.name} - ${((x=f==null?void 0:f.otherParams)==null?void 0:x.model)??(f==null?void 0:f.supplier)}`]),h("div",{class:"fw-500"},f==null?void 0:f.input),(f==null?void 0:f.batchIdx)==null?null:h("div",{},`[${f==null?void 0:f.batchIdx}]${f==null?void 0:f.batchUnit}`),h("div",{class:"whitespace-pre-wrap font-mono! min-h-6em max-h-20em w-full overflow-y-auto"},cacheRenderer((y=f==null?void 0:f.output)==null?void 0:y.result))])}})),h("div",{class:"stack-h items-center! w-full"},[h("div",{},[""]),h(ToolButton,{size:"small",icon:"pi pi-file-export",label:"",command:()=>{(),e.add({severity:"info",summary:"",detail:"",life:2e3})},class:"ml-auto"})])])})]}}),AppChatTestView=defineComponent({setup(){const e=useToast(),t=useDbChats(10),r=computed(()=>{var d,g;return console.log("lastNChats",(d=t==null?void 0:t.lastNChats)==null?void 0:d.value),((g=t==null?void 0:t.lastNChats)==null?void 0:g.value)??[]}),n=reactive({ipAndCountryCode:{},taskInput:"",processing:!1,lastRecordId:null,result:{},_lastResultError:null}),o=reactive({batchMode:!1,batchConfig:{},batchState:{}}),i=reactive({template:null,taskMask:null,reqMask:null,resMask:null}),a=reactive({functionSetting:L[0],savedSettings:[]}),s=reactive({selectedSupplier:A[0],apiKeyDict:{},supplierModelsDict:{},selectedModelDict:{}}),u=reactive({id:void 0,title:"",systemPrompt:"",messages:[],newMessage:""}),c=reactive({temperature:1,top_p:1}),l=[{key:"temperature",label:"temperature",min:.01,max:2,step:.01,default:1,tip:" 0  2  0.8 0.2 top_p"},{key:"top_p",label:"top_p",min:.01,max:1,step:.01,default:1,tip:" top_p  token  0.1  10%  token  temperature"}];return onMounted(async()=>{const d=await load("templateForm");d!=null&&Object.assign(i,d);const g=await load("batchForm");g!=null&&Object.assign(o,g);const f=await load("savedSettings");f!=null&&(a.savedSettings=f);const p=await load("supplierForm");p!=null&&Object.assign(s,p);const m=await load("functionSetting");m!=null&&(a.functionSetting=m);const x=await load("taskInput");x!=null&&(n.taskInput=x);const y=await load("chatData");y!=null&&Object.assign(u,y);const C=await load("llmOptions");C!=null&&Object.assign(c,C);let $=await load("result");if($!=null){if(_.isString($))try{$=JSON.parse($)}catch(E){n._lastResultError=E}n.result=$}}),()=>[h(script$3,{header:"",toggleable:!0,class:"my-1.5rem! col"},{default:()=>h("div",{class:"stack-v"},[h("div",{class:"stack-h"},[h(ToolButton,{label:"",command:async()=>{const d=await (u);clipboard.copy(d),e.add({severity:"info",summary:"",detail:`${d==null?void 0:d.length} 
${d.slice(0,20)}${(d==null?void 0:d.length)<=20?"":"..."}`,life:2e3})}}),h(ToolButton,{label:"",command:async()=>{await (u),e.add({severity:"info",summary:"",detail:` ID${u.id}`,life:2e3})}})]),h("div",{class:"stack-h"},[h(ToolButton,{label:`[${u.id??"-"}]`,command:async()=>{const d=await (u);e.add({severity:"info",summary:"",detail:` ID${d.id}`,life:2e3}),save("chatData",u)}}),h(ToolButton,{label:`[${u.id??"-"}]`,command:async()=>{const d=await (u);e.add({severity:"info",summary:"",detail:` ID${d.id}`,life:2e3}),save("chatData",u)}}),h(ToolButton,{label:`[${u.id??"-"}]`,command:async()=>{const d=await (u);d.ok?e.add({severity:"info",summary:"",detail:` ID${d.id}`,life:2e3}):e.add({severity:"error",summary:"",detail:` ID${u.id}`,life:2e3}),save("chatData",u)}})]),h("div",{class:"stack-v"},[r.value.map(d=>h("div",{class:"stack-h"},[h("span",{},`[${d.id??"-"}]${d.title??"-"}`),h(ToolButton,{label:"",command:async()=>{d!=null&&(Object.assign(u,d),save("chatData",u))}})]))])])}),h(script$3,{header:"",toggleable:!0,class:"my-1.5rem! col"},{default:()=>{var d,g,f,p;return h("div",{class:"stack-v max-w-640px mx-auto py-1rem"},[h("div",{class:"stack-h w-full"},[h(script$g,{name:"chatTitle",placeholder:"",class:"grow-1",modelValue:u.title,"onUpdate:modelValue":m=>{u.title=m,save("chatData",u)}}),h(ToolButton,{icon:"pi pi-sparkles",label:"",command:()=>{u.title=` ${new Date().toLocaleString()}`,save("chatData",u)}})]),h(script$e,{class:"w-full",placeholder:"",modelValue:u.systemPrompt,"onUpdate:modelValue":m=>{u.systemPrompt=m,save("chatData",u)}}),h("div",{class:["stack-v w-full max-h-80vh my-1rem p-1rem overflow-auto","p-panel"]},[(d=u.systemPrompt)!=null&&d.length?h(Bubble,{content:u.systemPrompt,messageRender:m=>textRenderEngine.process(m),key:u.systemPrompt,loading:!1,placement:"end",avatarProps:{icon:"pi pi-desktop"},onClick:()=>{console.log(u)}},{header:()=>h("div",{class:"stack-h"},["system"]),footer:()=>h("div",{class:"stack-h"},[h(ToolButton,{size:"small",icon:"pi pi-copy",label:"",command:()=>{const m=u.systemPrompt??"";clipboard.copy(m),e.add({severity:"info",summary:"",detail:`${m==null?void 0:m.length} 
${m.slice(0,20)}${(m==null?void 0:m.length)<=20?"":"..."}`,life:2e3})}})])}):null,(g=u.systemPrompt)!=null&&g.length?h(script$d,{severity:"secondary",size:"small",class:"max-w-80% my-1rem mx-auto -outline-width-0!",pt:{text:{class:"-fw-400!"}}},{default:()=>[""]}):null,u.messages.map(m=>[h(Bubble,{content:m.content,key:m.content,messageRender:x=>textRenderEngine.process(x),loading:!1,placement:["user","system"].includes(m.role)?"end":"start",avatarProps:{icon:m.role=="user"?"pi pi-user":m.role=="assistant"?"pi pi-face-smile":"pi pi-desktop"}},{header:()=>h("div",{class:"stack-h"},[_.camelCase(m.role)]),footer:()=>h("div",{class:"stack-h"},[h(ToolButton,{size:"small",icon:"pi pi-copy",label:"",command:()=>{var x,y;clipboard.copy(m.content),e.add({severity:"info",summary:"",detail:`${(x=m.content)==null?void 0:x.length} 
${m.content.slice(0,20)}${((y=m.content)==null?void 0:y.length)<=20?"":"..."}`,life:2e3})}})])})]),(f=u.newMessage)!=null&&f.length?h(script$d,{severity:"secondary",size:"small",class:"max-w-80% my-1rem mx-auto -outline-width-0!",pt:{text:{class:"-fw-400!"}}},{default:()=>[""]}):null,(p=u.newMessage)!=null&&p.length?h(Bubble,{content:u.newMessage,messageRender:m=>textRenderEngine.process(m),key:u.newMessage,loading:!1,placement:"start",avatarProps:{icon:"pi pi-face-smile"},onClick:()=>{console.log(u)}},{header:()=>h("div",{class:"stack-h"},["assistant"]),footer:()=>h("div",{class:"stack-h"},[h(ToolButton,{size:"small",icon:"pi pi-copy",label:"",command:()=>{const m=u.newMessage??"";clipboard.copy(m),e.add({severity:"info",summary:"",detail:`${m==null?void 0:m.length} 
${m.slice(0,20)}${(m==null?void 0:m.length)<=20?"":"..."}`,life:2e3})}})])}):null]),[h(script$e,{class:"w-full",placeholder:"",modelValue:n.taskInput,"onUpdate:modelValue":m=>{n.taskInput=m,save("taskInput",m)}}),h("div",{class:"stack-h"},[h(ToolButton,{size:"small",icon:"pi pi-send",label:"",class:"ml-auto",command:async()=>{if(n.taskInput.trim()==="")return;const m=_.clone(u.messages);u.messages.push({role:"user",content:n.taskInput}),await (n,s,u,m,{stream:!0,...c}),u.messages.push({role:"assistant",content:u.newMessage??""}),u.newMessage="",n.taskInput="",save("chatData",u)}}),h(ToolButton,{size:"small",icon:"pi pi-send",label:"",class:"ml-auto",command:async()=>{n.taskInput.trim()!==""&&(await (n,s,u,u.messages,{stream:!0,...c}),save("chatData",u))}}),h(ToolButton,{size:"small",icon:"pi pi-send",label:"",class:"ml-auto",command:async()=>{const m=_.clone(u.messages);await (n,s,u,m,{stream:!0,...c},!0),save("chatData",u)}}),h(ToolButton,{size:"small",icon:"pi pi-send",label:"",class:"ml-auto",command:async()=>{n.taskInput.trim().length&&u.messages.push({role:"user",content:n.taskInput}),(u.newMessage??"").trim().length&&u.messages.push({role:"assistant",content:u.newMessage??""}),u.newMessage="",n.taskInput="",save("chatData",u)}}),h(ToolButton,{size:"small",icon:"pi pi-send",label:"",class:"ml-auto",command:async()=>{n.taskInput.trim()!==""&&(u.messages.push({role:"user",content:n.taskInput}),n.taskInput="",save("chatData",u))}}),h(ToolButton,{size:"small",icon:"pi pi-send",label:"",class:"ml-auto",command:async()=>{u.messages=[],u.newMessage="",save("chatData",u)}}),h(ToolButton,{size:"small",icon:"pi pi-copy",label:"",command:()=>{var m,x;clipboard.copy(n.taskInput),e.add({severity:"info",summary:"",detail:`${(m=n.taskInput)==null?void 0:m.length} 
${n.taskInput.slice(0,20)}${((x=n.taskInput)==null?void 0:x.length)<=20?"":"..."}`,life:2e3})}}),h(ToolButton,{size:"small",icon:"pi pi-trash",label:"",command:()=>{n.taskInput=""}})]),h("div",{class:"grid grid-cols-2 gap-4 w-full"},[l.map((m,x)=>h("div",{class:"stack-v col-span-2 lg-col-span-1 gap-4!"},[h(script$f,{variant:"on",class:"w-full"},{default:()=>[h(script$g,{id:`${m.key}Input`,fluid:!0,key:`[${x}]${m.key}`,modelValue:c[m.key],"onUpdate:modelValue":y=>{c[m.key]=Number(y),save("llmOptions",c)}}),h("label",{for:`${m.key}Input`},m.label)]}),h(script$j,{class:"w-96% mx-auto",modelValue:c[m.key],"onUpdate:modelValue":y=>{c[m.key]=Number(y),save("llmOptions",c)},min:m.min,max:m.max,step:m.step,title:m.tip})]))])]])}})]}});class ConceptDB extends Dexie{constructor(){super("ConceptForest");j(this,"trees");j(this,"nodes");j(this,"aliases");this.version(1).stores({trees:"&name",nodes:"[tree+key], tree, parents",aliases:"[tree+alias], [tree+key]"})}async _getRealKey(r,n){const o=await this.aliases.get([r,n.toLowerCase()]);return(o==null?void 0:o.key)||n}async createTree(r){if(!await this.trees.get(r))return this.trees.put({name:r})}async addNode(r,n){const o=(n.alias||[]).map(i=>i.toLowerCase());return this.transaction("rw",this.nodes,this.aliases,async()=>{await this.nodes.put({key:n.key,alias:o,parents:n.parents||[],props:n.props||{},tree:r,updated:new Date}),await this.aliases.bulkPut(o.map(i=>({tree:r,alias:i,key:n.key})))})}async updateParent(r,n,o){const i=await this._getRealKey(r,n);return this.nodes.update([r,i],{parents:o})}async findConcepts(r,n){let o=this.nodes.where("tree").equals(r);if(n.name)if(n.fuzzy){const i=await this.aliases.where("[tree+alias]").between([r,n.name.toLowerCase()],[r,n.name.toLowerCase()+""]).primaryKeys();o=o.filter(a=>i.map(s=>s[1]).includes(a.key))}else{const i=await this._getRealKey(r,n.name);o=o.filter(a=>a.key===i)}return n.props&&(o=o.filter(i=>Object.entries(n.props).every(([a,s])=>i.props[a]===s))),o.toArray()}}const db=new ConceptDB,TemplateJsTool={cdb:db,__KV__:{},__History__:[],log(e){const t=JSON.stringify(e);this.__History__.push(t),console.log(t)},clear(){this.__KV__={},this.__History__=[]},set(e,t){this.__KV__[e]=t},get(e){return this.__KV__[e]},last(){return this.__History__[this.__History__.length-1]},history(){return this.__History__},runCode(code){const frags=code.split(/(CallStart|CallEnd)/g);for(;frags[0]!=="CallStart";)if(frags.shift(),frags.length===0)return this.log("Error Code block not found."),this.last();for(frags.shift();frags[frags.length-1]!=="CallEnd";)if(frags.pop(),frags.length===0)return this.log("Error Code block not found."),this.last();frags.pop(),code=frags.join("").trim(),code=code.replace(/^```([Jj](ava)?[Ss](cript)?)?/g,""),code=code.replace(/```$/g,""),code=code.trim();try{eval(code)}catch(e){this.log(String(e))}return this.last()}},="\n js JsToolAPI\n\n- **** JsTool\n  - **** `JsToolUsed`\n  -  JsTool `JsToolUsed`\n  -  JsTool \n  -  JsTool \n  -  JsTool \n-  JsTool `CallStart``CallEnd` 1  JsTool\n\n\n\n-  JsTool  import \n-  JsTool  `console.log`  `JsTool.log` \n-  JsTool  `JsTool.set(key, value)`  `JsTool.get(key)`\n\n-  JsTool  lodash `_`\n-  JsTool  id  `the-only-art-board-wrap`  div  div  canvas  svg \n- js\n-  JsTool \n\n- `ReturnStart``ReturnEnd` `JsTool.log` \n-  JsTool \n  \n\n`ResultStart``ResultEnd`",roleIconDict={user:"pi pi-user",assistant:"pi pi-face-smile",system:"pi pi-desktop",tool:"pi pi-hammer"},AppToolTestView=defineComponent({setup(){const e=reactive(TemplateJsTool);onMounted(()=>{window.JsTool=e}),onUnmounted(()=>{window.JsTool=void 0});const t=f=>e.runCode(f),r=async f=>{const p=l.newMessage??"";return p.includes("JsToolUsed")?{run:!0,nextMessage:`ReturnStart${t(p)}ReturnEnd`}:{run:!1}},n=async(f=!1,p=2)=>{const m=_.cloneDeep(l.messages);m.forEach(y=>{y.role=="tool"&&(y.role="user")}),f||l.messages.push({role:"user",content:i.taskInput});let x=null;await (i,c,l,m,{stream:!0,...d},async y=>{x=await r()}),l.messages.push({role:"assistant",content:l.newMessage??""}),l.newMessage="",i.taskInput="",save("chatData",l),x!=null&&x.run&&p>0&&(l.messages.push({role:"tool",content:x.nextMessage}),save("chatData",l),await n(!0,p-1))},o=useToast(),i=reactive({ipAndCountryCode:{},taskInput:"",processing:!1,lastRecordId:null,result:{},_lastResultError:null}),a=reactive({batchMode:!1,batchConfig:{},batchState:{}}),s=reactive({template:null,taskMask:null,reqMask:null,resMask:null}),u=reactive({functionSetting:L[0],savedSettings:[]}),c=reactive({selectedSupplier:A[0],apiKeyDict:{},supplierModelsDict:{},selectedModelDict:{}}),l=reactive({title:"",systemPrompt:"",messages:[],newMessage:""}),d=reactive({temperature:1,top_p:1}),g=[{key:"temperature",label:"temperature",min:.01,max:2,step:.01,default:1,tip:" 0  2  0.8 0.2 top_p"},{key:"top_p",label:"top_p",min:.01,max:1,step:.01,default:1,tip:" top_p  token  0.1  10%  token  temperature"}];return onMounted(async()=>{const f=await load("templateForm");f!=null&&Object.assign(s,f);const p=await load("batchForm");p!=null&&Object.assign(a,p);const m=await load("savedSettings");m!=null&&(u.savedSettings=m);const x=await load("supplierForm");x!=null&&Object.assign(c,x);const y=await load("functionSetting");y!=null&&(u.functionSetting=y);const C=await load("taskInput");C!=null&&(i.taskInput=C);const $=await load("chatData");$!=null&&Object.assign(l,$);const E=await load("llmOptions");E!=null&&Object.assign(d,E);let R=await load("result");if(R!=null){if(_.isString(R))try{R=JSON.parse(R)}catch(B){i._lastResultError=B}i.result=R}}),()=>[h(script$3,{header:"",toggleable:!0,class:"my-1.5rem! col"},{default:()=>h("div",{class:"stack-v"},[h("p",{},""),h("p",{},""),h("p",{},""),h("p",{},"")])}),h(script$3,{header:"",toggleable:!0,class:"my-1.5rem! col"},{default:()=>h("div",{class:"stack-v"},[h(ToolButton,{icon:"pi pi-sparkles",label:"",command:()=>{l.systemPrompt=,save("chatData",l)}})])}),h(script$3,{header:"",toggleable:!0,class:"my-1.5rem! col"},{default:()=>h("div",{class:"stack-v",id:"the-only-art-board-wrap"},[])}),h(script$3,{header:"",toggleable:!0,class:"my-1.5rem! col"},{default:()=>{var f,p,m,x;return h("div",{class:"stack-v max-w-640px mx-auto py-1rem"},[h("div",{class:"stack-h w-full"},[h(script$g,{name:"chatTitle",placeholder:"",class:"grow-1",modelValue:l.title,"onUpdate:modelValue":y=>{l.title=y,save("chatData",l)}}),h(ToolButton,{icon:"pi pi-sparkles",label:"",command:()=>{l.title=` ${new Date().toLocaleString()}`,save("chatData",l)}})]),h(script$e,{class:"w-full",placeholder:"",modelValue:l.systemPrompt,"onUpdate:modelValue":y=>{l.systemPrompt=y,save("chatData",l)}}),h("div",{class:["stack-v w-full max-h-80vh my-1rem p-1rem overflow-auto","p-panel"]},[(f=l.systemPrompt)!=null&&f.length?h(Bubble,{content:l.systemPrompt,messageRender:y=>textRenderEngine.process(y),key:l.systemPrompt,loading:!1,placement:"end",avatarProps:{icon:roleIconDict.system},onClick:()=>{console.log(l)}},{header:()=>h("div",{class:"stack-h"},["system"])}):null,(p=l.systemPrompt)!=null&&p.length?h(script$d,{severity:"secondary",size:"small",class:"max-w-80% my-1rem mx-auto -outline-width-0!",pt:{text:{class:"-fw-400!"}}},{default:()=>[""]}):null,l.messages.map(y=>[h(Bubble,{content:y.content,messageRender:C=>textRenderEngine.process(C),loading:!1,placement:["user","system"].includes(y.role)?"end":"start",avatarProps:{icon:roleIconDict[y.role]}},{header:()=>h("div",{class:"stack-h"},[_.camelCase(y.role)]),footer:()=>h("div",{class:"stack-h"},[h(ToolButton,{size:"small",icon:"pi pi-copy",command:()=>{var C,$;clipboard.copy(y.content),o.add({severity:"info",summary:"",detail:`${(C=y.content)==null?void 0:C.length} 
${y.content.slice(0,20)}${(($=y.content)==null?void 0:$.length)<=20?"":"..."}`,life:2e3})}}),y.content.includes("CallStart")&&y.content.includes("CallEnd")?h(ToolButton,{size:"small",icon:"pi pi-play",command:()=>{t(y.content)}}):null])})]),(m=l.newMessage)!=null&&m.length?h(script$d,{severity:"secondary",size:"small",class:"max-w-80% my-1rem mx-auto -outline-width-0!",pt:{text:{class:"-fw-400!"}}},{default:()=>[""]}):null,(x=l.newMessage)!=null&&x.length?h(Bubble,{content:l.newMessage,messageRender:y=>textRenderEngine.process(y),key:l.newMessage,loading:!1,placement:"start",avatarProps:{icon:roleIconDict.assistant},onClick:()=>{console.log(l)}},{header:()=>h("div",{class:"stack-h"},["assistant"]),footer:()=>h("div",{class:"stack-h"},[h(ToolButton,{size:"small",icon:"pi pi-copy",command:()=>{const y=l.newMessage??"";clipboard.copy(y),o.add({severity:"info",summary:"",detail:`${y==null?void 0:y.length} 
${y.slice(0,20)}${(y==null?void 0:y.length)<=20?"":"..."}`,life:2e3})}})])}):null]),[h(script$e,{class:"w-full",placeholder:"",modelValue:i.taskInput,"onUpdate:modelValue":y=>{i.taskInput=y,save("taskInput",y)}}),h("div",{class:"stack-h"},[h(ToolButton,{size:"small",icon:"pi pi-send",label:"",class:"ml-auto",command:()=>{i.taskInput.trim()!==""&&n()}}),h(ToolButton,{size:"small",icon:"pi pi-copy",label:"",command:()=>{var y,C;clipboard.copy(i.taskInput),o.add({severity:"info",summary:"",detail:`${(y=i.taskInput)==null?void 0:y.length} 
${i.taskInput.slice(0,20)}${((C=i.taskInput)==null?void 0:C.length)<=20?"":"..."}`,life:2e3})}}),h(ToolButton,{size:"small",icon:"pi pi-trash",label:"",command:()=>{i.taskInput=""}}),h(ToolButton,{size:"small",icon:"pi pi-send",label:"",class:"ml-auto",command:async()=>{l.messages=[],l.newMessage="",save("chatData",l)}})]),h("div",{class:"grid grid-cols-2 gap-4 w-full"},[g.map((y,C)=>h("div",{class:"stack-v col-span-2 lg-col-span-1 gap-4!"},[h(script$f,{variant:"on",class:"w-full"},{default:()=>[h(script$g,{id:`${y.key}Input`,fluid:!0,key:`[${C}]${y.key}`,modelValue:d[y.key],"onUpdate:modelValue":$=>{d[y.key]=Number($),save("llmOptions",d)}}),h("label",{for:`${y.key}Input`},y.label)]}),h(script$j,{class:"w-96% mx-auto",modelValue:d[y.key],"onUpdate:modelValue":$=>{d[y.key]=Number($),save("llmOptions",d)},min:y.min,max:y.max,step:y.step,title:y.tip})]))])]])}}),h("div",{class:"grid grid-cols-2 gap-4"},[h(script$3,{header:"JsTool ",toggleable:!0,class:"my-1.5rem! col"},{default:()=>h("div",{class:"stack-v"},[h(ToolButton,{icon:"pi pi-copy",label:"",command:()=>{var f;clipboard.copy(`ReturnStart${e.last()}ReturnEnd`),o.add({severity:"info",summary:"",detail:` ${(f=`${e.last()}`)==null?void 0:f.length} `,life:2e3})}}),JSON.stringify(e.history(),null,2)])}),h(script$3,{header:"JsTool ",toggleable:!0,class:"my-1.5rem! col"},{default:()=>h("div",{class:"stack-v"},[JSON.stringify(e.__KV__,null,2)])})]),h(AppFileView,{class:"w-full"})]}}),md=MarkdownIt({breaks:!0,linkify:!0}),readMeText=`
### JS AI

 JS  AI  Web 
`,AppAboutView=defineComponent({name:"AppAboutView",setup(){return()=>h(script$3,{header:"About JS AI",class:"my-3"},{default:()=>[h("div",{class:["stack-v"]},[h("div",{class:"markdown-body",innerHTML:md.render(readMeText.trim())})])]})}}),NoteEditor=defineComponent({name:"NoteEditor",props:["note","idx"],emits:["modifyNoteContent","deleteNote"],setup(e,{emit:t}){var c,l;const r=resolveDirective("tooltip"),n=ref(),o=d=>{n.value.toggle(d)},i=ref(!1),a=ref((c=e==null?void 0:e.note)==null?void 0:c.title),s=ref((l=e==null?void 0:e.note)==null?void 0:l.content),u=ref([{label:"",icon:"pi pi-pencil",command:()=>{i.value=!0}},{label:"",icon:"pi pi-trash",command:()=>{var d;t("deleteNote",{id:(d=e==null?void 0:e.note)==null?void 0:d.id})}}]);return()=>{var d,g,f;return h(script$3,{key:`note[${e==null?void 0:e.idx}][${(d=e==null?void 0:e.note)==null?void 0:d.id}]`,header:`[${(g=e==null?void 0:e.note)==null?void 0:g.id}] ${((f=e==null?void 0:e.note)==null?void 0:f.title)??""}`},{default:()=>{var p;return h("div",{},[i.value?null:h("pre",{},(p=e==null?void 0:e.note)==null?void 0:p.content),i.value?h("div",{class:"my-3 flex flex-col flex-wrap gap-2 flex-content-around"},[h(script$g,{fluid:!0,modelValue:a.value,"onUpdate:modelValue":m=>{a.value=m}}),h(script$e,{fluid:!0,rows:4,modelValue:s.value,"onUpdate:modelValue":m=>{s.value=m}})]):null,i.value?h("div",{class:"mt-3 flex flex-row flex-wrap gap-2 flex-content-around"},[h(script$4,{class:"ml-auto",label:"",severity:"secondary",size:"small",onClick:()=>{var m;t("modifyNoteContent",{shadow:{id:(m=e==null?void 0:e.note)==null?void 0:m.id},content:s.value,title:a.value,callback:x=>{x===0&&(i.value=!1)}})}}),h(script$4,{label:"",severity:"secondary",size:"small",onClick:()=>{i.value=!1}})]):null])},icons:()=>{var p;return[withDirectives(h(script$4,{icon:"pi pi-pencil",severity:"secondary",rounded:!0,text:!0,onClick:()=>{i.value=!0}}),[[r,{value:"",showDelay:250,hideDelay:500},"top",{top:!0}]]),withDirectives(h(script$4,{icon:"pi pi-trash",severity:"secondary",rounded:!0,text:!0,onClick:()=>{var m;t("deleteNote",{id:(m=e==null?void 0:e.note)==null?void 0:m.id})}}),[[r,{value:"",showDelay:250,hideDelay:500},"top",{top:!0}]]),withDirectives(h(script$4,{icon:"pi pi-cog",severity:"secondary",rounded:!0,text:!0,onClick:o}),[[r,{value:"",showDelay:250,hideDelay:500},"top",{top:!0}]]),h(script$k,{ref:n,id:`menu-of-note[${e==null?void 0:e.idx}][${(p=e==null?void 0:e.note)==null?void 0:p.id}]`,model:u.value,popup:!0})]}})}}}),useNotesStore=defineStore("notesStore",{state:()=>({notes:[]}),getters:{count:e=>e.notes.length,maxId:e=>{var t;return((t=_.maxBy(e.notes,"id"))==null?void 0:t.id)??0}},actions:{addNote(e){e.id=this.maxId+1,e.timestamp=Date.now(),this.notes.unshift(e)},addNoteByContent(e,t){const r={content:e,title:t,id:this.maxId+1,timestamp:Date.now()};this.notes.unshift(r)},removeNote(e){_.remove(this.notes,e)},modifyNoteContent(e,t,r,n){console.log({shadow:e,title:r,content:t});const o=this.notes.find(i=>_.isMatch(i,e));if(o){const i=this.notes.indexOf(o),a={..._.cloneDeep(o),content:t,title:r};this.notes.splice(i,1,a),n==null||n(0)}else n==null||n(-1)}},persist:{serializer:{deserialize:lib$1.parse,serialize:lib$1.stringify}}}),AppNotesView=defineComponent({name:"AppNotesView",setup(){const e=useToast(),t=resolveDirective("tooltip"),r=useNotesStore(),{addNote:n,removeNote:o,modifyNoteContent:i}=r,{notes:a,count:s}=storeToRefs(r);return()=>h(script$3,{header:` ${s.value} `,toggleable:!0,class:"my-3"},{default:()=>[h("div",{class:["flex flex-row flex-items-center flex-wrap gap-2 flex-content-around flex-justify-around"]},[withDirectives(h(script$4,{label:"",onClick:()=>{n({content:""})}}),[[t,{value:"",showDelay:250,hideDelay:500},"top",{top:!0}]])]),h(script$l,{value:a.value,dataKey:"id",paginator:!0,rows:20},{empty:()=>h("div",{class:"my-3"},[""]),list:u=>u.items.map((c,l)=>h(NoteEditor,{class:"my-3",note:c,idx:l,key:`note[${l}][${c.id}]`,onDeleteNote:d=>{o(d)},onModifyNoteContent:({shadow:d,content:g,title:f,callback:p})=>{console.log({shadow:d,content:g,title:f,callback:p}),i(d,g,f,m=>{m===0||e.add({severity:"error",summary:"",detail:`${m}
${JSON.stringify(d)}`,life:3e3}),p==null||p(m)})}}))})]})}}),routes=[{path:"/:pathMatch(.*)*",name:"404",component:NotFoundView},{path:"/",redirect:"/about"},{path:"/",name:"app-root",component:AppView,children:[{path:"agent",name:"app-agent",component:AppRootView},{path:"about",name:"app-about",component:AppAboutView},{path:"func-test",name:"app-func-test",component:AppFuncTestView},{path:"chat-test",name:"app-chat-test",component:AppChatTestView},{path:"tool-test",name:"app-tool-test",component:AppToolTestView},{path:"notes",name:"app-notes",component:AppNotesView},{path:"config",name:"app-config",component:AppConfigView},{path:"suppliers",name:"app-suppliers",component:AppNotesView}]}],router=createRouter({history:createWebHashHistory(),routes}),suspectProtoRx=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,suspectConstructorRx=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,JsonSigRx=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function jsonParseTransform(e,t){if(e==="__proto__"||e==="constructor"&&t&&typeof t=="object"&&"prototype"in t){warnKeyDropped(e);return}return t}function warnKeyDropped(e){console.warn(`[destr] Dropping "${e}" key to prevent prototype pollution.`)}function destr(e,t={}){if(typeof e!="string")return e;const r=e.trim();if(e[0]==='"'&&e.endsWith('"')&&!e.includes("\\"))return r.slice(1,-1);if(r.length<=9){const n=r.toLowerCase();if(n==="true")return!0;if(n==="false")return!1;if(n==="undefined")return;if(n==="null")return null;if(n==="nan")return Number.NaN;if(n==="infinity")return Number.POSITIVE_INFINITY;if(n==="-infinity")return Number.NEGATIVE_INFINITY}if(!JsonSigRx.test(e)){if(t.strict)throw new SyntaxError("[destr] Invalid JSON");return e}try{if(suspectProtoRx.test(e)||suspectConstructorRx.test(e)){if(t.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(e,jsonParseTransform)}return JSON.parse(e)}catch(n){if(t.strict)throw n;return e}}function get(e,t){if(e==null)return;let r=e;for(let n=0;n<t.length;n++){if(r==null||r[t[n]]==null)return;r=r[t[n]]}return r}function set(e,t,r){if(r.length===0)return t;const n=r[0];return r.length>1&&(t=set(typeof e!="object"||e===null||!Object.prototype.hasOwnProperty.call(e,n)?Number.isInteger(Number(r[1]))?[]:{}:e[n],t,Array.prototype.slice.call(r,1))),Number.isInteger(Number(n))&&Array.isArray(e)?e.slice()[n]:Object.assign({},e,{[n]:t})}function unset(e,t){if(e==null||t.length===0)return e;if(t.length===1){if(e==null)return e;if(Number.isInteger(t[0])&&Array.isArray(e))return Array.prototype.slice.call(e,0).splice(t[0],1);const r={};for(const n in e)r[n]=e[n];return delete r[t[0]],r}if(e[t[0]]==null){if(Number.isInteger(t[0])&&Array.isArray(e))return Array.prototype.concat.call([],e);const r={};for(const n in e)r[n]=e[n];return r}return set(e,unset(e[t[0]],Array.prototype.slice.call(t,1)),[t[0]])}function deepPickUnsafe(e,t){return t.map(r=>r.split(".")).map(r=>[r,get(e,r)]).filter(r=>r[1]!==void 0).reduce((r,n)=>set(r,n[1],n[0]),{})}function deepOmitUnsafe(e,t){return t.map(r=>r.split(".")).reduce((r,n)=>unset(r,n),e)}function hydrateStore(e,{storage:t,serializer:r,key:n,debug:o,pick:i,omit:a,beforeHydrate:s,afterHydrate:u},c,l=!0){try{l&&(s==null||s(c));const d=t.getItem(n);if(d){const g=r.deserialize(d),f=i?deepPickUnsafe(g,i):g,p=a?deepOmitUnsafe(f,a):f;e.$patch(p)}l&&(u==null||u(c))}catch(d){o&&console.error("[pinia-plugin-persistedstate]",d)}}function persistState(e,{storage:t,serializer:r,key:n,debug:o,pick:i,omit:a}){try{const s=i?deepPickUnsafe(e,i):e,u=a?deepOmitUnsafe(s,a):s,c=r.serialize(u);t.setItem(n,c)}catch(s){o&&console.error("[pinia-plugin-persistedstate]",s)}}function createPersistence(e,t,r){const{pinia:n,store:o,options:{persist:i=r}}=e;if(!i)return;if(!(o.$id in n.state.value)){const u=n._s.get(o.$id.replace("__hot:",""));u&&Promise.resolve().then(()=>u.$persist());return}const s=(Array.isArray(i)?i:i===!0?[{}]:[i]).map(t);o.$hydrate=({runHooks:u=!0}={})=>{s.forEach(c=>{hydrateStore(o,c,e,u)})},o.$persist=()=>{s.forEach(u=>{persistState(o.$state,u)})},s.forEach(u=>{hydrateStore(o,u,e),o.$subscribe((c,l)=>persistState(l,u),{detached:!0})})}function createPersistedState(e={}){return function(t){createPersistence(t,r=>({key:(e.key?e.key:n=>n)(r.key??t.store.$id),debug:r.debug??e.debug??!1,serializer:r.serializer??e.serializer??{serialize:n=>JSON.stringify(n),deserialize:n=>destr(n)},storage:r.storage??e.storage??window.localStorage,beforeHydrate:r.beforeHydrate,afterHydrate:r.afterHydrate,pick:r.pick,omit:r.omit}),e.auto??!1)}}var src_default=createPersistedState();const store=createPinia();store.use(src_default);const i18n=createI18n({legacy:!1,locale:"zh",fallbackLocale:"en",messages:{en:{message:{hello:"hello world"}},zh:{message:{hello:""}}}}),app=createApp(App);app.use(PrimeVue,{ripple:!0,theme:{preset:IndigoThemePreset,options:{prefix:"p",darkModeSelector:`.${darkModeClassName}`,cssLayer:!1}}});app.use(router);app.use(store);app.use(ToastService);app.use(DialogService);app.use(ConfirmationService);app.use(i18n);app.directive("tooltip",Tooltip);app.mount("#app");
