var Le=Object.defineProperty;var Ue=(e,t,r)=>t in e?Le(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Ie=(e,t,r)=>Ue(e,typeof t!="symbol"?t+"":t,r);import{L as defineStore,b as ref,B as computed,M as defineComponent,N as watchEffect,O as h,R as RouterView,P as useRouter,Q as useI18n,S as storeToRefs,U as useRoute,w as watch,i as resolveDirective,l as withDirectives,e as onMounted,V as onUnmounted,C as reactive,W as getCurrentScope,X as onScopeDispose,n as nextTick,Y as createRouter,Z as createWebHashHistory,_ as createPinia,$ as createI18n,a0 as createApp}from"./vue-VsIqK9es.js";import{c as commonjsRequire,a as axios,D as Dexie,l as localforage,b as liveQuery}from"./tools2-CIVtzhDf.js";import{l as lib$1,c as clipboard,F as FileSaver,a as lib$2,m as md5,n as nanoid,p as pako,b as FileSaver_minExports,Y as YAML,z as zipson}from"./tools1-qZyuVZ4n.js";import{j as jschardet}from"./jschardet-IpODvyiT.js";import{c as commonjsGlobal,g as getDefaultExportFromCjs,_}from"./lodash-D9wIYH0h.js";import{s as script,a as script$1,b as script$2,d as definePreset,c as script$3,e as script$4,f as script$5,g as script$6,h as script$7,i as script$8,j as script$9,k as script$a,l as script$b,u as useToast,m as script$c,n as script$d,o as script$e,p as script$f,q as script$g,r as script$h,t as useConfirm,v as script$i,w as script$j,x as script$k,y as script$l,P as PrimeVue,T as ToastService,D as DialogService,C as ConfirmationService,z as Tooltip}from"./primevue-DvS3xdDE.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function r(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerPolicy&&(a.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?a.credentials="include":n.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(n){if(n.ep)return;n.ep=!0;const a=r(n);fetch(n.href,a)}})();var jszip_min={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(e,t){(function(r){e.exports=r()})(function(){return function r(o,n,a){function s(l,m){if(!n[l]){if(!o[l]){var f=typeof commonjsRequire=="function"&&commonjsRequire;if(!m&&f)return f(l,!0);if(i)return i(l,!0);var E=new Error("Cannot find module '"+l+"'");throw E.code="MODULE_NOT_FOUND",E}var c=n[l]={exports:{}};o[l][0].call(c.exports,function(p){var d=o[l][1][p];return s(d||p)},c,c.exports,r,o,n,a)}return n[l].exports}for(var i=typeof commonjsRequire=="function"&&commonjsRequire,u=0;u<a.length;u++)s(a[u]);return s}({1:[function(r,o,n){var a=r("./utils"),s=r("./support"),i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.encode=function(u){for(var l,m,f,E,c,p,d,x=[],y=0,R=u.length,B=R,F=a.getTypeOf(u)!=="string";y<u.length;)B=R-y,f=F?(l=u[y++],m=y<R?u[y++]:0,y<R?u[y++]:0):(l=u.charCodeAt(y++),m=y<R?u.charCodeAt(y++):0,y<R?u.charCodeAt(y++):0),E=l>>2,c=(3&l)<<4|m>>4,p=1<B?(15&m)<<2|f>>6:64,d=2<B?63&f:64,x.push(i.charAt(E)+i.charAt(c)+i.charAt(p)+i.charAt(d));return x.join("")},n.decode=function(u){var l,m,f,E,c,p,d=0,x=0,y="data:";if(u.substr(0,y.length)===y)throw new Error("Invalid base64 input, it looks like a data url.");var R,B=3*(u=u.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(u.charAt(u.length-1)===i.charAt(64)&&B--,u.charAt(u.length-2)===i.charAt(64)&&B--,B%1!=0)throw new Error("Invalid base64 input, bad content length.");for(R=s.uint8array?new Uint8Array(0|B):new Array(0|B);d<u.length;)l=i.indexOf(u.charAt(d++))<<2|(E=i.indexOf(u.charAt(d++)))>>4,m=(15&E)<<4|(c=i.indexOf(u.charAt(d++)))>>2,f=(3&c)<<6|(p=i.indexOf(u.charAt(d++))),R[x++]=l,c!==64&&(R[x++]=m),p!==64&&(R[x++]=f);return R}},{"./support":30,"./utils":32}],2:[function(r,o,n){var a=r("./external"),s=r("./stream/DataWorker"),i=r("./stream/Crc32Probe"),u=r("./stream/DataLengthProbe");function l(m,f,E,c,p){this.compressedSize=m,this.uncompressedSize=f,this.crc32=E,this.compression=c,this.compressedContent=p}l.prototype={getContentWorker:function(){var m=new s(a.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new u("data_length")),f=this;return m.on("end",function(){if(this.streamInfo.data_length!==f.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),m},getCompressedWorker:function(){return new s(a.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},l.createWorkerFrom=function(m,f,E){return m.pipe(new i).pipe(new u("uncompressedSize")).pipe(f.compressWorker(E)).pipe(new u("compressedSize")).withStreamInfo("compression",f)},o.exports=l},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(r,o,n){var a=r("./stream/GenericWorker");n.STORE={magic:"\0\0",compressWorker:function(){return new a("STORE compression")},uncompressWorker:function(){return new a("STORE decompression")}},n.DEFLATE=r("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(r,o,n){var a=r("./utils"),s=function(){for(var i,u=[],l=0;l<256;l++){i=l;for(var m=0;m<8;m++)i=1&i?3988292384^i>>>1:i>>>1;u[l]=i}return u}();o.exports=function(i,u){return i!==void 0&&i.length?a.getTypeOf(i)!=="string"?function(l,m,f,E){var c=s,p=E+f;l^=-1;for(var d=E;d<p;d++)l=l>>>8^c[255&(l^m[d])];return-1^l}(0|u,i,i.length,0):function(l,m,f,E){var c=s,p=E+f;l^=-1;for(var d=E;d<p;d++)l=l>>>8^c[255&(l^m.charCodeAt(d))];return-1^l}(0|u,i,i.length,0):0}},{"./utils":32}],5:[function(r,o,n){n.base64=!1,n.binary=!1,n.dir=!1,n.createFolders=!0,n.date=null,n.compression=null,n.compressionOptions=null,n.comment=null,n.unixPermissions=null,n.dosPermissions=null},{}],6:[function(r,o,n){var a=null;a=typeof Promise<"u"?Promise:r("lie"),o.exports={Promise:a}},{lie:37}],7:[function(r,o,n){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",s=r("pako"),i=r("./utils"),u=r("./stream/GenericWorker"),l=a?"uint8array":"array";function m(f,E){u.call(this,"FlateWorker/"+f),this._pako=null,this._pakoAction=f,this._pakoOptions=E,this.meta={}}n.magic="\b\0",i.inherits(m,u),m.prototype.processChunk=function(f){this.meta=f.meta,this._pako===null&&this._createPako(),this._pako.push(i.transformTo(l,f.data),!1)},m.prototype.flush=function(){u.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},m.prototype.cleanUp=function(){u.prototype.cleanUp.call(this),this._pako=null},m.prototype._createPako=function(){this._pako=new s[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var f=this;this._pako.onData=function(E){f.push({data:E,meta:f.meta})}},n.compressWorker=function(f){return new m("Deflate",f)},n.uncompressWorker=function(){return new m("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(r,o,n){function a(c,p){var d,x="";for(d=0;d<p;d++)x+=String.fromCharCode(255&c),c>>>=8;return x}function s(c,p,d,x,y,R){var B,F,T=c.file,z=c.compression,U=R!==l.utf8encode,X=i.transformTo("string",R(T.name)),j=i.transformTo("string",l.utf8encode(T.name)),Y=T.comment,ae=i.transformTo("string",R(Y)),$=i.transformTo("string",l.utf8encode(Y)),H=j.length!==T.name.length,C=$.length!==Y.length,V="",fe="",te="",he=T.dir,re=T.date,de={crc32:0,compressedSize:0,uncompressedSize:0};p&&!d||(de.crc32=c.crc32,de.compressedSize=c.compressedSize,de.uncompressedSize=c.uncompressedSize);var J=0;p&&(J|=8),U||!H&&!C||(J|=2048);var W=0,le=0;he&&(W|=16),y==="UNIX"?(le=798,W|=function(se,_e){var ke=se;return se||(ke=_e?16893:33204),(65535&ke)<<16}(T.unixPermissions,he)):(le=20,W|=function(se){return 63&(se||0)}(T.dosPermissions)),B=re.getUTCHours(),B<<=6,B|=re.getUTCMinutes(),B<<=5,B|=re.getUTCSeconds()/2,F=re.getUTCFullYear()-1980,F<<=4,F|=re.getUTCMonth()+1,F<<=5,F|=re.getUTCDate(),H&&(fe=a(1,1)+a(m(X),4)+j,V+="up"+a(fe.length,2)+fe),C&&(te=a(1,1)+a(m(ae),4)+$,V+="uc"+a(te.length,2)+te);var ie="";return ie+=`
\0`,ie+=a(J,2),ie+=z.magic,ie+=a(B,2),ie+=a(F,2),ie+=a(de.crc32,4),ie+=a(de.compressedSize,4),ie+=a(de.uncompressedSize,4),ie+=a(X.length,2),ie+=a(V.length,2),{fileRecord:f.LOCAL_FILE_HEADER+ie+X+V,dirRecord:f.CENTRAL_FILE_HEADER+a(le,2)+ie+a(ae.length,2)+"\0\0\0\0"+a(W,4)+a(x,4)+X+V+ae}}var i=r("../utils"),u=r("../stream/GenericWorker"),l=r("../utf8"),m=r("../crc32"),f=r("../signature");function E(c,p,d,x){u.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=p,this.zipPlatform=d,this.encodeFileName=x,this.streamFiles=c,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}i.inherits(E,u),E.prototype.push=function(c){var p=c.meta.percent||0,d=this.entriesCount,x=this._sources.length;this.accumulate?this.contentBuffer.push(c):(this.bytesWritten+=c.data.length,u.prototype.push.call(this,{data:c.data,meta:{currentFile:this.currentFile,percent:d?(p+100*(d-x-1))/d:100}}))},E.prototype.openedSource=function(c){this.currentSourceOffset=this.bytesWritten,this.currentFile=c.file.name;var p=this.streamFiles&&!c.file.dir;if(p){var d=s(c,p,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:d.fileRecord,meta:{percent:0}})}else this.accumulate=!0},E.prototype.closedSource=function(c){this.accumulate=!1;var p=this.streamFiles&&!c.file.dir,d=s(c,p,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(d.dirRecord),p)this.push({data:function(x){return f.DATA_DESCRIPTOR+a(x.crc32,4)+a(x.compressedSize,4)+a(x.uncompressedSize,4)}(c),meta:{percent:100}});else for(this.push({data:d.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},E.prototype.flush=function(){for(var c=this.bytesWritten,p=0;p<this.dirRecords.length;p++)this.push({data:this.dirRecords[p],meta:{percent:100}});var d=this.bytesWritten-c,x=function(y,R,B,F,T){var z=i.transformTo("string",T(F));return f.CENTRAL_DIRECTORY_END+"\0\0\0\0"+a(y,2)+a(y,2)+a(R,4)+a(B,4)+a(z.length,2)+z}(this.dirRecords.length,d,c,this.zipComment,this.encodeFileName);this.push({data:x,meta:{percent:100}})},E.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},E.prototype.registerPrevious=function(c){this._sources.push(c);var p=this;return c.on("data",function(d){p.processChunk(d)}),c.on("end",function(){p.closedSource(p.previous.streamInfo),p._sources.length?p.prepareNextSource():p.end()}),c.on("error",function(d){p.error(d)}),this},E.prototype.resume=function(){return!!u.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},E.prototype.error=function(c){var p=this._sources;if(!u.prototype.error.call(this,c))return!1;for(var d=0;d<p.length;d++)try{p[d].error(c)}catch{}return!0},E.prototype.lock=function(){u.prototype.lock.call(this);for(var c=this._sources,p=0;p<c.length;p++)c[p].lock()},o.exports=E},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(r,o,n){var a=r("../compressions"),s=r("./ZipFileWorker");n.generateWorker=function(i,u,l){var m=new s(u.streamFiles,l,u.platform,u.encodeFileName),f=0;try{i.forEach(function(E,c){f++;var p=function(R,B){var F=R||B,T=a[F];if(!T)throw new Error(F+" is not a valid compression method !");return T}(c.options.compression,u.compression),d=c.options.compressionOptions||u.compressionOptions||{},x=c.dir,y=c.date;c._compressWorker(p,d).withStreamInfo("file",{name:E,dir:x,date:y,comment:c.comment||"",unixPermissions:c.unixPermissions,dosPermissions:c.dosPermissions}).pipe(m)}),m.entriesCount=f}catch(E){m.error(E)}return m}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(r,o,n){function a(){if(!(this instanceof a))return new a;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var s=new a;for(var i in this)typeof this[i]!="function"&&(s[i]=this[i]);return s}}(a.prototype=r("./object")).loadAsync=r("./load"),a.support=r("./support"),a.defaults=r("./defaults"),a.version="3.10.1",a.loadAsync=function(s,i){return new a().loadAsync(s,i)},a.external=r("./external"),o.exports=a},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(r,o,n){var a=r("./utils"),s=r("./external"),i=r("./utf8"),u=r("./zipEntries"),l=r("./stream/Crc32Probe"),m=r("./nodejsUtils");function f(E){return new s.Promise(function(c,p){var d=E.decompressed.getContentWorker().pipe(new l);d.on("error",function(x){p(x)}).on("end",function(){d.streamInfo.crc32!==E.decompressed.crc32?p(new Error("Corrupted zip : CRC32 mismatch")):c()}).resume()})}o.exports=function(E,c){var p=this;return c=a.extend(c||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:i.utf8decode}),m.isNode&&m.isStream(E)?s.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):a.prepareContent("the loaded zip file",E,!0,c.optimizedBinaryString,c.base64).then(function(d){var x=new u(c);return x.load(d),x}).then(function(d){var x=[s.Promise.resolve(d)],y=d.files;if(c.checkCRC32)for(var R=0;R<y.length;R++)x.push(f(y[R]));return s.Promise.all(x)}).then(function(d){for(var x=d.shift(),y=x.files,R=0;R<y.length;R++){var B=y[R],F=B.fileNameStr,T=a.resolve(B.fileNameStr);p.file(T,B.decompressed,{binary:!0,optimizedBinaryString:!0,date:B.date,dir:B.dir,comment:B.fileCommentStr.length?B.fileCommentStr:null,unixPermissions:B.unixPermissions,dosPermissions:B.dosPermissions,createFolders:c.createFolders}),B.dir||(p.file(T).unsafeOriginalName=F)}return x.zipComment.length&&(p.comment=x.zipComment),p})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(r,o,n){var a=r("../utils"),s=r("../stream/GenericWorker");function i(u,l){s.call(this,"Nodejs stream input adapter for "+u),this._upstreamEnded=!1,this._bindStream(l)}a.inherits(i,s),i.prototype._bindStream=function(u){var l=this;(this._stream=u).pause(),u.on("data",function(m){l.push({data:m,meta:{percent:0}})}).on("error",function(m){l.isPaused?this.generatedError=m:l.error(m)}).on("end",function(){l.isPaused?l._upstreamEnded=!0:l.end()})},i.prototype.pause=function(){return!!s.prototype.pause.call(this)&&(this._stream.pause(),!0)},i.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},o.exports=i},{"../stream/GenericWorker":28,"../utils":32}],13:[function(r,o,n){var a=r("readable-stream").Readable;function s(i,u,l){a.call(this,u),this._helper=i;var m=this;i.on("data",function(f,E){m.push(f)||m._helper.pause(),l&&l(E)}).on("error",function(f){m.emit("error",f)}).on("end",function(){m.push(null)})}r("../utils").inherits(s,a),s.prototype._read=function(){this._helper.resume()},o.exports=s},{"../utils":32,"readable-stream":16}],14:[function(r,o,n){o.exports={isNode:typeof Buffer<"u",newBufferFrom:function(a,s){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(a,s);if(typeof a=="number")throw new Error('The "data" argument must not be a number');return new Buffer(a,s)},allocBuffer:function(a){if(Buffer.alloc)return Buffer.alloc(a);var s=new Buffer(a);return s.fill(0),s},isBuffer:function(a){return Buffer.isBuffer(a)},isStream:function(a){return a&&typeof a.on=="function"&&typeof a.pause=="function"&&typeof a.resume=="function"}}},{}],15:[function(r,o,n){function a(T,z,U){var X,j=i.getTypeOf(z),Y=i.extend(U||{},m);Y.date=Y.date||new Date,Y.compression!==null&&(Y.compression=Y.compression.toUpperCase()),typeof Y.unixPermissions=="string"&&(Y.unixPermissions=parseInt(Y.unixPermissions,8)),Y.unixPermissions&&16384&Y.unixPermissions&&(Y.dir=!0),Y.dosPermissions&&16&Y.dosPermissions&&(Y.dir=!0),Y.dir&&(T=y(T)),Y.createFolders&&(X=x(T))&&R.call(this,X,!0);var ae=j==="string"&&Y.binary===!1&&Y.base64===!1;U&&U.binary!==void 0||(Y.binary=!ae),(z instanceof f&&z.uncompressedSize===0||Y.dir||!z||z.length===0)&&(Y.base64=!1,Y.binary=!0,z="",Y.compression="STORE",j="string");var $=null;$=z instanceof f||z instanceof u?z:p.isNode&&p.isStream(z)?new d(T,z):i.prepareContent(T,z,Y.binary,Y.optimizedBinaryString,Y.base64);var H=new E(T,$,Y);this.files[T]=H}var s=r("./utf8"),i=r("./utils"),u=r("./stream/GenericWorker"),l=r("./stream/StreamHelper"),m=r("./defaults"),f=r("./compressedObject"),E=r("./zipObject"),c=r("./generate"),p=r("./nodejsUtils"),d=r("./nodejs/NodejsStreamInputAdapter"),x=function(T){T.slice(-1)==="/"&&(T=T.substring(0,T.length-1));var z=T.lastIndexOf("/");return 0<z?T.substring(0,z):""},y=function(T){return T.slice(-1)!=="/"&&(T+="/"),T},R=function(T,z){return z=z!==void 0?z:m.createFolders,T=y(T),this.files[T]||a.call(this,T,null,{dir:!0,createFolders:z}),this.files[T]};function B(T){return Object.prototype.toString.call(T)==="[object RegExp]"}var F={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(T){var z,U,X;for(z in this.files)X=this.files[z],(U=z.slice(this.root.length,z.length))&&z.slice(0,this.root.length)===this.root&&T(U,X)},filter:function(T){var z=[];return this.forEach(function(U,X){T(U,X)&&z.push(X)}),z},file:function(T,z,U){if(arguments.length!==1)return T=this.root+T,a.call(this,T,z,U),this;if(B(T)){var X=T;return this.filter(function(Y,ae){return!ae.dir&&X.test(Y)})}var j=this.files[this.root+T];return j&&!j.dir?j:null},folder:function(T){if(!T)return this;if(B(T))return this.filter(function(j,Y){return Y.dir&&T.test(j)});var z=this.root+T,U=R.call(this,z),X=this.clone();return X.root=U.name,X},remove:function(T){T=this.root+T;var z=this.files[T];if(z||(T.slice(-1)!=="/"&&(T+="/"),z=this.files[T]),z&&!z.dir)delete this.files[T];else for(var U=this.filter(function(j,Y){return Y.name.slice(0,T.length)===T}),X=0;X<U.length;X++)delete this.files[U[X].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(T){var z,U={};try{if((U=i.extend(T||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:s.utf8encode})).type=U.type.toLowerCase(),U.compression=U.compression.toUpperCase(),U.type==="binarystring"&&(U.type="string"),!U.type)throw new Error("No output type specified.");i.checkSupport(U.type),U.platform!=="darwin"&&U.platform!=="freebsd"&&U.platform!=="linux"&&U.platform!=="sunos"||(U.platform="UNIX"),U.platform==="win32"&&(U.platform="DOS");var X=U.comment||this.comment||"";z=c.generateWorker(this,U,X)}catch(j){(z=new u("error")).error(j)}return new l(z,U.type||"string",U.mimeType)},generateAsync:function(T,z){return this.generateInternalStream(T).accumulate(z)},generateNodeStream:function(T,z){return(T=T||{}).type||(T.type="nodebuffer"),this.generateInternalStream(T).toNodejsStream(z)}};o.exports=F},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(r,o,n){o.exports=r("stream")},{stream:void 0}],17:[function(r,o,n){var a=r("./DataReader");function s(i){a.call(this,i);for(var u=0;u<this.data.length;u++)i[u]=255&i[u]}r("../utils").inherits(s,a),s.prototype.byteAt=function(i){return this.data[this.zero+i]},s.prototype.lastIndexOfSignature=function(i){for(var u=i.charCodeAt(0),l=i.charCodeAt(1),m=i.charCodeAt(2),f=i.charCodeAt(3),E=this.length-4;0<=E;--E)if(this.data[E]===u&&this.data[E+1]===l&&this.data[E+2]===m&&this.data[E+3]===f)return E-this.zero;return-1},s.prototype.readAndCheckSignature=function(i){var u=i.charCodeAt(0),l=i.charCodeAt(1),m=i.charCodeAt(2),f=i.charCodeAt(3),E=this.readData(4);return u===E[0]&&l===E[1]&&m===E[2]&&f===E[3]},s.prototype.readData=function(i){if(this.checkOffset(i),i===0)return[];var u=this.data.slice(this.zero+this.index,this.zero+this.index+i);return this.index+=i,u},o.exports=s},{"../utils":32,"./DataReader":18}],18:[function(r,o,n){var a=r("../utils");function s(i){this.data=i,this.length=i.length,this.index=0,this.zero=0}s.prototype={checkOffset:function(i){this.checkIndex(this.index+i)},checkIndex:function(i){if(this.length<this.zero+i||i<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+i+"). Corrupted zip ?")},setIndex:function(i){this.checkIndex(i),this.index=i},skip:function(i){this.setIndex(this.index+i)},byteAt:function(){},readInt:function(i){var u,l=0;for(this.checkOffset(i),u=this.index+i-1;u>=this.index;u--)l=(l<<8)+this.byteAt(u);return this.index+=i,l},readString:function(i){return a.transformTo("string",this.readData(i))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var i=this.readInt(4);return new Date(Date.UTC(1980+(i>>25&127),(i>>21&15)-1,i>>16&31,i>>11&31,i>>5&63,(31&i)<<1))}},o.exports=s},{"../utils":32}],19:[function(r,o,n){var a=r("./Uint8ArrayReader");function s(i){a.call(this,i)}r("../utils").inherits(s,a),s.prototype.readData=function(i){this.checkOffset(i);var u=this.data.slice(this.zero+this.index,this.zero+this.index+i);return this.index+=i,u},o.exports=s},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(r,o,n){var a=r("./DataReader");function s(i){a.call(this,i)}r("../utils").inherits(s,a),s.prototype.byteAt=function(i){return this.data.charCodeAt(this.zero+i)},s.prototype.lastIndexOfSignature=function(i){return this.data.lastIndexOf(i)-this.zero},s.prototype.readAndCheckSignature=function(i){return i===this.readData(4)},s.prototype.readData=function(i){this.checkOffset(i);var u=this.data.slice(this.zero+this.index,this.zero+this.index+i);return this.index+=i,u},o.exports=s},{"../utils":32,"./DataReader":18}],21:[function(r,o,n){var a=r("./ArrayReader");function s(i){a.call(this,i)}r("../utils").inherits(s,a),s.prototype.readData=function(i){if(this.checkOffset(i),i===0)return new Uint8Array(0);var u=this.data.subarray(this.zero+this.index,this.zero+this.index+i);return this.index+=i,u},o.exports=s},{"../utils":32,"./ArrayReader":17}],22:[function(r,o,n){var a=r("../utils"),s=r("../support"),i=r("./ArrayReader"),u=r("./StringReader"),l=r("./NodeBufferReader"),m=r("./Uint8ArrayReader");o.exports=function(f){var E=a.getTypeOf(f);return a.checkSupport(E),E!=="string"||s.uint8array?E==="nodebuffer"?new l(f):s.uint8array?new m(a.transformTo("uint8array",f)):new i(a.transformTo("array",f)):new u(f)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(r,o,n){n.LOCAL_FILE_HEADER="PK",n.CENTRAL_FILE_HEADER="PK",n.CENTRAL_DIRECTORY_END="PK",n.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",n.ZIP64_CENTRAL_DIRECTORY_END="PK",n.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(r,o,n){var a=r("./GenericWorker"),s=r("../utils");function i(u){a.call(this,"ConvertWorker to "+u),this.destType=u}s.inherits(i,a),i.prototype.processChunk=function(u){this.push({data:s.transformTo(this.destType,u.data),meta:u.meta})},o.exports=i},{"../utils":32,"./GenericWorker":28}],25:[function(r,o,n){var a=r("./GenericWorker"),s=r("../crc32");function i(){a.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}r("../utils").inherits(i,a),i.prototype.processChunk=function(u){this.streamInfo.crc32=s(u.data,this.streamInfo.crc32||0),this.push(u)},o.exports=i},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(r,o,n){var a=r("../utils"),s=r("./GenericWorker");function i(u){s.call(this,"DataLengthProbe for "+u),this.propName=u,this.withStreamInfo(u,0)}a.inherits(i,s),i.prototype.processChunk=function(u){if(u){var l=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=l+u.data.length}s.prototype.processChunk.call(this,u)},o.exports=i},{"../utils":32,"./GenericWorker":28}],27:[function(r,o,n){var a=r("../utils"),s=r("./GenericWorker");function i(u){s.call(this,"DataWorker");var l=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,u.then(function(m){l.dataIsReady=!0,l.data=m,l.max=m&&m.length||0,l.type=a.getTypeOf(m),l.isPaused||l._tickAndRepeat()},function(m){l.error(m)})}a.inherits(i,s),i.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this.data=null},i.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,a.delay(this._tickAndRepeat,[],this)),!0)},i.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(a.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},i.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var u=null,l=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":u=this.data.substring(this.index,l);break;case"uint8array":u=this.data.subarray(this.index,l);break;case"array":case"nodebuffer":u=this.data.slice(this.index,l)}return this.index=l,this.push({data:u,meta:{percent:this.max?this.index/this.max*100:0}})},o.exports=i},{"../utils":32,"./GenericWorker":28}],28:[function(r,o,n){function a(s){this.name=s||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}a.prototype={push:function(s){this.emit("data",s)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(s){this.emit("error",s)}return!0},error:function(s){return!this.isFinished&&(this.isPaused?this.generatedError=s:(this.isFinished=!0,this.emit("error",s),this.previous&&this.previous.error(s),this.cleanUp()),!0)},on:function(s,i){return this._listeners[s].push(i),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(s,i){if(this._listeners[s])for(var u=0;u<this._listeners[s].length;u++)this._listeners[s][u].call(this,i)},pipe:function(s){return s.registerPrevious(this)},registerPrevious:function(s){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=s.streamInfo,this.mergeStreamInfo(),this.previous=s;var i=this;return s.on("data",function(u){i.processChunk(u)}),s.on("end",function(){i.end()}),s.on("error",function(u){i.error(u)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var s=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),s=!0),this.previous&&this.previous.resume(),!s},flush:function(){},processChunk:function(s){this.push(s)},withStreamInfo:function(s,i){return this.extraStreamInfo[s]=i,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var s in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,s)&&(this.streamInfo[s]=this.extraStreamInfo[s])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var s="Worker "+this.name;return this.previous?this.previous+" -> "+s:s}},o.exports=a},{}],29:[function(r,o,n){var a=r("../utils"),s=r("./ConvertWorker"),i=r("./GenericWorker"),u=r("../base64"),l=r("../support"),m=r("../external"),f=null;if(l.nodestream)try{f=r("../nodejs/NodejsStreamOutputAdapter")}catch{}function E(p,d){return new m.Promise(function(x,y){var R=[],B=p._internalType,F=p._outputType,T=p._mimeType;p.on("data",function(z,U){R.push(z),d&&d(U)}).on("error",function(z){R=[],y(z)}).on("end",function(){try{var z=function(U,X,j){switch(U){case"blob":return a.newBlob(a.transformTo("arraybuffer",X),j);case"base64":return u.encode(X);default:return a.transformTo(U,X)}}(F,function(U,X){var j,Y=0,ae=null,$=0;for(j=0;j<X.length;j++)$+=X[j].length;switch(U){case"string":return X.join("");case"array":return Array.prototype.concat.apply([],X);case"uint8array":for(ae=new Uint8Array($),j=0;j<X.length;j++)ae.set(X[j],Y),Y+=X[j].length;return ae;case"nodebuffer":return Buffer.concat(X);default:throw new Error("concat : unsupported type '"+U+"'")}}(B,R),T);x(z)}catch(U){y(U)}R=[]}).resume()})}function c(p,d,x){var y=d;switch(d){case"blob":case"arraybuffer":y="uint8array";break;case"base64":y="string"}try{this._internalType=y,this._outputType=d,this._mimeType=x,a.checkSupport(y),this._worker=p.pipe(new s(y)),p.lock()}catch(R){this._worker=new i("error"),this._worker.error(R)}}c.prototype={accumulate:function(p){return E(this,p)},on:function(p,d){var x=this;return p==="data"?this._worker.on(p,function(y){d.call(x,y.data,y.meta)}):this._worker.on(p,function(){a.delay(d,arguments,x)}),this},resume:function(){return a.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(p){if(a.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new f(this,{objectMode:this._outputType!=="nodebuffer"},p)}},o.exports=c},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(r,o,n){if(n.base64=!0,n.array=!0,n.string=!0,n.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",n.nodebuffer=typeof Buffer<"u",n.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")n.blob=!1;else{var a=new ArrayBuffer(0);try{n.blob=new Blob([a],{type:"application/zip"}).size===0}catch{try{var s=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);s.append(a),n.blob=s.getBlob("application/zip").size===0}catch{n.blob=!1}}}try{n.nodestream=!!r("readable-stream").Readable}catch{n.nodestream=!1}},{"readable-stream":16}],31:[function(r,o,n){for(var a=r("./utils"),s=r("./support"),i=r("./nodejsUtils"),u=r("./stream/GenericWorker"),l=new Array(256),m=0;m<256;m++)l[m]=252<=m?6:248<=m?5:240<=m?4:224<=m?3:192<=m?2:1;l[254]=l[254]=1;function f(){u.call(this,"utf-8 decode"),this.leftOver=null}function E(){u.call(this,"utf-8 encode")}n.utf8encode=function(c){return s.nodebuffer?i.newBufferFrom(c,"utf-8"):function(p){var d,x,y,R,B,F=p.length,T=0;for(R=0;R<F;R++)(64512&(x=p.charCodeAt(R)))==55296&&R+1<F&&(64512&(y=p.charCodeAt(R+1)))==56320&&(x=65536+(x-55296<<10)+(y-56320),R++),T+=x<128?1:x<2048?2:x<65536?3:4;for(d=s.uint8array?new Uint8Array(T):new Array(T),R=B=0;B<T;R++)(64512&(x=p.charCodeAt(R)))==55296&&R+1<F&&(64512&(y=p.charCodeAt(R+1)))==56320&&(x=65536+(x-55296<<10)+(y-56320),R++),x<128?d[B++]=x:(x<2048?d[B++]=192|x>>>6:(x<65536?d[B++]=224|x>>>12:(d[B++]=240|x>>>18,d[B++]=128|x>>>12&63),d[B++]=128|x>>>6&63),d[B++]=128|63&x);return d}(c)},n.utf8decode=function(c){return s.nodebuffer?a.transformTo("nodebuffer",c).toString("utf-8"):function(p){var d,x,y,R,B=p.length,F=new Array(2*B);for(d=x=0;d<B;)if((y=p[d++])<128)F[x++]=y;else if(4<(R=l[y]))F[x++]=65533,d+=R-1;else{for(y&=R===2?31:R===3?15:7;1<R&&d<B;)y=y<<6|63&p[d++],R--;1<R?F[x++]=65533:y<65536?F[x++]=y:(y-=65536,F[x++]=55296|y>>10&1023,F[x++]=56320|1023&y)}return F.length!==x&&(F.subarray?F=F.subarray(0,x):F.length=x),a.applyFromCharCode(F)}(c=a.transformTo(s.uint8array?"uint8array":"array",c))},a.inherits(f,u),f.prototype.processChunk=function(c){var p=a.transformTo(s.uint8array?"uint8array":"array",c.data);if(this.leftOver&&this.leftOver.length){if(s.uint8array){var d=p;(p=new Uint8Array(d.length+this.leftOver.length)).set(this.leftOver,0),p.set(d,this.leftOver.length)}else p=this.leftOver.concat(p);this.leftOver=null}var x=function(R,B){var F;for((B=B||R.length)>R.length&&(B=R.length),F=B-1;0<=F&&(192&R[F])==128;)F--;return F<0||F===0?B:F+l[R[F]]>B?F:B}(p),y=p;x!==p.length&&(s.uint8array?(y=p.subarray(0,x),this.leftOver=p.subarray(x,p.length)):(y=p.slice(0,x),this.leftOver=p.slice(x,p.length))),this.push({data:n.utf8decode(y),meta:c.meta})},f.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:n.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},n.Utf8DecodeWorker=f,a.inherits(E,u),E.prototype.processChunk=function(c){this.push({data:n.utf8encode(c.data),meta:c.meta})},n.Utf8EncodeWorker=E},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(r,o,n){var a=r("./support"),s=r("./base64"),i=r("./nodejsUtils"),u=r("./external");function l(d){return d}function m(d,x){for(var y=0;y<d.length;++y)x[y]=255&d.charCodeAt(y);return x}r("setimmediate"),n.newBlob=function(d,x){n.checkSupport("blob");try{return new Blob([d],{type:x})}catch{try{var y=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return y.append(d),y.getBlob(x)}catch{throw new Error("Bug : can't construct the Blob.")}}};var f={stringifyByChunk:function(d,x,y){var R=[],B=0,F=d.length;if(F<=y)return String.fromCharCode.apply(null,d);for(;B<F;)x==="array"||x==="nodebuffer"?R.push(String.fromCharCode.apply(null,d.slice(B,Math.min(B+y,F)))):R.push(String.fromCharCode.apply(null,d.subarray(B,Math.min(B+y,F)))),B+=y;return R.join("")},stringifyByChar:function(d){for(var x="",y=0;y<d.length;y++)x+=String.fromCharCode(d[y]);return x},applyCanBeUsed:{uint8array:function(){try{return a.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return a.nodebuffer&&String.fromCharCode.apply(null,i.allocBuffer(1)).length===1}catch{return!1}}()}};function E(d){var x=65536,y=n.getTypeOf(d),R=!0;if(y==="uint8array"?R=f.applyCanBeUsed.uint8array:y==="nodebuffer"&&(R=f.applyCanBeUsed.nodebuffer),R)for(;1<x;)try{return f.stringifyByChunk(d,y,x)}catch{x=Math.floor(x/2)}return f.stringifyByChar(d)}function c(d,x){for(var y=0;y<d.length;y++)x[y]=d[y];return x}n.applyFromCharCode=E;var p={};p.string={string:l,array:function(d){return m(d,new Array(d.length))},arraybuffer:function(d){return p.string.uint8array(d).buffer},uint8array:function(d){return m(d,new Uint8Array(d.length))},nodebuffer:function(d){return m(d,i.allocBuffer(d.length))}},p.array={string:E,array:l,arraybuffer:function(d){return new Uint8Array(d).buffer},uint8array:function(d){return new Uint8Array(d)},nodebuffer:function(d){return i.newBufferFrom(d)}},p.arraybuffer={string:function(d){return E(new Uint8Array(d))},array:function(d){return c(new Uint8Array(d),new Array(d.byteLength))},arraybuffer:l,uint8array:function(d){return new Uint8Array(d)},nodebuffer:function(d){return i.newBufferFrom(new Uint8Array(d))}},p.uint8array={string:E,array:function(d){return c(d,new Array(d.length))},arraybuffer:function(d){return d.buffer},uint8array:l,nodebuffer:function(d){return i.newBufferFrom(d)}},p.nodebuffer={string:E,array:function(d){return c(d,new Array(d.length))},arraybuffer:function(d){return p.nodebuffer.uint8array(d).buffer},uint8array:function(d){return c(d,new Uint8Array(d.length))},nodebuffer:l},n.transformTo=function(d,x){if(x=x||"",!d)return x;n.checkSupport(d);var y=n.getTypeOf(x);return p[y][d](x)},n.resolve=function(d){for(var x=d.split("/"),y=[],R=0;R<x.length;R++){var B=x[R];B==="."||B===""&&R!==0&&R!==x.length-1||(B===".."?y.pop():y.push(B))}return y.join("/")},n.getTypeOf=function(d){return typeof d=="string"?"string":Object.prototype.toString.call(d)==="[object Array]"?"array":a.nodebuffer&&i.isBuffer(d)?"nodebuffer":a.uint8array&&d instanceof Uint8Array?"uint8array":a.arraybuffer&&d instanceof ArrayBuffer?"arraybuffer":void 0},n.checkSupport=function(d){if(!a[d.toLowerCase()])throw new Error(d+" is not supported by this platform")},n.MAX_VALUE_16BITS=65535,n.MAX_VALUE_32BITS=-1,n.pretty=function(d){var x,y,R="";for(y=0;y<(d||"").length;y++)R+="\\x"+((x=d.charCodeAt(y))<16?"0":"")+x.toString(16).toUpperCase();return R},n.delay=function(d,x,y){setImmediate(function(){d.apply(y||null,x||[])})},n.inherits=function(d,x){function y(){}y.prototype=x.prototype,d.prototype=new y},n.extend=function(){var d,x,y={};for(d=0;d<arguments.length;d++)for(x in arguments[d])Object.prototype.hasOwnProperty.call(arguments[d],x)&&y[x]===void 0&&(y[x]=arguments[d][x]);return y},n.prepareContent=function(d,x,y,R,B){return u.Promise.resolve(x).then(function(F){return a.blob&&(F instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(F))!==-1)&&typeof FileReader<"u"?new u.Promise(function(T,z){var U=new FileReader;U.onload=function(X){T(X.target.result)},U.onerror=function(X){z(X.target.error)},U.readAsArrayBuffer(F)}):F}).then(function(F){var T=n.getTypeOf(F);return T?(T==="arraybuffer"?F=n.transformTo("uint8array",F):T==="string"&&(B?F=s.decode(F):y&&R!==!0&&(F=function(z){return m(z,a.uint8array?new Uint8Array(z.length):new Array(z.length))}(F))),F):u.Promise.reject(new Error("Can't read the data of '"+d+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(r,o,n){var a=r("./reader/readerFor"),s=r("./utils"),i=r("./signature"),u=r("./zipEntry"),l=r("./support");function m(f){this.files=[],this.loadOptions=f}m.prototype={checkSignature:function(f){if(!this.reader.readAndCheckSignature(f)){this.reader.index-=4;var E=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+s.pretty(E)+", expected "+s.pretty(f)+")")}},isSignature:function(f,E){var c=this.reader.index;this.reader.setIndex(f);var p=this.reader.readString(4)===E;return this.reader.setIndex(c),p},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var f=this.reader.readData(this.zipCommentLength),E=l.uint8array?"uint8array":"array",c=s.transformTo(E,f);this.zipComment=this.loadOptions.decodeFileName(c)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var f,E,c,p=this.zip64EndOfCentralSize-44;0<p;)f=this.reader.readInt(2),E=this.reader.readInt(4),c=this.reader.readData(E),this.zip64ExtensibleData[f]={id:f,length:E,value:c}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var f,E;for(f=0;f<this.files.length;f++)E=this.files[f],this.reader.setIndex(E.localHeaderOffset),this.checkSignature(i.LOCAL_FILE_HEADER),E.readLocalPart(this.reader),E.handleUTF8(),E.processAttributes()},readCentralDir:function(){var f;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(i.CENTRAL_FILE_HEADER);)(f=new u({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(f);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var f=this.reader.lastIndexOfSignature(i.CENTRAL_DIRECTORY_END);if(f<0)throw this.isSignature(0,i.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(f);var E=f;if(this.checkSignature(i.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===s.MAX_VALUE_16BITS||this.diskWithCentralDirStart===s.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===s.MAX_VALUE_16BITS||this.centralDirRecords===s.MAX_VALUE_16BITS||this.centralDirSize===s.MAX_VALUE_32BITS||this.centralDirOffset===s.MAX_VALUE_32BITS){if(this.zip64=!0,(f=this.reader.lastIndexOfSignature(i.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(f),this.checkSignature(i.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,i.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(i.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(i.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var c=this.centralDirOffset+this.centralDirSize;this.zip64&&(c+=20,c+=12+this.zip64EndOfCentralSize);var p=E-c;if(0<p)this.isSignature(E,i.CENTRAL_FILE_HEADER)||(this.reader.zero=p);else if(p<0)throw new Error("Corrupted zip: missing "+Math.abs(p)+" bytes.")},prepareReader:function(f){this.reader=a(f)},load:function(f){this.prepareReader(f),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},o.exports=m},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(r,o,n){var a=r("./reader/readerFor"),s=r("./utils"),i=r("./compressedObject"),u=r("./crc32"),l=r("./utf8"),m=r("./compressions"),f=r("./support");function E(c,p){this.options=c,this.loadOptions=p}E.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(c){var p,d;if(c.skip(22),this.fileNameLength=c.readInt(2),d=c.readInt(2),this.fileName=c.readData(this.fileNameLength),c.skip(d),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((p=function(x){for(var y in m)if(Object.prototype.hasOwnProperty.call(m,y)&&m[y].magic===x)return m[y];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+s.pretty(this.compressionMethod)+" unknown (inner file : "+s.transformTo("string",this.fileName)+")");this.decompressed=new i(this.compressedSize,this.uncompressedSize,this.crc32,p,c.readData(this.compressedSize))},readCentralPart:function(c){this.versionMadeBy=c.readInt(2),c.skip(2),this.bitFlag=c.readInt(2),this.compressionMethod=c.readString(2),this.date=c.readDate(),this.crc32=c.readInt(4),this.compressedSize=c.readInt(4),this.uncompressedSize=c.readInt(4);var p=c.readInt(2);if(this.extraFieldsLength=c.readInt(2),this.fileCommentLength=c.readInt(2),this.diskNumberStart=c.readInt(2),this.internalFileAttributes=c.readInt(2),this.externalFileAttributes=c.readInt(4),this.localHeaderOffset=c.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");c.skip(p),this.readExtraFields(c),this.parseZIP64ExtraField(c),this.fileComment=c.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var c=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),c==0&&(this.dosPermissions=63&this.externalFileAttributes),c==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var c=a(this.extraFields[1].value);this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=c.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=c.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=c.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=c.readInt(4))}},readExtraFields:function(c){var p,d,x,y=c.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});c.index+4<y;)p=c.readInt(2),d=c.readInt(2),x=c.readData(d),this.extraFields[p]={id:p,length:d,value:x};c.setIndex(y)},handleUTF8:function(){var c=f.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=l.utf8decode(this.fileName),this.fileCommentStr=l.utf8decode(this.fileComment);else{var p=this.findExtraFieldUnicodePath();if(p!==null)this.fileNameStr=p;else{var d=s.transformTo(c,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(d)}var x=this.findExtraFieldUnicodeComment();if(x!==null)this.fileCommentStr=x;else{var y=s.transformTo(c,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(y)}}},findExtraFieldUnicodePath:function(){var c=this.extraFields[28789];if(c){var p=a(c.value);return p.readInt(1)!==1||u(this.fileName)!==p.readInt(4)?null:l.utf8decode(p.readData(c.length-5))}return null},findExtraFieldUnicodeComment:function(){var c=this.extraFields[25461];if(c){var p=a(c.value);return p.readInt(1)!==1||u(this.fileComment)!==p.readInt(4)?null:l.utf8decode(p.readData(c.length-5))}return null}},o.exports=E},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(r,o,n){function a(p,d,x){this.name=p,this.dir=x.dir,this.date=x.date,this.comment=x.comment,this.unixPermissions=x.unixPermissions,this.dosPermissions=x.dosPermissions,this._data=d,this._dataBinary=x.binary,this.options={compression:x.compression,compressionOptions:x.compressionOptions}}var s=r("./stream/StreamHelper"),i=r("./stream/DataWorker"),u=r("./utf8"),l=r("./compressedObject"),m=r("./stream/GenericWorker");a.prototype={internalStream:function(p){var d=null,x="string";try{if(!p)throw new Error("No output type specified.");var y=(x=p.toLowerCase())==="string"||x==="text";x!=="binarystring"&&x!=="text"||(x="string"),d=this._decompressWorker();var R=!this._dataBinary;R&&!y&&(d=d.pipe(new u.Utf8EncodeWorker)),!R&&y&&(d=d.pipe(new u.Utf8DecodeWorker))}catch(B){(d=new m("error")).error(B)}return new s(d,x,"")},async:function(p,d){return this.internalStream(p).accumulate(d)},nodeStream:function(p,d){return this.internalStream(p||"nodebuffer").toNodejsStream(d)},_compressWorker:function(p,d){if(this._data instanceof l&&this._data.compression.magic===p.magic)return this._data.getCompressedWorker();var x=this._decompressWorker();return this._dataBinary||(x=x.pipe(new u.Utf8EncodeWorker)),l.createWorkerFrom(x,p,d)},_decompressWorker:function(){return this._data instanceof l?this._data.getContentWorker():this._data instanceof m?this._data:new i(this._data)}};for(var f=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],E=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},c=0;c<f.length;c++)a.prototype[f[c]]=E;o.exports=a},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(r,o,n){(function(a){var s,i,u=a.MutationObserver||a.WebKitMutationObserver;if(u){var l=0,m=new u(p),f=a.document.createTextNode("");m.observe(f,{characterData:!0}),s=function(){f.data=l=++l%2}}else if(a.setImmediate||a.MessageChannel===void 0)s="document"in a&&"onreadystatechange"in a.document.createElement("script")?function(){var d=a.document.createElement("script");d.onreadystatechange=function(){p(),d.onreadystatechange=null,d.parentNode.removeChild(d),d=null},a.document.documentElement.appendChild(d)}:function(){setTimeout(p,0)};else{var E=new a.MessageChannel;E.port1.onmessage=p,s=function(){E.port2.postMessage(0)}}var c=[];function p(){var d,x;i=!0;for(var y=c.length;y;){for(x=c,c=[],d=-1;++d<y;)x[d]();y=c.length}i=!1}o.exports=function(d){c.push(d)!==1||i||s()}}).call(this,typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(r,o,n){var a=r("immediate");function s(){}var i={},u=["REJECTED"],l=["FULFILLED"],m=["PENDING"];function f(y){if(typeof y!="function")throw new TypeError("resolver must be a function");this.state=m,this.queue=[],this.outcome=void 0,y!==s&&d(this,y)}function E(y,R,B){this.promise=y,typeof R=="function"&&(this.onFulfilled=R,this.callFulfilled=this.otherCallFulfilled),typeof B=="function"&&(this.onRejected=B,this.callRejected=this.otherCallRejected)}function c(y,R,B){a(function(){var F;try{F=R(B)}catch(T){return i.reject(y,T)}F===y?i.reject(y,new TypeError("Cannot resolve promise with itself")):i.resolve(y,F)})}function p(y){var R=y&&y.then;if(y&&(typeof y=="object"||typeof y=="function")&&typeof R=="function")return function(){R.apply(y,arguments)}}function d(y,R){var B=!1;function F(U){B||(B=!0,i.reject(y,U))}function T(U){B||(B=!0,i.resolve(y,U))}var z=x(function(){R(T,F)});z.status==="error"&&F(z.value)}function x(y,R){var B={};try{B.value=y(R),B.status="success"}catch(F){B.status="error",B.value=F}return B}(o.exports=f).prototype.finally=function(y){if(typeof y!="function")return this;var R=this.constructor;return this.then(function(B){return R.resolve(y()).then(function(){return B})},function(B){return R.resolve(y()).then(function(){throw B})})},f.prototype.catch=function(y){return this.then(null,y)},f.prototype.then=function(y,R){if(typeof y!="function"&&this.state===l||typeof R!="function"&&this.state===u)return this;var B=new this.constructor(s);return this.state!==m?c(B,this.state===l?y:R,this.outcome):this.queue.push(new E(B,y,R)),B},E.prototype.callFulfilled=function(y){i.resolve(this.promise,y)},E.prototype.otherCallFulfilled=function(y){c(this.promise,this.onFulfilled,y)},E.prototype.callRejected=function(y){i.reject(this.promise,y)},E.prototype.otherCallRejected=function(y){c(this.promise,this.onRejected,y)},i.resolve=function(y,R){var B=x(p,R);if(B.status==="error")return i.reject(y,B.value);var F=B.value;if(F)d(y,F);else{y.state=l,y.outcome=R;for(var T=-1,z=y.queue.length;++T<z;)y.queue[T].callFulfilled(R)}return y},i.reject=function(y,R){y.state=u,y.outcome=R;for(var B=-1,F=y.queue.length;++B<F;)y.queue[B].callRejected(R);return y},f.resolve=function(y){return y instanceof this?y:i.resolve(new this(s),y)},f.reject=function(y){var R=new this(s);return i.reject(R,y)},f.all=function(y){var R=this;if(Object.prototype.toString.call(y)!=="[object Array]")return this.reject(new TypeError("must be an array"));var B=y.length,F=!1;if(!B)return this.resolve([]);for(var T=new Array(B),z=0,U=-1,X=new this(s);++U<B;)j(y[U],U);return X;function j(Y,ae){R.resolve(Y).then(function($){T[ae]=$,++z!==B||F||(F=!0,i.resolve(X,T))},function($){F||(F=!0,i.reject(X,$))})}},f.race=function(y){var R=this;if(Object.prototype.toString.call(y)!=="[object Array]")return this.reject(new TypeError("must be an array"));var B=y.length,F=!1;if(!B)return this.resolve([]);for(var T=-1,z=new this(s);++T<B;)U=y[T],R.resolve(U).then(function(X){F||(F=!0,i.resolve(z,X))},function(X){F||(F=!0,i.reject(z,X))});var U;return z}},{immediate:36}],38:[function(r,o,n){var a={};(0,r("./lib/utils/common").assign)(a,r("./lib/deflate"),r("./lib/inflate"),r("./lib/zlib/constants")),o.exports=a},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(r,o,n){var a=r("./zlib/deflate"),s=r("./utils/common"),i=r("./utils/strings"),u=r("./zlib/messages"),l=r("./zlib/zstream"),m=Object.prototype.toString,f=0,E=-1,c=0,p=8;function d(y){if(!(this instanceof d))return new d(y);this.options=s.assign({level:E,method:p,chunkSize:16384,windowBits:15,memLevel:8,strategy:c,to:""},y||{});var R=this.options;R.raw&&0<R.windowBits?R.windowBits=-R.windowBits:R.gzip&&0<R.windowBits&&R.windowBits<16&&(R.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var B=a.deflateInit2(this.strm,R.level,R.method,R.windowBits,R.memLevel,R.strategy);if(B!==f)throw new Error(u[B]);if(R.header&&a.deflateSetHeader(this.strm,R.header),R.dictionary){var F;if(F=typeof R.dictionary=="string"?i.string2buf(R.dictionary):m.call(R.dictionary)==="[object ArrayBuffer]"?new Uint8Array(R.dictionary):R.dictionary,(B=a.deflateSetDictionary(this.strm,F))!==f)throw new Error(u[B]);this._dict_set=!0}}function x(y,R){var B=new d(R);if(B.push(y,!0),B.err)throw B.msg||u[B.err];return B.result}d.prototype.push=function(y,R){var B,F,T=this.strm,z=this.options.chunkSize;if(this.ended)return!1;F=R===~~R?R:R===!0?4:0,typeof y=="string"?T.input=i.string2buf(y):m.call(y)==="[object ArrayBuffer]"?T.input=new Uint8Array(y):T.input=y,T.next_in=0,T.avail_in=T.input.length;do{if(T.avail_out===0&&(T.output=new s.Buf8(z),T.next_out=0,T.avail_out=z),(B=a.deflate(T,F))!==1&&B!==f)return this.onEnd(B),!(this.ended=!0);T.avail_out!==0&&(T.avail_in!==0||F!==4&&F!==2)||(this.options.to==="string"?this.onData(i.buf2binstring(s.shrinkBuf(T.output,T.next_out))):this.onData(s.shrinkBuf(T.output,T.next_out)))}while((0<T.avail_in||T.avail_out===0)&&B!==1);return F===4?(B=a.deflateEnd(this.strm),this.onEnd(B),this.ended=!0,B===f):F!==2||(this.onEnd(f),!(T.avail_out=0))},d.prototype.onData=function(y){this.chunks.push(y)},d.prototype.onEnd=function(y){y===f&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=y,this.msg=this.strm.msg},n.Deflate=d,n.deflate=x,n.deflateRaw=function(y,R){return(R=R||{}).raw=!0,x(y,R)},n.gzip=function(y,R){return(R=R||{}).gzip=!0,x(y,R)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(r,o,n){var a=r("./zlib/inflate"),s=r("./utils/common"),i=r("./utils/strings"),u=r("./zlib/constants"),l=r("./zlib/messages"),m=r("./zlib/zstream"),f=r("./zlib/gzheader"),E=Object.prototype.toString;function c(d){if(!(this instanceof c))return new c(d);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},d||{});var x=this.options;x.raw&&0<=x.windowBits&&x.windowBits<16&&(x.windowBits=-x.windowBits,x.windowBits===0&&(x.windowBits=-15)),!(0<=x.windowBits&&x.windowBits<16)||d&&d.windowBits||(x.windowBits+=32),15<x.windowBits&&x.windowBits<48&&!(15&x.windowBits)&&(x.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new m,this.strm.avail_out=0;var y=a.inflateInit2(this.strm,x.windowBits);if(y!==u.Z_OK)throw new Error(l[y]);this.header=new f,a.inflateGetHeader(this.strm,this.header)}function p(d,x){var y=new c(x);if(y.push(d,!0),y.err)throw y.msg||l[y.err];return y.result}c.prototype.push=function(d,x){var y,R,B,F,T,z,U=this.strm,X=this.options.chunkSize,j=this.options.dictionary,Y=!1;if(this.ended)return!1;R=x===~~x?x:x===!0?u.Z_FINISH:u.Z_NO_FLUSH,typeof d=="string"?U.input=i.binstring2buf(d):E.call(d)==="[object ArrayBuffer]"?U.input=new Uint8Array(d):U.input=d,U.next_in=0,U.avail_in=U.input.length;do{if(U.avail_out===0&&(U.output=new s.Buf8(X),U.next_out=0,U.avail_out=X),(y=a.inflate(U,u.Z_NO_FLUSH))===u.Z_NEED_DICT&&j&&(z=typeof j=="string"?i.string2buf(j):E.call(j)==="[object ArrayBuffer]"?new Uint8Array(j):j,y=a.inflateSetDictionary(this.strm,z)),y===u.Z_BUF_ERROR&&Y===!0&&(y=u.Z_OK,Y=!1),y!==u.Z_STREAM_END&&y!==u.Z_OK)return this.onEnd(y),!(this.ended=!0);U.next_out&&(U.avail_out!==0&&y!==u.Z_STREAM_END&&(U.avail_in!==0||R!==u.Z_FINISH&&R!==u.Z_SYNC_FLUSH)||(this.options.to==="string"?(B=i.utf8border(U.output,U.next_out),F=U.next_out-B,T=i.buf2string(U.output,B),U.next_out=F,U.avail_out=X-F,F&&s.arraySet(U.output,U.output,B,F,0),this.onData(T)):this.onData(s.shrinkBuf(U.output,U.next_out)))),U.avail_in===0&&U.avail_out===0&&(Y=!0)}while((0<U.avail_in||U.avail_out===0)&&y!==u.Z_STREAM_END);return y===u.Z_STREAM_END&&(R=u.Z_FINISH),R===u.Z_FINISH?(y=a.inflateEnd(this.strm),this.onEnd(y),this.ended=!0,y===u.Z_OK):R!==u.Z_SYNC_FLUSH||(this.onEnd(u.Z_OK),!(U.avail_out=0))},c.prototype.onData=function(d){this.chunks.push(d)},c.prototype.onEnd=function(d){d===u.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=d,this.msg=this.strm.msg},n.Inflate=c,n.inflate=p,n.inflateRaw=function(d,x){return(x=x||{}).raw=!0,p(d,x)},n.ungzip=p},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(r,o,n){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";n.assign=function(u){for(var l=Array.prototype.slice.call(arguments,1);l.length;){var m=l.shift();if(m){if(typeof m!="object")throw new TypeError(m+"must be non-object");for(var f in m)m.hasOwnProperty(f)&&(u[f]=m[f])}}return u},n.shrinkBuf=function(u,l){return u.length===l?u:u.subarray?u.subarray(0,l):(u.length=l,u)};var s={arraySet:function(u,l,m,f,E){if(l.subarray&&u.subarray)u.set(l.subarray(m,m+f),E);else for(var c=0;c<f;c++)u[E+c]=l[m+c]},flattenChunks:function(u){var l,m,f,E,c,p;for(l=f=0,m=u.length;l<m;l++)f+=u[l].length;for(p=new Uint8Array(f),l=E=0,m=u.length;l<m;l++)c=u[l],p.set(c,E),E+=c.length;return p}},i={arraySet:function(u,l,m,f,E){for(var c=0;c<f;c++)u[E+c]=l[m+c]},flattenChunks:function(u){return[].concat.apply([],u)}};n.setTyped=function(u){u?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,s)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,i))},n.setTyped(a)},{}],42:[function(r,o,n){var a=r("./common"),s=!0,i=!0;try{String.fromCharCode.apply(null,[0])}catch{s=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{i=!1}for(var u=new a.Buf8(256),l=0;l<256;l++)u[l]=252<=l?6:248<=l?5:240<=l?4:224<=l?3:192<=l?2:1;function m(f,E){if(E<65537&&(f.subarray&&i||!f.subarray&&s))return String.fromCharCode.apply(null,a.shrinkBuf(f,E));for(var c="",p=0;p<E;p++)c+=String.fromCharCode(f[p]);return c}u[254]=u[254]=1,n.string2buf=function(f){var E,c,p,d,x,y=f.length,R=0;for(d=0;d<y;d++)(64512&(c=f.charCodeAt(d)))==55296&&d+1<y&&(64512&(p=f.charCodeAt(d+1)))==56320&&(c=65536+(c-55296<<10)+(p-56320),d++),R+=c<128?1:c<2048?2:c<65536?3:4;for(E=new a.Buf8(R),d=x=0;x<R;d++)(64512&(c=f.charCodeAt(d)))==55296&&d+1<y&&(64512&(p=f.charCodeAt(d+1)))==56320&&(c=65536+(c-55296<<10)+(p-56320),d++),c<128?E[x++]=c:(c<2048?E[x++]=192|c>>>6:(c<65536?E[x++]=224|c>>>12:(E[x++]=240|c>>>18,E[x++]=128|c>>>12&63),E[x++]=128|c>>>6&63),E[x++]=128|63&c);return E},n.buf2binstring=function(f){return m(f,f.length)},n.binstring2buf=function(f){for(var E=new a.Buf8(f.length),c=0,p=E.length;c<p;c++)E[c]=f.charCodeAt(c);return E},n.buf2string=function(f,E){var c,p,d,x,y=E||f.length,R=new Array(2*y);for(c=p=0;c<y;)if((d=f[c++])<128)R[p++]=d;else if(4<(x=u[d]))R[p++]=65533,c+=x-1;else{for(d&=x===2?31:x===3?15:7;1<x&&c<y;)d=d<<6|63&f[c++],x--;1<x?R[p++]=65533:d<65536?R[p++]=d:(d-=65536,R[p++]=55296|d>>10&1023,R[p++]=56320|1023&d)}return m(R,p)},n.utf8border=function(f,E){var c;for((E=E||f.length)>f.length&&(E=f.length),c=E-1;0<=c&&(192&f[c])==128;)c--;return c<0||c===0?E:c+u[f[c]]>E?c:E}},{"./common":41}],43:[function(r,o,n){o.exports=function(a,s,i,u){for(var l=65535&a|0,m=a>>>16&65535|0,f=0;i!==0;){for(i-=f=2e3<i?2e3:i;m=m+(l=l+s[u++]|0)|0,--f;);l%=65521,m%=65521}return l|m<<16|0}},{}],44:[function(r,o,n){o.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(r,o,n){var a=function(){for(var s,i=[],u=0;u<256;u++){s=u;for(var l=0;l<8;l++)s=1&s?3988292384^s>>>1:s>>>1;i[u]=s}return i}();o.exports=function(s,i,u,l){var m=a,f=l+u;s^=-1;for(var E=l;E<f;E++)s=s>>>8^m[255&(s^i[E])];return-1^s}},{}],46:[function(r,o,n){var a,s=r("../utils/common"),i=r("./trees"),u=r("./adler32"),l=r("./crc32"),m=r("./messages"),f=0,E=4,c=0,p=-2,d=-1,x=4,y=2,R=8,B=9,F=286,T=30,z=19,U=2*F+1,X=15,j=3,Y=258,ae=Y+j+1,$=42,H=113,C=1,V=2,fe=3,te=4;function he(g,K){return g.msg=m[K],K}function re(g){return(g<<1)-(4<g?9:0)}function de(g){for(var K=g.length;0<=--K;)g[K]=0}function J(g){var K=g.state,G=K.pending;G>g.avail_out&&(G=g.avail_out),G!==0&&(s.arraySet(g.output,K.pending_buf,K.pending_out,G,g.next_out),g.next_out+=G,K.pending_out+=G,g.total_out+=G,g.avail_out-=G,K.pending-=G,K.pending===0&&(K.pending_out=0))}function W(g,K){i._tr_flush_block(g,0<=g.block_start?g.block_start:-1,g.strstart-g.block_start,K),g.block_start=g.strstart,J(g.strm)}function le(g,K){g.pending_buf[g.pending++]=K}function ie(g,K){g.pending_buf[g.pending++]=K>>>8&255,g.pending_buf[g.pending++]=255&K}function se(g,K){var G,I,D=g.max_chain_length,N=g.strstart,Q=g.prev_length,ee=g.nice_match,q=g.strstart>g.w_size-ae?g.strstart-(g.w_size-ae):0,oe=g.window,ue=g.w_mask,ne=g.prev,ce=g.strstart+Y,be=oe[N+Q-1],me=oe[N+Q];g.prev_length>=g.good_match&&(D>>=2),ee>g.lookahead&&(ee=g.lookahead);do if(oe[(G=K)+Q]===me&&oe[G+Q-1]===be&&oe[G]===oe[N]&&oe[++G]===oe[N+1]){N+=2,G++;do;while(oe[++N]===oe[++G]&&oe[++N]===oe[++G]&&oe[++N]===oe[++G]&&oe[++N]===oe[++G]&&oe[++N]===oe[++G]&&oe[++N]===oe[++G]&&oe[++N]===oe[++G]&&oe[++N]===oe[++G]&&N<ce);if(I=Y-(ce-N),N=ce-Y,Q<I){if(g.match_start=K,ee<=(Q=I))break;be=oe[N+Q-1],me=oe[N+Q]}}while((K=ne[K&ue])>q&&--D!=0);return Q<=g.lookahead?Q:g.lookahead}function _e(g){var K,G,I,D,N,Q,ee,q,oe,ue,ne=g.w_size;do{if(D=g.window_size-g.lookahead-g.strstart,g.strstart>=ne+(ne-ae)){for(s.arraySet(g.window,g.window,ne,ne,0),g.match_start-=ne,g.strstart-=ne,g.block_start-=ne,K=G=g.hash_size;I=g.head[--K],g.head[K]=ne<=I?I-ne:0,--G;);for(K=G=ne;I=g.prev[--K],g.prev[K]=ne<=I?I-ne:0,--G;);D+=ne}if(g.strm.avail_in===0)break;if(Q=g.strm,ee=g.window,q=g.strstart+g.lookahead,oe=D,ue=void 0,ue=Q.avail_in,oe<ue&&(ue=oe),G=ue===0?0:(Q.avail_in-=ue,s.arraySet(ee,Q.input,Q.next_in,ue,q),Q.state.wrap===1?Q.adler=u(Q.adler,ee,ue,q):Q.state.wrap===2&&(Q.adler=l(Q.adler,ee,ue,q)),Q.next_in+=ue,Q.total_in+=ue,ue),g.lookahead+=G,g.lookahead+g.insert>=j)for(N=g.strstart-g.insert,g.ins_h=g.window[N],g.ins_h=(g.ins_h<<g.hash_shift^g.window[N+1])&g.hash_mask;g.insert&&(g.ins_h=(g.ins_h<<g.hash_shift^g.window[N+j-1])&g.hash_mask,g.prev[N&g.w_mask]=g.head[g.ins_h],g.head[g.ins_h]=N,N++,g.insert--,!(g.lookahead+g.insert<j)););}while(g.lookahead<ae&&g.strm.avail_in!==0)}function ke(g,K){for(var G,I;;){if(g.lookahead<ae){if(_e(g),g.lookahead<ae&&K===f)return C;if(g.lookahead===0)break}if(G=0,g.lookahead>=j&&(g.ins_h=(g.ins_h<<g.hash_shift^g.window[g.strstart+j-1])&g.hash_mask,G=g.prev[g.strstart&g.w_mask]=g.head[g.ins_h],g.head[g.ins_h]=g.strstart),G!==0&&g.strstart-G<=g.w_size-ae&&(g.match_length=se(g,G)),g.match_length>=j)if(I=i._tr_tally(g,g.strstart-g.match_start,g.match_length-j),g.lookahead-=g.match_length,g.match_length<=g.max_lazy_match&&g.lookahead>=j){for(g.match_length--;g.strstart++,g.ins_h=(g.ins_h<<g.hash_shift^g.window[g.strstart+j-1])&g.hash_mask,G=g.prev[g.strstart&g.w_mask]=g.head[g.ins_h],g.head[g.ins_h]=g.strstart,--g.match_length!=0;);g.strstart++}else g.strstart+=g.match_length,g.match_length=0,g.ins_h=g.window[g.strstart],g.ins_h=(g.ins_h<<g.hash_shift^g.window[g.strstart+1])&g.hash_mask;else I=i._tr_tally(g,0,g.window[g.strstart]),g.lookahead--,g.strstart++;if(I&&(W(g,!1),g.strm.avail_out===0))return C}return g.insert=g.strstart<j-1?g.strstart:j-1,K===E?(W(g,!0),g.strm.avail_out===0?fe:te):g.last_lit&&(W(g,!1),g.strm.avail_out===0)?C:V}function pe(g,K){for(var G,I,D;;){if(g.lookahead<ae){if(_e(g),g.lookahead<ae&&K===f)return C;if(g.lookahead===0)break}if(G=0,g.lookahead>=j&&(g.ins_h=(g.ins_h<<g.hash_shift^g.window[g.strstart+j-1])&g.hash_mask,G=g.prev[g.strstart&g.w_mask]=g.head[g.ins_h],g.head[g.ins_h]=g.strstart),g.prev_length=g.match_length,g.prev_match=g.match_start,g.match_length=j-1,G!==0&&g.prev_length<g.max_lazy_match&&g.strstart-G<=g.w_size-ae&&(g.match_length=se(g,G),g.match_length<=5&&(g.strategy===1||g.match_length===j&&4096<g.strstart-g.match_start)&&(g.match_length=j-1)),g.prev_length>=j&&g.match_length<=g.prev_length){for(D=g.strstart+g.lookahead-j,I=i._tr_tally(g,g.strstart-1-g.prev_match,g.prev_length-j),g.lookahead-=g.prev_length-1,g.prev_length-=2;++g.strstart<=D&&(g.ins_h=(g.ins_h<<g.hash_shift^g.window[g.strstart+j-1])&g.hash_mask,G=g.prev[g.strstart&g.w_mask]=g.head[g.ins_h],g.head[g.ins_h]=g.strstart),--g.prev_length!=0;);if(g.match_available=0,g.match_length=j-1,g.strstart++,I&&(W(g,!1),g.strm.avail_out===0))return C}else if(g.match_available){if((I=i._tr_tally(g,0,g.window[g.strstart-1]))&&W(g,!1),g.strstart++,g.lookahead--,g.strm.avail_out===0)return C}else g.match_available=1,g.strstart++,g.lookahead--}return g.match_available&&(I=i._tr_tally(g,0,g.window[g.strstart-1]),g.match_available=0),g.insert=g.strstart<j-1?g.strstart:j-1,K===E?(W(g,!0),g.strm.avail_out===0?fe:te):g.last_lit&&(W(g,!1),g.strm.avail_out===0)?C:V}function ge(g,K,G,I,D){this.good_length=g,this.max_lazy=K,this.nice_length=G,this.max_chain=I,this.func=D}function xe(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=R,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new s.Buf16(2*U),this.dyn_dtree=new s.Buf16(2*(2*T+1)),this.bl_tree=new s.Buf16(2*(2*z+1)),de(this.dyn_ltree),de(this.dyn_dtree),de(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new s.Buf16(X+1),this.heap=new s.Buf16(2*F+1),de(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new s.Buf16(2*F+1),de(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ve(g){var K;return g&&g.state?(g.total_in=g.total_out=0,g.data_type=y,(K=g.state).pending=0,K.pending_out=0,K.wrap<0&&(K.wrap=-K.wrap),K.status=K.wrap?$:H,g.adler=K.wrap===2?0:1,K.last_flush=f,i._tr_init(K),c):he(g,p)}function Se(g){var K=ve(g);return K===c&&function(G){G.window_size=2*G.w_size,de(G.head),G.max_lazy_match=a[G.level].max_lazy,G.good_match=a[G.level].good_length,G.nice_match=a[G.level].nice_length,G.max_chain_length=a[G.level].max_chain,G.strstart=0,G.block_start=0,G.lookahead=0,G.insert=0,G.match_length=G.prev_length=j-1,G.match_available=0,G.ins_h=0}(g.state),K}function Ce(g,K,G,I,D,N){if(!g)return p;var Q=1;if(K===d&&(K=6),I<0?(Q=0,I=-I):15<I&&(Q=2,I-=16),D<1||B<D||G!==R||I<8||15<I||K<0||9<K||N<0||x<N)return he(g,p);I===8&&(I=9);var ee=new xe;return(g.state=ee).strm=g,ee.wrap=Q,ee.gzhead=null,ee.w_bits=I,ee.w_size=1<<ee.w_bits,ee.w_mask=ee.w_size-1,ee.hash_bits=D+7,ee.hash_size=1<<ee.hash_bits,ee.hash_mask=ee.hash_size-1,ee.hash_shift=~~((ee.hash_bits+j-1)/j),ee.window=new s.Buf8(2*ee.w_size),ee.head=new s.Buf16(ee.hash_size),ee.prev=new s.Buf16(ee.w_size),ee.lit_bufsize=1<<D+6,ee.pending_buf_size=4*ee.lit_bufsize,ee.pending_buf=new s.Buf8(ee.pending_buf_size),ee.d_buf=1*ee.lit_bufsize,ee.l_buf=3*ee.lit_bufsize,ee.level=K,ee.strategy=N,ee.method=G,Se(g)}a=[new ge(0,0,0,0,function(g,K){var G=65535;for(G>g.pending_buf_size-5&&(G=g.pending_buf_size-5);;){if(g.lookahead<=1){if(_e(g),g.lookahead===0&&K===f)return C;if(g.lookahead===0)break}g.strstart+=g.lookahead,g.lookahead=0;var I=g.block_start+G;if((g.strstart===0||g.strstart>=I)&&(g.lookahead=g.strstart-I,g.strstart=I,W(g,!1),g.strm.avail_out===0)||g.strstart-g.block_start>=g.w_size-ae&&(W(g,!1),g.strm.avail_out===0))return C}return g.insert=0,K===E?(W(g,!0),g.strm.avail_out===0?fe:te):(g.strstart>g.block_start&&(W(g,!1),g.strm.avail_out),C)}),new ge(4,4,8,4,ke),new ge(4,5,16,8,ke),new ge(4,6,32,32,ke),new ge(4,4,16,16,pe),new ge(8,16,32,32,pe),new ge(8,16,128,128,pe),new ge(8,32,128,256,pe),new ge(32,128,258,1024,pe),new ge(32,258,258,4096,pe)],n.deflateInit=function(g,K){return Ce(g,K,R,15,8,0)},n.deflateInit2=Ce,n.deflateReset=Se,n.deflateResetKeep=ve,n.deflateSetHeader=function(g,K){return g&&g.state?g.state.wrap!==2?p:(g.state.gzhead=K,c):p},n.deflate=function(g,K){var G,I,D,N;if(!g||!g.state||5<K||K<0)return g?he(g,p):p;if(I=g.state,!g.output||!g.input&&g.avail_in!==0||I.status===666&&K!==E)return he(g,g.avail_out===0?-5:p);if(I.strm=g,G=I.last_flush,I.last_flush=K,I.status===$)if(I.wrap===2)g.adler=0,le(I,31),le(I,139),le(I,8),I.gzhead?(le(I,(I.gzhead.text?1:0)+(I.gzhead.hcrc?2:0)+(I.gzhead.extra?4:0)+(I.gzhead.name?8:0)+(I.gzhead.comment?16:0)),le(I,255&I.gzhead.time),le(I,I.gzhead.time>>8&255),le(I,I.gzhead.time>>16&255),le(I,I.gzhead.time>>24&255),le(I,I.level===9?2:2<=I.strategy||I.level<2?4:0),le(I,255&I.gzhead.os),I.gzhead.extra&&I.gzhead.extra.length&&(le(I,255&I.gzhead.extra.length),le(I,I.gzhead.extra.length>>8&255)),I.gzhead.hcrc&&(g.adler=l(g.adler,I.pending_buf,I.pending,0)),I.gzindex=0,I.status=69):(le(I,0),le(I,0),le(I,0),le(I,0),le(I,0),le(I,I.level===9?2:2<=I.strategy||I.level<2?4:0),le(I,3),I.status=H);else{var Q=R+(I.w_bits-8<<4)<<8;Q|=(2<=I.strategy||I.level<2?0:I.level<6?1:I.level===6?2:3)<<6,I.strstart!==0&&(Q|=32),Q+=31-Q%31,I.status=H,ie(I,Q),I.strstart!==0&&(ie(I,g.adler>>>16),ie(I,65535&g.adler)),g.adler=1}if(I.status===69)if(I.gzhead.extra){for(D=I.pending;I.gzindex<(65535&I.gzhead.extra.length)&&(I.pending!==I.pending_buf_size||(I.gzhead.hcrc&&I.pending>D&&(g.adler=l(g.adler,I.pending_buf,I.pending-D,D)),J(g),D=I.pending,I.pending!==I.pending_buf_size));)le(I,255&I.gzhead.extra[I.gzindex]),I.gzindex++;I.gzhead.hcrc&&I.pending>D&&(g.adler=l(g.adler,I.pending_buf,I.pending-D,D)),I.gzindex===I.gzhead.extra.length&&(I.gzindex=0,I.status=73)}else I.status=73;if(I.status===73)if(I.gzhead.name){D=I.pending;do{if(I.pending===I.pending_buf_size&&(I.gzhead.hcrc&&I.pending>D&&(g.adler=l(g.adler,I.pending_buf,I.pending-D,D)),J(g),D=I.pending,I.pending===I.pending_buf_size)){N=1;break}N=I.gzindex<I.gzhead.name.length?255&I.gzhead.name.charCodeAt(I.gzindex++):0,le(I,N)}while(N!==0);I.gzhead.hcrc&&I.pending>D&&(g.adler=l(g.adler,I.pending_buf,I.pending-D,D)),N===0&&(I.gzindex=0,I.status=91)}else I.status=91;if(I.status===91)if(I.gzhead.comment){D=I.pending;do{if(I.pending===I.pending_buf_size&&(I.gzhead.hcrc&&I.pending>D&&(g.adler=l(g.adler,I.pending_buf,I.pending-D,D)),J(g),D=I.pending,I.pending===I.pending_buf_size)){N=1;break}N=I.gzindex<I.gzhead.comment.length?255&I.gzhead.comment.charCodeAt(I.gzindex++):0,le(I,N)}while(N!==0);I.gzhead.hcrc&&I.pending>D&&(g.adler=l(g.adler,I.pending_buf,I.pending-D,D)),N===0&&(I.status=103)}else I.status=103;if(I.status===103&&(I.gzhead.hcrc?(I.pending+2>I.pending_buf_size&&J(g),I.pending+2<=I.pending_buf_size&&(le(I,255&g.adler),le(I,g.adler>>8&255),g.adler=0,I.status=H)):I.status=H),I.pending!==0){if(J(g),g.avail_out===0)return I.last_flush=-1,c}else if(g.avail_in===0&&re(K)<=re(G)&&K!==E)return he(g,-5);if(I.status===666&&g.avail_in!==0)return he(g,-5);if(g.avail_in!==0||I.lookahead!==0||K!==f&&I.status!==666){var ee=I.strategy===2?function(q,oe){for(var ue;;){if(q.lookahead===0&&(_e(q),q.lookahead===0)){if(oe===f)return C;break}if(q.match_length=0,ue=i._tr_tally(q,0,q.window[q.strstart]),q.lookahead--,q.strstart++,ue&&(W(q,!1),q.strm.avail_out===0))return C}return q.insert=0,oe===E?(W(q,!0),q.strm.avail_out===0?fe:te):q.last_lit&&(W(q,!1),q.strm.avail_out===0)?C:V}(I,K):I.strategy===3?function(q,oe){for(var ue,ne,ce,be,me=q.window;;){if(q.lookahead<=Y){if(_e(q),q.lookahead<=Y&&oe===f)return C;if(q.lookahead===0)break}if(q.match_length=0,q.lookahead>=j&&0<q.strstart&&(ne=me[ce=q.strstart-1])===me[++ce]&&ne===me[++ce]&&ne===me[++ce]){be=q.strstart+Y;do;while(ne===me[++ce]&&ne===me[++ce]&&ne===me[++ce]&&ne===me[++ce]&&ne===me[++ce]&&ne===me[++ce]&&ne===me[++ce]&&ne===me[++ce]&&ce<be);q.match_length=Y-(be-ce),q.match_length>q.lookahead&&(q.match_length=q.lookahead)}if(q.match_length>=j?(ue=i._tr_tally(q,1,q.match_length-j),q.lookahead-=q.match_length,q.strstart+=q.match_length,q.match_length=0):(ue=i._tr_tally(q,0,q.window[q.strstart]),q.lookahead--,q.strstart++),ue&&(W(q,!1),q.strm.avail_out===0))return C}return q.insert=0,oe===E?(W(q,!0),q.strm.avail_out===0?fe:te):q.last_lit&&(W(q,!1),q.strm.avail_out===0)?C:V}(I,K):a[I.level].func(I,K);if(ee!==fe&&ee!==te||(I.status=666),ee===C||ee===fe)return g.avail_out===0&&(I.last_flush=-1),c;if(ee===V&&(K===1?i._tr_align(I):K!==5&&(i._tr_stored_block(I,0,0,!1),K===3&&(de(I.head),I.lookahead===0&&(I.strstart=0,I.block_start=0,I.insert=0))),J(g),g.avail_out===0))return I.last_flush=-1,c}return K!==E?c:I.wrap<=0?1:(I.wrap===2?(le(I,255&g.adler),le(I,g.adler>>8&255),le(I,g.adler>>16&255),le(I,g.adler>>24&255),le(I,255&g.total_in),le(I,g.total_in>>8&255),le(I,g.total_in>>16&255),le(I,g.total_in>>24&255)):(ie(I,g.adler>>>16),ie(I,65535&g.adler)),J(g),0<I.wrap&&(I.wrap=-I.wrap),I.pending!==0?c:1)},n.deflateEnd=function(g){var K;return g&&g.state?(K=g.state.status)!==$&&K!==69&&K!==73&&K!==91&&K!==103&&K!==H&&K!==666?he(g,p):(g.state=null,K===H?he(g,-3):c):p},n.deflateSetDictionary=function(g,K){var G,I,D,N,Q,ee,q,oe,ue=K.length;if(!g||!g.state||(N=(G=g.state).wrap)===2||N===1&&G.status!==$||G.lookahead)return p;for(N===1&&(g.adler=u(g.adler,K,ue,0)),G.wrap=0,ue>=G.w_size&&(N===0&&(de(G.head),G.strstart=0,G.block_start=0,G.insert=0),oe=new s.Buf8(G.w_size),s.arraySet(oe,K,ue-G.w_size,G.w_size,0),K=oe,ue=G.w_size),Q=g.avail_in,ee=g.next_in,q=g.input,g.avail_in=ue,g.next_in=0,g.input=K,_e(G);G.lookahead>=j;){for(I=G.strstart,D=G.lookahead-(j-1);G.ins_h=(G.ins_h<<G.hash_shift^G.window[I+j-1])&G.hash_mask,G.prev[I&G.w_mask]=G.head[G.ins_h],G.head[G.ins_h]=I,I++,--D;);G.strstart=I,G.lookahead=j-1,_e(G)}return G.strstart+=G.lookahead,G.block_start=G.strstart,G.insert=G.lookahead,G.lookahead=0,G.match_length=G.prev_length=j-1,G.match_available=0,g.next_in=ee,g.input=q,g.avail_in=Q,G.wrap=N,c},n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(r,o,n){o.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(r,o,n){o.exports=function(a,s){var i,u,l,m,f,E,c,p,d,x,y,R,B,F,T,z,U,X,j,Y,ae,$,H,C,V;i=a.state,u=a.next_in,C=a.input,l=u+(a.avail_in-5),m=a.next_out,V=a.output,f=m-(s-a.avail_out),E=m+(a.avail_out-257),c=i.dmax,p=i.wsize,d=i.whave,x=i.wnext,y=i.window,R=i.hold,B=i.bits,F=i.lencode,T=i.distcode,z=(1<<i.lenbits)-1,U=(1<<i.distbits)-1;e:do{B<15&&(R+=C[u++]<<B,B+=8,R+=C[u++]<<B,B+=8),X=F[R&z];t:for(;;){if(R>>>=j=X>>>24,B-=j,(j=X>>>16&255)===0)V[m++]=65535&X;else{if(!(16&j)){if(!(64&j)){X=F[(65535&X)+(R&(1<<j)-1)];continue t}if(32&j){i.mode=12;break e}a.msg="invalid literal/length code",i.mode=30;break e}Y=65535&X,(j&=15)&&(B<j&&(R+=C[u++]<<B,B+=8),Y+=R&(1<<j)-1,R>>>=j,B-=j),B<15&&(R+=C[u++]<<B,B+=8,R+=C[u++]<<B,B+=8),X=T[R&U];r:for(;;){if(R>>>=j=X>>>24,B-=j,!(16&(j=X>>>16&255))){if(!(64&j)){X=T[(65535&X)+(R&(1<<j)-1)];continue r}a.msg="invalid distance code",i.mode=30;break e}if(ae=65535&X,B<(j&=15)&&(R+=C[u++]<<B,(B+=8)<j&&(R+=C[u++]<<B,B+=8)),c<(ae+=R&(1<<j)-1)){a.msg="invalid distance too far back",i.mode=30;break e}if(R>>>=j,B-=j,(j=m-f)<ae){if(d<(j=ae-j)&&i.sane){a.msg="invalid distance too far back",i.mode=30;break e}if(H=y,($=0)===x){if($+=p-j,j<Y){for(Y-=j;V[m++]=y[$++],--j;);$=m-ae,H=V}}else if(x<j){if($+=p+x-j,(j-=x)<Y){for(Y-=j;V[m++]=y[$++],--j;);if($=0,x<Y){for(Y-=j=x;V[m++]=y[$++],--j;);$=m-ae,H=V}}}else if($+=x-j,j<Y){for(Y-=j;V[m++]=y[$++],--j;);$=m-ae,H=V}for(;2<Y;)V[m++]=H[$++],V[m++]=H[$++],V[m++]=H[$++],Y-=3;Y&&(V[m++]=H[$++],1<Y&&(V[m++]=H[$++]))}else{for($=m-ae;V[m++]=V[$++],V[m++]=V[$++],V[m++]=V[$++],2<(Y-=3););Y&&(V[m++]=V[$++],1<Y&&(V[m++]=V[$++]))}break}}break}}while(u<l&&m<E);u-=Y=B>>3,R&=(1<<(B-=Y<<3))-1,a.next_in=u,a.next_out=m,a.avail_in=u<l?l-u+5:5-(u-l),a.avail_out=m<E?E-m+257:257-(m-E),i.hold=R,i.bits=B}},{}],49:[function(r,o,n){var a=r("../utils/common"),s=r("./adler32"),i=r("./crc32"),u=r("./inffast"),l=r("./inftrees"),m=1,f=2,E=0,c=-2,p=1,d=852,x=592;function y($){return($>>>24&255)+($>>>8&65280)+((65280&$)<<8)+((255&$)<<24)}function R(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new a.Buf16(320),this.work=new a.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function B($){var H;return $&&$.state?(H=$.state,$.total_in=$.total_out=H.total=0,$.msg="",H.wrap&&($.adler=1&H.wrap),H.mode=p,H.last=0,H.havedict=0,H.dmax=32768,H.head=null,H.hold=0,H.bits=0,H.lencode=H.lendyn=new a.Buf32(d),H.distcode=H.distdyn=new a.Buf32(x),H.sane=1,H.back=-1,E):c}function F($){var H;return $&&$.state?((H=$.state).wsize=0,H.whave=0,H.wnext=0,B($)):c}function T($,H){var C,V;return $&&$.state?(V=$.state,H<0?(C=0,H=-H):(C=1+(H>>4),H<48&&(H&=15)),H&&(H<8||15<H)?c:(V.window!==null&&V.wbits!==H&&(V.window=null),V.wrap=C,V.wbits=H,F($))):c}function z($,H){var C,V;return $?(V=new R,($.state=V).window=null,(C=T($,H))!==E&&($.state=null),C):c}var U,X,j=!0;function Y($){if(j){var H;for(U=new a.Buf32(512),X=new a.Buf32(32),H=0;H<144;)$.lens[H++]=8;for(;H<256;)$.lens[H++]=9;for(;H<280;)$.lens[H++]=7;for(;H<288;)$.lens[H++]=8;for(l(m,$.lens,0,288,U,0,$.work,{bits:9}),H=0;H<32;)$.lens[H++]=5;l(f,$.lens,0,32,X,0,$.work,{bits:5}),j=!1}$.lencode=U,$.lenbits=9,$.distcode=X,$.distbits=5}function ae($,H,C,V){var fe,te=$.state;return te.window===null&&(te.wsize=1<<te.wbits,te.wnext=0,te.whave=0,te.window=new a.Buf8(te.wsize)),V>=te.wsize?(a.arraySet(te.window,H,C-te.wsize,te.wsize,0),te.wnext=0,te.whave=te.wsize):(V<(fe=te.wsize-te.wnext)&&(fe=V),a.arraySet(te.window,H,C-V,fe,te.wnext),(V-=fe)?(a.arraySet(te.window,H,C-V,V,0),te.wnext=V,te.whave=te.wsize):(te.wnext+=fe,te.wnext===te.wsize&&(te.wnext=0),te.whave<te.wsize&&(te.whave+=fe))),0}n.inflateReset=F,n.inflateReset2=T,n.inflateResetKeep=B,n.inflateInit=function($){return z($,15)},n.inflateInit2=z,n.inflate=function($,H){var C,V,fe,te,he,re,de,J,W,le,ie,se,_e,ke,pe,ge,xe,ve,Se,Ce,g,K,G,I,D=0,N=new a.Buf8(4),Q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!$||!$.state||!$.output||!$.input&&$.avail_in!==0)return c;(C=$.state).mode===12&&(C.mode=13),he=$.next_out,fe=$.output,de=$.avail_out,te=$.next_in,V=$.input,re=$.avail_in,J=C.hold,W=C.bits,le=re,ie=de,K=E;e:for(;;)switch(C.mode){case p:if(C.wrap===0){C.mode=13;break}for(;W<16;){if(re===0)break e;re--,J+=V[te++]<<W,W+=8}if(2&C.wrap&&J===35615){N[C.check=0]=255&J,N[1]=J>>>8&255,C.check=i(C.check,N,2,0),W=J=0,C.mode=2;break}if(C.flags=0,C.head&&(C.head.done=!1),!(1&C.wrap)||(((255&J)<<8)+(J>>8))%31){$.msg="incorrect header check",C.mode=30;break}if((15&J)!=8){$.msg="unknown compression method",C.mode=30;break}if(W-=4,g=8+(15&(J>>>=4)),C.wbits===0)C.wbits=g;else if(g>C.wbits){$.msg="invalid window size",C.mode=30;break}C.dmax=1<<g,$.adler=C.check=1,C.mode=512&J?10:12,W=J=0;break;case 2:for(;W<16;){if(re===0)break e;re--,J+=V[te++]<<W,W+=8}if(C.flags=J,(255&C.flags)!=8){$.msg="unknown compression method",C.mode=30;break}if(57344&C.flags){$.msg="unknown header flags set",C.mode=30;break}C.head&&(C.head.text=J>>8&1),512&C.flags&&(N[0]=255&J,N[1]=J>>>8&255,C.check=i(C.check,N,2,0)),W=J=0,C.mode=3;case 3:for(;W<32;){if(re===0)break e;re--,J+=V[te++]<<W,W+=8}C.head&&(C.head.time=J),512&C.flags&&(N[0]=255&J,N[1]=J>>>8&255,N[2]=J>>>16&255,N[3]=J>>>24&255,C.check=i(C.check,N,4,0)),W=J=0,C.mode=4;case 4:for(;W<16;){if(re===0)break e;re--,J+=V[te++]<<W,W+=8}C.head&&(C.head.xflags=255&J,C.head.os=J>>8),512&C.flags&&(N[0]=255&J,N[1]=J>>>8&255,C.check=i(C.check,N,2,0)),W=J=0,C.mode=5;case 5:if(1024&C.flags){for(;W<16;){if(re===0)break e;re--,J+=V[te++]<<W,W+=8}C.length=J,C.head&&(C.head.extra_len=J),512&C.flags&&(N[0]=255&J,N[1]=J>>>8&255,C.check=i(C.check,N,2,0)),W=J=0}else C.head&&(C.head.extra=null);C.mode=6;case 6:if(1024&C.flags&&(re<(se=C.length)&&(se=re),se&&(C.head&&(g=C.head.extra_len-C.length,C.head.extra||(C.head.extra=new Array(C.head.extra_len)),a.arraySet(C.head.extra,V,te,se,g)),512&C.flags&&(C.check=i(C.check,V,se,te)),re-=se,te+=se,C.length-=se),C.length))break e;C.length=0,C.mode=7;case 7:if(2048&C.flags){if(re===0)break e;for(se=0;g=V[te+se++],C.head&&g&&C.length<65536&&(C.head.name+=String.fromCharCode(g)),g&&se<re;);if(512&C.flags&&(C.check=i(C.check,V,se,te)),re-=se,te+=se,g)break e}else C.head&&(C.head.name=null);C.length=0,C.mode=8;case 8:if(4096&C.flags){if(re===0)break e;for(se=0;g=V[te+se++],C.head&&g&&C.length<65536&&(C.head.comment+=String.fromCharCode(g)),g&&se<re;);if(512&C.flags&&(C.check=i(C.check,V,se,te)),re-=se,te+=se,g)break e}else C.head&&(C.head.comment=null);C.mode=9;case 9:if(512&C.flags){for(;W<16;){if(re===0)break e;re--,J+=V[te++]<<W,W+=8}if(J!==(65535&C.check)){$.msg="header crc mismatch",C.mode=30;break}W=J=0}C.head&&(C.head.hcrc=C.flags>>9&1,C.head.done=!0),$.adler=C.check=0,C.mode=12;break;case 10:for(;W<32;){if(re===0)break e;re--,J+=V[te++]<<W,W+=8}$.adler=C.check=y(J),W=J=0,C.mode=11;case 11:if(C.havedict===0)return $.next_out=he,$.avail_out=de,$.next_in=te,$.avail_in=re,C.hold=J,C.bits=W,2;$.adler=C.check=1,C.mode=12;case 12:if(H===5||H===6)break e;case 13:if(C.last){J>>>=7&W,W-=7&W,C.mode=27;break}for(;W<3;){if(re===0)break e;re--,J+=V[te++]<<W,W+=8}switch(C.last=1&J,W-=1,3&(J>>>=1)){case 0:C.mode=14;break;case 1:if(Y(C),C.mode=20,H!==6)break;J>>>=2,W-=2;break e;case 2:C.mode=17;break;case 3:$.msg="invalid block type",C.mode=30}J>>>=2,W-=2;break;case 14:for(J>>>=7&W,W-=7&W;W<32;){if(re===0)break e;re--,J+=V[te++]<<W,W+=8}if((65535&J)!=(J>>>16^65535)){$.msg="invalid stored block lengths",C.mode=30;break}if(C.length=65535&J,W=J=0,C.mode=15,H===6)break e;case 15:C.mode=16;case 16:if(se=C.length){if(re<se&&(se=re),de<se&&(se=de),se===0)break e;a.arraySet(fe,V,te,se,he),re-=se,te+=se,de-=se,he+=se,C.length-=se;break}C.mode=12;break;case 17:for(;W<14;){if(re===0)break e;re--,J+=V[te++]<<W,W+=8}if(C.nlen=257+(31&J),J>>>=5,W-=5,C.ndist=1+(31&J),J>>>=5,W-=5,C.ncode=4+(15&J),J>>>=4,W-=4,286<C.nlen||30<C.ndist){$.msg="too many length or distance symbols",C.mode=30;break}C.have=0,C.mode=18;case 18:for(;C.have<C.ncode;){for(;W<3;){if(re===0)break e;re--,J+=V[te++]<<W,W+=8}C.lens[Q[C.have++]]=7&J,J>>>=3,W-=3}for(;C.have<19;)C.lens[Q[C.have++]]=0;if(C.lencode=C.lendyn,C.lenbits=7,G={bits:C.lenbits},K=l(0,C.lens,0,19,C.lencode,0,C.work,G),C.lenbits=G.bits,K){$.msg="invalid code lengths set",C.mode=30;break}C.have=0,C.mode=19;case 19:for(;C.have<C.nlen+C.ndist;){for(;ge=(D=C.lencode[J&(1<<C.lenbits)-1])>>>16&255,xe=65535&D,!((pe=D>>>24)<=W);){if(re===0)break e;re--,J+=V[te++]<<W,W+=8}if(xe<16)J>>>=pe,W-=pe,C.lens[C.have++]=xe;else{if(xe===16){for(I=pe+2;W<I;){if(re===0)break e;re--,J+=V[te++]<<W,W+=8}if(J>>>=pe,W-=pe,C.have===0){$.msg="invalid bit length repeat",C.mode=30;break}g=C.lens[C.have-1],se=3+(3&J),J>>>=2,W-=2}else if(xe===17){for(I=pe+3;W<I;){if(re===0)break e;re--,J+=V[te++]<<W,W+=8}W-=pe,g=0,se=3+(7&(J>>>=pe)),J>>>=3,W-=3}else{for(I=pe+7;W<I;){if(re===0)break e;re--,J+=V[te++]<<W,W+=8}W-=pe,g=0,se=11+(127&(J>>>=pe)),J>>>=7,W-=7}if(C.have+se>C.nlen+C.ndist){$.msg="invalid bit length repeat",C.mode=30;break}for(;se--;)C.lens[C.have++]=g}}if(C.mode===30)break;if(C.lens[256]===0){$.msg="invalid code -- missing end-of-block",C.mode=30;break}if(C.lenbits=9,G={bits:C.lenbits},K=l(m,C.lens,0,C.nlen,C.lencode,0,C.work,G),C.lenbits=G.bits,K){$.msg="invalid literal/lengths set",C.mode=30;break}if(C.distbits=6,C.distcode=C.distdyn,G={bits:C.distbits},K=l(f,C.lens,C.nlen,C.ndist,C.distcode,0,C.work,G),C.distbits=G.bits,K){$.msg="invalid distances set",C.mode=30;break}if(C.mode=20,H===6)break e;case 20:C.mode=21;case 21:if(6<=re&&258<=de){$.next_out=he,$.avail_out=de,$.next_in=te,$.avail_in=re,C.hold=J,C.bits=W,u($,ie),he=$.next_out,fe=$.output,de=$.avail_out,te=$.next_in,V=$.input,re=$.avail_in,J=C.hold,W=C.bits,C.mode===12&&(C.back=-1);break}for(C.back=0;ge=(D=C.lencode[J&(1<<C.lenbits)-1])>>>16&255,xe=65535&D,!((pe=D>>>24)<=W);){if(re===0)break e;re--,J+=V[te++]<<W,W+=8}if(ge&&!(240&ge)){for(ve=pe,Se=ge,Ce=xe;ge=(D=C.lencode[Ce+((J&(1<<ve+Se)-1)>>ve)])>>>16&255,xe=65535&D,!(ve+(pe=D>>>24)<=W);){if(re===0)break e;re--,J+=V[te++]<<W,W+=8}J>>>=ve,W-=ve,C.back+=ve}if(J>>>=pe,W-=pe,C.back+=pe,C.length=xe,ge===0){C.mode=26;break}if(32&ge){C.back=-1,C.mode=12;break}if(64&ge){$.msg="invalid literal/length code",C.mode=30;break}C.extra=15&ge,C.mode=22;case 22:if(C.extra){for(I=C.extra;W<I;){if(re===0)break e;re--,J+=V[te++]<<W,W+=8}C.length+=J&(1<<C.extra)-1,J>>>=C.extra,W-=C.extra,C.back+=C.extra}C.was=C.length,C.mode=23;case 23:for(;ge=(D=C.distcode[J&(1<<C.distbits)-1])>>>16&255,xe=65535&D,!((pe=D>>>24)<=W);){if(re===0)break e;re--,J+=V[te++]<<W,W+=8}if(!(240&ge)){for(ve=pe,Se=ge,Ce=xe;ge=(D=C.distcode[Ce+((J&(1<<ve+Se)-1)>>ve)])>>>16&255,xe=65535&D,!(ve+(pe=D>>>24)<=W);){if(re===0)break e;re--,J+=V[te++]<<W,W+=8}J>>>=ve,W-=ve,C.back+=ve}if(J>>>=pe,W-=pe,C.back+=pe,64&ge){$.msg="invalid distance code",C.mode=30;break}C.offset=xe,C.extra=15&ge,C.mode=24;case 24:if(C.extra){for(I=C.extra;W<I;){if(re===0)break e;re--,J+=V[te++]<<W,W+=8}C.offset+=J&(1<<C.extra)-1,J>>>=C.extra,W-=C.extra,C.back+=C.extra}if(C.offset>C.dmax){$.msg="invalid distance too far back",C.mode=30;break}C.mode=25;case 25:if(de===0)break e;if(se=ie-de,C.offset>se){if((se=C.offset-se)>C.whave&&C.sane){$.msg="invalid distance too far back",C.mode=30;break}_e=se>C.wnext?(se-=C.wnext,C.wsize-se):C.wnext-se,se>C.length&&(se=C.length),ke=C.window}else ke=fe,_e=he-C.offset,se=C.length;for(de<se&&(se=de),de-=se,C.length-=se;fe[he++]=ke[_e++],--se;);C.length===0&&(C.mode=21);break;case 26:if(de===0)break e;fe[he++]=C.length,de--,C.mode=21;break;case 27:if(C.wrap){for(;W<32;){if(re===0)break e;re--,J|=V[te++]<<W,W+=8}if(ie-=de,$.total_out+=ie,C.total+=ie,ie&&($.adler=C.check=C.flags?i(C.check,fe,ie,he-ie):s(C.check,fe,ie,he-ie)),ie=de,(C.flags?J:y(J))!==C.check){$.msg="incorrect data check",C.mode=30;break}W=J=0}C.mode=28;case 28:if(C.wrap&&C.flags){for(;W<32;){if(re===0)break e;re--,J+=V[te++]<<W,W+=8}if(J!==(4294967295&C.total)){$.msg="incorrect length check",C.mode=30;break}W=J=0}C.mode=29;case 29:K=1;break e;case 30:K=-3;break e;case 31:return-4;case 32:default:return c}return $.next_out=he,$.avail_out=de,$.next_in=te,$.avail_in=re,C.hold=J,C.bits=W,(C.wsize||ie!==$.avail_out&&C.mode<30&&(C.mode<27||H!==4))&&ae($,$.output,$.next_out,ie-$.avail_out)?(C.mode=31,-4):(le-=$.avail_in,ie-=$.avail_out,$.total_in+=le,$.total_out+=ie,C.total+=ie,C.wrap&&ie&&($.adler=C.check=C.flags?i(C.check,fe,ie,$.next_out-ie):s(C.check,fe,ie,$.next_out-ie)),$.data_type=C.bits+(C.last?64:0)+(C.mode===12?128:0)+(C.mode===20||C.mode===15?256:0),(le==0&&ie===0||H===4)&&K===E&&(K=-5),K)},n.inflateEnd=function($){if(!$||!$.state)return c;var H=$.state;return H.window&&(H.window=null),$.state=null,E},n.inflateGetHeader=function($,H){var C;return $&&$.state&&2&(C=$.state).wrap?((C.head=H).done=!1,E):c},n.inflateSetDictionary=function($,H){var C,V=H.length;return $&&$.state?(C=$.state).wrap!==0&&C.mode!==11?c:C.mode===11&&s(1,H,V,0)!==C.check?-3:ae($,H,V,V)?(C.mode=31,-4):(C.havedict=1,E):c},n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(r,o,n){var a=r("../utils/common"),s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],i=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],u=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],l=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];o.exports=function(m,f,E,c,p,d,x,y){var R,B,F,T,z,U,X,j,Y,ae=y.bits,$=0,H=0,C=0,V=0,fe=0,te=0,he=0,re=0,de=0,J=0,W=null,le=0,ie=new a.Buf16(16),se=new a.Buf16(16),_e=null,ke=0;for($=0;$<=15;$++)ie[$]=0;for(H=0;H<c;H++)ie[f[E+H]]++;for(fe=ae,V=15;1<=V&&ie[V]===0;V--);if(V<fe&&(fe=V),V===0)return p[d++]=20971520,p[d++]=20971520,y.bits=1,0;for(C=1;C<V&&ie[C]===0;C++);for(fe<C&&(fe=C),$=re=1;$<=15;$++)if(re<<=1,(re-=ie[$])<0)return-1;if(0<re&&(m===0||V!==1))return-1;for(se[1]=0,$=1;$<15;$++)se[$+1]=se[$]+ie[$];for(H=0;H<c;H++)f[E+H]!==0&&(x[se[f[E+H]]++]=H);if(U=m===0?(W=_e=x,19):m===1?(W=s,le-=257,_e=i,ke-=257,256):(W=u,_e=l,-1),$=C,z=d,he=H=J=0,F=-1,T=(de=1<<(te=fe))-1,m===1&&852<de||m===2&&592<de)return 1;for(;;){for(X=$-he,Y=x[H]<U?(j=0,x[H]):x[H]>U?(j=_e[ke+x[H]],W[le+x[H]]):(j=96,0),R=1<<$-he,C=B=1<<te;p[z+(J>>he)+(B-=R)]=X<<24|j<<16|Y|0,B!==0;);for(R=1<<$-1;J&R;)R>>=1;if(R!==0?(J&=R-1,J+=R):J=0,H++,--ie[$]==0){if($===V)break;$=f[E+x[H]]}if(fe<$&&(J&T)!==F){for(he===0&&(he=fe),z+=C,re=1<<(te=$-he);te+he<V&&!((re-=ie[te+he])<=0);)te++,re<<=1;if(de+=1<<te,m===1&&852<de||m===2&&592<de)return 1;p[F=J&T]=fe<<24|te<<16|z-d|0}}return J!==0&&(p[z+J]=$-he<<24|64<<16|0),y.bits=fe,0}},{"../utils/common":41}],51:[function(r,o,n){o.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(r,o,n){var a=r("../utils/common"),s=0,i=1;function u(D){for(var N=D.length;0<=--N;)D[N]=0}var l=0,m=29,f=256,E=f+1+m,c=30,p=19,d=2*E+1,x=15,y=16,R=7,B=256,F=16,T=17,z=18,U=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],X=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],j=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Y=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ae=new Array(2*(E+2));u(ae);var $=new Array(2*c);u($);var H=new Array(512);u(H);var C=new Array(256);u(C);var V=new Array(m);u(V);var fe,te,he,re=new Array(c);function de(D,N,Q,ee,q){this.static_tree=D,this.extra_bits=N,this.extra_base=Q,this.elems=ee,this.max_length=q,this.has_stree=D&&D.length}function J(D,N){this.dyn_tree=D,this.max_code=0,this.stat_desc=N}function W(D){return D<256?H[D]:H[256+(D>>>7)]}function le(D,N){D.pending_buf[D.pending++]=255&N,D.pending_buf[D.pending++]=N>>>8&255}function ie(D,N,Q){D.bi_valid>y-Q?(D.bi_buf|=N<<D.bi_valid&65535,le(D,D.bi_buf),D.bi_buf=N>>y-D.bi_valid,D.bi_valid+=Q-y):(D.bi_buf|=N<<D.bi_valid&65535,D.bi_valid+=Q)}function se(D,N,Q){ie(D,Q[2*N],Q[2*N+1])}function _e(D,N){for(var Q=0;Q|=1&D,D>>>=1,Q<<=1,0<--N;);return Q>>>1}function ke(D,N,Q){var ee,q,oe=new Array(x+1),ue=0;for(ee=1;ee<=x;ee++)oe[ee]=ue=ue+Q[ee-1]<<1;for(q=0;q<=N;q++){var ne=D[2*q+1];ne!==0&&(D[2*q]=_e(oe[ne]++,ne))}}function pe(D){var N;for(N=0;N<E;N++)D.dyn_ltree[2*N]=0;for(N=0;N<c;N++)D.dyn_dtree[2*N]=0;for(N=0;N<p;N++)D.bl_tree[2*N]=0;D.dyn_ltree[2*B]=1,D.opt_len=D.static_len=0,D.last_lit=D.matches=0}function ge(D){8<D.bi_valid?le(D,D.bi_buf):0<D.bi_valid&&(D.pending_buf[D.pending++]=D.bi_buf),D.bi_buf=0,D.bi_valid=0}function xe(D,N,Q,ee){var q=2*N,oe=2*Q;return D[q]<D[oe]||D[q]===D[oe]&&ee[N]<=ee[Q]}function ve(D,N,Q){for(var ee=D.heap[Q],q=Q<<1;q<=D.heap_len&&(q<D.heap_len&&xe(N,D.heap[q+1],D.heap[q],D.depth)&&q++,!xe(N,ee,D.heap[q],D.depth));)D.heap[Q]=D.heap[q],Q=q,q<<=1;D.heap[Q]=ee}function Se(D,N,Q){var ee,q,oe,ue,ne=0;if(D.last_lit!==0)for(;ee=D.pending_buf[D.d_buf+2*ne]<<8|D.pending_buf[D.d_buf+2*ne+1],q=D.pending_buf[D.l_buf+ne],ne++,ee===0?se(D,q,N):(se(D,(oe=C[q])+f+1,N),(ue=U[oe])!==0&&ie(D,q-=V[oe],ue),se(D,oe=W(--ee),Q),(ue=X[oe])!==0&&ie(D,ee-=re[oe],ue)),ne<D.last_lit;);se(D,B,N)}function Ce(D,N){var Q,ee,q,oe=N.dyn_tree,ue=N.stat_desc.static_tree,ne=N.stat_desc.has_stree,ce=N.stat_desc.elems,be=-1;for(D.heap_len=0,D.heap_max=d,Q=0;Q<ce;Q++)oe[2*Q]!==0?(D.heap[++D.heap_len]=be=Q,D.depth[Q]=0):oe[2*Q+1]=0;for(;D.heap_len<2;)oe[2*(q=D.heap[++D.heap_len]=be<2?++be:0)]=1,D.depth[q]=0,D.opt_len--,ne&&(D.static_len-=ue[2*q+1]);for(N.max_code=be,Q=D.heap_len>>1;1<=Q;Q--)ve(D,oe,Q);for(q=ce;Q=D.heap[1],D.heap[1]=D.heap[D.heap_len--],ve(D,oe,1),ee=D.heap[1],D.heap[--D.heap_max]=Q,D.heap[--D.heap_max]=ee,oe[2*q]=oe[2*Q]+oe[2*ee],D.depth[q]=(D.depth[Q]>=D.depth[ee]?D.depth[Q]:D.depth[ee])+1,oe[2*Q+1]=oe[2*ee+1]=q,D.heap[1]=q++,ve(D,oe,1),2<=D.heap_len;);D.heap[--D.heap_max]=D.heap[1],function(me,we){var Re,Ae,Be,ye,De,Te,Ee=we.dyn_tree,$e=we.max_code,ze=we.stat_desc.static_tree,Me=we.stat_desc.has_stree,Ne=we.stat_desc.extra_bits,Oe=we.stat_desc.extra_base,Fe=we.stat_desc.max_length,Pe=0;for(ye=0;ye<=x;ye++)me.bl_count[ye]=0;for(Ee[2*me.heap[me.heap_max]+1]=0,Re=me.heap_max+1;Re<d;Re++)Fe<(ye=Ee[2*Ee[2*(Ae=me.heap[Re])+1]+1]+1)&&(ye=Fe,Pe++),Ee[2*Ae+1]=ye,$e<Ae||(me.bl_count[ye]++,De=0,Oe<=Ae&&(De=Ne[Ae-Oe]),Te=Ee[2*Ae],me.opt_len+=Te*(ye+De),Me&&(me.static_len+=Te*(ze[2*Ae+1]+De)));if(Pe!==0){do{for(ye=Fe-1;me.bl_count[ye]===0;)ye--;me.bl_count[ye]--,me.bl_count[ye+1]+=2,me.bl_count[Fe]--,Pe-=2}while(0<Pe);for(ye=Fe;ye!==0;ye--)for(Ae=me.bl_count[ye];Ae!==0;)$e<(Be=me.heap[--Re])||(Ee[2*Be+1]!==ye&&(me.opt_len+=(ye-Ee[2*Be+1])*Ee[2*Be],Ee[2*Be+1]=ye),Ae--)}}(D,N),ke(oe,be,D.bl_count)}function g(D,N,Q){var ee,q,oe=-1,ue=N[1],ne=0,ce=7,be=4;for(ue===0&&(ce=138,be=3),N[2*(Q+1)+1]=65535,ee=0;ee<=Q;ee++)q=ue,ue=N[2*(ee+1)+1],++ne<ce&&q===ue||(ne<be?D.bl_tree[2*q]+=ne:q!==0?(q!==oe&&D.bl_tree[2*q]++,D.bl_tree[2*F]++):ne<=10?D.bl_tree[2*T]++:D.bl_tree[2*z]++,oe=q,be=(ne=0)===ue?(ce=138,3):q===ue?(ce=6,3):(ce=7,4))}function K(D,N,Q){var ee,q,oe=-1,ue=N[1],ne=0,ce=7,be=4;for(ue===0&&(ce=138,be=3),ee=0;ee<=Q;ee++)if(q=ue,ue=N[2*(ee+1)+1],!(++ne<ce&&q===ue)){if(ne<be)for(;se(D,q,D.bl_tree),--ne!=0;);else q!==0?(q!==oe&&(se(D,q,D.bl_tree),ne--),se(D,F,D.bl_tree),ie(D,ne-3,2)):ne<=10?(se(D,T,D.bl_tree),ie(D,ne-3,3)):(se(D,z,D.bl_tree),ie(D,ne-11,7));oe=q,be=(ne=0)===ue?(ce=138,3):q===ue?(ce=6,3):(ce=7,4)}}u(re);var G=!1;function I(D,N,Q,ee){ie(D,(l<<1)+(ee?1:0),3),function(q,oe,ue,ne){ge(q),le(q,ue),le(q,~ue),a.arraySet(q.pending_buf,q.window,oe,ue,q.pending),q.pending+=ue}(D,N,Q)}n._tr_init=function(D){G||(function(){var N,Q,ee,q,oe,ue=new Array(x+1);for(q=ee=0;q<m-1;q++)for(V[q]=ee,N=0;N<1<<U[q];N++)C[ee++]=q;for(C[ee-1]=q,q=oe=0;q<16;q++)for(re[q]=oe,N=0;N<1<<X[q];N++)H[oe++]=q;for(oe>>=7;q<c;q++)for(re[q]=oe<<7,N=0;N<1<<X[q]-7;N++)H[256+oe++]=q;for(Q=0;Q<=x;Q++)ue[Q]=0;for(N=0;N<=143;)ae[2*N+1]=8,N++,ue[8]++;for(;N<=255;)ae[2*N+1]=9,N++,ue[9]++;for(;N<=279;)ae[2*N+1]=7,N++,ue[7]++;for(;N<=287;)ae[2*N+1]=8,N++,ue[8]++;for(ke(ae,E+1,ue),N=0;N<c;N++)$[2*N+1]=5,$[2*N]=_e(N,5);fe=new de(ae,U,f+1,E,x),te=new de($,X,0,c,x),he=new de(new Array(0),j,0,p,R)}(),G=!0),D.l_desc=new J(D.dyn_ltree,fe),D.d_desc=new J(D.dyn_dtree,te),D.bl_desc=new J(D.bl_tree,he),D.bi_buf=0,D.bi_valid=0,pe(D)},n._tr_stored_block=I,n._tr_flush_block=function(D,N,Q,ee){var q,oe,ue=0;0<D.level?(D.strm.data_type===2&&(D.strm.data_type=function(ne){var ce,be=4093624447;for(ce=0;ce<=31;ce++,be>>>=1)if(1&be&&ne.dyn_ltree[2*ce]!==0)return s;if(ne.dyn_ltree[18]!==0||ne.dyn_ltree[20]!==0||ne.dyn_ltree[26]!==0)return i;for(ce=32;ce<f;ce++)if(ne.dyn_ltree[2*ce]!==0)return i;return s}(D)),Ce(D,D.l_desc),Ce(D,D.d_desc),ue=function(ne){var ce;for(g(ne,ne.dyn_ltree,ne.l_desc.max_code),g(ne,ne.dyn_dtree,ne.d_desc.max_code),Ce(ne,ne.bl_desc),ce=p-1;3<=ce&&ne.bl_tree[2*Y[ce]+1]===0;ce--);return ne.opt_len+=3*(ce+1)+5+5+4,ce}(D),q=D.opt_len+3+7>>>3,(oe=D.static_len+3+7>>>3)<=q&&(q=oe)):q=oe=Q+5,Q+4<=q&&N!==-1?I(D,N,Q,ee):D.strategy===4||oe===q?(ie(D,2+(ee?1:0),3),Se(D,ae,$)):(ie(D,4+(ee?1:0),3),function(ne,ce,be,me){var we;for(ie(ne,ce-257,5),ie(ne,be-1,5),ie(ne,me-4,4),we=0;we<me;we++)ie(ne,ne.bl_tree[2*Y[we]+1],3);K(ne,ne.dyn_ltree,ce-1),K(ne,ne.dyn_dtree,be-1)}(D,D.l_desc.max_code+1,D.d_desc.max_code+1,ue+1),Se(D,D.dyn_ltree,D.dyn_dtree)),pe(D),ee&&ge(D)},n._tr_tally=function(D,N,Q){return D.pending_buf[D.d_buf+2*D.last_lit]=N>>>8&255,D.pending_buf[D.d_buf+2*D.last_lit+1]=255&N,D.pending_buf[D.l_buf+D.last_lit]=255&Q,D.last_lit++,N===0?D.dyn_ltree[2*Q]++:(D.matches++,N--,D.dyn_ltree[2*(C[Q]+f+1)]++,D.dyn_dtree[2*W(N)]++),D.last_lit===D.lit_bufsize-1},n._tr_align=function(D){ie(D,2,3),se(D,B,ae),function(N){N.bi_valid===16?(le(N,N.bi_buf),N.bi_buf=0,N.bi_valid=0):8<=N.bi_valid&&(N.pending_buf[N.pending++]=255&N.bi_buf,N.bi_buf>>=8,N.bi_valid-=8)}(D)}},{"../utils/common":41}],53:[function(r,o,n){o.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(r,o,n){(function(a){(function(s,i){if(!s.setImmediate){var u,l,m,f,E=1,c={},p=!1,d=s.document,x=Object.getPrototypeOf&&Object.getPrototypeOf(s);x=x&&x.setTimeout?x:s,u={}.toString.call(s.process)==="[object process]"?function(F){process.nextTick(function(){R(F)})}:function(){if(s.postMessage&&!s.importScripts){var F=!0,T=s.onmessage;return s.onmessage=function(){F=!1},s.postMessage("","*"),s.onmessage=T,F}}()?(f="setImmediate$"+Math.random()+"$",s.addEventListener?s.addEventListener("message",B,!1):s.attachEvent("onmessage",B),function(F){s.postMessage(f+F,"*")}):s.MessageChannel?((m=new MessageChannel).port1.onmessage=function(F){R(F.data)},function(F){m.port2.postMessage(F)}):d&&"onreadystatechange"in d.createElement("script")?(l=d.documentElement,function(F){var T=d.createElement("script");T.onreadystatechange=function(){R(F),T.onreadystatechange=null,l.removeChild(T),T=null},l.appendChild(T)}):function(F){setTimeout(R,0,F)},x.setImmediate=function(F){typeof F!="function"&&(F=new Function(""+F));for(var T=new Array(arguments.length-1),z=0;z<T.length;z++)T[z]=arguments[z+1];var U={callback:F,args:T};return c[E]=U,u(E),E++},x.clearImmediate=y}function y(F){delete c[F]}function R(F){if(p)setTimeout(R,0,F);else{var T=c[F];if(T){p=!0;try{(function(z){var U=z.callback,X=z.args;switch(X.length){case 0:U();break;case 1:U(X[0]);break;case 2:U(X[0],X[1]);break;case 3:U(X[0],X[1],X[2]);break;default:U.apply(i,X)}})(T)}finally{y(F),p=!1}}}}function B(F){F.source===s&&typeof F.data=="string"&&F.data.indexOf(f)===0&&R(+F.data.slice(f.length))}})(typeof self>"u"?a===void 0?this:a:self)}).call(this,typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(jszip_min);var jszip_minExports=jszip_min.exports;const jszip=getDefaultExportFromCjs(jszip_minExports),darkModeClassName="my-app-dark",useDarkModeStore=defineStore("darkMode",()=>{const e=ref(darkModeClassName),t=ref(!1),r=computed(()=>`.${e.value}`),o=computed(()=>document.documentElement.classList.contains(darkModeClassName)),n=()=>{document.documentElement.classList.add(e.value),t.value=!0},a=()=>{document.documentElement.classList.remove(e.value),t.value=!1};return{className:e,isOn:t,darkModeClass:r,isDarkMode:o,turnOn:n,turnOff:a,toggle:()=>{document.documentElement.classList.toggle(e.value),t.value=!t.value},turn:()=>{t.value?n():a()}}},{persist:{serializer:{deserialize:lib$1.parse,serialize:lib$1.stringify},pick:["isOn"]}}),defaultState={locale:"en",fallbackLocale:"en",availableLocales:["en","zh"]},systemSettingsDefinition={state:()=>_.cloneDeep(defaultState),getters:{},actions:{setLocale(e,t){var r;e=(e??"").toLowerCase(),(r=this.availableLocales)!=null&&r.includes(e)||(e=this.locale),t!=null&&(t.value=e),this.locale=e}},persist:{serializer:{deserialize:lib$1.parse,serialize:lib$1.stringify}}},useSystemSettingsStore=defineStore("systemSettingsStore",systemSettingsDefinition),RootLayout=defineComponent({setup(){const e=useDarkModeStore(),{turn:t}=e,r=useSystemSettingsStore(),{setLocale:o}=r;return watchEffect(()=>{t(),o()}),()=>[h(RouterView),h(script),h(script$1),h(script$2)]}});window.toolPack={_,axios,clipboard,Dexie,FileSaver,jschardet,json5:lib$2,JSON5:lib$2,jszip,JSZip:jszip,localforage,lodash:_,Lodash:_,md5,nanoid,pako,saveAs:FileSaver_minExports.saveAs,yaml:YAML,zipson};window._=_;window.axios=axios;window.clipboard=clipboard;window.Dexie=Dexie;window.FileSaver=FileSaver;window.jschardet=jschardet;window.json5=lib$2;window.JSON5=lib$2;window.jszip=jszip;window.JSZip=jszip;window.localforage=localforage;window.lodash=_;window.Lodash=_;window.md5=md5;window.nanoid=nanoid;window.pako=pako;window.saveAs=FileSaver_minExports.saveAs;window.yaml=YAML;window.zipson=zipson;const App=defineComponent({setup(){return()=>h(RootLayout)}});var index$1p={root:{transitionDuration:"{transition.duration}"},panel:{borderWidth:"0 0 1px 0",borderColor:"{content.border.color}"},header:{color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{text.color}",padding:"1.125rem",fontWeight:"600",borderRadius:"0",borderWidth:"0",borderColor:"{content.border.color}",background:"{content.background}",hoverBackground:"{content.background}",activeBackground:"{content.background}",activeHoverBackground:"{content.background}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"},toggleIcon:{color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{text.color}",activeHoverColor:"{text.color}"},first:{topBorderRadius:"{content.border.radius}",borderWidth:"0"},last:{bottomBorderRadius:"{content.border.radius}",activeBottomBorderRadius:"0"}},content:{borderWidth:"0",borderColor:"{content.border.color}",background:"{content.background}",color:"{text.color}",padding:"0 1.125rem 1.125rem 1.125rem"}},index$1o={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}"},overlay:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},list:{padding:"{list.padding}",gap:"{list.gap}"},option:{focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"},optionGroup:{background:"{list.option.group.background}",color:"{list.option.group.color}",fontWeight:"{list.option.group.font.weight}",padding:"{list.option.group.padding}"},dropdown:{width:"2.5rem",sm:{width:"2rem"},lg:{width:"3rem"},borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.border.color}",activeBorderColor:"{form.field.border.color}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},chip:{borderRadius:"{border.radius.sm}"},emptyMessage:{padding:"{list.option.padding}"},colorScheme:{light:{chip:{focusBackground:"{surface.200}",focusColor:"{surface.800}"},dropdown:{background:"{surface.100}",hoverBackground:"{surface.200}",activeBackground:"{surface.300}",color:"{surface.600}",hoverColor:"{surface.700}",activeColor:"{surface.800}"}},dark:{chip:{focusBackground:"{surface.700}",focusColor:"{surface.0}"},dropdown:{background:"{surface.800}",hoverBackground:"{surface.700}",activeBackground:"{surface.600}",color:"{surface.300}",hoverColor:"{surface.200}",activeColor:"{surface.100}"}}}},index$1n={root:{width:"2rem",height:"2rem",fontSize:"1rem",background:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}"},icon:{size:"1rem"},group:{borderColor:"{content.background}",offset:"-0.75rem"},lg:{width:"3rem",height:"3rem",fontSize:"1.5rem",icon:{size:"1.5rem"},group:{offset:"-1rem"}},xl:{width:"4rem",height:"4rem",fontSize:"2rem",icon:{size:"2rem"},group:{offset:"-1.5rem"}}},index$1m={root:{borderRadius:"{border.radius.md}",padding:"0 0.5rem",fontSize:"0.75rem",fontWeight:"700",minWidth:"1.5rem",height:"1.5rem"},dot:{size:"0.5rem"},sm:{fontSize:"0.625rem",minWidth:"1.25rem",height:"1.25rem"},lg:{fontSize:"0.875rem",minWidth:"1.75rem",height:"1.75rem"},xl:{fontSize:"1rem",minWidth:"2rem",height:"2rem"},colorScheme:{light:{primary:{background:"{primary.color}",color:"{primary.contrast.color}"},secondary:{background:"{surface.100}",color:"{surface.600}"},success:{background:"{green.500}",color:"{surface.0}"},info:{background:"{sky.500}",color:"{surface.0}"},warn:{background:"{orange.500}",color:"{surface.0}"},danger:{background:"{red.500}",color:"{surface.0}"},contrast:{background:"{surface.950}",color:"{surface.0}"}},dark:{primary:{background:"{primary.color}",color:"{primary.contrast.color}"},secondary:{background:"{surface.800}",color:"{surface.300}"},success:{background:"{green.400}",color:"{green.950}"},info:{background:"{sky.400}",color:"{sky.950}"},warn:{background:"{orange.400}",color:"{orange.950}"},danger:{background:"{red.400}",color:"{red.950}"},contrast:{background:"{surface.0}",color:"{surface.950}"}}}},index$1l={primitive:{borderRadius:{none:"0",xs:"2px",sm:"4px",md:"6px",lg:"8px",xl:"12px"},emerald:{50:"#ecfdf5",100:"#d1fae5",200:"#a7f3d0",300:"#6ee7b7",400:"#34d399",500:"#10b981",600:"#059669",700:"#047857",800:"#065f46",900:"#064e3b",950:"#022c22"},green:{50:"#f0fdf4",100:"#dcfce7",200:"#bbf7d0",300:"#86efac",400:"#4ade80",500:"#22c55e",600:"#16a34a",700:"#15803d",800:"#166534",900:"#14532d",950:"#052e16"},lime:{50:"#f7fee7",100:"#ecfccb",200:"#d9f99d",300:"#bef264",400:"#a3e635",500:"#84cc16",600:"#65a30d",700:"#4d7c0f",800:"#3f6212",900:"#365314",950:"#1a2e05"},red:{50:"#fef2f2",100:"#fee2e2",200:"#fecaca",300:"#fca5a5",400:"#f87171",500:"#ef4444",600:"#dc2626",700:"#b91c1c",800:"#991b1b",900:"#7f1d1d",950:"#450a0a"},orange:{50:"#fff7ed",100:"#ffedd5",200:"#fed7aa",300:"#fdba74",400:"#fb923c",500:"#f97316",600:"#ea580c",700:"#c2410c",800:"#9a3412",900:"#7c2d12",950:"#431407"},amber:{50:"#fffbeb",100:"#fef3c7",200:"#fde68a",300:"#fcd34d",400:"#fbbf24",500:"#f59e0b",600:"#d97706",700:"#b45309",800:"#92400e",900:"#78350f",950:"#451a03"},yellow:{50:"#fefce8",100:"#fef9c3",200:"#fef08a",300:"#fde047",400:"#facc15",500:"#eab308",600:"#ca8a04",700:"#a16207",800:"#854d0e",900:"#713f12",950:"#422006"},teal:{50:"#f0fdfa",100:"#ccfbf1",200:"#99f6e4",300:"#5eead4",400:"#2dd4bf",500:"#14b8a6",600:"#0d9488",700:"#0f766e",800:"#115e59",900:"#134e4a",950:"#042f2e"},cyan:{50:"#ecfeff",100:"#cffafe",200:"#a5f3fc",300:"#67e8f9",400:"#22d3ee",500:"#06b6d4",600:"#0891b2",700:"#0e7490",800:"#155e75",900:"#164e63",950:"#083344"},sky:{50:"#f0f9ff",100:"#e0f2fe",200:"#bae6fd",300:"#7dd3fc",400:"#38bdf8",500:"#0ea5e9",600:"#0284c7",700:"#0369a1",800:"#075985",900:"#0c4a6e",950:"#082f49"},blue:{50:"#eff6ff",100:"#dbeafe",200:"#bfdbfe",300:"#93c5fd",400:"#60a5fa",500:"#3b82f6",600:"#2563eb",700:"#1d4ed8",800:"#1e40af",900:"#1e3a8a",950:"#172554"},indigo:{50:"#eef2ff",100:"#e0e7ff",200:"#c7d2fe",300:"#a5b4fc",400:"#818cf8",500:"#6366f1",600:"#4f46e5",700:"#4338ca",800:"#3730a3",900:"#312e81",950:"#1e1b4b"},violet:{50:"#f5f3ff",100:"#ede9fe",200:"#ddd6fe",300:"#c4b5fd",400:"#a78bfa",500:"#8b5cf6",600:"#7c3aed",700:"#6d28d9",800:"#5b21b6",900:"#4c1d95",950:"#2e1065"},purple:{50:"#faf5ff",100:"#f3e8ff",200:"#e9d5ff",300:"#d8b4fe",400:"#c084fc",500:"#a855f7",600:"#9333ea",700:"#7e22ce",800:"#6b21a8",900:"#581c87",950:"#3b0764"},fuchsia:{50:"#fdf4ff",100:"#fae8ff",200:"#f5d0fe",300:"#f0abfc",400:"#e879f9",500:"#d946ef",600:"#c026d3",700:"#a21caf",800:"#86198f",900:"#701a75",950:"#4a044e"},pink:{50:"#fdf2f8",100:"#fce7f3",200:"#fbcfe8",300:"#f9a8d4",400:"#f472b6",500:"#ec4899",600:"#db2777",700:"#be185d",800:"#9d174d",900:"#831843",950:"#500724"},rose:{50:"#fff1f2",100:"#ffe4e6",200:"#fecdd3",300:"#fda4af",400:"#fb7185",500:"#f43f5e",600:"#e11d48",700:"#be123c",800:"#9f1239",900:"#881337",950:"#4c0519"},slate:{50:"#f8fafc",100:"#f1f5f9",200:"#e2e8f0",300:"#cbd5e1",400:"#94a3b8",500:"#64748b",600:"#475569",700:"#334155",800:"#1e293b",900:"#0f172a",950:"#020617"},gray:{50:"#f9fafb",100:"#f3f4f6",200:"#e5e7eb",300:"#d1d5db",400:"#9ca3af",500:"#6b7280",600:"#4b5563",700:"#374151",800:"#1f2937",900:"#111827",950:"#030712"},zinc:{50:"#fafafa",100:"#f4f4f5",200:"#e4e4e7",300:"#d4d4d8",400:"#a1a1aa",500:"#71717a",600:"#52525b",700:"#3f3f46",800:"#27272a",900:"#18181b",950:"#09090b"},neutral:{50:"#fafafa",100:"#f5f5f5",200:"#e5e5e5",300:"#d4d4d4",400:"#a3a3a3",500:"#737373",600:"#525252",700:"#404040",800:"#262626",900:"#171717",950:"#0a0a0a"},stone:{50:"#fafaf9",100:"#f5f5f4",200:"#e7e5e4",300:"#d6d3d1",400:"#a8a29e",500:"#78716c",600:"#57534e",700:"#44403c",800:"#292524",900:"#1c1917",950:"#0c0a09"}},semantic:{transitionDuration:"0.2s",focusRing:{width:"1px",style:"solid",color:"{primary.color}",offset:"2px",shadow:"none"},disabledOpacity:"0.6",iconSize:"1rem",anchorGutter:"2px",primary:{50:"{emerald.50}",100:"{emerald.100}",200:"{emerald.200}",300:"{emerald.300}",400:"{emerald.400}",500:"{emerald.500}",600:"{emerald.600}",700:"{emerald.700}",800:"{emerald.800}",900:"{emerald.900}",950:"{emerald.950}"},formField:{paddingX:"0.75rem",paddingY:"0.5rem",sm:{fontSize:"0.875rem",paddingX:"0.625rem",paddingY:"0.375rem"},lg:{fontSize:"1.125rem",paddingX:"0.875rem",paddingY:"0.625rem"},borderRadius:"{border.radius.md}",focusRing:{width:"0",style:"none",color:"transparent",offset:"0",shadow:"none"},transitionDuration:"{transition.duration}"},list:{padding:"0.25rem 0.25rem",gap:"2px",header:{padding:"0.5rem 1rem 0.25rem 1rem"},option:{padding:"0.5rem 0.75rem",borderRadius:"{border.radius.sm}"},optionGroup:{padding:"0.5rem 0.75rem",fontWeight:"600"}},content:{borderRadius:"{border.radius.md}"},mask:{transitionDuration:"0.15s"},navigation:{list:{padding:"0.25rem 0.25rem",gap:"2px"},item:{padding:"0.5rem 0.75rem",borderRadius:"{border.radius.sm}",gap:"0.5rem"},submenuLabel:{padding:"0.5rem 0.75rem",fontWeight:"600"},submenuIcon:{size:"0.875rem"}},overlay:{select:{borderRadius:"{border.radius.md}",shadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1)"},popover:{borderRadius:"{border.radius.md}",padding:"0.75rem",shadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1)"},modal:{borderRadius:"{border.radius.xl}",padding:"1.25rem",shadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1)"},navigation:{shadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1)"}},colorScheme:{light:{surface:{0:"#ffffff",50:"{slate.50}",100:"{slate.100}",200:"{slate.200}",300:"{slate.300}",400:"{slate.400}",500:"{slate.500}",600:"{slate.600}",700:"{slate.700}",800:"{slate.800}",900:"{slate.900}",950:"{slate.950}"},primary:{color:"{primary.500}",contrastColor:"#ffffff",hoverColor:"{primary.600}",activeColor:"{primary.700}"},highlight:{background:"{primary.50}",focusBackground:"{primary.100}",color:"{primary.700}",focusColor:"{primary.800}"},mask:{background:"rgba(0,0,0,0.4)",color:"{surface.200}"},formField:{background:"{surface.0}",disabledBackground:"{surface.200}",filledBackground:"{surface.50}",filledHoverBackground:"{surface.50}",filledFocusBackground:"{surface.50}",borderColor:"{surface.300}",hoverBorderColor:"{surface.400}",focusBorderColor:"{primary.color}",invalidBorderColor:"{red.400}",color:"{surface.700}",disabledColor:"{surface.500}",placeholderColor:"{surface.500}",invalidPlaceholderColor:"{red.600}",floatLabelColor:"{surface.500}",floatLabelFocusColor:"{primary.600}",floatLabelActiveColor:"{surface.500}",floatLabelInvalidColor:"{form.field.invalid.placeholder.color}",iconColor:"{surface.400}",shadow:"0 0 #0000, 0 0 #0000, 0 1px 2px 0 rgba(18, 18, 23, 0.05)"},text:{color:"{surface.700}",hoverColor:"{surface.800}",mutedColor:"{surface.500}",hoverMutedColor:"{surface.600}"},content:{background:"{surface.0}",hoverBackground:"{surface.100}",borderColor:"{surface.200}",color:"{text.color}",hoverColor:"{text.hover.color}"},overlay:{select:{background:"{surface.0}",borderColor:"{surface.200}",color:"{text.color}"},popover:{background:"{surface.0}",borderColor:"{surface.200}",color:"{text.color}"},modal:{background:"{surface.0}",borderColor:"{surface.200}",color:"{text.color}"}},list:{option:{focusBackground:"{surface.100}",selectedBackground:"{highlight.background}",selectedFocusBackground:"{highlight.focus.background}",color:"{text.color}",focusColor:"{text.hover.color}",selectedColor:"{highlight.color}",selectedFocusColor:"{highlight.focus.color}",icon:{color:"{surface.400}",focusColor:"{surface.500}"}},optionGroup:{background:"transparent",color:"{text.muted.color}"}},navigation:{item:{focusBackground:"{surface.100}",activeBackground:"{surface.100}",color:"{text.color}",focusColor:"{text.hover.color}",activeColor:"{text.hover.color}",icon:{color:"{surface.400}",focusColor:"{surface.500}",activeColor:"{surface.500}"}},submenuLabel:{background:"transparent",color:"{text.muted.color}"},submenuIcon:{color:"{surface.400}",focusColor:"{surface.500}",activeColor:"{surface.500}"}}},dark:{surface:{0:"#ffffff",50:"{zinc.50}",100:"{zinc.100}",200:"{zinc.200}",300:"{zinc.300}",400:"{zinc.400}",500:"{zinc.500}",600:"{zinc.600}",700:"{zinc.700}",800:"{zinc.800}",900:"{zinc.900}",950:"{zinc.950}"},primary:{color:"{primary.400}",contrastColor:"{surface.900}",hoverColor:"{primary.300}",activeColor:"{primary.200}"},highlight:{background:"color-mix(in srgb, {primary.400}, transparent 84%)",focusBackground:"color-mix(in srgb, {primary.400}, transparent 76%)",color:"rgba(255,255,255,.87)",focusColor:"rgba(255,255,255,.87)"},mask:{background:"rgba(0,0,0,0.6)",color:"{surface.200}"},formField:{background:"{surface.950}",disabledBackground:"{surface.700}",filledBackground:"{surface.800}",filledHoverBackground:"{surface.800}",filledFocusBackground:"{surface.800}",borderColor:"{surface.600}",hoverBorderColor:"{surface.500}",focusBorderColor:"{primary.color}",invalidBorderColor:"{red.300}",color:"{surface.0}",disabledColor:"{surface.400}",placeholderColor:"{surface.400}",invalidPlaceholderColor:"{red.400}",floatLabelColor:"{surface.400}",floatLabelFocusColor:"{primary.color}",floatLabelActiveColor:"{surface.400}",floatLabelInvalidColor:"{form.field.invalid.placeholder.color}",iconColor:"{surface.400}",shadow:"0 0 #0000, 0 0 #0000, 0 1px 2px 0 rgba(18, 18, 23, 0.05)"},text:{color:"{surface.0}",hoverColor:"{surface.0}",mutedColor:"{surface.400}",hoverMutedColor:"{surface.300}"},content:{background:"{surface.900}",hoverBackground:"{surface.800}",borderColor:"{surface.700}",color:"{text.color}",hoverColor:"{text.hover.color}"},overlay:{select:{background:"{surface.900}",borderColor:"{surface.700}",color:"{text.color}"},popover:{background:"{surface.900}",borderColor:"{surface.700}",color:"{text.color}"},modal:{background:"{surface.900}",borderColor:"{surface.700}",color:"{text.color}"}},list:{option:{focusBackground:"{surface.800}",selectedBackground:"{highlight.background}",selectedFocusBackground:"{highlight.focus.background}",color:"{text.color}",focusColor:"{text.hover.color}",selectedColor:"{highlight.color}",selectedFocusColor:"{highlight.focus.color}",icon:{color:"{surface.500}",focusColor:"{surface.400}"}},optionGroup:{background:"transparent",color:"{text.muted.color}"}},navigation:{item:{focusBackground:"{surface.800}",activeBackground:"{surface.800}",color:"{text.color}",focusColor:"{text.hover.color}",activeColor:"{text.hover.color}",icon:{color:"{surface.500}",focusColor:"{surface.400}",activeColor:"{surface.400}"}},submenuLabel:{background:"transparent",color:"{text.muted.color}"},submenuIcon:{color:"{surface.500}",focusColor:"{surface.400}",activeColor:"{surface.400}"}}}}}},index$1k={root:{borderRadius:"{content.border.radius}"}},index$1j={root:{padding:"1rem",background:"{content.background}",gap:"0.5rem",transitionDuration:"{transition.duration}"},item:{color:"{text.muted.color}",hoverColor:"{text.color}",borderRadius:"{content.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",hoverColor:"{navigation.item.icon.focus.color}"},focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},separator:{color:"{navigation.item.icon.color}"}},index$1i={root:{borderRadius:"{form.field.border.radius}",roundedBorderRadius:"2rem",gap:"0.5rem",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",iconOnlyWidth:"2.5rem",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"},label:{fontWeight:"500"},raisedShadow:"0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12)",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",offset:"{focus.ring.offset}"},badgeSize:"1rem",transitionDuration:"{form.field.transition.duration}"},colorScheme:{light:{root:{primary:{background:"{primary.color}",hoverBackground:"{primary.hover.color}",activeBackground:"{primary.active.color}",borderColor:"{primary.color}",hoverBorderColor:"{primary.hover.color}",activeBorderColor:"{primary.active.color}",color:"{primary.contrast.color}",hoverColor:"{primary.contrast.color}",activeColor:"{primary.contrast.color}",focusRing:{color:"{primary.color}",shadow:"none"}},secondary:{background:"{surface.100}",hoverBackground:"{surface.200}",activeBackground:"{surface.300}",borderColor:"{surface.100}",hoverBorderColor:"{surface.200}",activeBorderColor:"{surface.300}",color:"{surface.600}",hoverColor:"{surface.700}",activeColor:"{surface.800}",focusRing:{color:"{surface.600}",shadow:"none"}},info:{background:"{sky.500}",hoverBackground:"{sky.600}",activeBackground:"{sky.700}",borderColor:"{sky.500}",hoverBorderColor:"{sky.600}",activeBorderColor:"{sky.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{sky.500}",shadow:"none"}},success:{background:"{green.500}",hoverBackground:"{green.600}",activeBackground:"{green.700}",borderColor:"{green.500}",hoverBorderColor:"{green.600}",activeBorderColor:"{green.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{green.500}",shadow:"none"}},warn:{background:"{orange.500}",hoverBackground:"{orange.600}",activeBackground:"{orange.700}",borderColor:"{orange.500}",hoverBorderColor:"{orange.600}",activeBorderColor:"{orange.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{orange.500}",shadow:"none"}},help:{background:"{purple.500}",hoverBackground:"{purple.600}",activeBackground:"{purple.700}",borderColor:"{purple.500}",hoverBorderColor:"{purple.600}",activeBorderColor:"{purple.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{purple.500}",shadow:"none"}},danger:{background:"{red.500}",hoverBackground:"{red.600}",activeBackground:"{red.700}",borderColor:"{red.500}",hoverBorderColor:"{red.600}",activeBorderColor:"{red.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{red.500}",shadow:"none"}},contrast:{background:"{surface.950}",hoverBackground:"{surface.900}",activeBackground:"{surface.800}",borderColor:"{surface.950}",hoverBorderColor:"{surface.900}",activeBorderColor:"{surface.800}",color:"{surface.0}",hoverColor:"{surface.0}",activeColor:"{surface.0}",focusRing:{color:"{surface.950}",shadow:"none"}}},outlined:{primary:{hoverBackground:"{primary.50}",activeBackground:"{primary.100}",borderColor:"{primary.200}",color:"{primary.color}"},secondary:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",borderColor:"{surface.200}",color:"{surface.500}"},success:{hoverBackground:"{green.50}",activeBackground:"{green.100}",borderColor:"{green.200}",color:"{green.500}"},info:{hoverBackground:"{sky.50}",activeBackground:"{sky.100}",borderColor:"{sky.200}",color:"{sky.500}"},warn:{hoverBackground:"{orange.50}",activeBackground:"{orange.100}",borderColor:"{orange.200}",color:"{orange.500}"},help:{hoverBackground:"{purple.50}",activeBackground:"{purple.100}",borderColor:"{purple.200}",color:"{purple.500}"},danger:{hoverBackground:"{red.50}",activeBackground:"{red.100}",borderColor:"{red.200}",color:"{red.500}"},contrast:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",borderColor:"{surface.700}",color:"{surface.950}"},plain:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",borderColor:"{surface.200}",color:"{surface.700}"}},text:{primary:{hoverBackground:"{primary.50}",activeBackground:"{primary.100}",color:"{primary.color}"},secondary:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",color:"{surface.500}"},success:{hoverBackground:"{green.50}",activeBackground:"{green.100}",color:"{green.500}"},info:{hoverBackground:"{sky.50}",activeBackground:"{sky.100}",color:"{sky.500}"},warn:{hoverBackground:"{orange.50}",activeBackground:"{orange.100}",color:"{orange.500}"},help:{hoverBackground:"{purple.50}",activeBackground:"{purple.100}",color:"{purple.500}"},danger:{hoverBackground:"{red.50}",activeBackground:"{red.100}",color:"{red.500}"},contrast:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",color:"{surface.950}"},plain:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",color:"{surface.700}"}},link:{color:"{primary.color}",hoverColor:"{primary.color}",activeColor:"{primary.color}"}},dark:{root:{primary:{background:"{primary.color}",hoverBackground:"{primary.hover.color}",activeBackground:"{primary.active.color}",borderColor:"{primary.color}",hoverBorderColor:"{primary.hover.color}",activeBorderColor:"{primary.active.color}",color:"{primary.contrast.color}",hoverColor:"{primary.contrast.color}",activeColor:"{primary.contrast.color}",focusRing:{color:"{primary.color}",shadow:"none"}},secondary:{background:"{surface.800}",hoverBackground:"{surface.700}",activeBackground:"{surface.600}",borderColor:"{surface.800}",hoverBorderColor:"{surface.700}",activeBorderColor:"{surface.600}",color:"{surface.300}",hoverColor:"{surface.200}",activeColor:"{surface.100}",focusRing:{color:"{surface.300}",shadow:"none"}},info:{background:"{sky.400}",hoverBackground:"{sky.300}",activeBackground:"{sky.200}",borderColor:"{sky.400}",hoverBorderColor:"{sky.300}",activeBorderColor:"{sky.200}",color:"{sky.950}",hoverColor:"{sky.950}",activeColor:"{sky.950}",focusRing:{color:"{sky.400}",shadow:"none"}},success:{background:"{green.400}",hoverBackground:"{green.300}",activeBackground:"{green.200}",borderColor:"{green.400}",hoverBorderColor:"{green.300}",activeBorderColor:"{green.200}",color:"{green.950}",hoverColor:"{green.950}",activeColor:"{green.950}",focusRing:{color:"{green.400}",shadow:"none"}},warn:{background:"{orange.400}",hoverBackground:"{orange.300}",activeBackground:"{orange.200}",borderColor:"{orange.400}",hoverBorderColor:"{orange.300}",activeBorderColor:"{orange.200}",color:"{orange.950}",hoverColor:"{orange.950}",activeColor:"{orange.950}",focusRing:{color:"{orange.400}",shadow:"none"}},help:{background:"{purple.400}",hoverBackground:"{purple.300}",activeBackground:"{purple.200}",borderColor:"{purple.400}",hoverBorderColor:"{purple.300}",activeBorderColor:"{purple.200}",color:"{purple.950}",hoverColor:"{purple.950}",activeColor:"{purple.950}",focusRing:{color:"{purple.400}",shadow:"none"}},danger:{background:"{red.400}",hoverBackground:"{red.300}",activeBackground:"{red.200}",borderColor:"{red.400}",hoverBorderColor:"{red.300}",activeBorderColor:"{red.200}",color:"{red.950}",hoverColor:"{red.950}",activeColor:"{red.950}",focusRing:{color:"{red.400}",shadow:"none"}},contrast:{background:"{surface.0}",hoverBackground:"{surface.100}",activeBackground:"{surface.200}",borderColor:"{surface.0}",hoverBorderColor:"{surface.100}",activeBorderColor:"{surface.200}",color:"{surface.950}",hoverColor:"{surface.950}",activeColor:"{surface.950}",focusRing:{color:"{surface.0}",shadow:"none"}}},outlined:{primary:{hoverBackground:"color-mix(in srgb, {primary.color}, transparent 96%)",activeBackground:"color-mix(in srgb, {primary.color}, transparent 84%)",borderColor:"{primary.700}",color:"{primary.color}"},secondary:{hoverBackground:"rgba(255,255,255,0.04)",activeBackground:"rgba(255,255,255,0.16)",borderColor:"{surface.700}",color:"{surface.400}"},success:{hoverBackground:"color-mix(in srgb, {green.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {green.400}, transparent 84%)",borderColor:"{green.700}",color:"{green.400}"},info:{hoverBackground:"color-mix(in srgb, {sky.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {sky.400}, transparent 84%)",borderColor:"{sky.700}",color:"{sky.400}"},warn:{hoverBackground:"color-mix(in srgb, {orange.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {orange.400}, transparent 84%)",borderColor:"{orange.700}",color:"{orange.400}"},help:{hoverBackground:"color-mix(in srgb, {purple.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {purple.400}, transparent 84%)",borderColor:"{purple.700}",color:"{purple.400}"},danger:{hoverBackground:"color-mix(in srgb, {red.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {red.400}, transparent 84%)",borderColor:"{red.700}",color:"{red.400}"},contrast:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",borderColor:"{surface.500}",color:"{surface.0}"},plain:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",borderColor:"{surface.600}",color:"{surface.0}"}},text:{primary:{hoverBackground:"color-mix(in srgb, {primary.color}, transparent 96%)",activeBackground:"color-mix(in srgb, {primary.color}, transparent 84%)",color:"{primary.color}"},secondary:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",color:"{surface.400}"},success:{hoverBackground:"color-mix(in srgb, {green.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {green.400}, transparent 84%)",color:"{green.400}"},info:{hoverBackground:"color-mix(in srgb, {sky.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {sky.400}, transparent 84%)",color:"{sky.400}"},warn:{hoverBackground:"color-mix(in srgb, {orange.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {orange.400}, transparent 84%)",color:"{orange.400}"},help:{hoverBackground:"color-mix(in srgb, {purple.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {purple.400}, transparent 84%)",color:"{purple.400}"},danger:{hoverBackground:"color-mix(in srgb, {red.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {red.400}, transparent 84%)",color:"{red.400}"},contrast:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",color:"{surface.0}"},plain:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",color:"{surface.0}"}},link:{color:"{primary.color}",hoverColor:"{primary.color}",activeColor:"{primary.color}"}}}},index$1h={root:{background:"{content.background}",borderRadius:"{border.radius.xl}",color:"{content.color}",shadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px -1px rgba(0, 0, 0, 0.1)"},body:{padding:"1.25rem",gap:"0.5rem"},caption:{gap:"0.5rem"},title:{fontSize:"1.25rem",fontWeight:"500"},subtitle:{color:"{text.muted.color}"}},index$1g={root:{transitionDuration:"{transition.duration}"},content:{gap:"0.25rem"},indicatorList:{padding:"1rem",gap:"0.5rem"},indicator:{width:"2rem",height:"0.5rem",borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},colorScheme:{light:{indicator:{background:"{surface.200}",hoverBackground:"{surface.300}",activeBackground:"{primary.color}"}},dark:{indicator:{background:"{surface.700}",hoverBackground:"{surface.600}",activeBackground:"{primary.color}"}}}},index$1f={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}},dropdown:{width:"2.5rem",color:"{form.field.icon.color}"},overlay:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},list:{padding:"{list.padding}",gap:"{list.gap}",mobileIndent:"1rem"},option:{focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}",icon:{color:"{list.option.icon.color}",focusColor:"{list.option.icon.focus.color}",size:"0.875rem"}},clearIcon:{color:"{form.field.icon.color}"}},index$1e={root:{borderRadius:"{border.radius.sm}",width:"1.25rem",height:"1.25rem",background:"{form.field.background}",checkedBackground:"{primary.color}",checkedHoverBackground:"{primary.hover.color}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.border.color}",checkedBorderColor:"{primary.color}",checkedHoverBorderColor:"{primary.hover.color}",checkedFocusBorderColor:"{primary.color}",checkedDisabledBorderColor:"{form.field.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",shadow:"{form.field.shadow}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{width:"1rem",height:"1rem"},lg:{width:"1.5rem",height:"1.5rem"}},icon:{size:"0.875rem",color:"{form.field.color}",checkedColor:"{primary.contrast.color}",checkedHoverColor:"{primary.contrast.color}",disabledColor:"{form.field.disabled.color}",sm:{size:"0.75rem"},lg:{size:"1rem"}}},index$1d={root:{borderRadius:"16px",paddingX:"0.75rem",paddingY:"0.5rem",gap:"0.5rem",transitionDuration:"{transition.duration}"},image:{width:"2rem",height:"2rem"},icon:{size:"1rem"},removeIcon:{size:"1rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"}},colorScheme:{light:{root:{background:"{surface.100}",color:"{surface.800}"},icon:{color:"{surface.800}"},removeIcon:{color:"{surface.800}"}},dark:{root:{background:"{surface.800}",color:"{surface.0}"},icon:{color:"{surface.0}"},removeIcon:{color:"{surface.0}"}}}},index$1c={root:{transitionDuration:"{transition.duration}"},preview:{width:"1.5rem",height:"1.5rem",borderRadius:"{form.field.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},panel:{shadow:"{overlay.popover.shadow}",borderRadius:"{overlay.popover.borderRadius}"},colorScheme:{light:{panel:{background:"{surface.800}",borderColor:"{surface.900}"},handle:{color:"{surface.0}"}},dark:{panel:{background:"{surface.900}",borderColor:"{surface.700}"},handle:{color:"{surface.0}"}}}},index$1b={icon:{size:"2rem",color:"{overlay.modal.color}"},content:{gap:"1rem"}},index$1a={root:{background:"{overlay.popover.background}",borderColor:"{overlay.popover.border.color}",color:"{overlay.popover.color}",borderRadius:"{overlay.popover.border.radius}",shadow:"{overlay.popover.shadow}",gutter:"10px",arrowOffset:"1.25rem"},content:{padding:"{overlay.popover.padding}",gap:"1rem"},icon:{size:"1.5rem",color:"{overlay.popover.color}"},footer:{gap:"0.5rem",padding:"0 {overlay.popover.padding} {overlay.popover.padding} {overlay.popover.padding}"}},index$19={root:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.navigation.shadow}",transitionDuration:"{transition.duration}"},list:{padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},item:{focusBackground:"{navigation.item.focus.background}",activeBackground:"{navigation.item.active.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",activeColor:"{navigation.item.active.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}",activeColor:"{navigation.item.icon.active.color}"}},submenu:{mobileIndent:"1rem"},submenuIcon:{size:"{navigation.submenu.icon.size}",color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}",activeColor:"{navigation.submenu.icon.active.color}"},separator:{borderColor:"{content.border.color}"}},index$18={root:{transitionDuration:"{transition.duration}"},header:{background:"{content.background}",borderColor:"{datatable.border.color}",color:"{content.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem"},headerCell:{background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",borderColor:"{datatable.border.color}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{highlight.color}",gap:"0.5rem",padding:"0.75rem 1rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},columnTitle:{fontWeight:"600"},row:{background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{highlight.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},bodyCell:{borderColor:"{datatable.border.color}",padding:"0.75rem 1rem"},footerCell:{background:"{content.background}",borderColor:"{datatable.border.color}",color:"{content.color}",padding:"0.75rem 1rem"},columnFooter:{fontWeight:"600"},footer:{background:"{content.background}",borderColor:"{datatable.border.color}",color:"{content.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem"},dropPoint:{color:"{primary.color}"},columnResizerWidth:"0.5rem",resizeIndicator:{width:"1px",color:"{primary.color}"},sortIcon:{color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",size:"0.875rem"},loadingIcon:{size:"2rem"},rowToggleButton:{hoverBackground:"{content.hover.background}",selectedHoverBackground:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.color}",selectedHoverColor:"{primary.color}",size:"1.75rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},filter:{inlineGap:"0.5rem",overlaySelect:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},overlayPopover:{background:"{overlay.popover.background}",borderColor:"{overlay.popover.border.color}",borderRadius:"{overlay.popover.border.radius}",color:"{overlay.popover.color}",shadow:"{overlay.popover.shadow}",padding:"{overlay.popover.padding}",gap:"0.5rem"},rule:{borderColor:"{content.border.color}"},constraintList:{padding:"{list.padding}",gap:"{list.gap}"},constraint:{focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",separator:{borderColor:"{content.border.color}"},padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"}},paginatorTop:{borderColor:"{datatable.border.color}",borderWidth:"0 0 1px 0"},paginatorBottom:{borderColor:"{datatable.border.color}",borderWidth:"0 0 1px 0"},colorScheme:{light:{root:{borderColor:"{content.border.color}"},row:{stripedBackground:"{surface.50}"},bodyCell:{selectedBorderColor:"{primary.100}"}},dark:{root:{borderColor:"{surface.800}"},row:{stripedBackground:"{surface.950}"},bodyCell:{selectedBorderColor:"{primary.900}"}}}},index$17={root:{borderColor:"transparent",borderWidth:"0",borderRadius:"0",padding:"0"},header:{background:"{content.background}",color:"{content.color}",borderColor:"{content.border.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem",borderRadius:"0"},content:{background:"{content.background}",color:"{content.color}",borderColor:"transparent",borderWidth:"0",padding:"0",borderRadius:"0"},footer:{background:"{content.background}",color:"{content.color}",borderColor:"{content.border.color}",borderWidth:"1px 0 0 0",padding:"0.75rem 1rem",borderRadius:"0"},paginatorTop:{borderColor:"{content.border.color}",borderWidth:"0 0 1px 0"},paginatorBottom:{borderColor:"{content.border.color}",borderWidth:"1px 0 0 0"}},index$16={root:{transitionDuration:"{transition.duration}"},panel:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.popover.shadow}",padding:"{overlay.popover.padding}"},header:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",padding:"0 0 0.5rem 0"},title:{gap:"0.5rem",fontWeight:"500"},dropdown:{width:"2.5rem",sm:{width:"2rem"},lg:{width:"3rem"},borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.border.color}",activeBorderColor:"{form.field.border.color}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},inputIcon:{color:"{form.field.icon.color}"},selectMonth:{hoverBackground:"{content.hover.background}",color:"{content.color}",hoverColor:"{content.hover.color}",padding:"0.25rem 0.5rem",borderRadius:"{content.border.radius}"},selectYear:{hoverBackground:"{content.hover.background}",color:"{content.color}",hoverColor:"{content.hover.color}",padding:"0.25rem 0.5rem",borderRadius:"{content.border.radius}"},group:{borderColor:"{content.border.color}",gap:"{overlay.popover.padding}"},dayView:{margin:"0.5rem 0 0 0"},weekDay:{padding:"0.25rem",fontWeight:"500",color:"{content.color}"},date:{hoverBackground:"{content.hover.background}",selectedBackground:"{primary.color}",rangeSelectedBackground:"{highlight.background}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{primary.contrast.color}",rangeSelectedColor:"{highlight.color}",width:"2rem",height:"2rem",borderRadius:"50%",padding:"0.25rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},monthView:{margin:"0.5rem 0 0 0"},month:{padding:"0.375rem",borderRadius:"{content.border.radius}"},yearView:{margin:"0.5rem 0 0 0"},year:{padding:"0.375rem",borderRadius:"{content.border.radius}"},buttonbar:{padding:"0.5rem 0 0 0",borderColor:"{content.border.color}"},timePicker:{padding:"0.5rem 0 0 0",borderColor:"{content.border.color}",gap:"0.5rem",buttonGap:"0.25rem"},colorScheme:{light:{dropdown:{background:"{surface.100}",hoverBackground:"{surface.200}",activeBackground:"{surface.300}",color:"{surface.600}",hoverColor:"{surface.700}",activeColor:"{surface.800}"},today:{background:"{surface.200}",color:"{surface.900}"}},dark:{dropdown:{background:"{surface.800}",hoverBackground:"{surface.700}",activeBackground:"{surface.600}",color:"{surface.300}",hoverColor:"{surface.200}",activeColor:"{surface.100}"},today:{background:"{surface.700}",color:"{surface.0}"}}}},index$15={root:{background:"{overlay.modal.background}",borderColor:"{overlay.modal.border.color}",color:"{overlay.modal.color}",borderRadius:"{overlay.modal.border.radius}",shadow:"{overlay.modal.shadow}"},header:{padding:"{overlay.modal.padding}",gap:"0.5rem"},title:{fontSize:"1.25rem",fontWeight:"600"},content:{padding:"0 {overlay.modal.padding} {overlay.modal.padding} {overlay.modal.padding}"},footer:{padding:"0 {overlay.modal.padding} {overlay.modal.padding} {overlay.modal.padding}",gap:"0.5rem"}},index$14={root:{borderColor:"{content.border.color}"},content:{background:"{content.background}",color:"{text.color}"},horizontal:{margin:"1rem 0",padding:"0 1rem",content:{padding:"0 0.5rem"}},vertical:{margin:"0 1rem",padding:"0.5rem 0",content:{padding:"0.5rem 0"}}},index$13={root:{background:"rgba(255, 255, 255, 0.1)",borderColor:"rgba(255, 255, 255, 0.2)",padding:"0.5rem",borderRadius:"{border.radius.xl}"},item:{borderRadius:"{content.border.radius}",padding:"0.5rem",size:"3rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}}},index$12={root:{background:"{overlay.modal.background}",borderColor:"{overlay.modal.border.color}",color:"{overlay.modal.color}",shadow:"{overlay.modal.shadow}"},header:{padding:"{overlay.modal.padding}"},title:{fontSize:"1.5rem",fontWeight:"600"},content:{padding:"0 {overlay.modal.padding} {overlay.modal.padding} {overlay.modal.padding}"},footer:{padding:"{overlay.modal.padding}"}},index$11={toolbar:{background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}"},toolbarItem:{color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}"},overlay:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}",padding:"{list.padding}"},overlayOption:{focusBackground:"{list.option.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"},content:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}"}},index$10={root:{background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",padding:"0 1.125rem 1.125rem 1.125rem",transitionDuration:"{transition.duration}"},legend:{background:"{content.background}",hoverBackground:"{content.hover.background}",color:"{content.color}",hoverColor:"{content.hover.color}",borderRadius:"{content.border.radius}",borderWidth:"1px",borderColor:"transparent",padding:"0.5rem 0.75rem",gap:"0.5rem",fontWeight:"600",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},toggleIcon:{color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}"},content:{padding:"0"}},index$$={root:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",transitionDuration:"{transition.duration}"},header:{background:"transparent",color:"{text.color}",padding:"1.125rem",borderColor:"unset",borderWidth:"0",borderRadius:"0",gap:"0.5rem"},content:{highlightBorderColor:"{primary.color}",padding:"0 1.125rem 1.125rem 1.125rem",gap:"1rem"},file:{padding:"1rem",gap:"1rem",borderColor:"{content.border.color}",info:{gap:"0.5rem"}},fileList:{gap:"0.5rem"},progressbar:{height:"0.25rem"},basic:{gap:"0.5rem"}},index$_={root:{color:"{form.field.float.label.color}",focusColor:"{form.field.float.label.focus.color}",activeColor:"{form.field.float.label.active.color}",invalidColor:"{form.field.float.label.invalid.color}",transitionDuration:"0.2s",positionX:"{form.field.padding.x}",positionY:"{form.field.padding.y}",fontWeight:"500",active:{fontSize:"0.75rem",fontWeight:"400"}},over:{active:{top:"-1.25rem"}},in:{input:{paddingTop:"1.5rem",paddingBottom:"{form.field.padding.y}"},active:{top:"{form.field.padding.y}"}},on:{borderRadius:"{border.radius.xs}",active:{background:"{form.field.background}",padding:"0 0.125rem"}}},index$Z={root:{borderWidth:"1px",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",transitionDuration:"{transition.duration}"},navButton:{background:"rgba(255, 255, 255, 0.1)",hoverBackground:"rgba(255, 255, 255, 0.2)",color:"{surface.100}",hoverColor:"{surface.0}",size:"3rem",gutter:"0.5rem",prev:{borderRadius:"50%"},next:{borderRadius:"50%"},focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},navIcon:{size:"1.5rem"},thumbnailsContent:{background:"{content.background}",padding:"1rem 0.25rem"},thumbnailNavButton:{size:"2rem",borderRadius:"{content.border.radius}",gutter:"0.5rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},thumbnailNavButtonIcon:{size:"1rem"},caption:{background:"rgba(0, 0, 0, 0.5)",color:"{surface.100}",padding:"1rem"},indicatorList:{gap:"0.5rem",padding:"1rem"},indicatorButton:{width:"1rem",height:"1rem",activeBackground:"{primary.color}",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},insetIndicatorList:{background:"rgba(0, 0, 0, 0.5)"},insetIndicatorButton:{background:"rgba(255, 255, 255, 0.4)",hoverBackground:"rgba(255, 255, 255, 0.6)",activeBackground:"rgba(255, 255, 255, 0.9)"},closeButton:{size:"3rem",gutter:"0.5rem",background:"rgba(255, 255, 255, 0.1)",hoverBackground:"rgba(255, 255, 255, 0.2)",color:"{surface.50}",hoverColor:"{surface.0}",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},closeButtonIcon:{size:"1.5rem"},colorScheme:{light:{thumbnailNavButton:{hoverBackground:"{surface.100}",color:"{surface.600}",hoverColor:"{surface.700}"},indicatorButton:{background:"{surface.200}",hoverBackground:"{surface.300}"}},dark:{thumbnailNavButton:{hoverBackground:"{surface.700}",color:"{surface.400}",hoverColor:"{surface.0}"},indicatorButton:{background:"{surface.700}",hoverBackground:"{surface.600}"}}}},index$Y={icon:{color:"{form.field.icon.color}"}},index$X={root:{color:"{form.field.float.label.color}",focusColor:"{form.field.float.label.focus.color}",invalidColor:"{form.field.float.label.invalid.color}",transitionDuration:"0.2s",positionX:"{form.field.padding.x}",top:"{form.field.padding.y}",fontSize:"0.75rem",fontWeight:"400"},input:{paddingTop:"1.5rem",paddingBottom:"{form.field.padding.y}"}},index$W={root:{transitionDuration:"{transition.duration}"},preview:{icon:{size:"1.5rem"},mask:{background:"{mask.background}",color:"{mask.color}"}},toolbar:{position:{left:"auto",right:"1rem",top:"1rem",bottom:"auto"},blur:"8px",background:"rgba(255,255,255,0.1)",borderColor:"rgba(255,255,255,0.2)",borderWidth:"1px",borderRadius:"30px",padding:".5rem",gap:"0.5rem"},action:{hoverBackground:"rgba(255,255,255,0.1)",color:"{surface.50}",hoverColor:"{surface.0}",size:"3rem",iconSize:"1.5rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}}},index$V={handle:{size:"15px",hoverSize:"30px",background:"rgba(255,255,255,0.3)",hoverBackground:"rgba(255,255,255,0.3)",borderColor:"unset",hoverBorderColor:"unset",borderWidth:"0",borderRadius:"50%",transitionDuration:"{transition.duration}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"rgba(255,255,255,0.3)",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}}},index$U={root:{padding:"{form.field.padding.y} {form.field.padding.x}",borderRadius:"{content.border.radius}",gap:"0.5rem"},text:{fontWeight:"500"},icon:{size:"1rem"},colorScheme:{light:{info:{background:"color-mix(in srgb, {blue.50}, transparent 5%)",borderColor:"{blue.200}",color:"{blue.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)"},success:{background:"color-mix(in srgb, {green.50}, transparent 5%)",borderColor:"{green.200}",color:"{green.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)"},warn:{background:"color-mix(in srgb,{yellow.50}, transparent 5%)",borderColor:"{yellow.200}",color:"{yellow.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)"},error:{background:"color-mix(in srgb, {red.50}, transparent 5%)",borderColor:"{red.200}",color:"{red.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)"},secondary:{background:"{surface.100}",borderColor:"{surface.200}",color:"{surface.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)"},contrast:{background:"{surface.900}",borderColor:"{surface.950}",color:"{surface.50}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)"}},dark:{info:{background:"color-mix(in srgb, {blue.500}, transparent 84%)",borderColor:"color-mix(in srgb, {blue.700}, transparent 64%)",color:"{blue.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)"},success:{background:"color-mix(in srgb, {green.500}, transparent 84%)",borderColor:"color-mix(in srgb, {green.700}, transparent 64%)",color:"{green.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)"},warn:{background:"color-mix(in srgb, {yellow.500}, transparent 84%)",borderColor:"color-mix(in srgb, {yellow.700}, transparent 64%)",color:"{yellow.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)"},error:{background:"color-mix(in srgb, {red.500}, transparent 84%)",borderColor:"color-mix(in srgb, {red.700}, transparent 64%)",color:"{red.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)"},secondary:{background:"{surface.800}",borderColor:"{surface.700}",color:"{surface.300}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)"},contrast:{background:"{surface.0}",borderColor:"{surface.100}",color:"{surface.950}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)"}}}},index$T={root:{padding:"{form.field.padding.y} {form.field.padding.x}",borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},transitionDuration:"{transition.duration}"},display:{hoverBackground:"{content.hover.background}",hoverColor:"{content.hover.color}"}},index$S={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}"},chip:{borderRadius:"{border.radius.sm}"},colorScheme:{light:{chip:{focusBackground:"{surface.200}",color:"{surface.800}"}},dark:{chip:{focusBackground:"{surface.700}",color:"{surface.0}"}}}},index$R={addon:{background:"{form.field.background}",borderColor:"{form.field.border.color}",color:"{form.field.icon.color}",borderRadius:"{form.field.border.radius}",padding:"0.5rem",minWidth:"2.5rem"}},index$Q={root:{transitionDuration:"{transition.duration}"},button:{width:"2.5rem",borderRadius:"{form.field.border.radius}",verticalPadding:"{form.field.padding.y}"},colorScheme:{light:{button:{background:"transparent",hoverBackground:"{surface.100}",activeBackground:"{surface.200}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.border.color}",activeBorderColor:"{form.field.border.color}",color:"{surface.400}",hoverColor:"{surface.500}",activeColor:"{surface.600}"}},dark:{button:{background:"transparent",hoverBackground:"{surface.800}",activeBackground:"{surface.700}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.border.color}",activeBorderColor:"{form.field.border.color}",color:"{surface.400}",hoverColor:"{surface.300}",activeColor:"{surface.200}"}}}},index$P={root:{gap:"0.5rem"},input:{width:"2.5rem",sm:{width:"2rem"},lg:{width:"3rem"}}},index$O={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}}},index$N={root:{transitionDuration:"{transition.duration}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},value:{background:"{primary.color}"},range:{background:"{content.border.color}"},text:{color:"{text.muted.color}"}},index$M={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",borderColor:"{form.field.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",shadow:"{form.field.shadow}",borderRadius:"{form.field.border.radius}",transitionDuration:"{form.field.transition.duration}"},list:{padding:"{list.padding}",gap:"{list.gap}",header:{padding:"{list.header.padding}"}},option:{focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"},optionGroup:{background:"{list.option.group.background}",color:"{list.option.group.color}",fontWeight:"{list.option.group.font.weight}",padding:"{list.option.group.padding}"},checkmark:{color:"{list.option.color}",gutterStart:"-0.375rem",gutterEnd:"0.375rem"},emptyMessage:{padding:"{list.option.padding}"},colorScheme:{light:{option:{stripedBackground:"{surface.50}"}},dark:{option:{stripedBackground:"{surface.900}"}}}},index$L={root:{background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",gap:"0.5rem",verticalOrientation:{padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},horizontalOrientation:{padding:"0.5rem 0.75rem",gap:"0.5rem"},transitionDuration:"{transition.duration}"},baseItem:{borderRadius:"{content.border.radius}",padding:"{navigation.item.padding}"},item:{focusBackground:"{navigation.item.focus.background}",activeBackground:"{navigation.item.active.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",activeColor:"{navigation.item.active.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}",activeColor:"{navigation.item.icon.active.color}"}},overlay:{padding:"0",background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",shadow:"{overlay.navigation.shadow}",gap:"0.5rem"},submenu:{padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},submenuLabel:{padding:"{navigation.submenu.label.padding}",fontWeight:"{navigation.submenu.label.font.weight}",background:"{navigation.submenu.label.background.}",color:"{navigation.submenu.label.color}"},submenuIcon:{size:"{navigation.submenu.icon.size}",color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}",activeColor:"{navigation.submenu.icon.active.color}"},separator:{borderColor:"{content.border.color}"},mobileButton:{borderRadius:"50%",size:"1.75rem",color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",hoverBackground:"{content.hover.background}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}}},index$K={root:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.navigation.shadow}",transitionDuration:"{transition.duration}"},list:{padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},item:{focusBackground:"{navigation.item.focus.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}"}},submenuLabel:{padding:"{navigation.submenu.label.padding}",fontWeight:"{navigation.submenu.label.font.weight}",background:"{navigation.submenu.label.background}",color:"{navigation.submenu.label.color}"},separator:{borderColor:"{content.border.color}"}},index$J={root:{background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",gap:"0.5rem",padding:"0.5rem 0.75rem",transitionDuration:"{transition.duration}"},baseItem:{borderRadius:"{content.border.radius}",padding:"{navigation.item.padding}"},item:{focusBackground:"{navigation.item.focus.background}",activeBackground:"{navigation.item.active.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",activeColor:"{navigation.item.active.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}",activeColor:"{navigation.item.icon.active.color}"}},submenu:{padding:"{navigation.list.padding}",gap:"{navigation.list.gap}",background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.navigation.shadow}",mobileIndent:"1rem",icon:{size:"{navigation.submenu.icon.size}",color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}",activeColor:"{navigation.submenu.icon.active.color}"}},separator:{borderColor:"{content.border.color}"},mobileButton:{borderRadius:"50%",size:"1.75rem",color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",hoverBackground:"{content.hover.background}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}}},index$I={root:{borderRadius:"{content.border.radius}",borderWidth:"1px",transitionDuration:"{transition.duration}"},content:{padding:"0.5rem 0.75rem",gap:"0.5rem",sm:{padding:"0.375rem 0.625rem"},lg:{padding:"0.625rem 0.875rem"}},text:{fontSize:"1rem",fontWeight:"500",sm:{fontSize:"0.875rem"},lg:{fontSize:"1.125rem"}},icon:{size:"1.125rem",sm:{size:"1rem"},lg:{size:"1.25rem"}},closeButton:{width:"1.75rem",height:"1.75rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",offset:"{focus.ring.offset}"}},closeIcon:{size:"1rem",sm:{size:"0.875rem"},lg:{size:"1.125rem"}},outlined:{root:{borderWidth:"1px"}},simple:{content:{padding:"0"}},colorScheme:{light:{info:{background:"color-mix(in srgb, {blue.50}, transparent 5%)",borderColor:"{blue.200}",color:"{blue.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)",closeButton:{hoverBackground:"{blue.100}",focusRing:{color:"{blue.600}",shadow:"none"}},outlined:{color:"{blue.600}",borderColor:"{blue.600}"},simple:{color:"{blue.600}"}},success:{background:"color-mix(in srgb, {green.50}, transparent 5%)",borderColor:"{green.200}",color:"{green.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)",closeButton:{hoverBackground:"{green.100}",focusRing:{color:"{green.600}",shadow:"none"}},outlined:{color:"{green.600}",borderColor:"{green.600}"},simple:{color:"{green.600}"}},warn:{background:"color-mix(in srgb,{yellow.50}, transparent 5%)",borderColor:"{yellow.200}",color:"{yellow.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)",closeButton:{hoverBackground:"{yellow.100}",focusRing:{color:"{yellow.600}",shadow:"none"}},outlined:{color:"{yellow.600}",borderColor:"{yellow.600}"},simple:{color:"{yellow.600}"}},error:{background:"color-mix(in srgb, {red.50}, transparent 5%)",borderColor:"{red.200}",color:"{red.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)",closeButton:{hoverBackground:"{red.100}",focusRing:{color:"{red.600}",shadow:"none"}},outlined:{color:"{red.600}",borderColor:"{red.600}"},simple:{color:"{red.600}"}},secondary:{background:"{surface.100}",borderColor:"{surface.200}",color:"{surface.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)",closeButton:{hoverBackground:"{surface.200}",focusRing:{color:"{surface.600}",shadow:"none"}},outlined:{color:"{surface.500}",borderColor:"{surface.500}"},simple:{color:"{surface.500}"}},contrast:{background:"{surface.900}",borderColor:"{surface.950}",color:"{surface.50}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)",closeButton:{hoverBackground:"{surface.800}",focusRing:{color:"{surface.50}",shadow:"none"}},outlined:{color:"{surface.950}",borderColor:"{surface.950}"},simple:{color:"{surface.950}"}}},dark:{info:{background:"color-mix(in srgb, {blue.500}, transparent 84%)",borderColor:"color-mix(in srgb, {blue.700}, transparent 64%)",color:"{blue.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{blue.500}",shadow:"none"}},outlined:{color:"{blue.500}",borderColor:"{blue.500}"},simple:{color:"{blue.500}"}},success:{background:"color-mix(in srgb, {green.500}, transparent 84%)",borderColor:"color-mix(in srgb, {green.700}, transparent 64%)",color:"{green.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{green.500}",shadow:"none"}},outlined:{color:"{green.500}",borderColor:"{green.500}"},simple:{color:"{green.500}"}},warn:{background:"color-mix(in srgb, {yellow.500}, transparent 84%)",borderColor:"color-mix(in srgb, {yellow.700}, transparent 64%)",color:"{yellow.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{yellow.500}",shadow:"none"}},outlined:{color:"{yellow.500}",borderColor:"{yellow.500}"},simple:{color:"{yellow.500}"}},error:{background:"color-mix(in srgb, {red.500}, transparent 84%)",borderColor:"color-mix(in srgb, {red.700}, transparent 64%)",color:"{red.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{red.500}",shadow:"none"}},outlined:{color:"{red.500}",borderColor:"{red.500}"},simple:{color:"{red.500}"}},secondary:{background:"{surface.800}",borderColor:"{surface.700}",color:"{surface.300}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)",closeButton:{hoverBackground:"{surface.700}",focusRing:{color:"{surface.300}",shadow:"none"}},outlined:{color:"{surface.400}",borderColor:"{surface.400}"},simple:{color:"{surface.400}"}},contrast:{background:"{surface.0}",borderColor:"{surface.100}",color:"{surface.950}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)",closeButton:{hoverBackground:"{surface.100}",focusRing:{color:"{surface.950}",shadow:"none"}},outlined:{color:"{surface.0}",borderColor:"{surface.0}"},simple:{color:"{surface.0}"}}}}},index$H={root:{borderRadius:"{content.border.radius}",gap:"1rem"},meters:{background:"{content.border.color}",size:"0.5rem"},label:{gap:"0.5rem"},labelMarker:{size:"0.5rem"},labelIcon:{size:"1rem"},labelList:{verticalGap:"0.5rem",horizontalGap:"1rem"}},index$G={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}},dropdown:{width:"2.5rem",color:"{form.field.icon.color}"},overlay:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},list:{padding:"{list.padding}",gap:"{list.gap}",header:{padding:"{list.header.padding}"}},option:{focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}",gap:"0.5rem"},optionGroup:{background:"{list.option.group.background}",color:"{list.option.group.color}",fontWeight:"{list.option.group.font.weight}",padding:"{list.option.group.padding}"},clearIcon:{color:"{form.field.icon.color}"},chip:{borderRadius:"{border.radius.sm}"},emptyMessage:{padding:"{list.option.padding}"}},index$F={root:{gap:"1.125rem"},controls:{gap:"0.5rem"}},index$E={root:{gutter:"0.75rem",transitionDuration:"{transition.duration}"},node:{background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",borderColor:"{content.border.color}",color:"{content.color}",selectedColor:"{highlight.color}",hoverColor:"{content.hover.color}",padding:"0.75rem 1rem",toggleablePadding:"0.75rem 1rem 1.25rem 1rem",borderRadius:"{content.border.radius}"},nodeToggleButton:{background:"{content.background}",hoverBackground:"{content.hover.background}",borderColor:"{content.border.color}",color:"{text.muted.color}",hoverColor:"{text.color}",size:"1.5rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},connector:{color:"{content.border.color}",borderRadius:"{content.border.radius}",height:"24px"}},index$D={root:{outline:{width:"2px",color:"{content.background}"}}},index$C={root:{padding:"0.5rem 1rem",gap:"0.25rem",borderRadius:"{content.border.radius}",background:"{content.background}",color:"{content.color}",transitionDuration:"{transition.duration}"},navButton:{background:"transparent",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",selectedColor:"{highlight.color}",width:"2.5rem",height:"2.5rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},currentPageReport:{color:"{text.muted.color}"},jumpToPageInput:{maxWidth:"2.5rem"}},index$B={root:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}"},header:{background:"transparent",color:"{text.color}",padding:"1.125rem",borderColor:"{content.border.color}",borderWidth:"0",borderRadius:"0"},toggleableHeader:{padding:"0.375rem 1.125rem"},title:{fontWeight:"600"},content:{padding:"0 1.125rem 1.125rem 1.125rem"},footer:{padding:"0 1.125rem 1.125rem 1.125rem"}},index$A={root:{gap:"0.5rem",transitionDuration:"{transition.duration}"},panel:{background:"{content.background}",borderColor:"{content.border.color}",borderWidth:"1px",color:"{content.color}",padding:"0.25rem 0.25rem",borderRadius:"{content.border.radius}",first:{borderWidth:"1px",topBorderRadius:"{content.border.radius}"},last:{borderWidth:"1px",bottomBorderRadius:"{content.border.radius}"}},item:{focusBackground:"{navigation.item.focus.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",gap:"0.5rem",padding:"{navigation.item.padding}",borderRadius:"{content.border.radius}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}"}},submenu:{indent:"1rem"},submenuIcon:{color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}"}},index$z={meter:{background:"{content.border.color}",borderRadius:"{content.border.radius}",height:".75rem"},icon:{color:"{form.field.icon.color}"},overlay:{background:"{overlay.popover.background}",borderColor:"{overlay.popover.border.color}",borderRadius:"{overlay.popover.border.radius}",color:"{overlay.popover.color}",padding:"{overlay.popover.padding}",shadow:"{overlay.popover.shadow}"},content:{gap:"0.5rem"},colorScheme:{light:{strength:{weakBackground:"{red.500}",mediumBackground:"{amber.500}",strongBackground:"{green.500}"}},dark:{strength:{weakBackground:"{red.400}",mediumBackground:"{amber.400}",strongBackground:"{green.400}"}}}},index$y={root:{gap:"1.125rem"},controls:{gap:"0.5rem"}},index$x={root:{background:"{overlay.popover.background}",borderColor:"{overlay.popover.border.color}",color:"{overlay.popover.color}",borderRadius:"{overlay.popover.border.radius}",shadow:"{overlay.popover.shadow}",gutter:"10px",arrowOffset:"1.25rem"},content:{padding:"{overlay.popover.padding}"}},index$w={root:{background:"{content.border.color}",borderRadius:"{content.border.radius}",height:"1.25rem"},value:{background:"{primary.color}"},label:{color:"{primary.contrast.color}",fontSize:"0.75rem",fontWeight:"600"}},index$v={colorScheme:{light:{root:{"color.1":"{red.500}","color.2":"{blue.500}","color.3":"{green.500}","color.4":"{yellow.500}"}},dark:{root:{"color.1":"{red.400}","color.2":"{blue.400}","color.3":"{green.400}","color.4":"{yellow.400}"}}}},index$u={root:{width:"1.25rem",height:"1.25rem",background:"{form.field.background}",checkedBackground:"{primary.color}",checkedHoverBackground:"{primary.hover.color}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.border.color}",checkedBorderColor:"{primary.color}",checkedHoverBorderColor:"{primary.hover.color}",checkedFocusBorderColor:"{primary.color}",checkedDisabledBorderColor:"{form.field.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",shadow:"{form.field.shadow}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{width:"1rem",height:"1rem"},lg:{width:"1.5rem",height:"1.5rem"}},icon:{size:"0.75rem",checkedColor:"{primary.contrast.color}",checkedHoverColor:"{primary.contrast.color}",disabledColor:"{form.field.disabled.color}",sm:{size:"0.5rem"},lg:{size:"1rem"}}},index$t={root:{gap:"0.25rem",transitionDuration:"{transition.duration}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},icon:{size:"1rem",color:"{text.muted.color}",hoverColor:"{primary.color}",activeColor:"{primary.color}"}},index$s={colorScheme:{light:{root:{background:"rgba(0,0,0,0.1)"}},dark:{root:{background:"rgba(255,255,255,0.3)"}}}},index$r={root:{transitionDuration:"{transition.duration}"},bar:{size:"9px",borderRadius:"{border.radius.sm}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},colorScheme:{light:{bar:{background:"{surface.100}"}},dark:{bar:{background:"{surface.800}"}}}},index$q={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}},dropdown:{width:"2.5rem",color:"{form.field.icon.color}"},overlay:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},list:{padding:"{list.padding}",gap:"{list.gap}",header:{padding:"{list.header.padding}"}},option:{focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"},optionGroup:{background:"{list.option.group.background}",color:"{list.option.group.color}",fontWeight:"{list.option.group.font.weight}",padding:"{list.option.group.padding}"},clearIcon:{color:"{form.field.icon.color}"},checkmark:{color:"{list.option.color}",gutterStart:"-0.375rem",gutterEnd:"0.375rem"},emptyMessage:{padding:"{list.option.padding}"}},index$p={root:{borderRadius:"{form.field.border.radius}"},colorScheme:{light:{root:{invalidBorderColor:"{form.field.invalid.border.color}"}},dark:{root:{invalidBorderColor:"{form.field.invalid.border.color}"}}}},index$o={root:{borderRadius:"{content.border.radius}"},colorScheme:{light:{root:{background:"{surface.200}",animationBackground:"rgba(255,255,255,0.4)"}},dark:{root:{background:"rgba(255, 255, 255, 0.06)",animationBackground:"rgba(255, 255, 255, 0.04)"}}}},index$n={root:{transitionDuration:"{transition.duration}"},track:{background:"{content.border.color}",borderRadius:"{content.border.radius}",size:"3px"},range:{background:"{primary.color}"},handle:{width:"20px",height:"20px",borderRadius:"50%",background:"{content.border.color}",hoverBackground:"{content.border.color}",content:{borderRadius:"50%",hoverBackground:"{content.background}",width:"16px",height:"16px",shadow:"0px 0.5px 0px 0px rgba(0, 0, 0, 0.08), 0px 1px 1px 0px rgba(0, 0, 0, 0.14)"},focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},colorScheme:{light:{handle:{contentBackground:"{surface.0}"}},dark:{handle:{contentBackground:"{surface.950}"}}}},index$m={root:{gap:"0.5rem",transitionDuration:"{transition.duration}"}},index$l={root:{borderRadius:"{form.field.border.radius}",roundedBorderRadius:"2rem",raisedShadow:"0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12)"}},index$k={root:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",transitionDuration:"{transition.duration}"},gutter:{background:"{content.border.color}"},handle:{size:"24px",background:"transparent",borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}}},index$j={root:{transitionDuration:"{transition.duration}"},separator:{background:"{content.border.color}",activeBackground:"{primary.color}",margin:"0 0 0 1.625rem",size:"2px"},step:{padding:"0.5rem",gap:"1rem"},stepHeader:{padding:"0",borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},gap:"0.5rem"},stepTitle:{color:"{text.muted.color}",activeColor:"{primary.color}",fontWeight:"500"},stepNumber:{background:"{content.background}",activeBackground:"{content.background}",borderColor:"{content.border.color}",activeBorderColor:"{content.border.color}",color:"{text.muted.color}",activeColor:"{primary.color}",size:"2rem",fontSize:"1.143rem",fontWeight:"500",borderRadius:"50%",shadow:"0px 0.5px 0px 0px rgba(0, 0, 0, 0.06), 0px 1px 1px 0px rgba(0, 0, 0, 0.12)"},steppanels:{padding:"0.875rem 0.5rem 1.125rem 0.5rem"},steppanel:{background:"{content.background}",color:"{content.color}",padding:"0",indent:"1rem"}},index$i={root:{transitionDuration:"{transition.duration}"},separator:{background:"{content.border.color}"},itemLink:{borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},gap:"0.5rem"},itemLabel:{color:"{text.muted.color}",activeColor:"{primary.color}",fontWeight:"500"},itemNumber:{background:"{content.background}",activeBackground:"{content.background}",borderColor:"{content.border.color}",activeBorderColor:"{content.border.color}",color:"{text.muted.color}",activeColor:"{primary.color}",size:"2rem",fontSize:"1.143rem",fontWeight:"500",borderRadius:"50%",shadow:"0px 0.5px 0px 0px rgba(0, 0, 0, 0.06), 0px 1px 1px 0px rgba(0, 0, 0, 0.12)"}},index$h={root:{transitionDuration:"{transition.duration}"},tablist:{borderWidth:"0 0 1px 0",background:"{content.background}",borderColor:"{content.border.color}"},item:{background:"transparent",hoverBackground:"transparent",activeBackground:"transparent",borderWidth:"0 0 1px 0",borderColor:"{content.border.color}",hoverBorderColor:"{content.border.color}",activeBorderColor:"{primary.color}",color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}",padding:"1rem 1.125rem",fontWeight:"600",margin:"0 0 -1px 0",gap:"0.5rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},itemIcon:{color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}"},activeBar:{height:"1px",bottom:"-1px",background:"{primary.color}"}},index$g={root:{transitionDuration:"{transition.duration}"},tablist:{borderWidth:"0 0 1px 0",background:"{content.background}",borderColor:"{content.border.color}"},tab:{background:"transparent",hoverBackground:"transparent",activeBackground:"transparent",borderWidth:"0 0 1px 0",borderColor:"{content.border.color}",hoverBorderColor:"{content.border.color}",activeBorderColor:"{primary.color}",color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}",padding:"1rem 1.125rem",fontWeight:"600",margin:"0 0 -1px 0",gap:"0.5rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},tabpanel:{background:"{content.background}",color:"{content.color}",padding:"0.875rem 1.125rem 1.125rem 1.125rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"inset {focus.ring.shadow}"}},navButton:{background:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.color}",width:"2.5rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},activeBar:{height:"1px",bottom:"-1px",background:"{primary.color}"},colorScheme:{light:{navButton:{shadow:"0px 0px 10px 50px rgba(255, 255, 255, 0.6)"}},dark:{navButton:{shadow:"0px 0px 10px 50px color-mix(in srgb, {content.background}, transparent 50%)"}}}},index$f={root:{transitionDuration:"{transition.duration}"},tabList:{background:"{content.background}",borderColor:"{content.border.color}"},tab:{borderColor:"{content.border.color}",activeBorderColor:"{primary.color}",color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}"},tabPanel:{background:"{content.background}",color:"{content.color}"},navButton:{background:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.color}"},colorScheme:{light:{navButton:{shadow:"0px 0px 10px 50px rgba(255, 255, 255, 0.6)"}},dark:{navButton:{shadow:"0px 0px 10px 50px color-mix(in srgb, {content.background}, transparent 50%)"}}}},index$e={root:{fontSize:"0.875rem",fontWeight:"700",padding:"0.25rem 0.5rem",gap:"0.25rem",borderRadius:"{content.border.radius}",roundedBorderRadius:"{border.radius.xl}"},icon:{size:"0.75rem"},colorScheme:{light:{primary:{background:"{primary.100}",color:"{primary.700}"},secondary:{background:"{surface.100}",color:"{surface.600}"},success:{background:"{green.100}",color:"{green.700}"},info:{background:"{sky.100}",color:"{sky.700}"},warn:{background:"{orange.100}",color:"{orange.700}"},danger:{background:"{red.100}",color:"{red.700}"},contrast:{background:"{surface.950}",color:"{surface.0}"}},dark:{primary:{background:"color-mix(in srgb, {primary.500}, transparent 84%)",color:"{primary.300}"},secondary:{background:"{surface.800}",color:"{surface.300}"},success:{background:"color-mix(in srgb, {green.500}, transparent 84%)",color:"{green.300}"},info:{background:"color-mix(in srgb, {sky.500}, transparent 84%)",color:"{sky.300}"},warn:{background:"color-mix(in srgb, {orange.500}, transparent 84%)",color:"{orange.300}"},danger:{background:"color-mix(in srgb, {red.500}, transparent 84%)",color:"{red.300}"},contrast:{background:"{surface.0}",color:"{surface.950}"}}}},index$d={root:{background:"{form.field.background}",borderColor:"{form.field.border.color}",color:"{form.field.color}",height:"18rem",padding:"{form.field.padding.y} {form.field.padding.x}",borderRadius:"{form.field.border.radius}"},prompt:{gap:"0.25rem"},commandResponse:{margin:"2px 0"}},index$c={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}}},index$b={root:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.navigation.shadow}",transitionDuration:"{transition.duration}"},list:{padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},item:{focusBackground:"{navigation.item.focus.background}",activeBackground:"{navigation.item.active.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",activeColor:"{navigation.item.active.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}",activeColor:"{navigation.item.icon.active.color}"}},submenu:{mobileIndent:"1rem"},submenuIcon:{size:"{navigation.submenu.icon.size}",color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}",activeColor:"{navigation.submenu.icon.active.color}"},separator:{borderColor:"{content.border.color}"}},index$a={event:{minHeight:"5rem"},horizontal:{eventContent:{padding:"1rem 0"}},vertical:{eventContent:{padding:"0 1rem"}},eventMarker:{size:"1.125rem",borderRadius:"50%",borderWidth:"2px",background:"{content.background}",borderColor:"{content.border.color}",content:{borderRadius:"50%",size:"0.375rem",background:"{primary.color}",insetShadow:"0px 0.5px 0px 0px rgba(0, 0, 0, 0.06), 0px 1px 1px 0px rgba(0, 0, 0, 0.12)"}},eventConnector:{color:"{content.border.color}",size:"2px"}},index$9={root:{width:"25rem",borderRadius:"{content.border.radius}",borderWidth:"1px",transitionDuration:"{transition.duration}"},icon:{size:"1.125rem"},content:{padding:"{overlay.popover.padding}",gap:"0.5rem"},text:{gap:"0.5rem"},summary:{fontWeight:"500",fontSize:"1rem"},detail:{fontWeight:"500",fontSize:"0.875rem"},closeButton:{width:"1.75rem",height:"1.75rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",offset:"{focus.ring.offset}"}},closeIcon:{size:"1rem"},colorScheme:{light:{blur:"1.5px",info:{background:"color-mix(in srgb, {blue.50}, transparent 5%)",borderColor:"{blue.200}",color:"{blue.600}",detailColor:"{surface.700}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)",closeButton:{hoverBackground:"{blue.100}",focusRing:{color:"{blue.600}",shadow:"none"}}},success:{background:"color-mix(in srgb, {green.50}, transparent 5%)",borderColor:"{green.200}",color:"{green.600}",detailColor:"{surface.700}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)",closeButton:{hoverBackground:"{green.100}",focusRing:{color:"{green.600}",shadow:"none"}}},warn:{background:"color-mix(in srgb,{yellow.50}, transparent 5%)",borderColor:"{yellow.200}",color:"{yellow.600}",detailColor:"{surface.700}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)",closeButton:{hoverBackground:"{yellow.100}",focusRing:{color:"{yellow.600}",shadow:"none"}}},error:{background:"color-mix(in srgb, {red.50}, transparent 5%)",borderColor:"{red.200}",color:"{red.600}",detailColor:"{surface.700}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)",closeButton:{hoverBackground:"{red.100}",focusRing:{color:"{red.600}",shadow:"none"}}},secondary:{background:"{surface.100}",borderColor:"{surface.200}",color:"{surface.600}",detailColor:"{surface.700}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)",closeButton:{hoverBackground:"{surface.200}",focusRing:{color:"{surface.600}",shadow:"none"}}},contrast:{background:"{surface.900}",borderColor:"{surface.950}",color:"{surface.50}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)",closeButton:{hoverBackground:"{surface.800}",focusRing:{color:"{surface.50}",shadow:"none"}}}},dark:{blur:"10px",info:{background:"color-mix(in srgb, {blue.500}, transparent 84%)",borderColor:"color-mix(in srgb, {blue.700}, transparent 64%)",color:"{blue.500}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{blue.500}",shadow:"none"}}},success:{background:"color-mix(in srgb, {green.500}, transparent 84%)",borderColor:"color-mix(in srgb, {green.700}, transparent 64%)",color:"{green.500}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{green.500}",shadow:"none"}}},warn:{background:"color-mix(in srgb, {yellow.500}, transparent 84%)",borderColor:"color-mix(in srgb, {yellow.700}, transparent 64%)",color:"{yellow.500}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{yellow.500}",shadow:"none"}}},error:{background:"color-mix(in srgb, {red.500}, transparent 84%)",borderColor:"color-mix(in srgb, {red.700}, transparent 64%)",color:"{red.500}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{red.500}",shadow:"none"}}},secondary:{background:"{surface.800}",borderColor:"{surface.700}",color:"{surface.300}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)",closeButton:{hoverBackground:"{surface.700}",focusRing:{color:"{surface.300}",shadow:"none"}}},contrast:{background:"{surface.0}",borderColor:"{surface.100}",color:"{surface.950}",detailColor:"{surface.950}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)",closeButton:{hoverBackground:"{surface.100}",focusRing:{color:"{surface.950}",shadow:"none"}}}}}},index$8={root:{padding:"0.5rem 1rem",borderRadius:"{content.border.radius}",gap:"0.5rem",fontWeight:"500",disabledBackground:"{form.field.disabled.background}",disabledBorderColor:"{form.field.disabled.background}",disabledColor:"{form.field.disabled.color}",invalidBorderColor:"{form.field.invalid.border.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",padding:"0.375rem 0.75rem"},lg:{fontSize:"{form.field.lg.font.size}",padding:"0.625rem 1.25rem"}},icon:{disabledColor:"{form.field.disabled.color}"},content:{left:"0.25rem",top:"0.25rem",checkedShadow:"0px 1px 2px 0px rgba(0, 0, 0, 0.02), 0px 1px 2px 0px rgba(0, 0, 0, 0.04)"},colorScheme:{light:{root:{background:"{surface.100}",checkedBackground:"{surface.100}",hoverBackground:"{surface.100}",borderColor:"{surface.100}",color:"{surface.500}",hoverColor:"{surface.700}",checkedColor:"{surface.900}",checkedBorderColor:"{surface.100}"},content:{checkedBackground:"{surface.0}"},icon:{color:"{surface.500}",hoverColor:"{surface.700}",checkedColor:"{surface.900}"}},dark:{root:{background:"{surface.950}",checkedBackground:"{surface.950}",hoverBackground:"{surface.950}",borderColor:"{surface.950}",color:"{surface.400}",hoverColor:"{surface.300}",checkedColor:"{surface.0}",checkedBorderColor:"{surface.950}"},content:{checkedBackground:"{surface.800}"},icon:{color:"{surface.400}",hoverColor:"{surface.300}",checkedColor:"{surface.0}"}}}},index$7={root:{width:"2.5rem",height:"1.5rem",borderRadius:"30px",gap:"0.25rem",shadow:"{form.field.shadow}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},borderWidth:"1px",borderColor:"transparent",hoverBorderColor:"transparent",checkedBorderColor:"transparent",checkedHoverBorderColor:"transparent",invalidBorderColor:"{form.field.invalid.border.color}",transitionDuration:"{form.field.transition.duration}",slideDuration:"0.2s"},handle:{borderRadius:"50%",size:"1rem"},colorScheme:{light:{root:{background:"{surface.300}",disabledBackground:"{form.field.disabled.background}",hoverBackground:"{surface.400}",checkedBackground:"{primary.color}",checkedHoverBackground:"{primary.hover.color}"},handle:{background:"{surface.0}",disabledBackground:"{form.field.disabled.color}",hoverBackground:"{surface.0}",checkedBackground:"{surface.0}",checkedHoverBackground:"{surface.0}",color:"{text.muted.color}",hoverColor:"{text.color}",checkedColor:"{primary.color}",checkedHoverColor:"{primary.hover.color}"}},dark:{root:{background:"{surface.700}",disabledBackground:"{surface.600}",hoverBackground:"{surface.600}",checkedBackground:"{primary.color}",checkedHoverBackground:"{primary.hover.color}"},handle:{background:"{surface.400}",disabledBackground:"{surface.900}",hoverBackground:"{surface.300}",checkedBackground:"{surface.900}",checkedHoverBackground:"{surface.900}",color:"{surface.900}",hoverColor:"{surface.800}",checkedColor:"{primary.color}",checkedHoverColor:"{primary.hover.color}"}}}},index$6={root:{background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",gap:"0.5rem",padding:"0.75rem"}},index$5={root:{maxWidth:"12.5rem",gutter:"0.25rem",shadow:"{overlay.popover.shadow}",padding:"0.5rem 0.75rem",borderRadius:"{overlay.popover.border.radius}"},colorScheme:{light:{root:{background:"{surface.700}",color:"{surface.0}"}},dark:{root:{background:"{surface.700}",color:"{surface.0}"}}}},index$4={root:{background:"{content.background}",color:"{content.color}",padding:"1rem",gap:"2px",indent:"1rem",transitionDuration:"{transition.duration}"},node:{padding:"0.25rem 0.5rem",borderRadius:"{content.border.radius}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",color:"{text.color}",hoverColor:"{text.hover.color}",selectedColor:"{highlight.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"},gap:"0.25rem"},nodeIcon:{color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",selectedColor:"{highlight.color}"},nodeToggleButton:{borderRadius:"50%",size:"1.75rem",hoverBackground:"{content.hover.background}",selectedHoverBackground:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",selectedHoverColor:"{primary.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},loadingIcon:{size:"2rem"},filter:{margin:"0 0 0.5rem 0"}},index$3={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}},dropdown:{width:"2.5rem",color:"{form.field.icon.color}"},overlay:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},tree:{padding:"{list.padding}"},clearIcon:{color:"{form.field.icon.color}"},emptyMessage:{padding:"{list.option.padding}"},chip:{borderRadius:"{border.radius.sm}"}},index$2={root:{transitionDuration:"{transition.duration}"},header:{background:"{content.background}",borderColor:"{treetable.border.color}",color:"{content.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem"},headerCell:{background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",borderColor:"{treetable.border.color}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{highlight.color}",gap:"0.5rem",padding:"0.75rem 1rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},columnTitle:{fontWeight:"600"},row:{background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{highlight.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},bodyCell:{borderColor:"{treetable.border.color}",padding:"0.75rem 1rem",gap:"0.5rem"},footerCell:{background:"{content.background}",borderColor:"{treetable.border.color}",color:"{content.color}",padding:"0.75rem 1rem"},columnFooter:{fontWeight:"600"},footer:{background:"{content.background}",borderColor:"{treetable.border.color}",color:"{content.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem"},columnResizerWidth:"0.5rem",resizeIndicator:{width:"1px",color:"{primary.color}"},sortIcon:{color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",size:"0.875rem"},loadingIcon:{size:"2rem"},nodeToggleButton:{hoverBackground:"{content.hover.background}",selectedHoverBackground:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.color}",selectedHoverColor:"{primary.color}",size:"1.75rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},paginatorTop:{borderColor:"{content.border.color}",borderWidth:"0 0 1px 0"},paginatorBottom:{borderColor:"{content.border.color}",borderWidth:"0 0 1px 0"},colorScheme:{light:{root:{borderColor:"{content.border.color}"},bodyCell:{selectedBorderColor:"{primary.100}"}},dark:{root:{borderColor:"{surface.800}"},bodyCell:{selectedBorderColor:"{primary.900}"}}}},index$1={loader:{mask:{background:"{content.background}",color:"{text.muted.color}"},icon:{size:"2rem"}}};function _typeof(e){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(e)}function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,o)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach(function(o){_defineProperty(e,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))})}return e}function _defineProperty(e,t,r){return(t=_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return _typeof(t)=="symbol"?t:t+""}function _toPrimitive(e,t){if(_typeof(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var o=r.call(e,t||"default");if(_typeof(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var index=_objectSpread(_objectSpread({},index$1l),{},{components:{accordion:index$1p,autocomplete:index$1o,avatar:index$1n,badge:index$1m,blockui:index$1k,breadcrumb:index$1j,button:index$1i,datepicker:index$16,card:index$1h,carousel:index$1g,cascadeselect:index$1f,checkbox:index$1e,chip:index$1d,colorpicker:index$1c,confirmdialog:index$1b,confirmpopup:index$1a,contextmenu:index$19,dataview:index$17,datatable:index$18,dialog:index$15,divider:index$14,dock:index$13,drawer:index$12,editor:index$11,fieldset:index$10,fileupload:index$$,iftalabel:index$X,floatlabel:index$_,galleria:index$Z,iconfield:index$Y,image:index$W,imagecompare:index$V,inlinemessage:index$U,inplace:index$T,inputchips:index$S,inputgroup:index$R,inputnumber:index$Q,inputotp:index$P,inputtext:index$O,knob:index$N,listbox:index$M,megamenu:index$L,menu:index$K,menubar:index$J,message:index$I,metergroup:index$H,multiselect:index$G,orderlist:index$F,organizationchart:index$E,overlaybadge:index$D,popover:index$x,paginator:index$C,password:index$z,panel:index$B,panelmenu:index$A,picklist:index$y,progressbar:index$w,progressspinner:index$v,radiobutton:index$u,rating:index$t,scrollpanel:index$r,select:index$q,selectbutton:index$p,skeleton:index$o,slider:index$n,speeddial:index$m,splitter:index$k,splitbutton:index$l,stepper:index$j,steps:index$i,tabmenu:index$h,tabs:index$g,tabview:index$f,textarea:index$c,tieredmenu:index$b,tag:index$e,terminal:index$d,timeline:index$a,togglebutton:index$8,toggleswitch:index$7,tree:index$4,treeselect:index$3,treetable:index$2,toast:index$9,toolbar:index$6,virtualscroller:index$1},directives:{tooltip:index$5,ripple:index$s}});const IndigoThemePreset=definePreset(index,{semantic:{primary:{50:"{indigo.50}",100:"{indigo.100}",200:"{indigo.200}",300:"{indigo.300}",400:"{indigo.400}",500:"{indigo.500}",600:"{indigo.600}",700:"{indigo.700}",800:"{indigo.800}",900:"{indigo.900}",950:"{indigo.950}"}}}),NotFoundView=defineComponent({name:"NotFoundView",setup(){const e=useRouter();return()=>h("div",{class:"container"},[h("div",{class:["my-4rem"]}),h(script$3,{header:"404",toggleable:!0,class:"my-3"},{default:()=>[h("div",{class:["flex flex-row flex-items-center flex-wrap gap-2 flex-content-around flex-justify-around"]},[h(script$4,{label:"go app",onClick:()=>{e.push({name:"app"})}}),h(script$4,{label:"go home",onClick:()=>{e.push({name:"home"})}}),h(script$4,{label:"go root",onClick:()=>{e.push({name:"root"})}})])]})])}}),APP_NAME="JS AI",AppView=defineComponent({name:"AppView",setup(){const{locale:e}=useI18n({useScope:"global"});console.log({i18nLocale:e.value});const t=useDarkModeStore(),{toggle:r}=t,{isOn:o}=storeToRefs(t),n=useSystemSettingsStore(),{setLocale:a}=n,{availableLocales:s,locale:i}=storeToRefs(n),u=ref([{label:"",name:"app-config",icon:"pi pi-cog"},{label:"Function Test",name:"app-func-test",icon:"pi pi-wrench"},{label:"Chat Test",name:"app-chat-test",icon:"pi pi-comments"},{label:"Tool Test",name:"app-tool-test",icon:"pi pi-hammer"},{label:"",name:"app-notes",icon:"pi pi-clipboard"}]),l=ref(u.value[0].label),m=useRouter(),f=useRoute();return watch(()=>f.name,()=>{l.value=`${String(f.name??"")}`},{immediate:!0}),()=>{var E,c,p;return h("div",{class:["--bg-var-p-zinc-800 overflow-auto","md:px-0.5rem md:py-0.75rem h-100dvh w-100dvw","stack-v"]},[h(script$5,{class:["md:max-w-768px md:mx-auto w-100%","border-none! bg-transparent!"],breakpoint:"0px",model:[((E=window==null?void 0:window.location)==null?void 0:E.hostname)!="localhost"?null:{label:"Dev Ref",icon:"pi pi-external-link",items:[{label:"Dexie",items:[{label:"Dexie",url:"https://dexie.org",target:"_blank"},{label:"Design",url:"https://dexie.org/docs/Tutorial/Design",target:"_blank"},{label:"Version.stores()",url:"https://dexie.org/docs/Version/Version.stores()",target:"_blank"},{label:"IDB",url:"https://juejin.cn/post/7025592963002531871",target:"_blank"},{label:"supported-operations",url:"https://github.com/dexie/Dexie.js#supported-operations",target:"_blank"},{label:"Tutorial/Vue",url:"https://dexie.org/docs/Tutorial/Vue",target:"_blank"},{label:"liveQuery()",url:"https://dexie.org/docs/liveQuery()",target:"_blank"},{label:"version()",url:"https://dexie.org/docs/Dexie/Dexie.version()",target:"_blank"}]},{label:"D3",items:[{label:"d3-dispatch",url:"https://d3js.org/d3-dispatch",target:"_blank"}]},{label:"vue-icons",url:"https://vue-icons.kalimah-apps.com/getting-started.html",target:"_blank"},{label:"Prime Icons",url:"https://primevue.org/icons/",target:"_blank"},{label:"UnoCSS",url:"https://unocss.dev/interactive/",target:"_blank"},{label:"Vue I18n",url:"https://vue-i18n.intlify.dev/guide/advanced/composition.html",target:"_blank"},{label:"VueUse",url:"https://vueuse.org/",target:"_blank"},{label:"Vue Router",url:"https://router.vuejs.org/zh/guide/",target:"_blank"},{label:"Pinia",url:"https://pinia.vuejs.org/zh/core-concepts/",target:"_blank"},{label:"Pinia Persisted",url:"https://prazdevs.github.io/pinia-plugin-persistedstate/guide/config.html",target:"_blank"},{label:"zipson",url:"https://jgranstrom.github.io/zipson/",target:"_blank"},{label:"vue render func",url:"https://cn.vuejs.org/guide/extras/render-function.html",target:"_blank"},{label:"vuejs.org",url:"https://vuejs.org/",target:"_blank"},{label:"vuejs.dev",url:"https://vuejs.dev/",target:"_blank"},{label:"Dexie.js",url:"https://dexie.org/docs/Tutorial/Vue",target:"_blank"},{label:"test",url:"#daf/ewf/2efw3?asd:df=w23?df"}]},{label:"GitHub",icon:"pi pi-github",url:"https://github.com/ziioai",target:"_blank"},{label:"theme",icon:`pi pi-${o.value?"moon":"sun"}`,command:()=>{r()}},((c=window==null?void 0:window.location)==null?void 0:c.hostname)!="localhost"?null:{label:`${i.value} | ${e.value}`,icon:"pi pi-language",items:(p=s==null?void 0:s.value)==null?void 0:p.map(d=>({label:d,icon:"pi pi-flag",command:()=>{a(d,e)}}))}].filter(d=>d!=null),pt:{rootList:{class:"ml-auto!"}}},{start:()=>h("span",{class:"font-bold mx-0.5rem"},APP_NAME)}),h("div",{class:["md:rounded-0.5rem md:border-3 md:max-w-768px md:mx-auto","w-100% p-0.75rem bg-var-p-panel-background border-var-p-panel-border-color overflow-auto","grow-1"]},[h("div",{class:["--md:rounded-0.5rem --md:border-2 md:max-w-768px md:mx-auto","w-100% --p-0.75rem bg-var-p-panel-background border-var-p-panel-border-color","bg-transparent! [background:transparent]!"],style:{"--p-panel-background":"transparent","--p-tabs-tablist-background":"transparent"}},[h(script$6,{class:"bg-transparent!",value:l.value,scrollable:!0},{default:()=>h(script$7,{class:"bg-transparent!",pt:{tabList:{class:"bg-transparent! [background:transparent]!"}}},{default:()=>u.value.map(d=>h(script$8,{class:"bg-transparent!",key:d.label,value:d.name,onClick:()=>{m.hasRoute(d==null?void 0:d.name)&&m.push({name:d.name})}},{default:()=>h("span",{class:"inline-flex flex-row flex-items-center gap-2"},[h("i",{class:d.icon}),h("span",{},d.label)])}))})})]),h(RouterView)])])}}}),ToolButton=defineComponent({name:"ToolButton",props:["label","tip","command","class","tooltipProps","direction","focus"],setup(e){const t=resolveDirective("tooltip");return()=>{const{label:r,tip:o,command:n,class:a,tooltipProps:s,direction:i,focus:u,...l}=e;return o!=null&&o.length?withDirectives(h(script$4,{label:r,severity:"secondary",onClick:n,outlined:!0,...l,class:["p-var-p-button-padding-y!",a]}),[[t,{value:o??r,showDelay:300,hideDelay:300,...s},i??"bottom",{[i??"bottom"]:!0,focus:u}]]):h(script$4,{label:r,severity:"secondary",onClick:n,outlined:!0,...l,class:["p-var-p-button-padding-y!",a]})}}});function isString$2(e){return typeof e=="string"}const useTypedEffect=(e,t,r,o)=>{const n=ref(""),a=ref(1),s=t&&isString$2(e);return watch(()=>e,u=>{n.value=u,!s&&isString$2(u)?a.value=u.length:isString$2(u)&&isString$2(n.value)&&u.indexOf(n.value)!==0&&(a.value=1)}),onMounted(()=>{let u;const l=()=>{s&&a.value<e.length&&(u=window.setTimeout(()=>{a.value+=r,l()},o))};l(),onUnmounted(()=>{clearTimeout(u)})}),[s?e.slice(0,a.value):e,s&&a.value<e.length]},Bubble=defineComponent({name:"MyBubble",props:["avatarProps","loadingProps","placement","typing","loading","onTypingComplete","messageRender","content","prefixCls"],setup(e,{slots:t}){var f,E,c;const[r,o,n,a]=e.typing?[!0,(f=e.typing)==null?void 0:f.step,(E=e.typing)==null?void 0:E.interval,((c=e.typing)==null?void 0:c.suffix)??"|"]:[!1,0,0,""],[s,i]=useTypedEffect(e.content,r,o,n),u=e.messageRender?e.messageRender(s):s,l=ref(null),m=ref(!1);return onMounted(()=>{var p;!i&&!e.loading?m.value||(m.value=!0,(p=e.onTypingComplete)==null||p.call(e)):m.value=!1}),()=>{var p,d,x;return h("div",{ref:l,class:["my-bubble","---overflow-x-auto","stack-h w-100% flex-nowrap!",e.placement=="end"?"justify-content-end! flex-row-reverse!":"justify-content-start",e!=null&&e.avatarProps?"mt-0.75rem":null]},[h("div",{class:["my-bubble--avatar-wrapper","flex-basis-auto",e.placement=="end"?"items-end!":"items-start!"]},[h(script$9,{size:"large",...e==null?void 0:e.avatarProps,class:["overflow-hidden",e!=null&&e.avatarProps?null:"opacity-0 pointer-events-none",(p=e==null?void 0:e.avatarProps)==null?void 0:p.class]})]),h("div",{class:["my-bubble--content-wrapper","stack-v my-0.25rem flex-basis-auto",e.placement=="end"?"items-end!":"items-start!"]},[t.header&&((d=t.header)==null?void 0:d.call(t)),e.loading?h(script$a,{strokeWidth:6,animationDuration:".25s",...e==null?void 0:e.loadingProps,class:"w-28px! h-28px!"}):h(script$b,{pt:{body:{class:"p-0.75rem!"}}},{content:()=>[h("div",{class:"markdown-body",innerHTML:u}),i&&a]}),t.footer&&((x=t.footer)==null?void 0:x.call(t))]),h("div",{class:["my-bubble--tail","w-16rem"]})])}}}),read=async e=>new Promise((t,r)=>{try{e==null?e=[]:e!=null&&!Array.isArray(e)&&(e=[e]),(e==null?void 0:e.length)>1&&(e=[e[0]]);const n=e[0];if(n==null)throw"file is null.";const a=new FileReader;a.onload=s=>{t({status:"success",event:s,response:{textContent:String(a.result)}})},a.onerror=s=>{console.log("fileReader onerror"),r({status:"fail",error:": fileReader onerror",event:s,response:{}})},a.onabort=s=>{console.log("fileReader onabort"),r({status:"fail",error:": fileReader onabort",event:s,response:{}})},a.readAsText(n)}catch(o){r({status:"fail",error:`: ${o}`,err:o,response:{}})}}),processJsonLines=async e=>{const t=e.split(`
`);if(t.length==1)return JSON.parse(e);const r=[];for(const o of t)r.push(JSON.parse(o));return r},extractJson=async e=>{var o;if(e.status=="fail")throw e.error;if(((o=e.response)==null?void 0:o.textContent)==null)throw"response.response?.textContent is null.";const t=e.response.textContent;return JSON.parse(t)},extractJsonLines=async e=>{var o;if(e.status=="fail")throw e.error;if(((o=e.response)==null?void 0:o.textContent)==null)throw"response.response?.textContent is null.";const t=e.response.textContent;return await processJsonLines(t)},extractText=async e=>{var r;if(e.status=="fail")throw e.error;if(((r=e.response)==null?void 0:r.textContent)==null)throw"response.response?.textContent is null.";return e.response.textContent??""},readJsonOrJsonLines=async e=>{const t=await read(e);try{return{status:"success",data:await extractJsonLines(t),type:"jsonlines"}}catch(r){try{return{status:"success",data:await extractJson(t),type:"json"}}catch(o){try{return{status:"success",data:await extractText(t),type:"text"}}catch(n){return{status:"fail",error:[r,o,n],data:null}}}}},sleep$1=async e=>new Promise(t=>{setTimeout(()=>{t({})},e)}),AppFileView=defineComponent({setup(){const e=useToast(),t=ref(),r=ref([]),o=async n=>{console.log({fileBox:t.value}),t.value.files=n.files;const a=n.files.length,s=1/a;let i=0;t.value.progress=0;for(const u of n.files){try{await sleep$1(500);const l=await readJsonOrJsonLines(u);console.log({response:l,file:u}),r.value.push({file:u,response:l}),t.value.progress=t.value.progress+s,i+=1,t.value.$emit("progress",{originalEvent:n,progress:t.value.progress})}catch(l){console.error({error:l,file:u}),t.value.$emit("error",{files:t.value.files})}console.log({loadedCount:i,fileCount:a,progress:t.value.progress,files_length:t.value.files.length})}i===a?(t.value.fileLimit&&(t.value.uploadedFileCount+=t.value.files.length),t.value.$emit("upload",n)):t.value.$emit("error",{files:t.value.files}),t.value.uploadedFiles.push(...t.value.files),t.value.clear()};return()=>h(script$3,{header:"",toggleable:!0,collapsed:!0,class:"my-3"},{default:()=>[h(script$c,{ref:t,multiple:!0,customUpload:!0,chooseLabel:"",uploadLabel:"",cancelLabel:"",onUploader:n=>{o(n)},onUpload:n=>{console.log({dd:n}),e.add({severity:"success",summary:"Success",detail:"",life:3e3})}},{empty:()=>h("div",{},[""])}),r.value.length>0&&h("div",{class:["p-panel-title","mt-2rem mb-1.5rem"]},""),h("div",{class:["app-file-cards-box"]},[r.value.map(n=>h(script$b,{class:"app-file-card"},{title:()=>n.file.name,subtitle:()=>{var a;return(a=n.response)==null?void 0:a.type},content:()=>{var a;return h("div",{class:["stack-v","text-sm","overflow-auto","max-h-8rem"]},[h("pre",{class:[""]},JSON.stringify((a=n.response)==null?void 0:a.data,null,2).slice(0,1024))])},footer:()=>h("div",{class:["stack-h"]},[h(ToolButton,{icon:"pi pi-trash",text:!0,onClick:()=>{r.value=r.value.filter(a=>a!==n)}}),h(ToolButton,{icon:"pi pi-arrow-circle-right",label:"",tip:"",text:!0,onClick:()=>{var u;const a=(u=n.response)==null?void 0:u.data;let s=[];_.isString(a)?s=a.split(/\n+/):s=JSON.stringify(a,null,2).split(/\n+/),s=s.filter(l=>l.trim().length>0);const i=s.map((l,m)=>({text:l,meta:{idx:m}}));console.log({dataList:i})}})])}))])]})}}),$1="\n js JsToolAPI\n\n- **** JsTool\n  - **** `JsToolUsed`\n  -  JsTool \n  -  JsTool \n-  JsTool `CallStart``CallEnd` 1  JsTool\n\n\n\n-  JsTool  import \n-  JsTool  `console.log`  `JsTool.log` \n-  JsTool  `JsTool.set(key, value)`  `JsTool.get(key)`\n\n-  JsTool  lodash `_`\n-  JsTool  id  `the-only-art-board-wrap`  div  div  canvas  svg \n- js\n-  JsTool \n\n- `ReturnStart``ReturnEnd` `JsTool.log` \n-  JsTool \n  \n\n`ResultStart``ResultEnd`",TemplateJsTool$1={__KV__:{},__History__:[],log(e){const t=JSON.stringify(e);this.__History__.push(t),console.log(t)},clear(){this.__KV__={},this.__History__=[]},set(e,t){this.__KV__[e]=t},get(e){return this.__KV__[e]},last(){return this.__History__[this.__History__.length-1]},history(){return this.__History__},runCode(code){const frags=code.split(/(CallStart|CallEnd)/g);for(;frags[0]!=="CallStart";)if(frags.shift(),frags.length===0)return this.log("Error Code block not found."),this.last();for(frags.shift();frags[frags.length-1]!=="CallEnd";)if(frags.pop(),frags.length===0)return this.log("Error Code block not found."),this.last();frags.pop(),code=frags.join("").trim(),code=code.replace(/^```([Jj](ava)?[Ss](cript)?)?/g,""),code=code.replace(/```$/g,""),code=code.trim();try{eval(code)}catch(e){this.log(String(e))}return this.last()}},AppRootView=defineComponent({setup(){const e=useToast(),t=ref(""),r=reactive(TemplateJsTool$1),o=reactive({url:"",key:"",model:""}),n=a=>r.runCode(a);return onMounted(()=>{window.JsTool=r}),onUnmounted(()=>{window.JsTool=void 0}),()=>[h(script$3,{header:"",toggleable:!0,class:"my-1.5rem! col"},{default:()=>h("div",{class:"stack-v"},[h("p",{},[""])])}),h(script$3,{header:"",toggleable:!0,collapsed:!0,class:"my-1.5rem! col"},{default:()=>h("div",{class:"stack-v"},[h(ToolButton,{icon:"pi pi-copy",label:"",command:()=>{clipboard.copy($1),e.add({severity:"info",summary:"",detail:"",life:2e3})}}),h("pre",{class:"overflow-auto w-full"},[$1])])}),h(script$3,{header:"",toggleable:!0,class:"my-1.5rem! col"},{default:()=>h("div",{class:"stack-v",id:"the-only-art-board-wrap"},[])}),h(script$3,{header:"",toggleable:!0,class:"my-1.5rem! col"},{default:()=>h("div",{class:"stack-v max-w-640px mx-auto max-h-80vh overflow-auto"},[h(Bubble,{content:"",loading:!1,placement:"start",avatarProps:{icon:"pi pi-face-smile"}}),h(script$d,{severity:"secondary",size:"small",class:"max-w-80% mx-auto -outline-width-0!",pt:{text:{class:"-fw-400!"}}},{default:()=>[""]}),h(script$d,{severity:"secondary",size:"small",class:"max-w-80% mx-auto -outline-width-0!",pt:{text:{class:"-fw-400!"}}},{default:()=>[""]}),h(Bubble,{content:"",loading:!1,placement:"start",avatarProps:{image:"/js-ai/images/avatar-robot.png"}},{header:()=>h("div",{class:"stack-h fw-500 text-red"},[""])}),h(Bubble,{content:"",loading:!1,placement:"start",avatarProps:{image:"/js-ai/images/avatar-master.png"}},{header:()=>h("div",{class:"stack-h fw-500 text-green"},[""])}),h(Bubble,{content:"",loading:!1,placement:"end",avatarProps:{image:"/js-ai/images/avatar-mou.png"}},{header:()=>h("div",{class:"stack-h fw-500"},[""])}),h(Bubble,{content:"",loading:!1,placement:"end",avatarProps:{icon:"pi pi-user"}}),h(Bubble,{content:"",loading:!1,placement:"start",avatarProps:{icon:"pi pi-face-smile"}},{header:()=>h("div",{class:"stack-h"},["Assistant"])}),h(Bubble,{content:"",loading:!1,placement:"start"}),h(Bubble,{content:"",loading:!1,placement:"end",avatarProps:{icon:"pi pi-user"}},{header:()=>h("div",{class:"stack-h"},["User"])}),h(Bubble,{content:"",loading:!1,placement:"end"})])}),h(script$3,{header:"",toggleable:!0,class:"my-1.5rem!"},{default:()=>h("div",{class:"stack-v"},[h(script$e,{fluid:!0,modelValue:t.value,"onUpdate:modelValue":a=>{t.value=a}}),h("div",{class:"stack-h"},[h(ToolButton,{icon:"pi pi-send",label:"",class:"ml-auto",command:()=>{var a;t.value.trim()!==""&&(e.add({severity:"info",summary:"",detail:` ${(a=t.value)==null?void 0:a.length} `,life:2e3}),t.value="")}}),h(ToolButton,{icon:"pi pi-play",label:"",command:()=>{n(t.value)}}),h(ToolButton,{icon:"pi pi-copy",label:"",command:()=>{var a,s;clipboard.copy(t.value),e.add({severity:"info",summary:"",detail:`${(a=t.value)==null?void 0:a.length} 
${t.value.slice(0,20)}${((s=t.value)==null?void 0:s.length)<=20?"":"..."}`,life:2e3})}}),h(ToolButton,{icon:"pi pi-trash",label:"",command:()=>{t.value=""}})])])}),h("div",{class:"grid grid-cols-2 gap-4"},[h(script$3,{header:"JsTool ",toggleable:!0,class:"my-1.5rem! col"},{default:()=>h("div",{class:"stack-v"},[h(ToolButton,{icon:"pi pi-copy",label:"",command:()=>{var a;clipboard.copy(`ReturnStart${r.last()}ReturnEnd`),e.add({severity:"info",summary:"",detail:` ${(a=`${r.last()}`)==null?void 0:a.length} `,life:2e3})}}),JSON.stringify(r.history(),null,2)])}),h(script$3,{header:"JsTool ",toggleable:!0,class:"my-1.5rem! col"},{default:()=>h("div",{class:"stack-v"},[JSON.stringify(r.__KV__,null,2)])})]),h(AppFileView,{class:"w-full"}),h(script$3,{header:"",toggleable:!0,class:"my-1.5rem!"},{default:()=>h("div",{class:"grid grid-cols-3 gap-4"},[["url","key","model"].map((a,s)=>h(script$f,{variant:"on",class:"col-span-3 lg-col-span-1"},{default:()=>[h(script$g,{id:`${a}Input`,fluid:!0,key:`[${s}]${a}`,modelValue:o[a],"onUpdate:modelValue":i=>{o[a]=i},...a==="key"?{type:"password"}:{}}),h("label",{for:`${a}Input`},a)]}))])})]}}),default_format="RFC3986",formatters={RFC1738:e=>String(e).replace(/%20/g,"+"),RFC3986:e=>String(e)},RFC1738="RFC1738",is_array$1=Array.isArray,hex_table=(()=>{const e=[];for(let t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e})(),limit=1024,encode$2=(e,t,r,o,n)=>{if(e.length===0)return e;let a=e;if(typeof e=="symbol"?a=Symbol.prototype.toString.call(e):typeof e!="string"&&(a=String(e)),r==="iso-8859-1")return escape(a).replace(/%u[0-9a-f]{4}/gi,function(i){return"%26%23"+parseInt(i.slice(2),16)+"%3B"});let s="";for(let i=0;i<a.length;i+=limit){const u=a.length>=limit?a.slice(i,i+limit):a,l=[];for(let m=0;m<u.length;++m){let f=u.charCodeAt(m);if(f===45||f===46||f===95||f===126||f>=48&&f<=57||f>=65&&f<=90||f>=97&&f<=122||n===RFC1738&&(f===40||f===41)){l[l.length]=u.charAt(m);continue}if(f<128){l[l.length]=hex_table[f];continue}if(f<2048){l[l.length]=hex_table[192|f>>6]+hex_table[128|f&63];continue}if(f<55296||f>=57344){l[l.length]=hex_table[224|f>>12]+hex_table[128|f>>6&63]+hex_table[128|f&63];continue}m+=1,f=65536+((f&1023)<<10|u.charCodeAt(m)&1023),l[l.length]=hex_table[240|f>>18]+hex_table[128|f>>12&63]+hex_table[128|f>>6&63]+hex_table[128|f&63]}s+=l.join("")}return s};function is_buffer(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))}function maybe_map(e,t){if(is_array$1(e)){const r=[];for(let o=0;o<e.length;o+=1)r.push(t(e[o]));return r}return t(e)}const has$1=Object.prototype.hasOwnProperty,array_prefix_generators={brackets(e){return String(e)+"[]"},comma:"comma",indices(e,t){return String(e)+"["+t+"]"},repeat(e){return String(e)}},is_array=Array.isArray,push=Array.prototype.push,push_to_array=function(e,t){push.apply(e,is_array(t)?t:[t])},to_ISO=Date.prototype.toISOString,defaults={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:encode$2,encodeValuesOnly:!1,format:default_format,formatter:formatters[default_format],indices:!1,serializeDate(e){return to_ISO.call(e)},skipNulls:!1,strictNullHandling:!1};function is_non_nullish_primitive(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"}const sentinel={};function inner_stringify(e,t,r,o,n,a,s,i,u,l,m,f,E,c,p,d,x,y){let R=e,B=y,F=0,T=!1;for(;(B=B.get(sentinel))!==void 0&&!T;){const Y=B.get(e);if(F+=1,typeof Y<"u"){if(Y===F)throw new RangeError("Cyclic object value");T=!0}typeof B.get(sentinel)>"u"&&(F=0)}if(typeof l=="function"?R=l(t,R):R instanceof Date?R=E==null?void 0:E(R):r==="comma"&&is_array(R)&&(R=maybe_map(R,function(Y){return Y instanceof Date?E==null?void 0:E(Y):Y})),R===null){if(a)return u&&!d?u(t,defaults.encoder,x,"key",c):t;R=""}if(is_non_nullish_primitive(R)||is_buffer(R)){if(u){const Y=d?t:u(t,defaults.encoder,x,"key",c);return[(p==null?void 0:p(Y))+"="+(p==null?void 0:p(u(R,defaults.encoder,x,"value",c)))]}return[(p==null?void 0:p(t))+"="+(p==null?void 0:p(String(R)))]}const z=[];if(typeof R>"u")return z;let U;if(r==="comma"&&is_array(R))d&&u&&(R=maybe_map(R,u)),U=[{value:R.length>0?R.join(",")||null:void 0}];else if(is_array(l))U=l;else{const Y=Object.keys(R);U=m?Y.sort(m):Y}const X=i?String(t).replace(/\./g,"%2E"):String(t),j=o&&is_array(R)&&R.length===1?X+"[]":X;if(n&&is_array(R)&&R.length===0)return j+"[]";for(let Y=0;Y<U.length;++Y){const ae=U[Y],$=typeof ae=="object"&&typeof ae.value<"u"?ae.value:R[ae];if(s&&$===null)continue;const H=f&&i?ae.replace(/\./g,"%2E"):ae,C=is_array(R)?typeof r=="function"?r(j,H):j:j+(f?"."+H:"["+H+"]");y.set(e,F);const V=new WeakMap;V.set(sentinel,y),push_to_array(z,inner_stringify($,C,r,o,n,a,s,i,r==="comma"&&d&&is_array(R)?null:u,l,m,f,E,c,p,d,x,V))}return z}function normalize_stringify_options(e=defaults){if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");const t=e.charset||defaults.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let r=default_format;if(typeof e.format<"u"){if(!has$1.call(formatters,e.format))throw new TypeError("Unknown format option provided.");r=e.format}const o=formatters[r];let n=defaults.filter;(typeof e.filter=="function"||is_array(e.filter))&&(n=e.filter);let a;if(e.arrayFormat&&e.arrayFormat in array_prefix_generators?a=e.arrayFormat:"indices"in e?a=e.indices?"indices":"repeat":a=defaults.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const s=typeof e.allowDots>"u"?e.encodeDotInKeys?!0:defaults.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:defaults.addQueryPrefix,allowDots:s,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:defaults.allowEmptyArrays,arrayFormat:a,charset:t,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:defaults.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?defaults.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:defaults.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:defaults.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:defaults.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:defaults.encodeValuesOnly,filter:n,format:r,formatter:o,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:defaults.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:defaults.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:defaults.strictNullHandling}}function stringify(e,t={}){let r=e;const o=normalize_stringify_options(t);let n,a;typeof o.filter=="function"?(a=o.filter,r=a("",r)):is_array(o.filter)&&(a=o.filter,n=a);const s=[];if(typeof r!="object"||r===null)return"";const i=array_prefix_generators[o.arrayFormat],u=i==="comma"&&o.commaRoundTrip;n||(n=Object.keys(r)),o.sort&&n.sort(o.sort);const l=new WeakMap;for(let E=0;E<n.length;++E){const c=n[E];o.skipNulls&&r[c]===null||push_to_array(s,inner_stringify(r[c],c,i,u,o.allowEmptyArrays,o.strictNullHandling,o.skipNulls,o.encodeDotInKeys,o.encode?o.encoder:null,o.filter,o.sort,o.allowDots,o.serializeDate,o.format,o.formatter,o.encodeValuesOnly,o.charset,l))}const m=s.join(o.delimiter);let f=o.addQueryPrefix===!0?"?":"";return o.charsetSentinel&&(o.charset==="iso-8859-1"?f+="utf8=%26%2310003%3B&":f+="utf8=%E2%9C%93&"),m.length>0?f+m:""}const VERSION="4.85.2";let auto=!1,kind,fetch$1,FormData$1,File$1,ReadableStream$1,getMultipartRequestOptions,getDefaultAgent,fileFromPath,isFsReadStream;function setShims(e,t={auto:!1}){if(auto)throw new Error(`you must \`import 'openai/shims/${e.kind}'\` before importing anything else from openai`);if(kind)throw new Error(`can't \`import 'openai/shims/${e.kind}'\` after \`import 'openai/shims/${kind}'\``);auto=t.auto,kind=e.kind,fetch$1=e.fetch,FormData$1=e.FormData,File$1=e.File,ReadableStream$1=e.ReadableStream,getMultipartRequestOptions=e.getMultipartRequestOptions,getDefaultAgent=e.getDefaultAgent,fileFromPath=e.fileFromPath,isFsReadStream=e.isFsReadStream}class MultipartBody{constructor(t){this.body=t}get[Symbol.toStringTag](){return"MultipartBody"}}function getRuntime({manuallyImported:e}={}){const t=e?"You may need to use polyfills":"Add one of these imports before your first `import  from 'openai'`:\n- `import 'openai/shims/node'` (if you're running on Node)\n- `import 'openai/shims/web'` (otherwise)\n";let r,o,n,a;try{r=fetch,o=Request,n=Response,a=Headers}catch(s){throw new Error(`this environment is missing the following Web Fetch API type: ${s.message}. ${t}`)}return{kind:"web",fetch:r,Request:o,Response:n,Headers:a,FormData:typeof FormData<"u"?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${t}`)}},Blob:typeof Blob<"u"?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${t}`)}},File:typeof File<"u"?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${t}`)}},ReadableStream:typeof ReadableStream<"u"?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${t}`)}},getMultipartRequestOptions:async(s,i)=>({...i,body:new MultipartBody(s)}),getDefaultAgent:s=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/openai/openai-node#file-uploads")},isFsReadStream:s=>!1}}kind||setShims(getRuntime(),{auto:!0});class OpenAIError extends Error{}class APIError extends OpenAIError{constructor(t,r,o,n){super(`${APIError.makeMessage(t,r,o)}`),this.status=t,this.headers=n,this.request_id=n==null?void 0:n["x-request-id"],this.error=r;const a=r;this.code=a==null?void 0:a.code,this.param=a==null?void 0:a.param,this.type=a==null?void 0:a.type}static makeMessage(t,r,o){const n=r!=null&&r.message?typeof r.message=="string"?r.message:JSON.stringify(r.message):r?JSON.stringify(r):o;return t&&n?`${t} ${n}`:t?`${t} status code (no body)`:n||"(no status code or body)"}static generate(t,r,o,n){if(!t||!n)return new APIConnectionError({message:o,cause:castToError(r)});const a=r==null?void 0:r.error;return t===400?new BadRequestError(t,a,o,n):t===401?new AuthenticationError(t,a,o,n):t===403?new PermissionDeniedError(t,a,o,n):t===404?new NotFoundError(t,a,o,n):t===409?new ConflictError(t,a,o,n):t===422?new UnprocessableEntityError(t,a,o,n):t===429?new RateLimitError(t,a,o,n):t>=500?new InternalServerError(t,a,o,n):new APIError(t,a,o,n)}}class APIUserAbortError extends APIError{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class APIConnectionError extends APIError{constructor({message:t,cause:r}){super(void 0,void 0,t||"Connection error.",void 0),r&&(this.cause=r)}}class APIConnectionTimeoutError extends APIConnectionError{constructor({message:t}={}){super({message:t??"Request timed out."})}}class BadRequestError extends APIError{}class AuthenticationError extends APIError{}class PermissionDeniedError extends APIError{}class NotFoundError extends APIError{}class ConflictError extends APIError{}class UnprocessableEntityError extends APIError{}class RateLimitError extends APIError{}class InternalServerError extends APIError{}class LengthFinishReasonError extends OpenAIError{constructor(){super("Could not parse response content as the length limit was reached")}}class ContentFilterFinishReasonError extends OpenAIError{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}var __classPrivateFieldSet$4=function(e,t,r,o,n){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!n)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?n.call(e,r):n?n.value=r:t.set(e,r),r},__classPrivateFieldGet$5=function(e,t,r,o){if(r==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?o:r==="a"?o.call(e):o?o.value:t.get(e)},_LineDecoder_carriageReturnIndex;class LineDecoder{constructor(){_LineDecoder_carriageReturnIndex.set(this,void 0),this.buffer=new Uint8Array,__classPrivateFieldSet$4(this,_LineDecoder_carriageReturnIndex,null,"f")}decode(t){if(t==null)return[];const r=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?new TextEncoder().encode(t):t;let o=new Uint8Array(this.buffer.length+r.length);o.set(this.buffer),o.set(r,this.buffer.length),this.buffer=o;const n=[];let a;for(;(a=findNewlineIndex(this.buffer,__classPrivateFieldGet$5(this,_LineDecoder_carriageReturnIndex,"f")))!=null;){if(a.carriage&&__classPrivateFieldGet$5(this,_LineDecoder_carriageReturnIndex,"f")==null){__classPrivateFieldSet$4(this,_LineDecoder_carriageReturnIndex,a.index,"f");continue}if(__classPrivateFieldGet$5(this,_LineDecoder_carriageReturnIndex,"f")!=null&&(a.index!==__classPrivateFieldGet$5(this,_LineDecoder_carriageReturnIndex,"f")+1||a.carriage)){n.push(this.decodeText(this.buffer.slice(0,__classPrivateFieldGet$5(this,_LineDecoder_carriageReturnIndex,"f")-1))),this.buffer=this.buffer.slice(__classPrivateFieldGet$5(this,_LineDecoder_carriageReturnIndex,"f")),__classPrivateFieldSet$4(this,_LineDecoder_carriageReturnIndex,null,"f");continue}const s=__classPrivateFieldGet$5(this,_LineDecoder_carriageReturnIndex,"f")!==null?a.preceding-1:a.preceding,i=this.decodeText(this.buffer.slice(0,s));n.push(i),this.buffer=this.buffer.slice(a.index),__classPrivateFieldSet$4(this,_LineDecoder_carriageReturnIndex,null,"f")}return n}decodeText(t){if(t==null)return"";if(typeof t=="string")return t;if(typeof Buffer<"u"){if(t instanceof Buffer)return t.toString();if(t instanceof Uint8Array)return Buffer.from(t).toString();throw new OpenAIError(`Unexpected: received non-Uint8Array (${t.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if(typeof TextDecoder<"u"){if(t instanceof Uint8Array||t instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(t);throw new OpenAIError(`Unexpected: received non-Uint8Array/ArrayBuffer (${t.constructor.name}) in a web platform. Please report this error.`)}throw new OpenAIError("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){return this.buffer.length?this.decode(`
`):[]}}_LineDecoder_carriageReturnIndex=new WeakMap;LineDecoder.NEWLINE_CHARS=new Set([`
`,"\r"]);LineDecoder.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function findNewlineIndex(e,t){for(let n=t??0;n<e.length;n++){if(e[n]===10)return{preceding:n,index:n+1,carriage:!1};if(e[n]===13)return{preceding:n,index:n+1,carriage:!0}}return null}function findDoubleNewlineIndex(e){for(let o=0;o<e.length-1;o++){if(e[o]===10&&e[o+1]===10||e[o]===13&&e[o+1]===13)return o+2;if(e[o]===13&&e[o+1]===10&&o+3<e.length&&e[o+2]===13&&e[o+3]===10)return o+4}return-1}function ReadableStreamToAsyncIterable(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const r=await t.read();return r!=null&&r.done&&t.releaseLock(),r}catch(r){throw t.releaseLock(),r}},async return(){const r=t.cancel();return t.releaseLock(),await r,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}class Stream{constructor(t,r){this.iterator=t,this.controller=r}static fromSSEResponse(t,r){let o=!1;async function*n(){if(o)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");o=!0;let a=!1;try{for await(const s of _iterSSEMessages(t,r))if(!a){if(s.data.startsWith("[DONE]")){a=!0;continue}if(s.event===null){let i;try{i=JSON.parse(s.data)}catch(u){throw console.error("Could not parse message into JSON:",s.data),console.error("From chunk:",s.raw),u}if(i&&i.error)throw new APIError(void 0,i.error,void 0,void 0);yield i}else{let i;try{i=JSON.parse(s.data)}catch(u){throw console.error("Could not parse message into JSON:",s.data),console.error("From chunk:",s.raw),u}if(s.event=="error")throw new APIError(void 0,i.error,i.message,void 0);yield{event:s.event,data:i}}}a=!0}catch(s){if(s instanceof Error&&s.name==="AbortError")return;throw s}finally{a||r.abort()}}return new Stream(n,r)}static fromReadableStream(t,r){let o=!1;async function*n(){const s=new LineDecoder,i=ReadableStreamToAsyncIterable(t);for await(const u of i)for(const l of s.decode(u))yield l;for(const u of s.flush())yield u}async function*a(){if(o)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");o=!0;let s=!1;try{for await(const i of n())s||i&&(yield JSON.parse(i));s=!0}catch(i){if(i instanceof Error&&i.name==="AbortError")return;throw i}finally{s||r.abort()}}return new Stream(a,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],r=[],o=this.iterator(),n=a=>({next:()=>{if(a.length===0){const s=o.next();t.push(s),r.push(s)}return a.shift()}});return[new Stream(()=>n(t),this.controller),new Stream(()=>n(r),this.controller)]}toReadableStream(){const t=this;let r;const o=new TextEncoder;return new ReadableStream$1({async start(){r=t[Symbol.asyncIterator]()},async pull(n){try{const{value:a,done:s}=await r.next();if(s)return n.close();const i=o.encode(JSON.stringify(a)+`
`);n.enqueue(i)}catch(a){n.error(a)}},async cancel(){var n;await((n=r.return)==null?void 0:n.call(r))}})}}async function*_iterSSEMessages(e,t){if(!e.body)throw t.abort(),new OpenAIError("Attempted to iterate over a response with no body");const r=new SSEDecoder,o=new LineDecoder,n=ReadableStreamToAsyncIterable(e.body);for await(const a of iterSSEChunks(n))for(const s of o.decode(a)){const i=r.decode(s);i&&(yield i)}for(const a of o.flush()){const s=r.decode(a);s&&(yield s)}}async function*iterSSEChunks(e){let t=new Uint8Array;for await(const r of e){if(r==null)continue;const o=r instanceof ArrayBuffer?new Uint8Array(r):typeof r=="string"?new TextEncoder().encode(r):r;let n=new Uint8Array(t.length+o.length);n.set(t),n.set(o,t.length),t=n;let a;for(;(a=findDoubleNewlineIndex(t))!==-1;)yield t.slice(0,a),t=t.slice(a)}t.length>0&&(yield t)}class SSEDecoder{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const a={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],a}if(this.chunks.push(t),t.startsWith(":"))return null;let[r,o,n]=partition(t,":");return n.startsWith(" ")&&(n=n.substring(1)),r==="event"?this.event=n:r==="data"&&this.data.push(n),null}}function partition(e,t){const r=e.indexOf(t);return r!==-1?[e.substring(0,r),t,e.substring(r+t.length)]:[e,"",""]}const isResponseLike=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function",isFileLike=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&isBlobLike(e),isBlobLike=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",isUploadable=e=>isFileLike(e)||isResponseLike(e)||isFsReadStream(e);async function toFile(e,t,r){var n;if(e=await e,isFileLike(e))return e;if(isResponseLike(e)){const a=await e.blob();t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()??"unknown_file");const s=isBlobLike(a)?[await a.arrayBuffer()]:[a];return new File$1(s,t,r)}const o=await getBytes(e);if(t||(t=getName(e)??"unknown_file"),!(r!=null&&r.type)){const a=(n=o[0])==null?void 0:n.type;typeof a=="string"&&(r={...r,type:a})}return new File$1(o,t,r)}async function getBytes(e){var r;let t=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)t.push(e);else if(isBlobLike(e))t.push(await e.arrayBuffer());else if(isAsyncIterableIterator(e))for await(const o of e)t.push(o);else throw new Error(`Unexpected data type: ${typeof e}; constructor: ${(r=e==null?void 0:e.constructor)==null?void 0:r.name}; props: ${propsForError(e)}`);return t}function propsForError(e){return`[${Object.getOwnPropertyNames(e).map(r=>`"${r}"`).join(", ")}]`}function getName(e){var t;return getStringFromMaybeBuffer(e.name)||getStringFromMaybeBuffer(e.filename)||((t=getStringFromMaybeBuffer(e.path))==null?void 0:t.split(/[\\/]/).pop())}const getStringFromMaybeBuffer=e=>{if(typeof e=="string")return e;if(typeof Buffer<"u"&&e instanceof Buffer)return String(e)},isAsyncIterableIterator=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function",isMultipartBody=e=>e&&typeof e=="object"&&e.body&&e[Symbol.toStringTag]==="MultipartBody",multipartFormRequestOptions=async e=>{const t=await createForm(e.body);return getMultipartRequestOptions(t,e)},createForm=async e=>{const t=new FormData$1;return await Promise.all(Object.entries(e||{}).map(([r,o])=>addFormValue(t,r,o))),t},addFormValue=async(e,t,r)=>{if(r!==void 0){if(r==null)throw new TypeError(`Received null for "${t}"; to pass null in FormData, you must use the string 'null'`);if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")e.append(t,String(r));else if(isUploadable(r)){const o=await toFile(r);e.append(t,o)}else if(Array.isArray(r))await Promise.all(r.map(o=>addFormValue(e,t+"[]",o)));else if(typeof r=="object")await Promise.all(Object.entries(r).map(([o,n])=>addFormValue(e,`${t}[${o}]`,n)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${r} instead`)}};var define_process_env_default={},__classPrivateFieldSet$3=function(e,t,r,o,n){if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,r),r},__classPrivateFieldGet$4=function(e,t,r,o){if(r==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?o:r==="a"?o.call(e):o?o.value:t.get(e)},_AbstractPage_client;async function defaultParseResponse(e){const{response:t}=e;if(e.options.stream)return debug("response",t.status,t.url,t.headers,t.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(t,e.controller):Stream.fromSSEResponse(t,e.controller);if(t.status===204)return null;if(e.options.__binaryResponse)return t;const r=t.headers.get("content-type");if((r==null?void 0:r.includes("application/json"))||(r==null?void 0:r.includes("application/vnd.api+json"))){const a=await t.json();return debug("response",t.status,t.url,t.headers,a),_addRequestID(a,t)}const n=await t.text();return debug("response",t.status,t.url,t.headers,n),n}function _addRequestID(e,t){return!e||typeof e!="object"||Array.isArray(e)?e:Object.defineProperty(e,"_request_id",{value:t.headers.get("x-request-id"),enumerable:!1})}class APIPromise extends Promise{constructor(t,r=defaultParseResponse){super(o=>{o(null)}),this.responsePromise=t,this.parseResponse=r}_thenUnwrap(t){return new APIPromise(this.responsePromise,async r=>_addRequestID(t(await this.parseResponse(r),r),r.response))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,r]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:r,request_id:r.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(t,r){return this.parse().then(t,r)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}class APIClient{constructor({baseURL:t,maxRetries:r=2,timeout:o=6e5,httpAgent:n,fetch:a}){this.baseURL=t,this.maxRetries=validatePositiveInteger("maxRetries",r),this.timeout=validatePositiveInteger("timeout",o),this.httpAgent=n,this.fetch=a??fetch$1}authHeaders(t){return{}}defaultHeaders(t){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...getPlatformHeaders(),...this.authHeaders(t)}}validateHeaders(t,r){}defaultIdempotencyKey(){return`stainless-node-retry-${uuid4()}`}get(t,r){return this.methodRequest("get",t,r)}post(t,r){return this.methodRequest("post",t,r)}patch(t,r){return this.methodRequest("patch",t,r)}put(t,r){return this.methodRequest("put",t,r)}delete(t,r){return this.methodRequest("delete",t,r)}methodRequest(t,r,o){return this.request(Promise.resolve(o).then(async n=>{const a=n&&isBlobLike(n==null?void 0:n.body)?new DataView(await n.body.arrayBuffer()):(n==null?void 0:n.body)instanceof DataView?n.body:(n==null?void 0:n.body)instanceof ArrayBuffer?new DataView(n.body):n&&ArrayBuffer.isView(n==null?void 0:n.body)?new DataView(n.body.buffer):n==null?void 0:n.body;return{method:t,path:r,...n,body:a}}))}getAPIList(t,r,o){return this.requestAPIList(r,{method:"get",path:t,...o})}calculateContentLength(t){if(typeof t=="string"){if(typeof Buffer<"u")return Buffer.byteLength(t,"utf8").toString();if(typeof TextEncoder<"u")return new TextEncoder().encode(t).length.toString()}else if(ArrayBuffer.isView(t))return t.byteLength.toString();return null}buildRequest(t,{retryCount:r=0}={}){var p;t={...t};const{method:o,path:n,query:a,headers:s={}}=t,i=ArrayBuffer.isView(t.body)||t.__binaryRequest&&typeof t.body=="string"?t.body:isMultipartBody(t.body)?t.body.body:t.body?JSON.stringify(t.body,null,2):null,u=this.calculateContentLength(i),l=this.buildURL(n,a);"timeout"in t&&validatePositiveInteger("timeout",t.timeout),t.timeout=t.timeout??this.timeout;const m=t.httpAgent??this.httpAgent??getDefaultAgent(l),f=t.timeout+1e3;typeof((p=m==null?void 0:m.options)==null?void 0:p.timeout)=="number"&&f>(m.options.timeout??0)&&(m.options.timeout=f),this.idempotencyHeader&&o!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),s[this.idempotencyHeader]=t.idempotencyKey);const E=this.buildHeaders({options:t,headers:s,contentLength:u,retryCount:r});return{req:{method:o,...i&&{body:i},headers:E,...m&&{agent:m},signal:t.signal??null},url:l,timeout:t.timeout}}buildHeaders({options:t,headers:r,contentLength:o,retryCount:n}){const a={};o&&(a["content-length"]=o);const s=this.defaultHeaders(t);return applyHeadersMut(a,s),applyHeadersMut(a,r),isMultipartBody(t.body)&&kind!=="node"&&delete a["content-type"],getHeader(s,"x-stainless-retry-count")===void 0&&getHeader(r,"x-stainless-retry-count")===void 0&&(a["x-stainless-retry-count"]=String(n)),getHeader(s,"x-stainless-timeout")===void 0&&getHeader(r,"x-stainless-timeout")===void 0&&t.timeout&&(a["x-stainless-timeout"]=String(t.timeout)),this.validateHeaders(a,r),a}async prepareOptions(t){}async prepareRequest(t,{url:r,options:o}){}parseHeaders(t){return t?Symbol.iterator in t?Object.fromEntries(Array.from(t).map(r=>[...r])):{...t}:{}}makeStatusError(t,r,o,n){return APIError.generate(t,r,o,n)}request(t,r=null){return new APIPromise(this.makeRequest(t,r))}async makeRequest(t,r){var f,E;const o=await t,n=o.maxRetries??this.maxRetries;r==null&&(r=n),await this.prepareOptions(o);const{req:a,url:s,timeout:i}=this.buildRequest(o,{retryCount:n-r});if(await this.prepareRequest(a,{url:s,options:o}),debug("request",s,o,a.headers),(f=o.signal)!=null&&f.aborted)throw new APIUserAbortError;const u=new AbortController,l=await this.fetchWithTimeout(s,a,i,u).catch(castToError);if(l instanceof Error){if((E=o.signal)!=null&&E.aborted)throw new APIUserAbortError;if(r)return this.retryRequest(o,r);throw l.name==="AbortError"?new APIConnectionTimeoutError:new APIConnectionError({cause:l})}const m=createResponseHeaders(l.headers);if(!l.ok){if(r&&this.shouldRetry(l)){const R=`retrying, ${r} attempts remaining`;return debug(`response (error; ${R})`,l.status,s,m),this.retryRequest(o,r,m)}const c=await l.text().catch(R=>castToError(R).message),p=safeJSON(c),d=p?void 0:c;throw debug(`response (error; ${r?"(error; no more retries left)":"(error; not retryable)"})`,l.status,s,m,d),this.makeStatusError(l.status,p,d,m)}return{response:l,options:o,controller:u}}requestAPIList(t,r){const o=this.makeRequest(r,null);return new PagePromise(this,o,t)}buildURL(t,r){const o=isAbsoluteURL(t)?new URL(t):new URL(this.baseURL+(this.baseURL.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),n=this.defaultQuery();return isEmptyObj(n)||(r={...n,...r}),typeof r=="object"&&r&&!Array.isArray(r)&&(o.search=this.stringifyQuery(r)),o.toString()}stringifyQuery(t){return Object.entries(t).filter(([r,o])=>typeof o<"u").map(([r,o])=>{if(typeof o=="string"||typeof o=="number"||typeof o=="boolean")return`${encodeURIComponent(r)}=${encodeURIComponent(o)}`;if(o===null)return`${encodeURIComponent(r)}=`;throw new OpenAIError(`Cannot stringify type ${typeof o}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}async fetchWithTimeout(t,r,o,n){const{signal:a,...s}=r||{};a&&a.addEventListener("abort",()=>n.abort());const i=setTimeout(()=>n.abort(),o),u={signal:n.signal,...s};return u.method&&(u.method=u.method.toUpperCase()),this.fetch.call(void 0,t,u).finally(()=>{clearTimeout(i)})}shouldRetry(t){const r=t.headers.get("x-should-retry");return r==="true"?!0:r==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,r,o){let n;const a=o==null?void 0:o["retry-after-ms"];if(a){const i=parseFloat(a);Number.isNaN(i)||(n=i)}const s=o==null?void 0:o["retry-after"];if(s&&!n){const i=parseFloat(s);Number.isNaN(i)?n=Date.parse(s)-Date.now():n=i*1e3}if(!(n&&0<=n&&n<60*1e3)){const i=t.maxRetries??this.maxRetries;n=this.calculateDefaultRetryTimeoutMillis(r,i)}return await sleep(n),this.makeRequest(t,r-1)}calculateDefaultRetryTimeoutMillis(t,r){const a=r-t,s=Math.min(.5*Math.pow(2,a),8),i=1-Math.random()*.25;return s*i*1e3}getUserAgent(){return`${this.constructor.name}/JS ${VERSION}`}}class AbstractPage{constructor(t,r,o,n){_AbstractPage_client.set(this,void 0),__classPrivateFieldSet$3(this,_AbstractPage_client,t),this.options=n,this.response=r,this.body=o}hasNextPage(){return this.getPaginatedItems().length?this.nextPageInfo()!=null:!1}async getNextPage(){const t=this.nextPageInfo();if(!t)throw new OpenAIError("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");const r={...this.options};if("params"in t&&typeof r.query=="object")r.query={...r.query,...t.params};else if("url"in t){const o=[...Object.entries(r.query||{}),...t.url.searchParams.entries()];for(const[n,a]of o)t.url.searchParams.set(n,a);r.query=void 0,r.path=t.url.toString()}return await __classPrivateFieldGet$4(this,_AbstractPage_client,"f").requestAPIList(this.constructor,r)}async*iterPages(){let t=this;for(yield t;t.hasNextPage();)t=await t.getNextPage(),yield t}async*[(_AbstractPage_client=new WeakMap,Symbol.asyncIterator)](){for await(const t of this.iterPages())for(const r of t.getPaginatedItems())yield r}}class PagePromise extends APIPromise{constructor(t,r,o){super(r,async n=>new o(t,n.response,await defaultParseResponse(n),n.options))}async*[Symbol.asyncIterator](){const t=await this;for await(const r of t)yield r}}const createResponseHeaders=e=>new Proxy(Object.fromEntries(e.entries()),{get(t,r){const o=r.toString();return t[o.toLowerCase()]||t[o]}}),requestOptionsKeys={method:!0,path:!0,query:!0,body:!0,headers:!0,maxRetries:!0,stream:!0,timeout:!0,httpAgent:!0,signal:!0,idempotencyKey:!0,__metadata:!0,__binaryRequest:!0,__binaryResponse:!0,__streamClass:!0},isRequestOptions=e=>typeof e=="object"&&e!==null&&!isEmptyObj(e)&&Object.keys(e).every(t=>hasOwn(requestOptionsKeys,t)),getPlatformProperties=()=>{var t;if(typeof Deno<"u"&&Deno.build!=null)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":VERSION,"X-Stainless-OS":normalizePlatform(Deno.build.os),"X-Stainless-Arch":normalizeArch(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:((t=Deno.version)==null?void 0:t.deno)??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":VERSION,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":VERSION,"X-Stainless-OS":normalizePlatform(process.platform),"X-Stainless-Arch":normalizeArch(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const e=getBrowserInfo();return e?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":VERSION,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${e.browser}`,"X-Stainless-Runtime-Version":e.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":VERSION,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function getBrowserInfo(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:r}of e){const o=r.exec(navigator.userAgent);if(o){const n=o[1]||0,a=o[2]||0,s=o[3]||0;return{browser:t,version:`${n}.${a}.${s}`}}}return null}const normalizeArch=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",normalizePlatform=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let _platformHeaders;const getPlatformHeaders=()=>_platformHeaders??(_platformHeaders=getPlatformProperties()),safeJSON=e=>{try{return JSON.parse(e)}catch{return}},startsWithSchemeRegexp=/^[a-z][a-z0-9+.-]*:/i,isAbsoluteURL=e=>startsWithSchemeRegexp.test(e),sleep=e=>new Promise(t=>setTimeout(t,e)),validatePositiveInteger=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new OpenAIError(`${e} must be an integer`);if(t<0)throw new OpenAIError(`${e} must be a positive integer`);return t},castToError=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null)try{return new Error(JSON.stringify(e))}catch{}return new Error(e)},readEnv=e=>{var t,r,o,n;if(typeof process<"u")return((t=define_process_env_default==null?void 0:define_process_env_default[e])==null?void 0:t.trim())??void 0;if(typeof Deno<"u")return(n=(o=(r=Deno.env)==null?void 0:r.get)==null?void 0:o.call(r,e))==null?void 0:n.trim()};function isEmptyObj(e){if(!e)return!0;for(const t in e)return!1;return!0}function hasOwn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function applyHeadersMut(e,t){for(const r in t){if(!hasOwn(t,r))continue;const o=r.toLowerCase();if(!o)continue;const n=t[r];n===null?delete e[o]:n!==void 0&&(e[o]=n)}}const SENSITIVE_HEADERS=new Set(["authorization","api-key"]);function debug(e,...t){if(typeof process<"u"&&(define_process_env_default==null?void 0:define_process_env_default.DEBUG)==="true"){const r=t.map(o=>{if(!o)return o;if(o.headers){const a={...o,headers:{...o.headers}};for(const s in o.headers)SENSITIVE_HEADERS.has(s.toLowerCase())&&(a.headers[s]="REDACTED");return a}let n=null;for(const a in o)SENSITIVE_HEADERS.has(a.toLowerCase())&&(n??(n={...o}),n[a]="REDACTED");return n??o});console.log(`OpenAI:DEBUG:${e}`,...r)}}const uuid4=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)}),isRunningInBrowser=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u",isHeadersProtocol=e=>typeof(e==null?void 0:e.get)=="function",getHeader=(e,t)=>{var o;const r=t.toLowerCase();if(isHeadersProtocol(e)){const n=((o=t[0])==null?void 0:o.toUpperCase())+t.substring(1).replace(/([^\w])(\w)/g,(a,s,i)=>s+i.toUpperCase());for(const a of[t,r,t.toUpperCase(),n]){const s=e.get(a);if(s)return s}}for(const[n,a]of Object.entries(e))if(n.toLowerCase()===r)return Array.isArray(a)?(a.length<=1||console.warn(`Received ${a.length} entries for the ${t} header, using the first entry.`),a[0]):a};function isObj(e){return e!=null&&typeof e=="object"&&!Array.isArray(e)}class Page extends AbstractPage{constructor(t,r,o,n){super(t,r,o,n),this.data=o.data||[],this.object=o.object}getPaginatedItems(){return this.data??[]}nextPageParams(){return null}nextPageInfo(){return null}}class CursorPage extends AbstractPage{constructor(t,r,o,n){super(t,r,o,n),this.data=o.data||[],this.has_more=o.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageParams(){const t=this.nextPageInfo();if(!t)return null;if("params"in t)return t.params;const r=Object.fromEntries(t.url.searchParams);return Object.keys(r).length?r:null}nextPageInfo(){var o;const t=this.getPaginatedItems();if(!t.length)return null;const r=(o=t[t.length-1])==null?void 0:o.id;return r?{params:{after:r}}:null}}class APIResource{constructor(t){this._client=t}}let Messages$1=class extends APIResource{list(t,r={},o){return isRequestOptions(r)?this.list(t,{},r):this._client.getAPIList(`/chat/completions/${t}/messages`,ChatCompletionStoreMessagesPage,{query:r,...o})}},Completions$2=class extends APIResource{constructor(){super(...arguments),this.messages=new Messages$1(this._client)}create(t,r){return this._client.post("/chat/completions",{body:t,...r,stream:t.stream??!1})}retrieve(t,r){return this._client.get(`/chat/completions/${t}`,r)}update(t,r,o){return this._client.post(`/chat/completions/${t}`,{body:r,...o})}list(t={},r){return isRequestOptions(t)?this.list({},t):this._client.getAPIList("/chat/completions",ChatCompletionsPage,{query:t,...r})}del(t,r){return this._client.delete(`/chat/completions/${t}`,r)}};class ChatCompletionsPage extends CursorPage{}class ChatCompletionStoreMessagesPage extends CursorPage{}Completions$2.ChatCompletionsPage=ChatCompletionsPage;Completions$2.Messages=Messages$1;let Chat$1=class extends APIResource{constructor(){super(...arguments),this.completions=new Completions$2(this._client)}};Chat$1.Completions=Completions$2;Chat$1.ChatCompletionsPage=ChatCompletionsPage;class Speech extends APIResource{create(t,r){return this._client.post("/audio/speech",{body:t,...r,headers:{Accept:"application/octet-stream",...r==null?void 0:r.headers},__binaryResponse:!0})}}class Transcriptions extends APIResource{create(t,r){return this._client.post("/audio/transcriptions",multipartFormRequestOptions({body:t,...r,__metadata:{model:t.model}}))}}class Translations extends APIResource{create(t,r){return this._client.post("/audio/translations",multipartFormRequestOptions({body:t,...r,__metadata:{model:t.model}}))}}class Audio extends APIResource{constructor(){super(...arguments),this.transcriptions=new Transcriptions(this._client),this.translations=new Translations(this._client),this.speech=new Speech(this._client)}}Audio.Transcriptions=Transcriptions;Audio.Translations=Translations;Audio.Speech=Speech;class Batches extends APIResource{create(t,r){return this._client.post("/batches",{body:t,...r})}retrieve(t,r){return this._client.get(`/batches/${t}`,r)}list(t={},r){return isRequestOptions(t)?this.list({},t):this._client.getAPIList("/batches",BatchesPage,{query:t,...r})}cancel(t,r){return this._client.post(`/batches/${t}/cancel`,r)}}class BatchesPage extends CursorPage{}Batches.BatchesPage=BatchesPage;class Assistants extends APIResource{create(t,r){return this._client.post("/assistants",{body:t,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(t,r){return this._client.get(`/assistants/${t}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(t,r,o){return this._client.post(`/assistants/${t}`,{body:r,...o,headers:{"OpenAI-Beta":"assistants=v2",...o==null?void 0:o.headers}})}list(t={},r){return isRequestOptions(t)?this.list({},t):this._client.getAPIList("/assistants",AssistantsPage,{query:t,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(t,r){return this._client.delete(`/assistants/${t}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}}class AssistantsPage extends CursorPage{}Assistants.AssistantsPage=AssistantsPage;function isRunnableFunctionWithParse(e){return typeof e.parse=="function"}const isAssistantMessage=e=>(e==null?void 0:e.role)==="assistant",isFunctionMessage=e=>(e==null?void 0:e.role)==="function",isToolMessage=e=>(e==null?void 0:e.role)==="tool";var __classPrivateFieldSet$2=function(e,t,r,o,n){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!n)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?n.call(e,r):n?n.value=r:t.set(e,r),r},__classPrivateFieldGet$3=function(e,t,r,o){if(r==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?o:r==="a"?o.call(e):o?o.value:t.get(e)},_EventStream_instances,_EventStream_connectedPromise,_EventStream_resolveConnectedPromise,_EventStream_rejectConnectedPromise,_EventStream_endPromise,_EventStream_resolveEndPromise,_EventStream_rejectEndPromise,_EventStream_listeners,_EventStream_ended,_EventStream_errored,_EventStream_aborted,_EventStream_catchingPromiseCreated,_EventStream_handleError;class EventStream{constructor(){_EventStream_instances.add(this),this.controller=new AbortController,_EventStream_connectedPromise.set(this,void 0),_EventStream_resolveConnectedPromise.set(this,()=>{}),_EventStream_rejectConnectedPromise.set(this,()=>{}),_EventStream_endPromise.set(this,void 0),_EventStream_resolveEndPromise.set(this,()=>{}),_EventStream_rejectEndPromise.set(this,()=>{}),_EventStream_listeners.set(this,{}),_EventStream_ended.set(this,!1),_EventStream_errored.set(this,!1),_EventStream_aborted.set(this,!1),_EventStream_catchingPromiseCreated.set(this,!1),__classPrivateFieldSet$2(this,_EventStream_connectedPromise,new Promise((t,r)=>{__classPrivateFieldSet$2(this,_EventStream_resolveConnectedPromise,t,"f"),__classPrivateFieldSet$2(this,_EventStream_rejectConnectedPromise,r,"f")}),"f"),__classPrivateFieldSet$2(this,_EventStream_endPromise,new Promise((t,r)=>{__classPrivateFieldSet$2(this,_EventStream_resolveEndPromise,t,"f"),__classPrivateFieldSet$2(this,_EventStream_rejectEndPromise,r,"f")}),"f"),__classPrivateFieldGet$3(this,_EventStream_connectedPromise,"f").catch(()=>{}),__classPrivateFieldGet$3(this,_EventStream_endPromise,"f").catch(()=>{})}_run(t){setTimeout(()=>{t().then(()=>{this._emitFinal(),this._emit("end")},__classPrivateFieldGet$3(this,_EventStream_instances,"m",_EventStream_handleError).bind(this))},0)}_connected(){this.ended||(__classPrivateFieldGet$3(this,_EventStream_resolveConnectedPromise,"f").call(this),this._emit("connect"))}get ended(){return __classPrivateFieldGet$3(this,_EventStream_ended,"f")}get errored(){return __classPrivateFieldGet$3(this,_EventStream_errored,"f")}get aborted(){return __classPrivateFieldGet$3(this,_EventStream_aborted,"f")}abort(){this.controller.abort()}on(t,r){return(__classPrivateFieldGet$3(this,_EventStream_listeners,"f")[t]||(__classPrivateFieldGet$3(this,_EventStream_listeners,"f")[t]=[])).push({listener:r}),this}off(t,r){const o=__classPrivateFieldGet$3(this,_EventStream_listeners,"f")[t];if(!o)return this;const n=o.findIndex(a=>a.listener===r);return n>=0&&o.splice(n,1),this}once(t,r){return(__classPrivateFieldGet$3(this,_EventStream_listeners,"f")[t]||(__classPrivateFieldGet$3(this,_EventStream_listeners,"f")[t]=[])).push({listener:r,once:!0}),this}emitted(t){return new Promise((r,o)=>{__classPrivateFieldSet$2(this,_EventStream_catchingPromiseCreated,!0,"f"),t!=="error"&&this.once("error",o),this.once(t,r)})}async done(){__classPrivateFieldSet$2(this,_EventStream_catchingPromiseCreated,!0,"f"),await __classPrivateFieldGet$3(this,_EventStream_endPromise,"f")}_emit(t,...r){if(__classPrivateFieldGet$3(this,_EventStream_ended,"f"))return;t==="end"&&(__classPrivateFieldSet$2(this,_EventStream_ended,!0,"f"),__classPrivateFieldGet$3(this,_EventStream_resolveEndPromise,"f").call(this));const o=__classPrivateFieldGet$3(this,_EventStream_listeners,"f")[t];if(o&&(__classPrivateFieldGet$3(this,_EventStream_listeners,"f")[t]=o.filter(n=>!n.once),o.forEach(({listener:n})=>n(...r))),t==="abort"){const n=r[0];!__classPrivateFieldGet$3(this,_EventStream_catchingPromiseCreated,"f")&&!(o!=null&&o.length)&&Promise.reject(n),__classPrivateFieldGet$3(this,_EventStream_rejectConnectedPromise,"f").call(this,n),__classPrivateFieldGet$3(this,_EventStream_rejectEndPromise,"f").call(this,n),this._emit("end");return}if(t==="error"){const n=r[0];!__classPrivateFieldGet$3(this,_EventStream_catchingPromiseCreated,"f")&&!(o!=null&&o.length)&&Promise.reject(n),__classPrivateFieldGet$3(this,_EventStream_rejectConnectedPromise,"f").call(this,n),__classPrivateFieldGet$3(this,_EventStream_rejectEndPromise,"f").call(this,n),this._emit("end")}}_emitFinal(){}}_EventStream_connectedPromise=new WeakMap,_EventStream_resolveConnectedPromise=new WeakMap,_EventStream_rejectConnectedPromise=new WeakMap,_EventStream_endPromise=new WeakMap,_EventStream_resolveEndPromise=new WeakMap,_EventStream_rejectEndPromise=new WeakMap,_EventStream_listeners=new WeakMap,_EventStream_ended=new WeakMap,_EventStream_errored=new WeakMap,_EventStream_aborted=new WeakMap,_EventStream_catchingPromiseCreated=new WeakMap,_EventStream_instances=new WeakSet,_EventStream_handleError=function e(t){if(__classPrivateFieldSet$2(this,_EventStream_errored,!0,"f"),t instanceof Error&&t.name==="AbortError"&&(t=new APIUserAbortError),t instanceof APIUserAbortError)return __classPrivateFieldSet$2(this,_EventStream_aborted,!0,"f"),this._emit("abort",t);if(t instanceof OpenAIError)return this._emit("error",t);if(t instanceof Error){const r=new OpenAIError(t.message);return r.cause=t,this._emit("error",r)}return this._emit("error",new OpenAIError(String(t)))};function isAutoParsableResponseFormat(e){return(e==null?void 0:e.$brand)==="auto-parseable-response-format"}function isAutoParsableTool(e){return(e==null?void 0:e.$brand)==="auto-parseable-tool"}function maybeParseChatCompletion(e,t){return!t||!hasAutoParseableInput(t)?{...e,choices:e.choices.map(r=>({...r,message:{...r.message,parsed:null,tool_calls:r.message.tool_calls??[]}}))}:parseChatCompletion(e,t)}function parseChatCompletion(e,t){const r=e.choices.map(o=>{var n;if(o.finish_reason==="length")throw new LengthFinishReasonError;if(o.finish_reason==="content_filter")throw new ContentFilterFinishReasonError;return{...o,message:{...o.message,tool_calls:((n=o.message.tool_calls)==null?void 0:n.map(a=>parseToolCall(t,a)))??[],parsed:o.message.content&&!o.message.refusal?parseResponseFormat(t,o.message.content):null}}});return{...e,choices:r}}function parseResponseFormat(e,t){var r,o;return((r=e.response_format)==null?void 0:r.type)!=="json_schema"?null:((o=e.response_format)==null?void 0:o.type)==="json_schema"?"$parseRaw"in e.response_format?e.response_format.$parseRaw(t):JSON.parse(t):null}function parseToolCall(e,t){var o;const r=(o=e.tools)==null?void 0:o.find(n=>{var a;return((a=n.function)==null?void 0:a.name)===t.function.name});return{...t,function:{...t.function,parsed_arguments:isAutoParsableTool(r)?r.$parseRaw(t.function.arguments):r!=null&&r.function.strict?JSON.parse(t.function.arguments):null}}}function shouldParseToolCall(e,t){var o;if(!e)return!1;const r=(o=e.tools)==null?void 0:o.find(n=>{var a;return((a=n.function)==null?void 0:a.name)===t.function.name});return isAutoParsableTool(r)||(r==null?void 0:r.function.strict)||!1}function hasAutoParseableInput(e){var t;return isAutoParsableResponseFormat(e.response_format)?!0:((t=e.tools)==null?void 0:t.some(r=>isAutoParsableTool(r)||r.type==="function"&&r.function.strict===!0))??!1}function validateInputTools(e){for(const t of e??[]){if(t.type!=="function")throw new OpenAIError(`Currently only \`function\` tool types support auto-parsing; Received \`${t.type}\``);if(t.function.strict!==!0)throw new OpenAIError(`The \`${t.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}var __classPrivateFieldGet$2=function(e,t,r,o){if(r==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?o:r==="a"?o.call(e):o?o.value:t.get(e)},_AbstractChatCompletionRunner_instances,_AbstractChatCompletionRunner_getFinalContent,_AbstractChatCompletionRunner_getFinalMessage,_AbstractChatCompletionRunner_getFinalFunctionCall,_AbstractChatCompletionRunner_getFinalFunctionCallResult,_AbstractChatCompletionRunner_calculateTotalUsage,_AbstractChatCompletionRunner_validateParams,_AbstractChatCompletionRunner_stringifyFunctionCallResult;const DEFAULT_MAX_CHAT_COMPLETIONS=10;class AbstractChatCompletionRunner extends EventStream{constructor(){super(...arguments),_AbstractChatCompletionRunner_instances.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(t){var o;this._chatCompletions.push(t),this._emit("chatCompletion",t);const r=(o=t.choices[0])==null?void 0:o.message;return r&&this._addMessage(r),t}_addMessage(t,r=!0){if("content"in t||(t.content=null),this.messages.push(t),r){if(this._emit("message",t),(isFunctionMessage(t)||isToolMessage(t))&&t.content)this._emit("functionCallResult",t.content);else if(isAssistantMessage(t)&&t.function_call)this._emit("functionCall",t.function_call);else if(isAssistantMessage(t)&&t.tool_calls)for(const o of t.tool_calls)o.type==="function"&&this._emit("functionCall",o.function)}}async finalChatCompletion(){await this.done();const t=this._chatCompletions[this._chatCompletions.length-1];if(!t)throw new OpenAIError("stream ended without producing a ChatCompletion");return t}async finalContent(){return await this.done(),__classPrivateFieldGet$2(this,_AbstractChatCompletionRunner_instances,"m",_AbstractChatCompletionRunner_getFinalContent).call(this)}async finalMessage(){return await this.done(),__classPrivateFieldGet$2(this,_AbstractChatCompletionRunner_instances,"m",_AbstractChatCompletionRunner_getFinalMessage).call(this)}async finalFunctionCall(){return await this.done(),__classPrivateFieldGet$2(this,_AbstractChatCompletionRunner_instances,"m",_AbstractChatCompletionRunner_getFinalFunctionCall).call(this)}async finalFunctionCallResult(){return await this.done(),__classPrivateFieldGet$2(this,_AbstractChatCompletionRunner_instances,"m",_AbstractChatCompletionRunner_getFinalFunctionCallResult).call(this)}async totalUsage(){return await this.done(),__classPrivateFieldGet$2(this,_AbstractChatCompletionRunner_instances,"m",_AbstractChatCompletionRunner_calculateTotalUsage).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const t=this._chatCompletions[this._chatCompletions.length-1];t&&this._emit("finalChatCompletion",t);const r=__classPrivateFieldGet$2(this,_AbstractChatCompletionRunner_instances,"m",_AbstractChatCompletionRunner_getFinalMessage).call(this);r&&this._emit("finalMessage",r);const o=__classPrivateFieldGet$2(this,_AbstractChatCompletionRunner_instances,"m",_AbstractChatCompletionRunner_getFinalContent).call(this);o&&this._emit("finalContent",o);const n=__classPrivateFieldGet$2(this,_AbstractChatCompletionRunner_instances,"m",_AbstractChatCompletionRunner_getFinalFunctionCall).call(this);n&&this._emit("finalFunctionCall",n);const a=__classPrivateFieldGet$2(this,_AbstractChatCompletionRunner_instances,"m",_AbstractChatCompletionRunner_getFinalFunctionCallResult).call(this);a!=null&&this._emit("finalFunctionCallResult",a),this._chatCompletions.some(s=>s.usage)&&this._emit("totalUsage",__classPrivateFieldGet$2(this,_AbstractChatCompletionRunner_instances,"m",_AbstractChatCompletionRunner_calculateTotalUsage).call(this))}async _createChatCompletion(t,r,o){const n=o==null?void 0:o.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",()=>this.controller.abort())),__classPrivateFieldGet$2(this,_AbstractChatCompletionRunner_instances,"m",_AbstractChatCompletionRunner_validateParams).call(this,r);const a=await t.chat.completions.create({...r,stream:!1},{...o,signal:this.controller.signal});return this._connected(),this._addChatCompletion(parseChatCompletion(a,r))}async _runChatCompletion(t,r,o){for(const n of r.messages)this._addMessage(n,!1);return await this._createChatCompletion(t,r,o)}async _runFunctions(t,r,o){var E;const n="function",{function_call:a="auto",stream:s,...i}=r,u=typeof a!="string"&&(a==null?void 0:a.name),{maxChatCompletions:l=DEFAULT_MAX_CHAT_COMPLETIONS}=o||{},m={};for(const c of r.functions)m[c.name||c.function.name]=c;const f=r.functions.map(c=>({name:c.name||c.function.name,parameters:c.parameters,description:c.description}));for(const c of r.messages)this._addMessage(c,!1);for(let c=0;c<l;++c){const d=(E=(await this._createChatCompletion(t,{...i,function_call:a,functions:f,messages:[...this.messages]},o)).choices[0])==null?void 0:E.message;if(!d)throw new OpenAIError("missing message in ChatCompletion response");if(!d.function_call)return;const{name:x,arguments:y}=d.function_call,R=m[x];if(R){if(u&&u!==x){const z=`Invalid function_call: ${JSON.stringify(x)}. ${JSON.stringify(u)} requested. Please try again`;this._addMessage({role:n,name:x,content:z});continue}}else{const z=`Invalid function_call: ${JSON.stringify(x)}. Available options are: ${f.map(U=>JSON.stringify(U.name)).join(", ")}. Please try again`;this._addMessage({role:n,name:x,content:z});continue}let B;try{B=isRunnableFunctionWithParse(R)?await R.parse(y):y}catch(z){this._addMessage({role:n,name:x,content:z instanceof Error?z.message:String(z)});continue}const F=await R.function(B,this),T=__classPrivateFieldGet$2(this,_AbstractChatCompletionRunner_instances,"m",_AbstractChatCompletionRunner_stringifyFunctionCallResult).call(this,F);if(this._addMessage({role:n,name:x,content:T}),u)return}}async _runTools(t,r,o){var c,p,d;const n="tool",{tool_choice:a="auto",stream:s,...i}=r,u=typeof a!="string"&&((c=a==null?void 0:a.function)==null?void 0:c.name),{maxChatCompletions:l=DEFAULT_MAX_CHAT_COMPLETIONS}=o||{},m=r.tools.map(x=>{if(isAutoParsableTool(x)){if(!x.$callback)throw new OpenAIError("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:x.$callback,name:x.function.name,description:x.function.description||"",parameters:x.function.parameters,parse:x.$parseRaw,strict:!0}}}return x}),f={};for(const x of m)x.type==="function"&&(f[x.function.name||x.function.function.name]=x.function);const E="tools"in r?m.map(x=>x.type==="function"?{type:"function",function:{name:x.function.name||x.function.function.name,parameters:x.function.parameters,description:x.function.description,strict:x.function.strict}}:x):void 0;for(const x of r.messages)this._addMessage(x,!1);for(let x=0;x<l;++x){const R=(p=(await this._createChatCompletion(t,{...i,tool_choice:a,tools:E,messages:[...this.messages]},o)).choices[0])==null?void 0:p.message;if(!R)throw new OpenAIError("missing message in ChatCompletion response");if(!((d=R.tool_calls)!=null&&d.length))return;for(const B of R.tool_calls){if(B.type!=="function")continue;const F=B.id,{name:T,arguments:z}=B.function,U=f[T];if(U){if(u&&u!==T){const ae=`Invalid tool_call: ${JSON.stringify(T)}. ${JSON.stringify(u)} requested. Please try again`;this._addMessage({role:n,tool_call_id:F,content:ae});continue}}else{const ae=`Invalid tool_call: ${JSON.stringify(T)}. Available options are: ${Object.keys(f).map($=>JSON.stringify($)).join(", ")}. Please try again`;this._addMessage({role:n,tool_call_id:F,content:ae});continue}let X;try{X=isRunnableFunctionWithParse(U)?await U.parse(z):z}catch(ae){const $=ae instanceof Error?ae.message:String(ae);this._addMessage({role:n,tool_call_id:F,content:$});continue}const j=await U.function(X,this),Y=__classPrivateFieldGet$2(this,_AbstractChatCompletionRunner_instances,"m",_AbstractChatCompletionRunner_stringifyFunctionCallResult).call(this,j);if(this._addMessage({role:n,tool_call_id:F,content:Y}),u)return}}}}_AbstractChatCompletionRunner_instances=new WeakSet,_AbstractChatCompletionRunner_getFinalContent=function e(){return __classPrivateFieldGet$2(this,_AbstractChatCompletionRunner_instances,"m",_AbstractChatCompletionRunner_getFinalMessage).call(this).content??null},_AbstractChatCompletionRunner_getFinalMessage=function e(){let t=this.messages.length;for(;t-- >0;){const r=this.messages[t];if(isAssistantMessage(r)){const{function_call:o,...n}=r,a={...n,content:r.content??null,refusal:r.refusal??null};return o&&(a.function_call=o),a}}throw new OpenAIError("stream ended without producing a ChatCompletionMessage with role=assistant")},_AbstractChatCompletionRunner_getFinalFunctionCall=function e(){var t,r;for(let o=this.messages.length-1;o>=0;o--){const n=this.messages[o];if(isAssistantMessage(n)&&(n!=null&&n.function_call))return n.function_call;if(isAssistantMessage(n)&&((t=n==null?void 0:n.tool_calls)!=null&&t.length))return(r=n.tool_calls.at(-1))==null?void 0:r.function}},_AbstractChatCompletionRunner_getFinalFunctionCallResult=function e(){for(let t=this.messages.length-1;t>=0;t--){const r=this.messages[t];if(isFunctionMessage(r)&&r.content!=null||isToolMessage(r)&&r.content!=null&&typeof r.content=="string"&&this.messages.some(o=>{var n;return o.role==="assistant"&&((n=o.tool_calls)==null?void 0:n.some(a=>a.type==="function"&&a.id===r.tool_call_id))}))return r.content}},_AbstractChatCompletionRunner_calculateTotalUsage=function e(){const t={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:r}of this._chatCompletions)r&&(t.completion_tokens+=r.completion_tokens,t.prompt_tokens+=r.prompt_tokens,t.total_tokens+=r.total_tokens);return t},_AbstractChatCompletionRunner_validateParams=function e(t){if(t.n!=null&&t.n>1)throw new OpenAIError("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},_AbstractChatCompletionRunner_stringifyFunctionCallResult=function e(t){return typeof t=="string"?t:t===void 0?"undefined":JSON.stringify(t)};class ChatCompletionRunner extends AbstractChatCompletionRunner{static runFunctions(t,r,o){const n=new ChatCompletionRunner,a={...o,headers:{...o==null?void 0:o.headers,"X-Stainless-Helper-Method":"runFunctions"}};return n._run(()=>n._runFunctions(t,r,a)),n}static runTools(t,r,o){const n=new ChatCompletionRunner,a={...o,headers:{...o==null?void 0:o.headers,"X-Stainless-Helper-Method":"runTools"}};return n._run(()=>n._runTools(t,r,a)),n}_addMessage(t,r=!0){super._addMessage(t,r),isAssistantMessage(t)&&t.content&&this._emit("content",t.content)}}const STR=1,NUM=2,ARR=4,OBJ=8,NULL=16,BOOL=32,NAN=64,INFINITY=128,MINUS_INFINITY=256,INF=INFINITY|MINUS_INFINITY,SPECIAL=NULL|BOOL|INF|NAN,ATOM=STR|NUM|SPECIAL,COLLECTION=ARR|OBJ,ALL=ATOM|COLLECTION,Allow={STR,NUM,ARR,OBJ,NULL,BOOL,NAN,INFINITY,MINUS_INFINITY,INF,SPECIAL,ATOM,COLLECTION,ALL};class PartialJSON extends Error{}class MalformedJSON extends Error{}function parseJSON(e,t=Allow.ALL){if(typeof e!="string")throw new TypeError(`expecting str, got ${typeof e}`);if(!e.trim())throw new Error(`${e} is empty`);return _parseJSON(e.trim(),t)}const _parseJSON=(e,t)=>{const r=e.length;let o=0;const n=E=>{throw new PartialJSON(`${E} at position ${o}`)},a=E=>{throw new MalformedJSON(`${E} at position ${o}`)},s=()=>(f(),o>=r&&n("Unexpected end of input"),e[o]==='"'?i():e[o]==="{"?u():e[o]==="["?l():e.substring(o,o+4)==="null"||Allow.NULL&t&&r-o<4&&"null".startsWith(e.substring(o))?(o+=4,null):e.substring(o,o+4)==="true"||Allow.BOOL&t&&r-o<4&&"true".startsWith(e.substring(o))?(o+=4,!0):e.substring(o,o+5)==="false"||Allow.BOOL&t&&r-o<5&&"false".startsWith(e.substring(o))?(o+=5,!1):e.substring(o,o+8)==="Infinity"||Allow.INFINITY&t&&r-o<8&&"Infinity".startsWith(e.substring(o))?(o+=8,1/0):e.substring(o,o+9)==="-Infinity"||Allow.MINUS_INFINITY&t&&1<r-o&&r-o<9&&"-Infinity".startsWith(e.substring(o))?(o+=9,-1/0):e.substring(o,o+3)==="NaN"||Allow.NAN&t&&r-o<3&&"NaN".startsWith(e.substring(o))?(o+=3,NaN):m()),i=()=>{const E=o;let c=!1;for(o++;o<r&&(e[o]!=='"'||c&&e[o-1]==="\\");)c=e[o]==="\\"?!c:!1,o++;if(e.charAt(o)=='"')try{return JSON.parse(e.substring(E,++o-Number(c)))}catch(p){a(String(p))}else if(Allow.STR&t)try{return JSON.parse(e.substring(E,o-Number(c))+'"')}catch{return JSON.parse(e.substring(E,e.lastIndexOf("\\"))+'"')}n("Unterminated string literal")},u=()=>{o++,f();const E={};try{for(;e[o]!=="}";){if(f(),o>=r&&Allow.OBJ&t)return E;const c=i();f(),o++;try{const p=s();Object.defineProperty(E,c,{value:p,writable:!0,enumerable:!0,configurable:!0})}catch(p){if(Allow.OBJ&t)return E;throw p}f(),e[o]===","&&o++}}catch{if(Allow.OBJ&t)return E;n("Expected '}' at end of object")}return o++,E},l=()=>{o++;const E=[];try{for(;e[o]!=="]";)E.push(s()),f(),e[o]===","&&o++}catch{if(Allow.ARR&t)return E;n("Expected ']' at end of array")}return o++,E},m=()=>{if(o===0){e==="-"&&Allow.NUM&t&&n("Not sure what '-' is");try{return JSON.parse(e)}catch(c){if(Allow.NUM&t)try{return e[e.length-1]==="."?JSON.parse(e.substring(0,e.lastIndexOf("."))):JSON.parse(e.substring(0,e.lastIndexOf("e")))}catch{}a(String(c))}}const E=o;for(e[o]==="-"&&o++;e[o]&&!",]}".includes(e[o]);)o++;o==r&&!(Allow.NUM&t)&&n("Unterminated number literal");try{return JSON.parse(e.substring(E,o))}catch{e.substring(E,o)==="-"&&Allow.NUM&t&&n("Not sure what '-' is");try{return JSON.parse(e.substring(E,e.lastIndexOf("e")))}catch(p){a(String(p))}}},f=()=>{for(;o<r&&` 
\r	`.includes(e[o]);)o++};return s()},partialParse=e=>parseJSON(e,Allow.ALL^Allow.NUM);var __classPrivateFieldSet$1=function(e,t,r,o,n){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!n)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?n.call(e,r):n?n.value=r:t.set(e,r),r},__classPrivateFieldGet$1=function(e,t,r,o){if(r==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?o:r==="a"?o.call(e):o?o.value:t.get(e)},_ChatCompletionStream_instances,_ChatCompletionStream_params,_ChatCompletionStream_choiceEventStates,_ChatCompletionStream_currentChatCompletionSnapshot,_ChatCompletionStream_beginRequest,_ChatCompletionStream_getChoiceEventState,_ChatCompletionStream_addChunk,_ChatCompletionStream_emitToolCallDoneEvent,_ChatCompletionStream_emitContentDoneEvents,_ChatCompletionStream_endRequest,_ChatCompletionStream_getAutoParseableResponseFormat,_ChatCompletionStream_accumulateChatCompletion;class ChatCompletionStream extends AbstractChatCompletionRunner{constructor(t){super(),_ChatCompletionStream_instances.add(this),_ChatCompletionStream_params.set(this,void 0),_ChatCompletionStream_choiceEventStates.set(this,void 0),_ChatCompletionStream_currentChatCompletionSnapshot.set(this,void 0),__classPrivateFieldSet$1(this,_ChatCompletionStream_params,t,"f"),__classPrivateFieldSet$1(this,_ChatCompletionStream_choiceEventStates,[],"f")}get currentChatCompletionSnapshot(){return __classPrivateFieldGet$1(this,_ChatCompletionStream_currentChatCompletionSnapshot,"f")}static fromReadableStream(t){const r=new ChatCompletionStream(null);return r._run(()=>r._fromReadableStream(t)),r}static createChatCompletion(t,r,o){const n=new ChatCompletionStream(r);return n._run(()=>n._runChatCompletion(t,{...r,stream:!0},{...o,headers:{...o==null?void 0:o.headers,"X-Stainless-Helper-Method":"stream"}})),n}async _createChatCompletion(t,r,o){var s;super._createChatCompletion;const n=o==null?void 0:o.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",()=>this.controller.abort())),__classPrivateFieldGet$1(this,_ChatCompletionStream_instances,"m",_ChatCompletionStream_beginRequest).call(this);const a=await t.chat.completions.create({...r,stream:!0},{...o,signal:this.controller.signal});this._connected();for await(const i of a)__classPrivateFieldGet$1(this,_ChatCompletionStream_instances,"m",_ChatCompletionStream_addChunk).call(this,i);if((s=a.controller.signal)!=null&&s.aborted)throw new APIUserAbortError;return this._addChatCompletion(__classPrivateFieldGet$1(this,_ChatCompletionStream_instances,"m",_ChatCompletionStream_endRequest).call(this))}async _fromReadableStream(t,r){var s;const o=r==null?void 0:r.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort())),__classPrivateFieldGet$1(this,_ChatCompletionStream_instances,"m",_ChatCompletionStream_beginRequest).call(this),this._connected();const n=Stream.fromReadableStream(t,this.controller);let a;for await(const i of n)a&&a!==i.id&&this._addChatCompletion(__classPrivateFieldGet$1(this,_ChatCompletionStream_instances,"m",_ChatCompletionStream_endRequest).call(this)),__classPrivateFieldGet$1(this,_ChatCompletionStream_instances,"m",_ChatCompletionStream_addChunk).call(this,i),a=i.id;if((s=n.controller.signal)!=null&&s.aborted)throw new APIUserAbortError;return this._addChatCompletion(__classPrivateFieldGet$1(this,_ChatCompletionStream_instances,"m",_ChatCompletionStream_endRequest).call(this))}[(_ChatCompletionStream_params=new WeakMap,_ChatCompletionStream_choiceEventStates=new WeakMap,_ChatCompletionStream_currentChatCompletionSnapshot=new WeakMap,_ChatCompletionStream_instances=new WeakSet,_ChatCompletionStream_beginRequest=function(){this.ended||__classPrivateFieldSet$1(this,_ChatCompletionStream_currentChatCompletionSnapshot,void 0,"f")},_ChatCompletionStream_getChoiceEventState=function(r){let o=__classPrivateFieldGet$1(this,_ChatCompletionStream_choiceEventStates,"f")[r.index];return o||(o={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},__classPrivateFieldGet$1(this,_ChatCompletionStream_choiceEventStates,"f")[r.index]=o,o)},_ChatCompletionStream_addChunk=function(r){var n,a,s,i,u,l,m,f,E,c,p,d,x,y,R;if(this.ended)return;const o=__classPrivateFieldGet$1(this,_ChatCompletionStream_instances,"m",_ChatCompletionStream_accumulateChatCompletion).call(this,r);this._emit("chunk",r,o);for(const B of r.choices){const F=o.choices[B.index];B.delta.content!=null&&((n=F.message)==null?void 0:n.role)==="assistant"&&((a=F.message)!=null&&a.content)&&(this._emit("content",B.delta.content,F.message.content),this._emit("content.delta",{delta:B.delta.content,snapshot:F.message.content,parsed:F.message.parsed})),B.delta.refusal!=null&&((s=F.message)==null?void 0:s.role)==="assistant"&&((i=F.message)!=null&&i.refusal)&&this._emit("refusal.delta",{delta:B.delta.refusal,snapshot:F.message.refusal}),((u=B.logprobs)==null?void 0:u.content)!=null&&((l=F.message)==null?void 0:l.role)==="assistant"&&this._emit("logprobs.content.delta",{content:(m=B.logprobs)==null?void 0:m.content,snapshot:((f=F.logprobs)==null?void 0:f.content)??[]}),((E=B.logprobs)==null?void 0:E.refusal)!=null&&((c=F.message)==null?void 0:c.role)==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:(p=B.logprobs)==null?void 0:p.refusal,snapshot:((d=F.logprobs)==null?void 0:d.refusal)??[]});const T=__classPrivateFieldGet$1(this,_ChatCompletionStream_instances,"m",_ChatCompletionStream_getChoiceEventState).call(this,F);F.finish_reason&&(__classPrivateFieldGet$1(this,_ChatCompletionStream_instances,"m",_ChatCompletionStream_emitContentDoneEvents).call(this,F),T.current_tool_call_index!=null&&__classPrivateFieldGet$1(this,_ChatCompletionStream_instances,"m",_ChatCompletionStream_emitToolCallDoneEvent).call(this,F,T.current_tool_call_index));for(const z of B.delta.tool_calls??[])T.current_tool_call_index!==z.index&&(__classPrivateFieldGet$1(this,_ChatCompletionStream_instances,"m",_ChatCompletionStream_emitContentDoneEvents).call(this,F),T.current_tool_call_index!=null&&__classPrivateFieldGet$1(this,_ChatCompletionStream_instances,"m",_ChatCompletionStream_emitToolCallDoneEvent).call(this,F,T.current_tool_call_index)),T.current_tool_call_index=z.index;for(const z of B.delta.tool_calls??[]){const U=(x=F.message.tool_calls)==null?void 0:x[z.index];U!=null&&U.type&&((U==null?void 0:U.type)==="function"?this._emit("tool_calls.function.arguments.delta",{name:(y=U.function)==null?void 0:y.name,index:z.index,arguments:U.function.arguments,parsed_arguments:U.function.parsed_arguments,arguments_delta:((R=z.function)==null?void 0:R.arguments)??""}):(U==null||U.type,void 0))}}},_ChatCompletionStream_emitToolCallDoneEvent=function(r,o){var s,i,u;if(__classPrivateFieldGet$1(this,_ChatCompletionStream_instances,"m",_ChatCompletionStream_getChoiceEventState).call(this,r).done_tool_calls.has(o))return;const a=(s=r.message.tool_calls)==null?void 0:s[o];if(!a)throw new Error("no tool call snapshot");if(!a.type)throw new Error("tool call snapshot missing `type`");if(a.type==="function"){const l=(u=(i=__classPrivateFieldGet$1(this,_ChatCompletionStream_params,"f"))==null?void 0:i.tools)==null?void 0:u.find(m=>m.type==="function"&&m.function.name===a.function.name);this._emit("tool_calls.function.arguments.done",{name:a.function.name,index:o,arguments:a.function.arguments,parsed_arguments:isAutoParsableTool(l)?l.$parseRaw(a.function.arguments):l!=null&&l.function.strict?JSON.parse(a.function.arguments):null})}else a.type},_ChatCompletionStream_emitContentDoneEvents=function(r){var n,a;const o=__classPrivateFieldGet$1(this,_ChatCompletionStream_instances,"m",_ChatCompletionStream_getChoiceEventState).call(this,r);if(r.message.content&&!o.content_done){o.content_done=!0;const s=__classPrivateFieldGet$1(this,_ChatCompletionStream_instances,"m",_ChatCompletionStream_getAutoParseableResponseFormat).call(this);this._emit("content.done",{content:r.message.content,parsed:s?s.$parseRaw(r.message.content):null})}r.message.refusal&&!o.refusal_done&&(o.refusal_done=!0,this._emit("refusal.done",{refusal:r.message.refusal})),(n=r.logprobs)!=null&&n.content&&!o.logprobs_content_done&&(o.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:r.logprobs.content})),(a=r.logprobs)!=null&&a.refusal&&!o.logprobs_refusal_done&&(o.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:r.logprobs.refusal}))},_ChatCompletionStream_endRequest=function(){if(this.ended)throw new OpenAIError("stream has ended, this shouldn't happen");const r=__classPrivateFieldGet$1(this,_ChatCompletionStream_currentChatCompletionSnapshot,"f");if(!r)throw new OpenAIError("request ended without sending any chunks");return __classPrivateFieldSet$1(this,_ChatCompletionStream_currentChatCompletionSnapshot,void 0,"f"),__classPrivateFieldSet$1(this,_ChatCompletionStream_choiceEventStates,[],"f"),finalizeChatCompletion(r,__classPrivateFieldGet$1(this,_ChatCompletionStream_params,"f"))},_ChatCompletionStream_getAutoParseableResponseFormat=function(){var o;const r=(o=__classPrivateFieldGet$1(this,_ChatCompletionStream_params,"f"))==null?void 0:o.response_format;return isAutoParsableResponseFormat(r)?r:null},_ChatCompletionStream_accumulateChatCompletion=function(r){var o,n,a,s;let i=__classPrivateFieldGet$1(this,_ChatCompletionStream_currentChatCompletionSnapshot,"f");const{choices:u,...l}=r;i?Object.assign(i,l):i=__classPrivateFieldSet$1(this,_ChatCompletionStream_currentChatCompletionSnapshot,{...l,choices:[]},"f");for(const{delta:m,finish_reason:f,index:E,logprobs:c=null,...p}of r.choices){let d=i.choices[E];if(d||(d=i.choices[E]={finish_reason:f,index:E,message:{},logprobs:c,...p}),c)if(!d.logprobs)d.logprobs=Object.assign({},c);else{const{content:z,refusal:U,...X}=c;Object.assign(d.logprobs,X),z&&((o=d.logprobs).content??(o.content=[]),d.logprobs.content.push(...z)),U&&((n=d.logprobs).refusal??(n.refusal=[]),d.logprobs.refusal.push(...U))}if(f&&(d.finish_reason=f,__classPrivateFieldGet$1(this,_ChatCompletionStream_params,"f")&&hasAutoParseableInput(__classPrivateFieldGet$1(this,_ChatCompletionStream_params,"f")))){if(f==="length")throw new LengthFinishReasonError;if(f==="content_filter")throw new ContentFilterFinishReasonError}if(Object.assign(d,p),!m)continue;const{content:x,refusal:y,function_call:R,role:B,tool_calls:F,...T}=m;if(Object.assign(d.message,T),y&&(d.message.refusal=(d.message.refusal||"")+y),B&&(d.message.role=B),R&&(d.message.function_call?(R.name&&(d.message.function_call.name=R.name),R.arguments&&((a=d.message.function_call).arguments??(a.arguments=""),d.message.function_call.arguments+=R.arguments)):d.message.function_call=R),x&&(d.message.content=(d.message.content||"")+x,!d.message.refusal&&__classPrivateFieldGet$1(this,_ChatCompletionStream_instances,"m",_ChatCompletionStream_getAutoParseableResponseFormat).call(this)&&(d.message.parsed=partialParse(d.message.content))),F){d.message.tool_calls||(d.message.tool_calls=[]);for(const{index:z,id:U,type:X,function:j,...Y}of F){const ae=(s=d.message.tool_calls)[z]??(s[z]={});Object.assign(ae,Y),U&&(ae.id=U),X&&(ae.type=X),j&&(ae.function??(ae.function={name:j.name??"",arguments:""})),j!=null&&j.name&&(ae.function.name=j.name),j!=null&&j.arguments&&(ae.function.arguments+=j.arguments,shouldParseToolCall(__classPrivateFieldGet$1(this,_ChatCompletionStream_params,"f"),ae)&&(ae.function.parsed_arguments=partialParse(ae.function.arguments)))}}}return i},Symbol.asyncIterator)](){const t=[],r=[];let o=!1;return this.on("chunk",n=>{const a=r.shift();a?a.resolve(n):t.push(n)}),this.on("end",()=>{o=!0;for(const n of r)n.resolve(void 0);r.length=0}),this.on("abort",n=>{o=!0;for(const a of r)a.reject(n);r.length=0}),this.on("error",n=>{o=!0;for(const a of r)a.reject(n);r.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:o?{value:void 0,done:!0}:new Promise((a,s)=>r.push({resolve:a,reject:s})).then(a=>a?{value:a,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new Stream(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function finalizeChatCompletion(e,t){const{id:r,choices:o,created:n,model:a,system_fingerprint:s,...i}=e,u={...i,id:r,choices:o.map(({message:l,finish_reason:m,index:f,logprobs:E,...c})=>{if(!m)throw new OpenAIError(`missing finish_reason for choice ${f}`);const{content:p=null,function_call:d,tool_calls:x,...y}=l,R=l.role;if(!R)throw new OpenAIError(`missing role for choice ${f}`);if(d){const{arguments:B,name:F}=d;if(B==null)throw new OpenAIError(`missing function_call.arguments for choice ${f}`);if(!F)throw new OpenAIError(`missing function_call.name for choice ${f}`);return{...c,message:{content:p,function_call:{arguments:B,name:F},role:R,refusal:l.refusal??null},finish_reason:m,index:f,logprobs:E}}return x?{...c,index:f,finish_reason:m,logprobs:E,message:{...y,role:R,content:p,refusal:l.refusal??null,tool_calls:x.map((B,F)=>{const{function:T,type:z,id:U,...X}=B,{arguments:j,name:Y,...ae}=T||{};if(U==null)throw new OpenAIError(`missing choices[${f}].tool_calls[${F}].id
${str(e)}`);if(z==null)throw new OpenAIError(`missing choices[${f}].tool_calls[${F}].type
${str(e)}`);if(Y==null)throw new OpenAIError(`missing choices[${f}].tool_calls[${F}].function.name
${str(e)}`);if(j==null)throw new OpenAIError(`missing choices[${f}].tool_calls[${F}].function.arguments
${str(e)}`);return{...X,id:U,type:z,function:{...ae,name:Y,arguments:j}}})}}:{...c,message:{...y,content:p,role:R,refusal:l.refusal??null},finish_reason:m,index:f,logprobs:E}}),created:n,model:a,object:"chat.completion",...s?{system_fingerprint:s}:{}};return maybeParseChatCompletion(u,t)}function str(e){return JSON.stringify(e)}function assertNever(e){}class ChatCompletionStreamingRunner extends ChatCompletionStream{static fromReadableStream(t){const r=new ChatCompletionStreamingRunner(null);return r._run(()=>r._fromReadableStream(t)),r}static runFunctions(t,r,o){const n=new ChatCompletionStreamingRunner(null),a={...o,headers:{...o==null?void 0:o.headers,"X-Stainless-Helper-Method":"runFunctions"}};return n._run(()=>n._runFunctions(t,r,a)),n}static runTools(t,r,o){const n=new ChatCompletionStreamingRunner(r),a={...o,headers:{...o==null?void 0:o.headers,"X-Stainless-Helper-Method":"runTools"}};return n._run(()=>n._runTools(t,r,a)),n}}let Completions$1=class extends APIResource{parse(t,r){return validateInputTools(t.tools),this._client.chat.completions.create(t,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"beta.chat.completions.parse"}})._thenUnwrap(o=>parseChatCompletion(o,t))}runFunctions(t,r){return t.stream?ChatCompletionStreamingRunner.runFunctions(this._client,t,r):ChatCompletionRunner.runFunctions(this._client,t,r)}runTools(t,r){return t.stream?ChatCompletionStreamingRunner.runTools(this._client,t,r):ChatCompletionRunner.runTools(this._client,t,r)}stream(t,r){return ChatCompletionStream.createChatCompletion(this._client,t,r)}};class Chat extends APIResource{constructor(){super(...arguments),this.completions=new Completions$1(this._client)}}(function(e){e.Completions=Completions$1})(Chat||(Chat={}));class Sessions extends APIResource{create(t,r){return this._client.post("/realtime/sessions",{body:t,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}}class Realtime extends APIResource{constructor(){super(...arguments),this.sessions=new Sessions(this._client)}}Realtime.Sessions=Sessions;var __classPrivateFieldGet=function(e,t,r,o){if(r==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?o:r==="a"?o.call(e):o?o.value:t.get(e)},__classPrivateFieldSet=function(e,t,r,o,n){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!n)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?n.call(e,r):n?n.value=r:t.set(e,r),r},_AssistantStream_instances,_AssistantStream_events,_AssistantStream_runStepSnapshots,_AssistantStream_messageSnapshots,_AssistantStream_messageSnapshot,_AssistantStream_finalRun,_AssistantStream_currentContentIndex,_AssistantStream_currentContent,_AssistantStream_currentToolCallIndex,_AssistantStream_currentToolCall,_AssistantStream_currentEvent,_AssistantStream_currentRunSnapshot,_AssistantStream_currentRunStepSnapshot,_AssistantStream_addEvent,_AssistantStream_endRequest,_AssistantStream_handleMessage,_AssistantStream_handleRunStep,_AssistantStream_handleEvent,_AssistantStream_accumulateRunStep,_AssistantStream_accumulateMessage,_AssistantStream_accumulateContent,_AssistantStream_handleRun;class AssistantStream extends EventStream{constructor(){super(...arguments),_AssistantStream_instances.add(this),_AssistantStream_events.set(this,[]),_AssistantStream_runStepSnapshots.set(this,{}),_AssistantStream_messageSnapshots.set(this,{}),_AssistantStream_messageSnapshot.set(this,void 0),_AssistantStream_finalRun.set(this,void 0),_AssistantStream_currentContentIndex.set(this,void 0),_AssistantStream_currentContent.set(this,void 0),_AssistantStream_currentToolCallIndex.set(this,void 0),_AssistantStream_currentToolCall.set(this,void 0),_AssistantStream_currentEvent.set(this,void 0),_AssistantStream_currentRunSnapshot.set(this,void 0),_AssistantStream_currentRunStepSnapshot.set(this,void 0)}[(_AssistantStream_events=new WeakMap,_AssistantStream_runStepSnapshots=new WeakMap,_AssistantStream_messageSnapshots=new WeakMap,_AssistantStream_messageSnapshot=new WeakMap,_AssistantStream_finalRun=new WeakMap,_AssistantStream_currentContentIndex=new WeakMap,_AssistantStream_currentContent=new WeakMap,_AssistantStream_currentToolCallIndex=new WeakMap,_AssistantStream_currentToolCall=new WeakMap,_AssistantStream_currentEvent=new WeakMap,_AssistantStream_currentRunSnapshot=new WeakMap,_AssistantStream_currentRunStepSnapshot=new WeakMap,_AssistantStream_instances=new WeakSet,Symbol.asyncIterator)](){const t=[],r=[];let o=!1;return this.on("event",n=>{const a=r.shift();a?a.resolve(n):t.push(n)}),this.on("end",()=>{o=!0;for(const n of r)n.resolve(void 0);r.length=0}),this.on("abort",n=>{o=!0;for(const a of r)a.reject(n);r.length=0}),this.on("error",n=>{o=!0;for(const a of r)a.reject(n);r.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:o?{value:void 0,done:!0}:new Promise((a,s)=>r.push({resolve:a,reject:s})).then(a=>a?{value:a,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(t){const r=new AssistantStream;return r._run(()=>r._fromReadableStream(t)),r}async _fromReadableStream(t,r){var a;const o=r==null?void 0:r.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort())),this._connected();const n=Stream.fromReadableStream(t,this.controller);for await(const s of n)__classPrivateFieldGet(this,_AssistantStream_instances,"m",_AssistantStream_addEvent).call(this,s);if((a=n.controller.signal)!=null&&a.aborted)throw new APIUserAbortError;return this._addRun(__classPrivateFieldGet(this,_AssistantStream_instances,"m",_AssistantStream_endRequest).call(this))}toReadableStream(){return new Stream(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(t,r,o,n,a){const s=new AssistantStream;return s._run(()=>s._runToolAssistantStream(t,r,o,n,{...a,headers:{...a==null?void 0:a.headers,"X-Stainless-Helper-Method":"stream"}})),s}async _createToolAssistantStream(t,r,o,n,a){var l;const s=a==null?void 0:a.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort()));const i={...n,stream:!0},u=await t.submitToolOutputs(r,o,i,{...a,signal:this.controller.signal});this._connected();for await(const m of u)__classPrivateFieldGet(this,_AssistantStream_instances,"m",_AssistantStream_addEvent).call(this,m);if((l=u.controller.signal)!=null&&l.aborted)throw new APIUserAbortError;return this._addRun(__classPrivateFieldGet(this,_AssistantStream_instances,"m",_AssistantStream_endRequest).call(this))}static createThreadAssistantStream(t,r,o){const n=new AssistantStream;return n._run(()=>n._threadAssistantStream(t,r,{...o,headers:{...o==null?void 0:o.headers,"X-Stainless-Helper-Method":"stream"}})),n}static createAssistantStream(t,r,o,n){const a=new AssistantStream;return a._run(()=>a._runAssistantStream(t,r,o,{...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"stream"}})),a}currentEvent(){return __classPrivateFieldGet(this,_AssistantStream_currentEvent,"f")}currentRun(){return __classPrivateFieldGet(this,_AssistantStream_currentRunSnapshot,"f")}currentMessageSnapshot(){return __classPrivateFieldGet(this,_AssistantStream_messageSnapshot,"f")}currentRunStepSnapshot(){return __classPrivateFieldGet(this,_AssistantStream_currentRunStepSnapshot,"f")}async finalRunSteps(){return await this.done(),Object.values(__classPrivateFieldGet(this,_AssistantStream_runStepSnapshots,"f"))}async finalMessages(){return await this.done(),Object.values(__classPrivateFieldGet(this,_AssistantStream_messageSnapshots,"f"))}async finalRun(){if(await this.done(),!__classPrivateFieldGet(this,_AssistantStream_finalRun,"f"))throw Error("Final run was not received.");return __classPrivateFieldGet(this,_AssistantStream_finalRun,"f")}async _createThreadAssistantStream(t,r,o){var i;const n=o==null?void 0:o.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",()=>this.controller.abort()));const a={...r,stream:!0},s=await t.createAndRun(a,{...o,signal:this.controller.signal});this._connected();for await(const u of s)__classPrivateFieldGet(this,_AssistantStream_instances,"m",_AssistantStream_addEvent).call(this,u);if((i=s.controller.signal)!=null&&i.aborted)throw new APIUserAbortError;return this._addRun(__classPrivateFieldGet(this,_AssistantStream_instances,"m",_AssistantStream_endRequest).call(this))}async _createAssistantStream(t,r,o,n){var u;const a=n==null?void 0:n.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort()));const s={...o,stream:!0},i=await t.create(r,s,{...n,signal:this.controller.signal});this._connected();for await(const l of i)__classPrivateFieldGet(this,_AssistantStream_instances,"m",_AssistantStream_addEvent).call(this,l);if((u=i.controller.signal)!=null&&u.aborted)throw new APIUserAbortError;return this._addRun(__classPrivateFieldGet(this,_AssistantStream_instances,"m",_AssistantStream_endRequest).call(this))}static accumulateDelta(t,r){for(const[o,n]of Object.entries(r)){if(!t.hasOwnProperty(o)){t[o]=n;continue}let a=t[o];if(a==null){t[o]=n;continue}if(o==="index"||o==="type"){t[o]=n;continue}if(typeof a=="string"&&typeof n=="string")a+=n;else if(typeof a=="number"&&typeof n=="number")a+=n;else if(isObj(a)&&isObj(n))a=this.accumulateDelta(a,n);else if(Array.isArray(a)&&Array.isArray(n)){if(a.every(s=>typeof s=="string"||typeof s=="number")){a.push(...n);continue}for(const s of n){if(!isObj(s))throw new Error(`Expected array delta entry to be an object but got: ${s}`);const i=s.index;if(i==null)throw console.error(s),new Error("Expected array delta entry to have an `index` property");if(typeof i!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${i}`);const u=a[i];u==null?a.push(s):a[i]=this.accumulateDelta(u,s)}continue}else throw Error(`Unhandled record type: ${o}, deltaValue: ${n}, accValue: ${a}`);t[o]=a}return t}_addRun(t){return t}async _threadAssistantStream(t,r,o){return await this._createThreadAssistantStream(r,t,o)}async _runAssistantStream(t,r,o,n){return await this._createAssistantStream(r,t,o,n)}async _runToolAssistantStream(t,r,o,n,a){return await this._createToolAssistantStream(o,t,r,n,a)}}_AssistantStream_addEvent=function e(t){if(!this.ended)switch(__classPrivateFieldSet(this,_AssistantStream_currentEvent,t,"f"),__classPrivateFieldGet(this,_AssistantStream_instances,"m",_AssistantStream_handleEvent).call(this,t),t.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":__classPrivateFieldGet(this,_AssistantStream_instances,"m",_AssistantStream_handleRun).call(this,t);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":__classPrivateFieldGet(this,_AssistantStream_instances,"m",_AssistantStream_handleRunStep).call(this,t);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":__classPrivateFieldGet(this,_AssistantStream_instances,"m",_AssistantStream_handleMessage).call(this,t);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},_AssistantStream_endRequest=function e(){if(this.ended)throw new OpenAIError("stream has ended, this shouldn't happen");if(!__classPrivateFieldGet(this,_AssistantStream_finalRun,"f"))throw Error("Final run has not been received");return __classPrivateFieldGet(this,_AssistantStream_finalRun,"f")},_AssistantStream_handleMessage=function e(t){const[r,o]=__classPrivateFieldGet(this,_AssistantStream_instances,"m",_AssistantStream_accumulateMessage).call(this,t,__classPrivateFieldGet(this,_AssistantStream_messageSnapshot,"f"));__classPrivateFieldSet(this,_AssistantStream_messageSnapshot,r,"f"),__classPrivateFieldGet(this,_AssistantStream_messageSnapshots,"f")[r.id]=r;for(const n of o){const a=r.content[n.index];(a==null?void 0:a.type)=="text"&&this._emit("textCreated",a.text)}switch(t.event){case"thread.message.created":this._emit("messageCreated",t.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",t.data.delta,r),t.data.delta.content)for(const n of t.data.delta.content){if(n.type=="text"&&n.text){let a=n.text,s=r.content[n.index];if(s&&s.type=="text")this._emit("textDelta",a,s.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(n.index!=__classPrivateFieldGet(this,_AssistantStream_currentContentIndex,"f")){if(__classPrivateFieldGet(this,_AssistantStream_currentContent,"f"))switch(__classPrivateFieldGet(this,_AssistantStream_currentContent,"f").type){case"text":this._emit("textDone",__classPrivateFieldGet(this,_AssistantStream_currentContent,"f").text,__classPrivateFieldGet(this,_AssistantStream_messageSnapshot,"f"));break;case"image_file":this._emit("imageFileDone",__classPrivateFieldGet(this,_AssistantStream_currentContent,"f").image_file,__classPrivateFieldGet(this,_AssistantStream_messageSnapshot,"f"));break}__classPrivateFieldSet(this,_AssistantStream_currentContentIndex,n.index,"f")}__classPrivateFieldSet(this,_AssistantStream_currentContent,r.content[n.index],"f")}break;case"thread.message.completed":case"thread.message.incomplete":if(__classPrivateFieldGet(this,_AssistantStream_currentContentIndex,"f")!==void 0){const n=t.data.content[__classPrivateFieldGet(this,_AssistantStream_currentContentIndex,"f")];if(n)switch(n.type){case"image_file":this._emit("imageFileDone",n.image_file,__classPrivateFieldGet(this,_AssistantStream_messageSnapshot,"f"));break;case"text":this._emit("textDone",n.text,__classPrivateFieldGet(this,_AssistantStream_messageSnapshot,"f"));break}}__classPrivateFieldGet(this,_AssistantStream_messageSnapshot,"f")&&this._emit("messageDone",t.data),__classPrivateFieldSet(this,_AssistantStream_messageSnapshot,void 0,"f")}},_AssistantStream_handleRunStep=function e(t){const r=__classPrivateFieldGet(this,_AssistantStream_instances,"m",_AssistantStream_accumulateRunStep).call(this,t);switch(__classPrivateFieldSet(this,_AssistantStream_currentRunStepSnapshot,r,"f"),t.event){case"thread.run.step.created":this._emit("runStepCreated",t.data);break;case"thread.run.step.delta":const o=t.data.delta;if(o.step_details&&o.step_details.type=="tool_calls"&&o.step_details.tool_calls&&r.step_details.type=="tool_calls")for(const a of o.step_details.tool_calls)a.index==__classPrivateFieldGet(this,_AssistantStream_currentToolCallIndex,"f")?this._emit("toolCallDelta",a,r.step_details.tool_calls[a.index]):(__classPrivateFieldGet(this,_AssistantStream_currentToolCall,"f")&&this._emit("toolCallDone",__classPrivateFieldGet(this,_AssistantStream_currentToolCall,"f")),__classPrivateFieldSet(this,_AssistantStream_currentToolCallIndex,a.index,"f"),__classPrivateFieldSet(this,_AssistantStream_currentToolCall,r.step_details.tool_calls[a.index],"f"),__classPrivateFieldGet(this,_AssistantStream_currentToolCall,"f")&&this._emit("toolCallCreated",__classPrivateFieldGet(this,_AssistantStream_currentToolCall,"f")));this._emit("runStepDelta",t.data.delta,r);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":__classPrivateFieldSet(this,_AssistantStream_currentRunStepSnapshot,void 0,"f"),t.data.step_details.type=="tool_calls"&&__classPrivateFieldGet(this,_AssistantStream_currentToolCall,"f")&&(this._emit("toolCallDone",__classPrivateFieldGet(this,_AssistantStream_currentToolCall,"f")),__classPrivateFieldSet(this,_AssistantStream_currentToolCall,void 0,"f")),this._emit("runStepDone",t.data,r);break}},_AssistantStream_handleEvent=function e(t){__classPrivateFieldGet(this,_AssistantStream_events,"f").push(t),this._emit("event",t)},_AssistantStream_accumulateRunStep=function e(t){switch(t.event){case"thread.run.step.created":return __classPrivateFieldGet(this,_AssistantStream_runStepSnapshots,"f")[t.data.id]=t.data,t.data;case"thread.run.step.delta":let r=__classPrivateFieldGet(this,_AssistantStream_runStepSnapshots,"f")[t.data.id];if(!r)throw Error("Received a RunStepDelta before creation of a snapshot");let o=t.data;if(o.delta){const n=AssistantStream.accumulateDelta(r,o.delta);__classPrivateFieldGet(this,_AssistantStream_runStepSnapshots,"f")[t.data.id]=n}return __classPrivateFieldGet(this,_AssistantStream_runStepSnapshots,"f")[t.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":__classPrivateFieldGet(this,_AssistantStream_runStepSnapshots,"f")[t.data.id]=t.data;break}if(__classPrivateFieldGet(this,_AssistantStream_runStepSnapshots,"f")[t.data.id])return __classPrivateFieldGet(this,_AssistantStream_runStepSnapshots,"f")[t.data.id];throw new Error("No snapshot available")},_AssistantStream_accumulateMessage=function e(t,r){let o=[];switch(t.event){case"thread.message.created":return[t.data,o];case"thread.message.delta":if(!r)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let n=t.data;if(n.delta.content)for(const a of n.delta.content)if(a.index in r.content){let s=r.content[a.index];r.content[a.index]=__classPrivateFieldGet(this,_AssistantStream_instances,"m",_AssistantStream_accumulateContent).call(this,a,s)}else r.content[a.index]=a,o.push(a);return[r,o];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(r)return[r,o];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},_AssistantStream_accumulateContent=function e(t,r){return AssistantStream.accumulateDelta(r,t)},_AssistantStream_handleRun=function e(t){switch(__classPrivateFieldSet(this,_AssistantStream_currentRunSnapshot,t.data,"f"),t.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":__classPrivateFieldSet(this,_AssistantStream_finalRun,t.data,"f"),__classPrivateFieldGet(this,_AssistantStream_currentToolCall,"f")&&(this._emit("toolCallDone",__classPrivateFieldGet(this,_AssistantStream_currentToolCall,"f")),__classPrivateFieldSet(this,_AssistantStream_currentToolCall,void 0,"f"));break}};class Messages extends APIResource{create(t,r,o){return this._client.post(`/threads/${t}/messages`,{body:r,...o,headers:{"OpenAI-Beta":"assistants=v2",...o==null?void 0:o.headers}})}retrieve(t,r,o){return this._client.get(`/threads/${t}/messages/${r}`,{...o,headers:{"OpenAI-Beta":"assistants=v2",...o==null?void 0:o.headers}})}update(t,r,o,n){return this._client.post(`/threads/${t}/messages/${r}`,{body:o,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}list(t,r={},o){return isRequestOptions(r)?this.list(t,{},r):this._client.getAPIList(`/threads/${t}/messages`,MessagesPage,{query:r,...o,headers:{"OpenAI-Beta":"assistants=v2",...o==null?void 0:o.headers}})}del(t,r,o){return this._client.delete(`/threads/${t}/messages/${r}`,{...o,headers:{"OpenAI-Beta":"assistants=v2",...o==null?void 0:o.headers}})}}class MessagesPage extends CursorPage{}Messages.MessagesPage=MessagesPage;class Steps extends APIResource{retrieve(t,r,o,n={},a){return isRequestOptions(n)?this.retrieve(t,r,o,{},n):this._client.get(`/threads/${t}/runs/${r}/steps/${o}`,{query:n,...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}list(t,r,o={},n){return isRequestOptions(o)?this.list(t,r,{},o):this._client.getAPIList(`/threads/${t}/runs/${r}/steps`,RunStepsPage,{query:o,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class RunStepsPage extends CursorPage{}Steps.RunStepsPage=RunStepsPage;class Runs extends APIResource{constructor(){super(...arguments),this.steps=new Steps(this._client)}create(t,r,o){const{include:n,...a}=r;return this._client.post(`/threads/${t}/runs`,{query:{include:n},body:a,...o,headers:{"OpenAI-Beta":"assistants=v2",...o==null?void 0:o.headers},stream:r.stream??!1})}retrieve(t,r,o){return this._client.get(`/threads/${t}/runs/${r}`,{...o,headers:{"OpenAI-Beta":"assistants=v2",...o==null?void 0:o.headers}})}update(t,r,o,n){return this._client.post(`/threads/${t}/runs/${r}`,{body:o,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}list(t,r={},o){return isRequestOptions(r)?this.list(t,{},r):this._client.getAPIList(`/threads/${t}/runs`,RunsPage,{query:r,...o,headers:{"OpenAI-Beta":"assistants=v2",...o==null?void 0:o.headers}})}cancel(t,r,o){return this._client.post(`/threads/${t}/runs/${r}/cancel`,{...o,headers:{"OpenAI-Beta":"assistants=v2",...o==null?void 0:o.headers}})}async createAndPoll(t,r,o){const n=await this.create(t,r,o);return await this.poll(t,n.id,o)}createAndStream(t,r,o){return AssistantStream.createAssistantStream(t,this._client.beta.threads.runs,r,o)}async poll(t,r,o){const n={...o==null?void 0:o.headers,"X-Stainless-Poll-Helper":"true"};for(o!=null&&o.pollIntervalMs&&(n["X-Stainless-Custom-Poll-Interval"]=o.pollIntervalMs.toString());;){const{data:a,response:s}=await this.retrieve(t,r,{...o,headers:{...o==null?void 0:o.headers,...n}}).withResponse();switch(a.status){case"queued":case"in_progress":case"cancelling":let i=5e3;if(o!=null&&o.pollIntervalMs)i=o.pollIntervalMs;else{const u=s.headers.get("openai-poll-after-ms");if(u){const l=parseInt(u);isNaN(l)||(i=l)}}await sleep(i);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return a}}}stream(t,r,o){return AssistantStream.createAssistantStream(t,this._client.beta.threads.runs,r,o)}submitToolOutputs(t,r,o,n){return this._client.post(`/threads/${t}/runs/${r}/submit_tool_outputs`,{body:o,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers},stream:o.stream??!1})}async submitToolOutputsAndPoll(t,r,o,n){const a=await this.submitToolOutputs(t,r,o,n);return await this.poll(t,a.id,n)}submitToolOutputsStream(t,r,o,n){return AssistantStream.createToolAssistantStream(t,r,this._client.beta.threads.runs,o,n)}}class RunsPage extends CursorPage{}Runs.RunsPage=RunsPage;Runs.Steps=Steps;Runs.RunStepsPage=RunStepsPage;class Threads extends APIResource{constructor(){super(...arguments),this.runs=new Runs(this._client),this.messages=new Messages(this._client)}create(t={},r){return isRequestOptions(t)?this.create({},t):this._client.post("/threads",{body:t,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(t,r){return this._client.get(`/threads/${t}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(t,r,o){return this._client.post(`/threads/${t}`,{body:r,...o,headers:{"OpenAI-Beta":"assistants=v2",...o==null?void 0:o.headers}})}del(t,r){return this._client.delete(`/threads/${t}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}createAndRun(t,r){return this._client.post("/threads/runs",{body:t,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers},stream:t.stream??!1})}async createAndRunPoll(t,r){const o=await this.createAndRun(t,r);return await this.runs.poll(o.thread_id,o.id,r)}createAndRunStream(t,r){return AssistantStream.createThreadAssistantStream(t,this._client.beta.threads,r)}}Threads.Runs=Runs;Threads.RunsPage=RunsPage;Threads.Messages=Messages;Threads.MessagesPage=MessagesPage;const allSettledWithThrow=async e=>{const t=await Promise.allSettled(e),r=t.filter(n=>n.status==="rejected");if(r.length){for(const n of r)console.error(n.reason);throw new Error(`${r.length} promise(s) failed - see the above errors`)}const o=[];for(const n of t)n.status==="fulfilled"&&o.push(n.value);return o};let Files$1=class extends APIResource{create(t,r,o){return this._client.post(`/vector_stores/${t}/files`,{body:r,...o,headers:{"OpenAI-Beta":"assistants=v2",...o==null?void 0:o.headers}})}retrieve(t,r,o){return this._client.get(`/vector_stores/${t}/files/${r}`,{...o,headers:{"OpenAI-Beta":"assistants=v2",...o==null?void 0:o.headers}})}list(t,r={},o){return isRequestOptions(r)?this.list(t,{},r):this._client.getAPIList(`/vector_stores/${t}/files`,VectorStoreFilesPage,{query:r,...o,headers:{"OpenAI-Beta":"assistants=v2",...o==null?void 0:o.headers}})}del(t,r,o){return this._client.delete(`/vector_stores/${t}/files/${r}`,{...o,headers:{"OpenAI-Beta":"assistants=v2",...o==null?void 0:o.headers}})}async createAndPoll(t,r,o){const n=await this.create(t,r,o);return await this.poll(t,n.id,o)}async poll(t,r,o){const n={...o==null?void 0:o.headers,"X-Stainless-Poll-Helper":"true"};for(o!=null&&o.pollIntervalMs&&(n["X-Stainless-Custom-Poll-Interval"]=o.pollIntervalMs.toString());;){const a=await this.retrieve(t,r,{...o,headers:n}).withResponse(),s=a.data;switch(s.status){case"in_progress":let i=5e3;if(o!=null&&o.pollIntervalMs)i=o.pollIntervalMs;else{const u=a.response.headers.get("openai-poll-after-ms");if(u){const l=parseInt(u);isNaN(l)||(i=l)}}await sleep(i);break;case"failed":case"completed":return s}}}async upload(t,r,o){const n=await this._client.files.create({file:r,purpose:"assistants"},o);return this.create(t,{file_id:n.id},o)}async uploadAndPoll(t,r,o){const n=await this.upload(t,r,o);return await this.poll(t,n.id,o)}};class VectorStoreFilesPage extends CursorPage{}Files$1.VectorStoreFilesPage=VectorStoreFilesPage;class FileBatches extends APIResource{create(t,r,o){return this._client.post(`/vector_stores/${t}/file_batches`,{body:r,...o,headers:{"OpenAI-Beta":"assistants=v2",...o==null?void 0:o.headers}})}retrieve(t,r,o){return this._client.get(`/vector_stores/${t}/file_batches/${r}`,{...o,headers:{"OpenAI-Beta":"assistants=v2",...o==null?void 0:o.headers}})}cancel(t,r,o){return this._client.post(`/vector_stores/${t}/file_batches/${r}/cancel`,{...o,headers:{"OpenAI-Beta":"assistants=v2",...o==null?void 0:o.headers}})}async createAndPoll(t,r,o){const n=await this.create(t,r);return await this.poll(t,n.id,o)}listFiles(t,r,o={},n){return isRequestOptions(o)?this.listFiles(t,r,{},o):this._client.getAPIList(`/vector_stores/${t}/file_batches/${r}/files`,VectorStoreFilesPage,{query:o,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}async poll(t,r,o){const n={...o==null?void 0:o.headers,"X-Stainless-Poll-Helper":"true"};for(o!=null&&o.pollIntervalMs&&(n["X-Stainless-Custom-Poll-Interval"]=o.pollIntervalMs.toString());;){const{data:a,response:s}=await this.retrieve(t,r,{...o,headers:n}).withResponse();switch(a.status){case"in_progress":let i=5e3;if(o!=null&&o.pollIntervalMs)i=o.pollIntervalMs;else{const u=s.headers.get("openai-poll-after-ms");if(u){const l=parseInt(u);isNaN(l)||(i=l)}}await sleep(i);break;case"failed":case"cancelled":case"completed":return a}}}async uploadAndPoll(t,{files:r,fileIds:o=[]},n){if(r==null||r.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const a=(n==null?void 0:n.maxConcurrency)??5,s=Math.min(a,r.length),i=this._client,u=r.values(),l=[...o];async function m(E){for(let c of E){const p=await i.files.create({file:c,purpose:"assistants"},n);l.push(p.id)}}const f=Array(s).fill(u).map(m);return await allSettledWithThrow(f),await this.createAndPoll(t,{file_ids:l})}}class VectorStores extends APIResource{constructor(){super(...arguments),this.files=new Files$1(this._client),this.fileBatches=new FileBatches(this._client)}create(t,r){return this._client.post("/vector_stores",{body:t,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(t,r){return this._client.get(`/vector_stores/${t}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(t,r,o){return this._client.post(`/vector_stores/${t}`,{body:r,...o,headers:{"OpenAI-Beta":"assistants=v2",...o==null?void 0:o.headers}})}list(t={},r){return isRequestOptions(t)?this.list({},t):this._client.getAPIList("/vector_stores",VectorStoresPage,{query:t,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(t,r){return this._client.delete(`/vector_stores/${t}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}}class VectorStoresPage extends CursorPage{}VectorStores.VectorStoresPage=VectorStoresPage;VectorStores.Files=Files$1;VectorStores.VectorStoreFilesPage=VectorStoreFilesPage;VectorStores.FileBatches=FileBatches;class Beta extends APIResource{constructor(){super(...arguments),this.realtime=new Realtime(this._client),this.vectorStores=new VectorStores(this._client),this.chat=new Chat(this._client),this.assistants=new Assistants(this._client),this.threads=new Threads(this._client)}}Beta.Realtime=Realtime;Beta.VectorStores=VectorStores;Beta.VectorStoresPage=VectorStoresPage;Beta.Assistants=Assistants;Beta.AssistantsPage=AssistantsPage;Beta.Threads=Threads;class Completions extends APIResource{create(t,r){return this._client.post("/completions",{body:t,...r,stream:t.stream??!1})}}class Embeddings extends APIResource{create(t,r){return this._client.post("/embeddings",{body:t,...r})}}class Files extends APIResource{create(t,r){return this._client.post("/files",multipartFormRequestOptions({body:t,...r}))}retrieve(t,r){return this._client.get(`/files/${t}`,r)}list(t={},r){return isRequestOptions(t)?this.list({},t):this._client.getAPIList("/files",FileObjectsPage,{query:t,...r})}del(t,r){return this._client.delete(`/files/${t}`,r)}content(t,r){return this._client.get(`/files/${t}/content`,{...r,headers:{Accept:"application/binary",...r==null?void 0:r.headers},__binaryResponse:!0})}retrieveContent(t,r){return this._client.get(`/files/${t}/content`,r)}async waitForProcessing(t,{pollInterval:r=5e3,maxWait:o=30*60*1e3}={}){const n=new Set(["processed","error","deleted"]),a=Date.now();let s=await this.retrieve(t);for(;!s.status||!n.has(s.status);)if(await sleep(r),s=await this.retrieve(t),Date.now()-a>o)throw new APIConnectionTimeoutError({message:`Giving up on waiting for file ${t} to finish processing after ${o} milliseconds.`});return s}}class FileObjectsPage extends CursorPage{}Files.FileObjectsPage=FileObjectsPage;class Checkpoints extends APIResource{list(t,r={},o){return isRequestOptions(r)?this.list(t,{},r):this._client.getAPIList(`/fine_tuning/jobs/${t}/checkpoints`,FineTuningJobCheckpointsPage,{query:r,...o})}}class FineTuningJobCheckpointsPage extends CursorPage{}Checkpoints.FineTuningJobCheckpointsPage=FineTuningJobCheckpointsPage;class Jobs extends APIResource{constructor(){super(...arguments),this.checkpoints=new Checkpoints(this._client)}create(t,r){return this._client.post("/fine_tuning/jobs",{body:t,...r})}retrieve(t,r){return this._client.get(`/fine_tuning/jobs/${t}`,r)}list(t={},r){return isRequestOptions(t)?this.list({},t):this._client.getAPIList("/fine_tuning/jobs",FineTuningJobsPage,{query:t,...r})}cancel(t,r){return this._client.post(`/fine_tuning/jobs/${t}/cancel`,r)}listEvents(t,r={},o){return isRequestOptions(r)?this.listEvents(t,{},r):this._client.getAPIList(`/fine_tuning/jobs/${t}/events`,FineTuningJobEventsPage,{query:r,...o})}}class FineTuningJobsPage extends CursorPage{}class FineTuningJobEventsPage extends CursorPage{}Jobs.FineTuningJobsPage=FineTuningJobsPage;Jobs.FineTuningJobEventsPage=FineTuningJobEventsPage;Jobs.Checkpoints=Checkpoints;Jobs.FineTuningJobCheckpointsPage=FineTuningJobCheckpointsPage;class FineTuning extends APIResource{constructor(){super(...arguments),this.jobs=new Jobs(this._client)}}FineTuning.Jobs=Jobs;FineTuning.FineTuningJobsPage=FineTuningJobsPage;FineTuning.FineTuningJobEventsPage=FineTuningJobEventsPage;class Images extends APIResource{createVariation(t,r){return this._client.post("/images/variations",multipartFormRequestOptions({body:t,...r}))}edit(t,r){return this._client.post("/images/edits",multipartFormRequestOptions({body:t,...r}))}generate(t,r){return this._client.post("/images/generations",{body:t,...r})}}class Models extends APIResource{retrieve(t,r){return this._client.get(`/models/${t}`,r)}list(t){return this._client.getAPIList("/models",ModelsPage,t)}del(t,r){return this._client.delete(`/models/${t}`,r)}}class ModelsPage extends Page{}Models.ModelsPage=ModelsPage;class Moderations extends APIResource{create(t,r){return this._client.post("/moderations",{body:t,...r})}}class Parts extends APIResource{create(t,r,o){return this._client.post(`/uploads/${t}/parts`,multipartFormRequestOptions({body:r,...o}))}}class Uploads extends APIResource{constructor(){super(...arguments),this.parts=new Parts(this._client)}create(t,r){return this._client.post("/uploads",{body:t,...r})}cancel(t,r){return this._client.post(`/uploads/${t}/cancel`,r)}complete(t,r,o){return this._client.post(`/uploads/${t}/complete`,{body:r,...o})}}Uploads.Parts=Parts;var _a$1;class OpenAI extends APIClient{constructor({baseURL:t=readEnv("OPENAI_BASE_URL"),apiKey:r=readEnv("OPENAI_API_KEY"),organization:o=readEnv("OPENAI_ORG_ID")??null,project:n=readEnv("OPENAI_PROJECT_ID")??null,...a}={}){if(r===void 0)throw new OpenAIError("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");const s={apiKey:r,organization:o,project:n,...a,baseURL:t||"https://api.openai.com/v1"};if(!s.dangerouslyAllowBrowser&&isRunningInBrowser())throw new OpenAIError(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);super({baseURL:s.baseURL,timeout:s.timeout??6e5,httpAgent:s.httpAgent,maxRetries:s.maxRetries,fetch:s.fetch}),this.completions=new Completions(this),this.chat=new Chat$1(this),this.embeddings=new Embeddings(this),this.files=new Files(this),this.images=new Images(this),this.audio=new Audio(this),this.moderations=new Moderations(this),this.models=new Models(this),this.fineTuning=new FineTuning(this),this.beta=new Beta(this),this.batches=new Batches(this),this.uploads=new Uploads(this),this._options=s,this.apiKey=r,this.organization=o,this.project=n}defaultQuery(){return this._options.defaultQuery}defaultHeaders(t){return{...super.defaultHeaders(t),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project,...this._options.defaultHeaders}}authHeaders(t){return{Authorization:`Bearer ${this.apiKey}`}}stringifyQuery(t){return stringify(t,{arrayFormat:"brackets"})}}_a$1=OpenAI;OpenAI.OpenAI=_a$1;OpenAI.DEFAULT_TIMEOUT=6e5;OpenAI.OpenAIError=OpenAIError;OpenAI.APIError=APIError;OpenAI.APIConnectionError=APIConnectionError;OpenAI.APIConnectionTimeoutError=APIConnectionTimeoutError;OpenAI.APIUserAbortError=APIUserAbortError;OpenAI.NotFoundError=NotFoundError;OpenAI.ConflictError=ConflictError;OpenAI.RateLimitError=RateLimitError;OpenAI.BadRequestError=BadRequestError;OpenAI.AuthenticationError=AuthenticationError;OpenAI.InternalServerError=InternalServerError;OpenAI.PermissionDeniedError=PermissionDeniedError;OpenAI.UnprocessableEntityError=UnprocessableEntityError;OpenAI.toFile=toFile;OpenAI.fileFromPath=fileFromPath;OpenAI.Completions=Completions;OpenAI.Chat=Chat$1;OpenAI.ChatCompletionsPage=ChatCompletionsPage;OpenAI.Embeddings=Embeddings;OpenAI.Files=Files;OpenAI.FileObjectsPage=FileObjectsPage;OpenAI.Images=Images;OpenAI.Audio=Audio;OpenAI.Moderations=Moderations;OpenAI.Models=Models;OpenAI.ModelsPage=ModelsPage;OpenAI.FineTuning=FineTuning;OpenAI.Beta=Beta;OpenAI.Batches=Batches;OpenAI.BatchesPage=BatchesPage;OpenAI.Uploads=Uploads;let b=class{constructor(e){this.baseURL=(e==null?void 0:e.baseURL)??"https://api.openai.com/v1",this.apiKey=(e==null?void 0:e.apiKey)??"",this.defaultModel=(e==null?void 0:e.defaultModel)??"gpt-3.5-turbo",this._api=new OpenAI({apiKey:this.apiKey,baseURL:this.baseURL,dangerouslyAllowBrowser:!0}),this._axios=axios.create({baseURL:this.baseURL,headers:{Authorization:`Bearer ${this.apiKey}`}})}loadDict(e){this.baseURL=(e==null?void 0:e.baseURL)??"https://api.openai.com/v1",this.apiKey=(e==null?void 0:e.apiKey)??"",this.defaultModel=(e==null?void 0:e.defaultModel)??"gpt-3.5-turbo"}async createChat__(e,t){return this._api.chat.completions.create(e,t)}async createChat(e,t){const r=await this._axios.post("/chat/completions",e,t);return r==null?void 0:r.data}async*createChatStream(e){var t;try{const r=await fetch(`${this.baseURL}/chat/completions`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.apiKey}`},body:JSON.stringify(e)});if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);const o=r.body.getReader(),n=new TextDecoder("utf-8");let a="";for(;;){const{done:s,value:i}=await o.read();if(s)break;const u=n.decode(i,{stream:!0});a+=u;const l=a.split(`
`);a=l.pop()??"";for(const m of l)if((t=m.trim())!=null&&t.length)try{const f=m.trim().slice(5).trim();if(f=="[DONE]"){yield{done:!0};continue}yield JSON.parse(f)}catch(f){console.error("Error parsing JSON:",f)}}}catch(r){throw console.error("Error streaming LLM JSON data:",r),r}}async chat(e,t=void 0,r=[],o={}){var n,a;const s=await this.createChat({model:this.defaultModel,messages:[...t!=null&&t.length?[{role:"system",content:t}]:[],...r??[],{role:"user",content:e}],temperature:.4,...o??{}}),{choices:i=[]}=s;return(a=(n=i==null?void 0:i[0])==null?void 0:n.message)==null?void 0:a.content}async*chatStream(e,t=void 0,r=[],o={},n=!1){var a,s,i;for await(const u of this.createChatStream({model:this.defaultModel,messages:[...t!=null&&t.length?[{role:"system",content:t}]:[],...r??[],...n?[]:[{role:"user",content:e}]],temperature:.4,stream:!0,...o??{}})){if(u.done){yield{done:!0};break}yield(i=(s=(a=u==null?void 0:u.choices)==null?void 0:a[0])==null?void 0:s.delta)==null?void 0:i.content}}setAPIKey(e){this.apiKey=e,this._api.apiKey=e}setBaseURL(e){this.baseURL=e,this._api.baseURL=e}async listModels(){return(await this._axios.get("/models")).data}};const S="[<[([[TASK]])]>]",k="[<[([[REQ]])]>]",w="[<[([[RES]])]>]",O='\nJSON\n\n```[<[([[TASK]])]>]```\n\n```[<[([[REQ]])]>]```\nJSON\n```[<[([[RES]])]>]```\n\n- JSONmarkdown"\\`\\`\\`json...\\`\\`\\`"\n- JSON_msg\n'.trim(),M='\nYou are an AI function, which returns the processing result according to the parameters input by the user and outputs in JSON format.\nYour task is:\n```[<[([[TASK]])]>]```\nThe input format you accept is:\n```[<[([[REQ]])]>]```\nYou should return a JSON object in the format:\n```[<[([[RES]])]>]```\nNote:\n- You are a function, can only return JSON format, cannot return natural language content, and cannot attach markdown code block tags (i.e. a block wrapped in three backticks "\\`\\`\\`json...\\`\\`\\`").\n- If you really want to explain something, you can attach a `_msg` sting field in the returned JSON object, but it\'s not recommended.\n'.trim();class v{constructor(t){var r,o,n,a,s,i,u;this.name=(t==null?void 0:t.name)??"",this.desc=(t==null?void 0:t.desc)??"",this.ai=new b(t==null?void 0:t.ai),this.task=(t==null?void 0:t.task)??"",this.reqFormat=(t==null?void 0:t.reqFormat)??"",this.resFormat=(t==null?void 0:t.resFormat)??"",_.isString(this.resFormat)||(this.resFormat=JSON.stringify(this.resFormat)),this.template=((r=t==null?void 0:t.template)!=null&&r.length?t==null?void 0:t.template:null)??M??O,this.taskMark=((o=t==null?void 0:t.taskMark)!=null&&o.length?t==null?void 0:t.taskMark:null)??S,this.reqMark=((n=t==null?void 0:t.reqMark)!=null&&n.length?t==null?void 0:t.reqMark:null)??k,this.resMark=((a=t==null?void 0:t.resMark)!=null&&a.length?t==null?void 0:t.resMark:null)??w,this.instruction=(u=(i=(s=t==null?void 0:t.instruction)==null?void 0:s.trim)==null?void 0:i.call(s))!=null&&u.length?t==null?void 0:t.instruction:this.makeInstruction(),this.schema=t==null?void 0:t.schema}makeInstruction(t=this.task,r=this.reqFormat,o=this.resFormat){return this.template.replace(this.taskMark,t).replace(this.reqMark,r).replace(this.resMark,o)}async doTask(t,r=[],o={}){const n=_.isString(t)?t:JSON.stringify(t);let a=await this.ai.chat(n,this.instruction,r,o)??"";a=a.trim(),a.slice(0,3)=="```"&&(a=a.replace(/^```[^\n]+\n|```$/g,"").trim());try{return lib$2.parse(a)}catch(s){return{_error:"NOT_JSON",_output:a,_errorString:String(s)}}}async*doTaskStream(t,r=[],o={}){const n=_.isString(t)?t:JSON.stringify(t);for await(const a of this.ai.chatStream(n,this.instruction,r,o))yield a}}const L=[{name:"",desc:"",instruction:`
    
    JSON
    
    
    - name: 
    - desc: 
    - task: 
    - reqFormat: JSON
    - resFormat:  JSON Schema JSONJSON
    JSON
    
    - JSONmarkdown"\\\`\\\`\\\`json...\\\`\\\`\\\`"
    - JSON_msg
    `.trim(),requestExamples:["LaTeX()","","JavaScriptJS",""]},{name:"",desc:"",task:"texttypetexttype",reqFormat:"",resFormat:'[{"text": "1", "type": "1"}, {"text": "2", "type": "2"}, ...]',requestExamples:["","","","104","",""]},{name:"",desc:"",task:"",reqFormat:"(LaTeX)",resFormat:'{"steps": string[], "result": any, "_error"?: any, "_msg"?: }',requestExamples:["(|3^2-4^3|)"]},{name:"",desc:"",task:"",reqFormat:"",resFormat:'{ "answer": , "_msg":  }'}],A=[{name:"DeepSeek",type:"ChatSupplier",desc:"DeepSeek",docUrl:"https://platform.deepseek.com/docs",baseUrl:"https://api.deepseek.com/v1",defaultModel:"deepseek-chat",chatUrl:"/chat/completions",modelsUrl:"/models"},{name:"",type:"ChatSupplier",desc:"",docUrl:"https://help.aliyun.com/zh/model-studio/user-guide/multi-round-conversation?spm=a2c4g.11186623.help-menu-2400256.d_1_0_0_4.1b54b0a8Obvgrf",baseUrl:"https://dashscope.aliyuncs.com/compatible-mode/v1",defaultModel:"deepseek-v3",chatUrl:"/chat/completions",modelsUrl:"/models"},{name:"",type:"ChatSupplier",desc:"",docUrl:"https://doc.zhizengzeng.com/",baseUrl:"https://api.zhizengzeng.com/v1",defaultModel:"deepseek-chat",chatUrl:"/chat/completions",modelsUrl:"/models"},{name:"",type:"ChatSupplier",desc:"",docUrl:"https://docs.siliconflow.cn/",baseUrl:"https://api.siliconflow.cn/v1",defaultModel:"deepseek-ai/DeepSeek-V3",chatUrl:"/chat/completions",modelsUrl:"/models"},{name:"ZhiPu",type:"ChatSupplier",desc:"",docUrl:"https://open.bigmodel.cn/dev/api",baseUrl:"https://open.bigmodel.cn/api/paas/v4",defaultModel:"glm-4",chatUrl:"/chat/completions",modelsUrl:"/models",models:[{id:"glm-4"},{id:"glm-4-air"},{id:"glm-4-flash"},{id:"glm-3-turbo"}]},{name:"Moonshot",type:"ChatSupplier",desc:"Moonshot",docUrl:"https://platform.moonshot.cn/docs/api-reference",baseUrl:"https://api.moonshot.cn/v1",defaultModel:"moonshot-v1-8k",chatUrl:"/chat/completions",modelsUrl:"/models",balanceUrl:"/users/me/balance",countTokenUrl:"/tokenizers/estimate-token-count"},{name:"OpenAI",type:"ChatSupplier",desc:"OpenAI",docUrl:"https://platform.openai.com/docs/api-reference/chat",baseUrl:"https://api.openai.com/v1",defaultModel:"gpt-3.5-turbo",chatUrl:"/chat/completions",modelsUrl:"/models",notes:`
    https://cookbook.openai.com/examples/how_to_count_tokens_with_tiktoken
    `.trim()},{name:"",type:"ChatSupplier",desc:"",docUrl:"",baseUrl:"https://api.132999.xyz/v1",defaultModel:"gpt-3.5-turbo",chatUrl:"/chat/completions",modelsUrl:"/models"}],DEFAULT_MODEL={label:"[[<DEFAULT>]]"},defaultBatchConfig={inputTemplate:"____",slotMark:"____",slotMarkIsRegExp:!1,itemsText:"  ",splitter:"[\\s\\n]+",splitterIsRegExp:!0,concurrency:1,showMore:!1,skip:0,limit:1/0,delay:700,retry:3,retryDaley:1e4,retryDaleyDelta:5e3},defaultTaskMark="[<[([[TASK]])]>]",defaultReqMark="[<[([[REQ]])]>]",defaultResMark="[<[([[RES]])]>]",defaultInstructionTemplateEN='\nYou are an AI function, which returns the processing result according to the parameters input by the user and outputs in JSON format.\nYour task is:\n```[<[([[TASK]])]>]```\nThe input format you accept is:\n```[<[([[REQ]])]>]```\nYou should return a JSON object in the format:\n```[<[([[RES]])]>]```\nNote:\n- You are a function, can only return JSON format, cannot return natural language content, and cannot attach markdown code block tags (i.e. a block wrapped in three backticks "\\`\\`\\`json...\\`\\`\\`").\n- If you really want to explain something, you can attach a `_msg` sting field in the returned JSON object, but it\'s not recommended.\n'.trim(),decodeCache={};function getDecodeCache(e){let t=decodeCache[e];if(t)return t;t=decodeCache[e]=[];for(let r=0;r<128;r++){const o=String.fromCharCode(r);t.push(o)}for(let r=0;r<e.length;r++){const o=e.charCodeAt(r);t[o]="%"+("0"+o.toString(16).toUpperCase()).slice(-2)}return t}function decode$1(e,t){typeof t!="string"&&(t=decode$1.defaultChars);const r=getDecodeCache(t);return e.replace(/(%[a-f0-9]{2})+/gi,function(o){let n="";for(let a=0,s=o.length;a<s;a+=3){const i=parseInt(o.slice(a+1,a+3),16);if(i<128){n+=r[i];continue}if((i&224)===192&&a+3<s){const u=parseInt(o.slice(a+4,a+6),16);if((u&192)===128){const l=i<<6&1984|u&63;l<128?n+="":n+=String.fromCharCode(l),a+=3;continue}}if((i&240)===224&&a+6<s){const u=parseInt(o.slice(a+4,a+6),16),l=parseInt(o.slice(a+7,a+9),16);if((u&192)===128&&(l&192)===128){const m=i<<12&61440|u<<6&4032|l&63;m<2048||m>=55296&&m<=57343?n+="":n+=String.fromCharCode(m),a+=6;continue}}if((i&248)===240&&a+9<s){const u=parseInt(o.slice(a+4,a+6),16),l=parseInt(o.slice(a+7,a+9),16),m=parseInt(o.slice(a+10,a+12),16);if((u&192)===128&&(l&192)===128&&(m&192)===128){let f=i<<18&1835008|u<<12&258048|l<<6&4032|m&63;f<65536||f>1114111?n+="":(f-=65536,n+=String.fromCharCode(55296+(f>>10),56320+(f&1023))),a+=9;continue}}n+=""}return n})}decode$1.defaultChars=";/?:@&=+$,#";decode$1.componentChars="";const encodeCache={};function getEncodeCache(e){let t=encodeCache[e];if(t)return t;t=encodeCache[e]=[];for(let r=0;r<128;r++){const o=String.fromCharCode(r);/^[0-9a-z]$/i.test(o)?t.push(o):t.push("%"+("0"+r.toString(16).toUpperCase()).slice(-2))}for(let r=0;r<e.length;r++)t[e.charCodeAt(r)]=e[r];return t}function encode$1(e,t,r){typeof t!="string"&&(r=t,t=encode$1.defaultChars),typeof r>"u"&&(r=!0);const o=getEncodeCache(t);let n="";for(let a=0,s=e.length;a<s;a++){const i=e.charCodeAt(a);if(r&&i===37&&a+2<s&&/^[0-9a-f]{2}$/i.test(e.slice(a+1,a+3))){n+=e.slice(a,a+3),a+=2;continue}if(i<128){n+=o[i];continue}if(i>=55296&&i<=57343){if(i>=55296&&i<=56319&&a+1<s){const u=e.charCodeAt(a+1);if(u>=56320&&u<=57343){n+=encodeURIComponent(e[a]+e[a+1]),a++;continue}}n+="%EF%BF%BD";continue}n+=encodeURIComponent(e[a])}return n}encode$1.defaultChars=";/?:@&=+$,-_.!~*'()#";encode$1.componentChars="-_.!~*'()";function format(e){let t="";return t+=e.protocol||"",t+=e.slashes?"//":"",t+=e.auth?e.auth+"@":"",e.hostname&&e.hostname.indexOf(":")!==-1?t+="["+e.hostname+"]":t+=e.hostname||"",t+=e.port?":"+e.port:"",t+=e.pathname||"",t+=e.search||"",t+=e.hash||"",t}function Url(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}const protocolPattern=/^([a-z0-9.+-]+:)/i,portPattern=/:[0-9]*$/,simplePathPattern=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,delims=["<",">",'"',"`"," ","\r",`
`,"	"],unwise=["{","}","|","\\","^","`"].concat(delims),autoEscape=["'"].concat(unwise),nonHostChars=["%","/","?",";","#"].concat(autoEscape),hostEndingChars=["/","?","#"],hostnameMaxLen=255,hostnamePartPattern=/^[+a-z0-9A-Z_-]{0,63}$/,hostnamePartStart=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,hostlessProtocol={javascript:!0,"javascript:":!0},slashedProtocol={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function urlParse(e,t){if(e&&e instanceof Url)return e;const r=new Url;return r.parse(e,t),r}Url.prototype.parse=function(e,t){let r,o,n,a=e;if(a=a.trim(),!t&&e.split("#").length===1){const l=simplePathPattern.exec(a);if(l)return this.pathname=l[1],l[2]&&(this.search=l[2]),this}let s=protocolPattern.exec(a);if(s&&(s=s[0],r=s.toLowerCase(),this.protocol=s,a=a.substr(s.length)),(t||s||a.match(/^\/\/[^@\/]+@[^@\/]+/))&&(n=a.substr(0,2)==="//",n&&!(s&&hostlessProtocol[s])&&(a=a.substr(2),this.slashes=!0)),!hostlessProtocol[s]&&(n||s&&!slashedProtocol[s])){let l=-1;for(let p=0;p<hostEndingChars.length;p++)o=a.indexOf(hostEndingChars[p]),o!==-1&&(l===-1||o<l)&&(l=o);let m,f;l===-1?f=a.lastIndexOf("@"):f=a.lastIndexOf("@",l),f!==-1&&(m=a.slice(0,f),a=a.slice(f+1),this.auth=m),l=-1;for(let p=0;p<nonHostChars.length;p++)o=a.indexOf(nonHostChars[p]),o!==-1&&(l===-1||o<l)&&(l=o);l===-1&&(l=a.length),a[l-1]===":"&&l--;const E=a.slice(0,l);a=a.slice(l),this.parseHost(E),this.hostname=this.hostname||"";const c=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!c){const p=this.hostname.split(/\./);for(let d=0,x=p.length;d<x;d++){const y=p[d];if(y&&!y.match(hostnamePartPattern)){let R="";for(let B=0,F=y.length;B<F;B++)y.charCodeAt(B)>127?R+="x":R+=y[B];if(!R.match(hostnamePartPattern)){const B=p.slice(0,d),F=p.slice(d+1),T=y.match(hostnamePartStart);T&&(B.push(T[1]),F.unshift(T[2])),F.length&&(a=F.join(".")+a),this.hostname=B.join(".");break}}}}this.hostname.length>hostnameMaxLen&&(this.hostname=""),c&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}const i=a.indexOf("#");i!==-1&&(this.hash=a.substr(i),a=a.slice(0,i));const u=a.indexOf("?");return u!==-1&&(this.search=a.substr(u),a=a.slice(0,u)),a&&(this.pathname=a),slashedProtocol[r]&&this.hostname&&!this.pathname&&(this.pathname=""),this};Url.prototype.parseHost=function(e){let t=portPattern.exec(e);t&&(t=t[0],t!==":"&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)};const mdurl=Object.freeze(Object.defineProperty({__proto__:null,decode:decode$1,encode:encode$1,format,parse:urlParse},Symbol.toStringTag,{value:"Module"})),Any=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,Cc=/[\0-\x1F\x7F-\x9F]/,regex$1=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u0890\u0891\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD80D[\uDC30-\uDC3F]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/,P=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/,regex=/[\$\+<->\^`\|~\xA2-\xA6\xA8\xA9\xAC\xAE-\xB1\xB4\xB8\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u0384\u0385\u03F6\u0482\u058D-\u058F\u0606-\u0608\u060B\u060E\u060F\u06DE\u06E9\u06FD\u06FE\u07F6\u07FE\u07FF\u0888\u09F2\u09F3\u09FA\u09FB\u0AF1\u0B70\u0BF3-\u0BFA\u0C7F\u0D4F\u0D79\u0E3F\u0F01-\u0F03\u0F13\u0F15-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE\u0FCF\u0FD5-\u0FD8\u109E\u109F\u1390-\u1399\u166D\u17DB\u1940\u19DE-\u19FF\u1B61-\u1B6A\u1B74-\u1B7C\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2044\u2052\u207A-\u207C\u208A-\u208C\u20A0-\u20C0\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2307\u230C-\u2328\u232B-\u2426\u2440-\u244A\u249C-\u24E9\u2500-\u2767\u2794-\u27C4\u27C7-\u27E5\u27F0-\u2982\u2999-\u29D7\u29DC-\u29FB\u29FE-\u2B73\u2B76-\u2B95\u2B97-\u2BFF\u2CE5-\u2CEA\u2E50\u2E51\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFF\u3004\u3012\u3013\u3020\u3036\u3037\u303E\u303F\u309B\u309C\u3190\u3191\u3196-\u319F\u31C0-\u31E3\u31EF\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uAA77-\uAA79\uAB5B\uAB6A\uAB6B\uFB29\uFBB2-\uFBC2\uFD40-\uFD4F\uFDCF\uFDFC-\uFDFF\uFE62\uFE64-\uFE66\uFE69\uFF04\uFF0B\uFF1C-\uFF1E\uFF3E\uFF40\uFF5C\uFF5E\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC]|\uD802[\uDC77\uDC78\uDEC8]|\uD805\uDF3F|\uD807[\uDFD5-\uDFF1]|\uD81A[\uDF3C-\uDF3F\uDF45]|\uD82F\uDC9C|\uD833[\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85\uDE86]|\uD838[\uDD4F\uDEFF]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED7\uDEDC-\uDEEC\uDEF0-\uDEFC\uDF00-\uDF76\uDF7B-\uDFD9\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0\uDCB1\uDD00-\uDE53\uDE60-\uDE6D\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC5\uDECE-\uDEDB\uDEE0-\uDEE8\uDEF0-\uDEF8\uDF00-\uDF92\uDF94-\uDFCA]/,Z=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,ucmicro=Object.freeze(Object.defineProperty({__proto__:null,Any,Cc,Cf:regex$1,P,S:regex,Z},Symbol.toStringTag,{value:"Module"})),htmlDecodeTree=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(e=>e.charCodeAt(0))),xmlDecodeTree=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(e=>e.charCodeAt(0)));var _a;const decodeMap=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),fromCodePoint$1=(_a=String.fromCodePoint)!==null&&_a!==void 0?_a:function(e){let t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|e&1023),t+=String.fromCharCode(e),t};function replaceCodePoint(e){var t;return e>=55296&&e<=57343||e>1114111?65533:(t=decodeMap.get(e))!==null&&t!==void 0?t:e}var CharCodes;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(CharCodes||(CharCodes={}));const TO_LOWER_BIT=32;var BinTrieFlags;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(BinTrieFlags||(BinTrieFlags={}));function isNumber(e){return e>=CharCodes.ZERO&&e<=CharCodes.NINE}function isHexadecimalCharacter(e){return e>=CharCodes.UPPER_A&&e<=CharCodes.UPPER_F||e>=CharCodes.LOWER_A&&e<=CharCodes.LOWER_F}function isAsciiAlphaNumeric(e){return e>=CharCodes.UPPER_A&&e<=CharCodes.UPPER_Z||e>=CharCodes.LOWER_A&&e<=CharCodes.LOWER_Z||isNumber(e)}function isEntityInAttributeInvalidEnd(e){return e===CharCodes.EQUALS||isAsciiAlphaNumeric(e)}var EntityDecoderState;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(EntityDecoderState||(EntityDecoderState={}));var DecodingMode;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(DecodingMode||(DecodingMode={}));class EntityDecoder{constructor(t,r,o){this.decodeTree=t,this.emitCodePoint=r,this.errors=o,this.state=EntityDecoderState.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=DecodingMode.Strict}startEntity(t){this.decodeMode=t,this.state=EntityDecoderState.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,r){switch(this.state){case EntityDecoderState.EntityStart:return t.charCodeAt(r)===CharCodes.NUM?(this.state=EntityDecoderState.NumericStart,this.consumed+=1,this.stateNumericStart(t,r+1)):(this.state=EntityDecoderState.NamedEntity,this.stateNamedEntity(t,r));case EntityDecoderState.NumericStart:return this.stateNumericStart(t,r);case EntityDecoderState.NumericDecimal:return this.stateNumericDecimal(t,r);case EntityDecoderState.NumericHex:return this.stateNumericHex(t,r);case EntityDecoderState.NamedEntity:return this.stateNamedEntity(t,r)}}stateNumericStart(t,r){return r>=t.length?-1:(t.charCodeAt(r)|TO_LOWER_BIT)===CharCodes.LOWER_X?(this.state=EntityDecoderState.NumericHex,this.consumed+=1,this.stateNumericHex(t,r+1)):(this.state=EntityDecoderState.NumericDecimal,this.stateNumericDecimal(t,r))}addToNumericResult(t,r,o,n){if(r!==o){const a=o-r;this.result=this.result*Math.pow(n,a)+parseInt(t.substr(r,a),n),this.consumed+=a}}stateNumericHex(t,r){const o=r;for(;r<t.length;){const n=t.charCodeAt(r);if(isNumber(n)||isHexadecimalCharacter(n))r+=1;else return this.addToNumericResult(t,o,r,16),this.emitNumericEntity(n,3)}return this.addToNumericResult(t,o,r,16),-1}stateNumericDecimal(t,r){const o=r;for(;r<t.length;){const n=t.charCodeAt(r);if(isNumber(n))r+=1;else return this.addToNumericResult(t,o,r,10),this.emitNumericEntity(n,2)}return this.addToNumericResult(t,o,r,10),-1}emitNumericEntity(t,r){var o;if(this.consumed<=r)return(o=this.errors)===null||o===void 0||o.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===CharCodes.SEMI)this.consumed+=1;else if(this.decodeMode===DecodingMode.Strict)return 0;return this.emitCodePoint(replaceCodePoint(this.result),this.consumed),this.errors&&(t!==CharCodes.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,r){const{decodeTree:o}=this;let n=o[this.treeIndex],a=(n&BinTrieFlags.VALUE_LENGTH)>>14;for(;r<t.length;r++,this.excess++){const s=t.charCodeAt(r);if(this.treeIndex=determineBranch(o,n,this.treeIndex+Math.max(1,a),s),this.treeIndex<0)return this.result===0||this.decodeMode===DecodingMode.Attribute&&(a===0||isEntityInAttributeInvalidEnd(s))?0:this.emitNotTerminatedNamedEntity();if(n=o[this.treeIndex],a=(n&BinTrieFlags.VALUE_LENGTH)>>14,a!==0){if(s===CharCodes.SEMI)return this.emitNamedEntityData(this.treeIndex,a,this.consumed+this.excess);this.decodeMode!==DecodingMode.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;const{result:r,decodeTree:o}=this,n=(o[r]&BinTrieFlags.VALUE_LENGTH)>>14;return this.emitNamedEntityData(r,n,this.consumed),(t=this.errors)===null||t===void 0||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,r,o){const{decodeTree:n}=this;return this.emitCodePoint(r===1?n[t]&~BinTrieFlags.VALUE_LENGTH:n[t+1],o),r===3&&this.emitCodePoint(n[t+2],o),o}end(){var t;switch(this.state){case EntityDecoderState.NamedEntity:return this.result!==0&&(this.decodeMode!==DecodingMode.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case EntityDecoderState.NumericDecimal:return this.emitNumericEntity(0,2);case EntityDecoderState.NumericHex:return this.emitNumericEntity(0,3);case EntityDecoderState.NumericStart:return(t=this.errors)===null||t===void 0||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case EntityDecoderState.EntityStart:return 0}}}function getDecoder(e){let t="";const r=new EntityDecoder(e,o=>t+=fromCodePoint$1(o));return function(n,a){let s=0,i=0;for(;(i=n.indexOf("&",i))>=0;){t+=n.slice(s,i),r.startEntity(a);const l=r.write(n,i+1);if(l<0){s=i+r.end();break}s=i+l,i=l===0?s+1:s}const u=t+n.slice(s);return t="",u}}function determineBranch(e,t,r,o){const n=(t&BinTrieFlags.BRANCH_LENGTH)>>7,a=t&BinTrieFlags.JUMP_TABLE;if(n===0)return a!==0&&o===a?r:-1;if(a){const u=o-a;return u<0||u>=n?-1:e[r+u]-1}let s=r,i=s+n-1;for(;s<=i;){const u=s+i>>>1,l=e[u];if(l<o)s=u+1;else if(l>o)i=u-1;else return e[u+n]}return-1}const htmlDecoder=getDecoder(htmlDecodeTree);getDecoder(xmlDecodeTree);function decodeHTML(e,t=DecodingMode.Legacy){return htmlDecoder(e,t)}function _class$1(e){return Object.prototype.toString.call(e)}function isString$1(e){return _class$1(e)==="[object String]"}const _hasOwnProperty=Object.prototype.hasOwnProperty;function has(e,t){return _hasOwnProperty.call(e,t)}function assign$1(e){return Array.prototype.slice.call(arguments,1).forEach(function(r){if(r){if(typeof r!="object")throw new TypeError(r+"must be object");Object.keys(r).forEach(function(o){e[o]=r[o]})}}),e}function arrayReplaceAt(e,t,r){return[].concat(e.slice(0,t),r,e.slice(t+1))}function isValidEntityCode(e){return!(e>=55296&&e<=57343||e>=64976&&e<=65007||(e&65535)===65535||(e&65535)===65534||e>=0&&e<=8||e===11||e>=14&&e<=31||e>=127&&e<=159||e>1114111)}function fromCodePoint(e){if(e>65535){e-=65536;const t=55296+(e>>10),r=56320+(e&1023);return String.fromCharCode(t,r)}return String.fromCharCode(e)}const UNESCAPE_MD_RE=/\\([!"#$%&'()*+,\-./:;<=>?@[\\\]^_`{|}~])/g,ENTITY_RE=/&([a-z#][a-z0-9]{1,31});/gi,UNESCAPE_ALL_RE=new RegExp(UNESCAPE_MD_RE.source+"|"+ENTITY_RE.source,"gi"),DIGITAL_ENTITY_TEST_RE=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))$/i;function replaceEntityPattern(e,t){if(t.charCodeAt(0)===35&&DIGITAL_ENTITY_TEST_RE.test(t)){const o=t[1].toLowerCase()==="x"?parseInt(t.slice(2),16):parseInt(t.slice(1),10);return isValidEntityCode(o)?fromCodePoint(o):e}const r=decodeHTML(e);return r!==e?r:e}function unescapeMd(e){return e.indexOf("\\")<0?e:e.replace(UNESCAPE_MD_RE,"$1")}function unescapeAll(e){return e.indexOf("\\")<0&&e.indexOf("&")<0?e:e.replace(UNESCAPE_ALL_RE,function(t,r,o){return r||replaceEntityPattern(t,o)})}const HTML_ESCAPE_TEST_RE=/[&<>"]/,HTML_ESCAPE_REPLACE_RE=/[&<>"]/g,HTML_REPLACEMENTS={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function replaceUnsafeChar(e){return HTML_REPLACEMENTS[e]}function escapeHtml(e){return HTML_ESCAPE_TEST_RE.test(e)?e.replace(HTML_ESCAPE_REPLACE_RE,replaceUnsafeChar):e}const REGEXP_ESCAPE_RE=/[.?*+^$[\]\\(){}|-]/g;function escapeRE$1(e){return e.replace(REGEXP_ESCAPE_RE,"\\$&")}function isSpace(e){switch(e){case 9:case 32:return!0}return!1}function isWhiteSpace(e){if(e>=8192&&e<=8202)return!0;switch(e){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}function isPunctChar(e){return P.test(e)||regex.test(e)}function isMdAsciiPunct(e){switch(e){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}function normalizeReference(e){return e=e.trim().replace(/\s+/g," "),"".toLowerCase()===""&&(e=e.replace(//g,"")),e.toLowerCase().toUpperCase()}const lib={mdurl,ucmicro},utils=Object.freeze(Object.defineProperty({__proto__:null,arrayReplaceAt,assign:assign$1,escapeHtml,escapeRE:escapeRE$1,fromCodePoint,has,isMdAsciiPunct,isPunctChar,isSpace,isString:isString$1,isValidEntityCode,isWhiteSpace,lib,normalizeReference,unescapeAll,unescapeMd},Symbol.toStringTag,{value:"Module"}));function parseLinkLabel(e,t,r){let o,n,a,s;const i=e.posMax,u=e.pos;for(e.pos=t+1,o=1;e.pos<i;){if(a=e.src.charCodeAt(e.pos),a===93&&(o--,o===0)){n=!0;break}if(s=e.pos,e.md.inline.skipToken(e),a===91){if(s===e.pos-1)o++;else if(r)return e.pos=u,-1}}let l=-1;return n&&(l=e.pos),e.pos=u,l}function parseLinkDestination(e,t,r){let o,n=t;const a={ok:!1,pos:0,str:""};if(e.charCodeAt(n)===60){for(n++;n<r;){if(o=e.charCodeAt(n),o===10||o===60)return a;if(o===62)return a.pos=n+1,a.str=unescapeAll(e.slice(t+1,n)),a.ok=!0,a;if(o===92&&n+1<r){n+=2;continue}n++}return a}let s=0;for(;n<r&&(o=e.charCodeAt(n),!(o===32||o<32||o===127));){if(o===92&&n+1<r){if(e.charCodeAt(n+1)===32)break;n+=2;continue}if(o===40&&(s++,s>32))return a;if(o===41){if(s===0)break;s--}n++}return t===n||s!==0||(a.str=unescapeAll(e.slice(t,n)),a.pos=n,a.ok=!0),a}function parseLinkTitle(e,t,r,o){let n,a=t;const s={ok:!1,can_continue:!1,pos:0,str:"",marker:0};if(o)s.str=o.str,s.marker=o.marker;else{if(a>=r)return s;let i=e.charCodeAt(a);if(i!==34&&i!==39&&i!==40)return s;t++,a++,i===40&&(i=41),s.marker=i}for(;a<r;){if(n=e.charCodeAt(a),n===s.marker)return s.pos=a+1,s.str+=unescapeAll(e.slice(t,a)),s.ok=!0,s;if(n===40&&s.marker===41)return s;n===92&&a+1<r&&a++,a++}return s.can_continue=!0,s.str+=unescapeAll(e.slice(t,a)),s}const helpers=Object.freeze(Object.defineProperty({__proto__:null,parseLinkDestination,parseLinkLabel,parseLinkTitle},Symbol.toStringTag,{value:"Module"})),default_rules={};default_rules.code_inline=function(e,t,r,o,n){const a=e[t];return"<code"+n.renderAttrs(a)+">"+escapeHtml(a.content)+"</code>"};default_rules.code_block=function(e,t,r,o,n){const a=e[t];return"<pre"+n.renderAttrs(a)+"><code>"+escapeHtml(e[t].content)+`</code></pre>
`};default_rules.fence=function(e,t,r,o,n){const a=e[t],s=a.info?unescapeAll(a.info).trim():"";let i="",u="";if(s){const m=s.split(/(\s+)/g);i=m[0],u=m.slice(2).join("")}let l;if(r.highlight?l=r.highlight(a.content,i,u)||escapeHtml(a.content):l=escapeHtml(a.content),l.indexOf("<pre")===0)return l+`
`;if(s){const m=a.attrIndex("class"),f=a.attrs?a.attrs.slice():[];m<0?f.push(["class",r.langPrefix+i]):(f[m]=f[m].slice(),f[m][1]+=" "+r.langPrefix+i);const E={attrs:f};return`<pre><code${n.renderAttrs(E)}>${l}</code></pre>
`}return`<pre><code${n.renderAttrs(a)}>${l}</code></pre>
`};default_rules.image=function(e,t,r,o,n){const a=e[t];return a.attrs[a.attrIndex("alt")][1]=n.renderInlineAsText(a.children,r,o),n.renderToken(e,t,r)};default_rules.hardbreak=function(e,t,r){return r.xhtmlOut?`<br />
`:`<br>
`};default_rules.softbreak=function(e,t,r){return r.breaks?r.xhtmlOut?`<br />
`:`<br>
`:`
`};default_rules.text=function(e,t){return escapeHtml(e[t].content)};default_rules.html_block=function(e,t){return e[t].content};default_rules.html_inline=function(e,t){return e[t].content};function Renderer(){this.rules=assign$1({},default_rules)}Renderer.prototype.renderAttrs=function e(t){let r,o,n;if(!t.attrs)return"";for(n="",r=0,o=t.attrs.length;r<o;r++)n+=" "+escapeHtml(t.attrs[r][0])+'="'+escapeHtml(t.attrs[r][1])+'"';return n};Renderer.prototype.renderToken=function e(t,r,o){const n=t[r];let a="";if(n.hidden)return"";n.block&&n.nesting!==-1&&r&&t[r-1].hidden&&(a+=`
`),a+=(n.nesting===-1?"</":"<")+n.tag,a+=this.renderAttrs(n),n.nesting===0&&o.xhtmlOut&&(a+=" /");let s=!1;if(n.block&&(s=!0,n.nesting===1&&r+1<t.length)){const i=t[r+1];(i.type==="inline"||i.hidden||i.nesting===-1&&i.tag===n.tag)&&(s=!1)}return a+=s?`>
`:">",a};Renderer.prototype.renderInline=function(e,t,r){let o="";const n=this.rules;for(let a=0,s=e.length;a<s;a++){const i=e[a].type;typeof n[i]<"u"?o+=n[i](e,a,t,r,this):o+=this.renderToken(e,a,t)}return o};Renderer.prototype.renderInlineAsText=function(e,t,r){let o="";for(let n=0,a=e.length;n<a;n++)switch(e[n].type){case"text":o+=e[n].content;break;case"image":o+=this.renderInlineAsText(e[n].children,t,r);break;case"html_inline":case"html_block":o+=e[n].content;break;case"softbreak":case"hardbreak":o+=`
`;break}return o};Renderer.prototype.render=function(e,t,r){let o="";const n=this.rules;for(let a=0,s=e.length;a<s;a++){const i=e[a].type;i==="inline"?o+=this.renderInline(e[a].children,t,r):typeof n[i]<"u"?o+=n[i](e,a,t,r,this):o+=this.renderToken(e,a,t,r)}return o};function Ruler(){this.__rules__=[],this.__cache__=null}Ruler.prototype.__find__=function(e){for(let t=0;t<this.__rules__.length;t++)if(this.__rules__[t].name===e)return t;return-1};Ruler.prototype.__compile__=function(){const e=this,t=[""];e.__rules__.forEach(function(r){r.enabled&&r.alt.forEach(function(o){t.indexOf(o)<0&&t.push(o)})}),e.__cache__={},t.forEach(function(r){e.__cache__[r]=[],e.__rules__.forEach(function(o){o.enabled&&(r&&o.alt.indexOf(r)<0||e.__cache__[r].push(o.fn))})})};Ruler.prototype.at=function(e,t,r){const o=this.__find__(e),n=r||{};if(o===-1)throw new Error("Parser rule not found: "+e);this.__rules__[o].fn=t,this.__rules__[o].alt=n.alt||[],this.__cache__=null};Ruler.prototype.before=function(e,t,r,o){const n=this.__find__(e),a=o||{};if(n===-1)throw new Error("Parser rule not found: "+e);this.__rules__.splice(n,0,{name:t,enabled:!0,fn:r,alt:a.alt||[]}),this.__cache__=null};Ruler.prototype.after=function(e,t,r,o){const n=this.__find__(e),a=o||{};if(n===-1)throw new Error("Parser rule not found: "+e);this.__rules__.splice(n+1,0,{name:t,enabled:!0,fn:r,alt:a.alt||[]}),this.__cache__=null};Ruler.prototype.push=function(e,t,r){const o=r||{};this.__rules__.push({name:e,enabled:!0,fn:t,alt:o.alt||[]}),this.__cache__=null};Ruler.prototype.enable=function(e,t){Array.isArray(e)||(e=[e]);const r=[];return e.forEach(function(o){const n=this.__find__(o);if(n<0){if(t)return;throw new Error("Rules manager: invalid rule name "+o)}this.__rules__[n].enabled=!0,r.push(o)},this),this.__cache__=null,r};Ruler.prototype.enableOnly=function(e,t){Array.isArray(e)||(e=[e]),this.__rules__.forEach(function(r){r.enabled=!1}),this.enable(e,t)};Ruler.prototype.disable=function(e,t){Array.isArray(e)||(e=[e]);const r=[];return e.forEach(function(o){const n=this.__find__(o);if(n<0){if(t)return;throw new Error("Rules manager: invalid rule name "+o)}this.__rules__[n].enabled=!1,r.push(o)},this),this.__cache__=null,r};Ruler.prototype.getRules=function(e){return this.__cache__===null&&this.__compile__(),this.__cache__[e]||[]};function Token(e,t,r){this.type=e,this.tag=t,this.attrs=null,this.map=null,this.nesting=r,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}Token.prototype.attrIndex=function e(t){if(!this.attrs)return-1;const r=this.attrs;for(let o=0,n=r.length;o<n;o++)if(r[o][0]===t)return o;return-1};Token.prototype.attrPush=function e(t){this.attrs?this.attrs.push(t):this.attrs=[t]};Token.prototype.attrSet=function e(t,r){const o=this.attrIndex(t),n=[t,r];o<0?this.attrPush(n):this.attrs[o]=n};Token.prototype.attrGet=function e(t){const r=this.attrIndex(t);let o=null;return r>=0&&(o=this.attrs[r][1]),o};Token.prototype.attrJoin=function e(t,r){const o=this.attrIndex(t);o<0?this.attrPush([t,r]):this.attrs[o][1]=this.attrs[o][1]+" "+r};function StateCore(e,t,r){this.src=e,this.env=r,this.tokens=[],this.inlineMode=!1,this.md=t}StateCore.prototype.Token=Token;const NEWLINES_RE=/\r\n?|\n/g,NULL_RE=/\0/g;function normalize(e){let t;t=e.src.replace(NEWLINES_RE,`
`),t=t.replace(NULL_RE,""),e.src=t}function block(e){let t;e.inlineMode?(t=new e.Token("inline","",0),t.content=e.src,t.map=[0,1],t.children=[],e.tokens.push(t)):e.md.block.parse(e.src,e.md,e.env,e.tokens)}function inline(e){const t=e.tokens;for(let r=0,o=t.length;r<o;r++){const n=t[r];n.type==="inline"&&e.md.inline.parse(n.content,e.md,e.env,n.children)}}function isLinkOpen$1(e){return/^<a[>\s]/i.test(e)}function isLinkClose$1(e){return/^<\/a\s*>/i.test(e)}function linkify$1(e){const t=e.tokens;if(e.md.options.linkify)for(let r=0,o=t.length;r<o;r++){if(t[r].type!=="inline"||!e.md.linkify.pretest(t[r].content))continue;let n=t[r].children,a=0;for(let s=n.length-1;s>=0;s--){const i=n[s];if(i.type==="link_close"){for(s--;n[s].level!==i.level&&n[s].type!=="link_open";)s--;continue}if(i.type==="html_inline"&&(isLinkOpen$1(i.content)&&a>0&&a--,isLinkClose$1(i.content)&&a++),!(a>0)&&i.type==="text"&&e.md.linkify.test(i.content)){const u=i.content;let l=e.md.linkify.match(u);const m=[];let f=i.level,E=0;l.length>0&&l[0].index===0&&s>0&&n[s-1].type==="text_special"&&(l=l.slice(1));for(let c=0;c<l.length;c++){const p=l[c].url,d=e.md.normalizeLink(p);if(!e.md.validateLink(d))continue;let x=l[c].text;l[c].schema?l[c].schema==="mailto:"&&!/^mailto:/i.test(x)?x=e.md.normalizeLinkText("mailto:"+x).replace(/^mailto:/,""):x=e.md.normalizeLinkText(x):x=e.md.normalizeLinkText("http://"+x).replace(/^http:\/\//,"");const y=l[c].index;if(y>E){const T=new e.Token("text","",0);T.content=u.slice(E,y),T.level=f,m.push(T)}const R=new e.Token("link_open","a",1);R.attrs=[["href",d]],R.level=f++,R.markup="linkify",R.info="auto",m.push(R);const B=new e.Token("text","",0);B.content=x,B.level=f,m.push(B);const F=new e.Token("link_close","a",-1);F.level=--f,F.markup="linkify",F.info="auto",m.push(F),E=l[c].lastIndex}if(E<u.length){const c=new e.Token("text","",0);c.content=u.slice(E),c.level=f,m.push(c)}t[r].children=n=arrayReplaceAt(n,s,m)}}}}const RARE_RE=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,SCOPED_ABBR_TEST_RE=/\((c|tm|r)\)/i,SCOPED_ABBR_RE=/\((c|tm|r)\)/ig,SCOPED_ABBR={c:"",r:"",tm:""};function replaceFn(e,t){return SCOPED_ABBR[t.toLowerCase()]}function replace_scoped(e){let t=0;for(let r=e.length-1;r>=0;r--){const o=e[r];o.type==="text"&&!t&&(o.content=o.content.replace(SCOPED_ABBR_RE,replaceFn)),o.type==="link_open"&&o.info==="auto"&&t--,o.type==="link_close"&&o.info==="auto"&&t++}}function replace_rare(e){let t=0;for(let r=e.length-1;r>=0;r--){const o=e[r];o.type==="text"&&!t&&RARE_RE.test(o.content)&&(o.content=o.content.replace(/\+-/g,"").replace(/\.{2,}/g,"").replace(/([?!])/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/mg,"$1").replace(/(^|\s)--(?=\s|$)/mg,"$1").replace(/(^|[^-\s])--(?=[^-\s]|$)/mg,"$1")),o.type==="link_open"&&o.info==="auto"&&t--,o.type==="link_close"&&o.info==="auto"&&t++}}function replace(e){let t;if(e.md.options.typographer)for(t=e.tokens.length-1;t>=0;t--)e.tokens[t].type==="inline"&&(SCOPED_ABBR_TEST_RE.test(e.tokens[t].content)&&replace_scoped(e.tokens[t].children),RARE_RE.test(e.tokens[t].content)&&replace_rare(e.tokens[t].children))}const QUOTE_TEST_RE=/['"]/,QUOTE_RE=/['"]/g,APOSTROPHE="";function replaceAt(e,t,r){return e.slice(0,t)+r+e.slice(t+1)}function process_inlines(e,t){let r;const o=[];for(let n=0;n<e.length;n++){const a=e[n],s=e[n].level;for(r=o.length-1;r>=0&&!(o[r].level<=s);r--);if(o.length=r+1,a.type!=="text")continue;let i=a.content,u=0,l=i.length;e:for(;u<l;){QUOTE_RE.lastIndex=u;const m=QUOTE_RE.exec(i);if(!m)break;let f=!0,E=!0;u=m.index+1;const c=m[0]==="'";let p=32;if(m.index-1>=0)p=i.charCodeAt(m.index-1);else for(r=n-1;r>=0&&!(e[r].type==="softbreak"||e[r].type==="hardbreak");r--)if(e[r].content){p=e[r].content.charCodeAt(e[r].content.length-1);break}let d=32;if(u<l)d=i.charCodeAt(u);else for(r=n+1;r<e.length&&!(e[r].type==="softbreak"||e[r].type==="hardbreak");r++)if(e[r].content){d=e[r].content.charCodeAt(0);break}const x=isMdAsciiPunct(p)||isPunctChar(String.fromCharCode(p)),y=isMdAsciiPunct(d)||isPunctChar(String.fromCharCode(d)),R=isWhiteSpace(p),B=isWhiteSpace(d);if(B?f=!1:y&&(R||x||(f=!1)),R?E=!1:x&&(B||y||(E=!1)),d===34&&m[0]==='"'&&p>=48&&p<=57&&(E=f=!1),f&&E&&(f=x,E=y),!f&&!E){c&&(a.content=replaceAt(a.content,m.index,APOSTROPHE));continue}if(E)for(r=o.length-1;r>=0;r--){let F=o[r];if(o[r].level<s)break;if(F.single===c&&o[r].level===s){F=o[r];let T,z;c?(T=t.md.options.quotes[2],z=t.md.options.quotes[3]):(T=t.md.options.quotes[0],z=t.md.options.quotes[1]),a.content=replaceAt(a.content,m.index,z),e[F.token].content=replaceAt(e[F.token].content,F.pos,T),u+=z.length-1,F.token===n&&(u+=T.length-1),i=a.content,l=i.length,o.length=r;continue e}}f?o.push({token:n,pos:m.index,single:c,level:s}):E&&c&&(a.content=replaceAt(a.content,m.index,APOSTROPHE))}}}function smartquotes(e){if(e.md.options.typographer)for(let t=e.tokens.length-1;t>=0;t--)e.tokens[t].type!=="inline"||!QUOTE_TEST_RE.test(e.tokens[t].content)||process_inlines(e.tokens[t].children,e)}function text_join(e){let t,r;const o=e.tokens,n=o.length;for(let a=0;a<n;a++){if(o[a].type!=="inline")continue;const s=o[a].children,i=s.length;for(t=0;t<i;t++)s[t].type==="text_special"&&(s[t].type="text");for(t=r=0;t<i;t++)s[t].type==="text"&&t+1<i&&s[t+1].type==="text"?s[t+1].content=s[t].content+s[t+1].content:(t!==r&&(s[r]=s[t]),r++);t!==r&&(s.length=r)}}const _rules$2=[["normalize",normalize],["block",block],["inline",inline],["linkify",linkify$1],["replacements",replace],["smartquotes",smartquotes],["text_join",text_join]];function Core(){this.ruler=new Ruler;for(let e=0;e<_rules$2.length;e++)this.ruler.push(_rules$2[e][0],_rules$2[e][1])}Core.prototype.process=function(e){const t=this.ruler.getRules("");for(let r=0,o=t.length;r<o;r++)t[r](e)};Core.prototype.State=StateCore;function StateBlock(e,t,r,o){this.src=e,this.md=t,this.env=r,this.tokens=o,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0;const n=this.src;for(let a=0,s=0,i=0,u=0,l=n.length,m=!1;s<l;s++){const f=n.charCodeAt(s);if(!m)if(isSpace(f)){i++,f===9?u+=4-u%4:u++;continue}else m=!0;(f===10||s===l-1)&&(f!==10&&s++,this.bMarks.push(a),this.eMarks.push(s),this.tShift.push(i),this.sCount.push(u),this.bsCount.push(0),m=!1,i=0,u=0,a=s+1)}this.bMarks.push(n.length),this.eMarks.push(n.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}StateBlock.prototype.push=function(e,t,r){const o=new Token(e,t,r);return o.block=!0,r<0&&this.level--,o.level=this.level,r>0&&this.level++,this.tokens.push(o),o};StateBlock.prototype.isEmpty=function e(t){return this.bMarks[t]+this.tShift[t]>=this.eMarks[t]};StateBlock.prototype.skipEmptyLines=function e(t){for(let r=this.lineMax;t<r&&!(this.bMarks[t]+this.tShift[t]<this.eMarks[t]);t++);return t};StateBlock.prototype.skipSpaces=function e(t){for(let r=this.src.length;t<r;t++){const o=this.src.charCodeAt(t);if(!isSpace(o))break}return t};StateBlock.prototype.skipSpacesBack=function e(t,r){if(t<=r)return t;for(;t>r;)if(!isSpace(this.src.charCodeAt(--t)))return t+1;return t};StateBlock.prototype.skipChars=function e(t,r){for(let o=this.src.length;t<o&&this.src.charCodeAt(t)===r;t++);return t};StateBlock.prototype.skipCharsBack=function e(t,r,o){if(t<=o)return t;for(;t>o;)if(r!==this.src.charCodeAt(--t))return t+1;return t};StateBlock.prototype.getLines=function e(t,r,o,n){if(t>=r)return"";const a=new Array(r-t);for(let s=0,i=t;i<r;i++,s++){let u=0;const l=this.bMarks[i];let m=l,f;for(i+1<r||n?f=this.eMarks[i]+1:f=this.eMarks[i];m<f&&u<o;){const E=this.src.charCodeAt(m);if(isSpace(E))E===9?u+=4-(u+this.bsCount[i])%4:u++;else if(m-l<this.tShift[i])u++;else break;m++}u>o?a[s]=new Array(u-o+1).join(" ")+this.src.slice(m,f):a[s]=this.src.slice(m,f)}return a.join("")};StateBlock.prototype.Token=Token;const MAX_AUTOCOMPLETED_CELLS=65536;function getLine(e,t){const r=e.bMarks[t]+e.tShift[t],o=e.eMarks[t];return e.src.slice(r,o)}function escapedSplit(e){const t=[],r=e.length;let o=0,n=e.charCodeAt(o),a=!1,s=0,i="";for(;o<r;)n===124&&(a?(i+=e.substring(s,o-1),s=o):(t.push(i+e.substring(s,o)),i="",s=o+1)),a=n===92,o++,n=e.charCodeAt(o);return t.push(i+e.substring(s)),t}function table(e,t,r,o){if(t+2>r)return!1;let n=t+1;if(e.sCount[n]<e.blkIndent||e.sCount[n]-e.blkIndent>=4)return!1;let a=e.bMarks[n]+e.tShift[n];if(a>=e.eMarks[n])return!1;const s=e.src.charCodeAt(a++);if(s!==124&&s!==45&&s!==58||a>=e.eMarks[n])return!1;const i=e.src.charCodeAt(a++);if(i!==124&&i!==45&&i!==58&&!isSpace(i)||s===45&&isSpace(i))return!1;for(;a<e.eMarks[n];){const F=e.src.charCodeAt(a);if(F!==124&&F!==45&&F!==58&&!isSpace(F))return!1;a++}let u=getLine(e,t+1),l=u.split("|");const m=[];for(let F=0;F<l.length;F++){const T=l[F].trim();if(!T){if(F===0||F===l.length-1)continue;return!1}if(!/^:?-+:?$/.test(T))return!1;T.charCodeAt(T.length-1)===58?m.push(T.charCodeAt(0)===58?"center":"right"):T.charCodeAt(0)===58?m.push("left"):m.push("")}if(u=getLine(e,t).trim(),u.indexOf("|")===-1||e.sCount[t]-e.blkIndent>=4)return!1;l=escapedSplit(u),l.length&&l[0]===""&&l.shift(),l.length&&l[l.length-1]===""&&l.pop();const f=l.length;if(f===0||f!==m.length)return!1;if(o)return!0;const E=e.parentType;e.parentType="table";const c=e.md.block.ruler.getRules("blockquote"),p=e.push("table_open","table",1),d=[t,0];p.map=d;const x=e.push("thead_open","thead",1);x.map=[t,t+1];const y=e.push("tr_open","tr",1);y.map=[t,t+1];for(let F=0;F<l.length;F++){const T=e.push("th_open","th",1);m[F]&&(T.attrs=[["style","text-align:"+m[F]]]);const z=e.push("inline","",0);z.content=l[F].trim(),z.children=[],e.push("th_close","th",-1)}e.push("tr_close","tr",-1),e.push("thead_close","thead",-1);let R,B=0;for(n=t+2;n<r&&!(e.sCount[n]<e.blkIndent);n++){let F=!1;for(let z=0,U=c.length;z<U;z++)if(c[z](e,n,r,!0)){F=!0;break}if(F||(u=getLine(e,n).trim(),!u)||e.sCount[n]-e.blkIndent>=4||(l=escapedSplit(u),l.length&&l[0]===""&&l.shift(),l.length&&l[l.length-1]===""&&l.pop(),B+=f-l.length,B>MAX_AUTOCOMPLETED_CELLS))break;if(n===t+2){const z=e.push("tbody_open","tbody",1);z.map=R=[t+2,0]}const T=e.push("tr_open","tr",1);T.map=[n,n+1];for(let z=0;z<f;z++){const U=e.push("td_open","td",1);m[z]&&(U.attrs=[["style","text-align:"+m[z]]]);const X=e.push("inline","",0);X.content=l[z]?l[z].trim():"",X.children=[],e.push("td_close","td",-1)}e.push("tr_close","tr",-1)}return R&&(e.push("tbody_close","tbody",-1),R[1]=n),e.push("table_close","table",-1),d[1]=n,e.parentType=E,e.line=n,!0}function code(e,t,r){if(e.sCount[t]-e.blkIndent<4)return!1;let o=t+1,n=o;for(;o<r;){if(e.isEmpty(o)){o++;continue}if(e.sCount[o]-e.blkIndent>=4){o++,n=o;continue}break}e.line=n;const a=e.push("code_block","code",0);return a.content=e.getLines(t,n,4+e.blkIndent,!1)+`
`,a.map=[t,e.line],!0}function fence(e,t,r,o){let n=e.bMarks[t]+e.tShift[t],a=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4||n+3>a)return!1;const s=e.src.charCodeAt(n);if(s!==126&&s!==96)return!1;let i=n;n=e.skipChars(n,s);let u=n-i;if(u<3)return!1;const l=e.src.slice(i,n),m=e.src.slice(n,a);if(s===96&&m.indexOf(String.fromCharCode(s))>=0)return!1;if(o)return!0;let f=t,E=!1;for(;f++,!(f>=r||(n=i=e.bMarks[f]+e.tShift[f],a=e.eMarks[f],n<a&&e.sCount[f]<e.blkIndent));)if(e.src.charCodeAt(n)===s&&!(e.sCount[f]-e.blkIndent>=4)&&(n=e.skipChars(n,s),!(n-i<u)&&(n=e.skipSpaces(n),!(n<a)))){E=!0;break}u=e.sCount[t],e.line=f+(E?1:0);const c=e.push("fence","code",0);return c.info=m,c.content=e.getLines(t+1,f,u,!0),c.markup=l,c.map=[t,e.line],!0}function blockquote(e,t,r,o){let n=e.bMarks[t]+e.tShift[t],a=e.eMarks[t];const s=e.lineMax;if(e.sCount[t]-e.blkIndent>=4||e.src.charCodeAt(n)!==62)return!1;if(o)return!0;const i=[],u=[],l=[],m=[],f=e.md.block.ruler.getRules("blockquote"),E=e.parentType;e.parentType="blockquote";let c=!1,p;for(p=t;p<r;p++){const B=e.sCount[p]<e.blkIndent;if(n=e.bMarks[p]+e.tShift[p],a=e.eMarks[p],n>=a)break;if(e.src.charCodeAt(n++)===62&&!B){let T=e.sCount[p]+1,z,U;e.src.charCodeAt(n)===32?(n++,T++,U=!1,z=!0):e.src.charCodeAt(n)===9?(z=!0,(e.bsCount[p]+T)%4===3?(n++,T++,U=!1):U=!0):z=!1;let X=T;for(i.push(e.bMarks[p]),e.bMarks[p]=n;n<a;){const j=e.src.charCodeAt(n);if(isSpace(j))j===9?X+=4-(X+e.bsCount[p]+(U?1:0))%4:X++;else break;n++}c=n>=a,u.push(e.bsCount[p]),e.bsCount[p]=e.sCount[p]+1+(z?1:0),l.push(e.sCount[p]),e.sCount[p]=X-T,m.push(e.tShift[p]),e.tShift[p]=n-e.bMarks[p];continue}if(c)break;let F=!1;for(let T=0,z=f.length;T<z;T++)if(f[T](e,p,r,!0)){F=!0;break}if(F){e.lineMax=p,e.blkIndent!==0&&(i.push(e.bMarks[p]),u.push(e.bsCount[p]),m.push(e.tShift[p]),l.push(e.sCount[p]),e.sCount[p]-=e.blkIndent);break}i.push(e.bMarks[p]),u.push(e.bsCount[p]),m.push(e.tShift[p]),l.push(e.sCount[p]),e.sCount[p]=-1}const d=e.blkIndent;e.blkIndent=0;const x=e.push("blockquote_open","blockquote",1);x.markup=">";const y=[t,0];x.map=y,e.md.block.tokenize(e,t,p);const R=e.push("blockquote_close","blockquote",-1);R.markup=">",e.lineMax=s,e.parentType=E,y[1]=e.line;for(let B=0;B<m.length;B++)e.bMarks[B+t]=i[B],e.tShift[B+t]=m[B],e.sCount[B+t]=l[B],e.bsCount[B+t]=u[B];return e.blkIndent=d,!0}function hr(e,t,r,o){const n=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;let a=e.bMarks[t]+e.tShift[t];const s=e.src.charCodeAt(a++);if(s!==42&&s!==45&&s!==95)return!1;let i=1;for(;a<n;){const l=e.src.charCodeAt(a++);if(l!==s&&!isSpace(l))return!1;l===s&&i++}if(i<3)return!1;if(o)return!0;e.line=t+1;const u=e.push("hr","hr",0);return u.map=[t,e.line],u.markup=Array(i+1).join(String.fromCharCode(s)),!0}function skipBulletListMarker(e,t){const r=e.eMarks[t];let o=e.bMarks[t]+e.tShift[t];const n=e.src.charCodeAt(o++);if(n!==42&&n!==45&&n!==43)return-1;if(o<r){const a=e.src.charCodeAt(o);if(!isSpace(a))return-1}return o}function skipOrderedListMarker(e,t){const r=e.bMarks[t]+e.tShift[t],o=e.eMarks[t];let n=r;if(n+1>=o)return-1;let a=e.src.charCodeAt(n++);if(a<48||a>57)return-1;for(;;){if(n>=o)return-1;if(a=e.src.charCodeAt(n++),a>=48&&a<=57){if(n-r>=10)return-1;continue}if(a===41||a===46)break;return-1}return n<o&&(a=e.src.charCodeAt(n),!isSpace(a))?-1:n}function markTightParagraphs(e,t){const r=e.level+2;for(let o=t+2,n=e.tokens.length-2;o<n;o++)e.tokens[o].level===r&&e.tokens[o].type==="paragraph_open"&&(e.tokens[o+2].hidden=!0,e.tokens[o].hidden=!0,o+=2)}function list(e,t,r,o){let n,a,s,i,u=t,l=!0;if(e.sCount[u]-e.blkIndent>=4||e.listIndent>=0&&e.sCount[u]-e.listIndent>=4&&e.sCount[u]<e.blkIndent)return!1;let m=!1;o&&e.parentType==="paragraph"&&e.sCount[u]>=e.blkIndent&&(m=!0);let f,E,c;if((c=skipOrderedListMarker(e,u))>=0){if(f=!0,s=e.bMarks[u]+e.tShift[u],E=Number(e.src.slice(s,c-1)),m&&E!==1)return!1}else if((c=skipBulletListMarker(e,u))>=0)f=!1;else return!1;if(m&&e.skipSpaces(c)>=e.eMarks[u])return!1;if(o)return!0;const p=e.src.charCodeAt(c-1),d=e.tokens.length;f?(i=e.push("ordered_list_open","ol",1),E!==1&&(i.attrs=[["start",E]])):i=e.push("bullet_list_open","ul",1);const x=[u,0];i.map=x,i.markup=String.fromCharCode(p);let y=!1;const R=e.md.block.ruler.getRules("list"),B=e.parentType;for(e.parentType="list";u<r;){a=c,n=e.eMarks[u];const F=e.sCount[u]+c-(e.bMarks[u]+e.tShift[u]);let T=F;for(;a<n;){const V=e.src.charCodeAt(a);if(V===9)T+=4-(T+e.bsCount[u])%4;else if(V===32)T++;else break;a++}const z=a;let U;z>=n?U=1:U=T-F,U>4&&(U=1);const X=F+U;i=e.push("list_item_open","li",1),i.markup=String.fromCharCode(p);const j=[u,0];i.map=j,f&&(i.info=e.src.slice(s,c-1));const Y=e.tight,ae=e.tShift[u],$=e.sCount[u],H=e.listIndent;if(e.listIndent=e.blkIndent,e.blkIndent=X,e.tight=!0,e.tShift[u]=z-e.bMarks[u],e.sCount[u]=T,z>=n&&e.isEmpty(u+1)?e.line=Math.min(e.line+2,r):e.md.block.tokenize(e,u,r,!0),(!e.tight||y)&&(l=!1),y=e.line-u>1&&e.isEmpty(e.line-1),e.blkIndent=e.listIndent,e.listIndent=H,e.tShift[u]=ae,e.sCount[u]=$,e.tight=Y,i=e.push("list_item_close","li",-1),i.markup=String.fromCharCode(p),u=e.line,j[1]=u,u>=r||e.sCount[u]<e.blkIndent||e.sCount[u]-e.blkIndent>=4)break;let C=!1;for(let V=0,fe=R.length;V<fe;V++)if(R[V](e,u,r,!0)){C=!0;break}if(C)break;if(f){if(c=skipOrderedListMarker(e,u),c<0)break;s=e.bMarks[u]+e.tShift[u]}else if(c=skipBulletListMarker(e,u),c<0)break;if(p!==e.src.charCodeAt(c-1))break}return f?i=e.push("ordered_list_close","ol",-1):i=e.push("bullet_list_close","ul",-1),i.markup=String.fromCharCode(p),x[1]=u,e.line=u,e.parentType=B,l&&markTightParagraphs(e,d),!0}function reference(e,t,r,o){let n=e.bMarks[t]+e.tShift[t],a=e.eMarks[t],s=t+1;if(e.sCount[t]-e.blkIndent>=4||e.src.charCodeAt(n)!==91)return!1;function i(R){const B=e.lineMax;if(R>=B||e.isEmpty(R))return null;let F=!1;if(e.sCount[R]-e.blkIndent>3&&(F=!0),e.sCount[R]<0&&(F=!0),!F){const U=e.md.block.ruler.getRules("reference"),X=e.parentType;e.parentType="reference";let j=!1;for(let Y=0,ae=U.length;Y<ae;Y++)if(U[Y](e,R,B,!0)){j=!0;break}if(e.parentType=X,j)return null}const T=e.bMarks[R]+e.tShift[R],z=e.eMarks[R];return e.src.slice(T,z+1)}let u=e.src.slice(n,a+1);a=u.length;let l=-1;for(n=1;n<a;n++){const R=u.charCodeAt(n);if(R===91)return!1;if(R===93){l=n;break}else if(R===10){const B=i(s);B!==null&&(u+=B,a=u.length,s++)}else if(R===92&&(n++,n<a&&u.charCodeAt(n)===10)){const B=i(s);B!==null&&(u+=B,a=u.length,s++)}}if(l<0||u.charCodeAt(l+1)!==58)return!1;for(n=l+2;n<a;n++){const R=u.charCodeAt(n);if(R===10){const B=i(s);B!==null&&(u+=B,a=u.length,s++)}else if(!isSpace(R))break}const m=e.md.helpers.parseLinkDestination(u,n,a);if(!m.ok)return!1;const f=e.md.normalizeLink(m.str);if(!e.md.validateLink(f))return!1;n=m.pos;const E=n,c=s,p=n;for(;n<a;n++){const R=u.charCodeAt(n);if(R===10){const B=i(s);B!==null&&(u+=B,a=u.length,s++)}else if(!isSpace(R))break}let d=e.md.helpers.parseLinkTitle(u,n,a);for(;d.can_continue;){const R=i(s);if(R===null)break;u+=R,n=a,a=u.length,s++,d=e.md.helpers.parseLinkTitle(u,n,a,d)}let x;for(n<a&&p!==n&&d.ok?(x=d.str,n=d.pos):(x="",n=E,s=c);n<a;){const R=u.charCodeAt(n);if(!isSpace(R))break;n++}if(n<a&&u.charCodeAt(n)!==10&&x)for(x="",n=E,s=c;n<a;){const R=u.charCodeAt(n);if(!isSpace(R))break;n++}if(n<a&&u.charCodeAt(n)!==10)return!1;const y=normalizeReference(u.slice(1,l));return y?(o||(typeof e.env.references>"u"&&(e.env.references={}),typeof e.env.references[y]>"u"&&(e.env.references[y]={title:x,href:f}),e.line=s),!0):!1}const block_names=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],attr_name="[a-zA-Z_:][a-zA-Z0-9:._-]*",unquoted="[^\"'=<>`\\x00-\\x20]+",single_quoted="'[^']*'",double_quoted='"[^"]*"',attr_value="(?:"+unquoted+"|"+single_quoted+"|"+double_quoted+")",attribute="(?:\\s+"+attr_name+"(?:\\s*=\\s*"+attr_value+")?)",open_tag="<[A-Za-z][A-Za-z0-9\\-]*"+attribute+"*\\s*\\/?>",close_tag="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",comment="<!---?>|<!--(?:[^-]|-[^-]|--[^>])*-->",processing="<[?][\\s\\S]*?[?]>",declaration="<![A-Za-z][^>]*>",cdata="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",HTML_TAG_RE=new RegExp("^(?:"+open_tag+"|"+close_tag+"|"+comment+"|"+processing+"|"+declaration+"|"+cdata+")"),HTML_OPEN_CLOSE_TAG_RE=new RegExp("^(?:"+open_tag+"|"+close_tag+")"),HTML_SEQUENCES=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+block_names.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(HTML_OPEN_CLOSE_TAG_RE.source+"\\s*$"),/^$/,!1]];function html_block(e,t,r,o){let n=e.bMarks[t]+e.tShift[t],a=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4||!e.md.options.html||e.src.charCodeAt(n)!==60)return!1;let s=e.src.slice(n,a),i=0;for(;i<HTML_SEQUENCES.length&&!HTML_SEQUENCES[i][0].test(s);i++);if(i===HTML_SEQUENCES.length)return!1;if(o)return HTML_SEQUENCES[i][2];let u=t+1;if(!HTML_SEQUENCES[i][1].test(s)){for(;u<r&&!(e.sCount[u]<e.blkIndent);u++)if(n=e.bMarks[u]+e.tShift[u],a=e.eMarks[u],s=e.src.slice(n,a),HTML_SEQUENCES[i][1].test(s)){s.length!==0&&u++;break}}e.line=u;const l=e.push("html_block","",0);return l.map=[t,u],l.content=e.getLines(t,u,e.blkIndent,!0),!0}function heading(e,t,r,o){let n=e.bMarks[t]+e.tShift[t],a=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;let s=e.src.charCodeAt(n);if(s!==35||n>=a)return!1;let i=1;for(s=e.src.charCodeAt(++n);s===35&&n<a&&i<=6;)i++,s=e.src.charCodeAt(++n);if(i>6||n<a&&!isSpace(s))return!1;if(o)return!0;a=e.skipSpacesBack(a,n);const u=e.skipCharsBack(a,35,n);u>n&&isSpace(e.src.charCodeAt(u-1))&&(a=u),e.line=t+1;const l=e.push("heading_open","h"+String(i),1);l.markup="########".slice(0,i),l.map=[t,e.line];const m=e.push("inline","",0);m.content=e.src.slice(n,a).trim(),m.map=[t,e.line],m.children=[];const f=e.push("heading_close","h"+String(i),-1);return f.markup="########".slice(0,i),!0}function lheading(e,t,r){const o=e.md.block.ruler.getRules("paragraph");if(e.sCount[t]-e.blkIndent>=4)return!1;const n=e.parentType;e.parentType="paragraph";let a=0,s,i=t+1;for(;i<r&&!e.isEmpty(i);i++){if(e.sCount[i]-e.blkIndent>3)continue;if(e.sCount[i]>=e.blkIndent){let c=e.bMarks[i]+e.tShift[i];const p=e.eMarks[i];if(c<p&&(s=e.src.charCodeAt(c),(s===45||s===61)&&(c=e.skipChars(c,s),c=e.skipSpaces(c),c>=p))){a=s===61?1:2;break}}if(e.sCount[i]<0)continue;let E=!1;for(let c=0,p=o.length;c<p;c++)if(o[c](e,i,r,!0)){E=!0;break}if(E)break}if(!a)return!1;const u=e.getLines(t,i,e.blkIndent,!1).trim();e.line=i+1;const l=e.push("heading_open","h"+String(a),1);l.markup=String.fromCharCode(s),l.map=[t,e.line];const m=e.push("inline","",0);m.content=u,m.map=[t,e.line-1],m.children=[];const f=e.push("heading_close","h"+String(a),-1);return f.markup=String.fromCharCode(s),e.parentType=n,!0}function paragraph(e,t,r){const o=e.md.block.ruler.getRules("paragraph"),n=e.parentType;let a=t+1;for(e.parentType="paragraph";a<r&&!e.isEmpty(a);a++){if(e.sCount[a]-e.blkIndent>3||e.sCount[a]<0)continue;let l=!1;for(let m=0,f=o.length;m<f;m++)if(o[m](e,a,r,!0)){l=!0;break}if(l)break}const s=e.getLines(t,a,e.blkIndent,!1).trim();e.line=a;const i=e.push("paragraph_open","p",1);i.map=[t,e.line];const u=e.push("inline","",0);return u.content=s,u.map=[t,e.line],u.children=[],e.push("paragraph_close","p",-1),e.parentType=n,!0}const _rules$1=[["table",table,["paragraph","reference"]],["code",code],["fence",fence,["paragraph","reference","blockquote","list"]],["blockquote",blockquote,["paragraph","reference","blockquote","list"]],["hr",hr,["paragraph","reference","blockquote","list"]],["list",list,["paragraph","reference","blockquote"]],["reference",reference],["html_block",html_block,["paragraph","reference","blockquote"]],["heading",heading,["paragraph","reference","blockquote"]],["lheading",lheading],["paragraph",paragraph]];function ParserBlock(){this.ruler=new Ruler;for(let e=0;e<_rules$1.length;e++)this.ruler.push(_rules$1[e][0],_rules$1[e][1],{alt:(_rules$1[e][2]||[]).slice()})}ParserBlock.prototype.tokenize=function(e,t,r){const o=this.ruler.getRules(""),n=o.length,a=e.md.options.maxNesting;let s=t,i=!1;for(;s<r&&(e.line=s=e.skipEmptyLines(s),!(s>=r||e.sCount[s]<e.blkIndent));){if(e.level>=a){e.line=r;break}const u=e.line;let l=!1;for(let m=0;m<n;m++)if(l=o[m](e,s,r,!1),l){if(u>=e.line)throw new Error("block rule didn't increment state.line");break}if(!l)throw new Error("none of the block rules matched");e.tight=!i,e.isEmpty(e.line-1)&&(i=!0),s=e.line,s<r&&e.isEmpty(s)&&(i=!0,s++,e.line=s)}};ParserBlock.prototype.parse=function(e,t,r,o){if(!e)return;const n=new this.State(e,t,r,o);this.tokenize(n,n.line,n.lineMax)};ParserBlock.prototype.State=StateBlock;function StateInline(e,t,r,o){this.src=e,this.env=r,this.md=t,this.tokens=o,this.tokens_meta=Array(o.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1,this.linkLevel=0}StateInline.prototype.pushPending=function(){const e=new Token("text","",0);return e.content=this.pending,e.level=this.pendingLevel,this.tokens.push(e),this.pending="",e};StateInline.prototype.push=function(e,t,r){this.pending&&this.pushPending();const o=new Token(e,t,r);let n=null;return r<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),o.level=this.level,r>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],n={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(o),this.tokens_meta.push(n),o};StateInline.prototype.scanDelims=function(e,t){const r=this.posMax,o=this.src.charCodeAt(e),n=e>0?this.src.charCodeAt(e-1):32;let a=e;for(;a<r&&this.src.charCodeAt(a)===o;)a++;const s=a-e,i=a<r?this.src.charCodeAt(a):32,u=isMdAsciiPunct(n)||isPunctChar(String.fromCharCode(n)),l=isMdAsciiPunct(i)||isPunctChar(String.fromCharCode(i)),m=isWhiteSpace(n),f=isWhiteSpace(i),E=!f&&(!l||m||u),c=!m&&(!u||f||l);return{can_open:E&&(t||!c||u),can_close:c&&(t||!E||l),length:s}};StateInline.prototype.Token=Token;function isTerminatorChar(e){switch(e){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}function text(e,t){let r=e.pos;for(;r<e.posMax&&!isTerminatorChar(e.src.charCodeAt(r));)r++;return r===e.pos?!1:(t||(e.pending+=e.src.slice(e.pos,r)),e.pos=r,!0)}const SCHEME_RE=/(?:^|[^a-z0-9.+-])([a-z][a-z0-9.+-]*)$/i;function linkify(e,t){if(!e.md.options.linkify||e.linkLevel>0)return!1;const r=e.pos,o=e.posMax;if(r+3>o||e.src.charCodeAt(r)!==58||e.src.charCodeAt(r+1)!==47||e.src.charCodeAt(r+2)!==47)return!1;const n=e.pending.match(SCHEME_RE);if(!n)return!1;const a=n[1],s=e.md.linkify.matchAtStart(e.src.slice(r-a.length));if(!s)return!1;let i=s.url;if(i.length<=a.length)return!1;i=i.replace(/\*+$/,"");const u=e.md.normalizeLink(i);if(!e.md.validateLink(u))return!1;if(!t){e.pending=e.pending.slice(0,-a.length);const l=e.push("link_open","a",1);l.attrs=[["href",u]],l.markup="linkify",l.info="auto";const m=e.push("text","",0);m.content=e.md.normalizeLinkText(i);const f=e.push("link_close","a",-1);f.markup="linkify",f.info="auto"}return e.pos+=i.length-a.length,!0}function newline(e,t){let r=e.pos;if(e.src.charCodeAt(r)!==10)return!1;const o=e.pending.length-1,n=e.posMax;if(!t)if(o>=0&&e.pending.charCodeAt(o)===32)if(o>=1&&e.pending.charCodeAt(o-1)===32){let a=o-1;for(;a>=1&&e.pending.charCodeAt(a-1)===32;)a--;e.pending=e.pending.slice(0,a),e.push("hardbreak","br",0)}else e.pending=e.pending.slice(0,-1),e.push("softbreak","br",0);else e.push("softbreak","br",0);for(r++;r<n&&isSpace(e.src.charCodeAt(r));)r++;return e.pos=r,!0}const ESCAPED=[];for(let e=0;e<256;e++)ESCAPED.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(e){ESCAPED[e.charCodeAt(0)]=1});function escape$1(e,t){let r=e.pos;const o=e.posMax;if(e.src.charCodeAt(r)!==92||(r++,r>=o))return!1;let n=e.src.charCodeAt(r);if(n===10){for(t||e.push("hardbreak","br",0),r++;r<o&&(n=e.src.charCodeAt(r),!!isSpace(n));)r++;return e.pos=r,!0}let a=e.src[r];if(n>=55296&&n<=56319&&r+1<o){const i=e.src.charCodeAt(r+1);i>=56320&&i<=57343&&(a+=e.src[r+1],r++)}const s="\\"+a;if(!t){const i=e.push("text_special","",0);n<256&&ESCAPED[n]!==0?i.content=a:i.content=s,i.markup=s,i.info="escape"}return e.pos=r+1,!0}function backtick(e,t){let r=e.pos;if(e.src.charCodeAt(r)!==96)return!1;const n=r;r++;const a=e.posMax;for(;r<a&&e.src.charCodeAt(r)===96;)r++;const s=e.src.slice(n,r),i=s.length;if(e.backticksScanned&&(e.backticks[i]||0)<=n)return t||(e.pending+=s),e.pos+=i,!0;let u=r,l;for(;(l=e.src.indexOf("`",u))!==-1;){for(u=l+1;u<a&&e.src.charCodeAt(u)===96;)u++;const m=u-l;if(m===i){if(!t){const f=e.push("code_inline","code",0);f.markup=s,f.content=e.src.slice(r,l).replace(/\n/g," ").replace(/^ (.+) $/,"$1")}return e.pos=u,!0}e.backticks[m]=l}return e.backticksScanned=!0,t||(e.pending+=s),e.pos+=i,!0}function strikethrough_tokenize(e,t){const r=e.pos,o=e.src.charCodeAt(r);if(t||o!==126)return!1;const n=e.scanDelims(e.pos,!0);let a=n.length;const s=String.fromCharCode(o);if(a<2)return!1;let i;a%2&&(i=e.push("text","",0),i.content=s,a--);for(let u=0;u<a;u+=2)i=e.push("text","",0),i.content=s+s,e.delimiters.push({marker:o,length:0,token:e.tokens.length-1,end:-1,open:n.can_open,close:n.can_close});return e.pos+=n.length,!0}function postProcess$1(e,t){let r;const o=[],n=t.length;for(let a=0;a<n;a++){const s=t[a];if(s.marker!==126||s.end===-1)continue;const i=t[s.end];r=e.tokens[s.token],r.type="s_open",r.tag="s",r.nesting=1,r.markup="~~",r.content="",r=e.tokens[i.token],r.type="s_close",r.tag="s",r.nesting=-1,r.markup="~~",r.content="",e.tokens[i.token-1].type==="text"&&e.tokens[i.token-1].content==="~"&&o.push(i.token-1)}for(;o.length;){const a=o.pop();let s=a+1;for(;s<e.tokens.length&&e.tokens[s].type==="s_close";)s++;s--,a!==s&&(r=e.tokens[s],e.tokens[s]=e.tokens[a],e.tokens[a]=r)}}function strikethrough_postProcess(e){const t=e.tokens_meta,r=e.tokens_meta.length;postProcess$1(e,e.delimiters);for(let o=0;o<r;o++)t[o]&&t[o].delimiters&&postProcess$1(e,t[o].delimiters)}const r_strikethrough={tokenize:strikethrough_tokenize,postProcess:strikethrough_postProcess};function emphasis_tokenize(e,t){const r=e.pos,o=e.src.charCodeAt(r);if(t||o!==95&&o!==42)return!1;const n=e.scanDelims(e.pos,o===42);for(let a=0;a<n.length;a++){const s=e.push("text","",0);s.content=String.fromCharCode(o),e.delimiters.push({marker:o,length:n.length,token:e.tokens.length-1,end:-1,open:n.can_open,close:n.can_close})}return e.pos+=n.length,!0}function postProcess(e,t){const r=t.length;for(let o=r-1;o>=0;o--){const n=t[o];if(n.marker!==95&&n.marker!==42||n.end===-1)continue;const a=t[n.end],s=o>0&&t[o-1].end===n.end+1&&t[o-1].marker===n.marker&&t[o-1].token===n.token-1&&t[n.end+1].token===a.token+1,i=String.fromCharCode(n.marker),u=e.tokens[n.token];u.type=s?"strong_open":"em_open",u.tag=s?"strong":"em",u.nesting=1,u.markup=s?i+i:i,u.content="";const l=e.tokens[a.token];l.type=s?"strong_close":"em_close",l.tag=s?"strong":"em",l.nesting=-1,l.markup=s?i+i:i,l.content="",s&&(e.tokens[t[o-1].token].content="",e.tokens[t[n.end+1].token].content="",o--)}}function emphasis_post_process(e){const t=e.tokens_meta,r=e.tokens_meta.length;postProcess(e,e.delimiters);for(let o=0;o<r;o++)t[o]&&t[o].delimiters&&postProcess(e,t[o].delimiters)}const r_emphasis={tokenize:emphasis_tokenize,postProcess:emphasis_post_process};function link(e,t){let r,o,n,a,s="",i="",u=e.pos,l=!0;if(e.src.charCodeAt(e.pos)!==91)return!1;const m=e.pos,f=e.posMax,E=e.pos+1,c=e.md.helpers.parseLinkLabel(e,e.pos,!0);if(c<0)return!1;let p=c+1;if(p<f&&e.src.charCodeAt(p)===40){for(l=!1,p++;p<f&&(r=e.src.charCodeAt(p),!(!isSpace(r)&&r!==10));p++);if(p>=f)return!1;if(u=p,n=e.md.helpers.parseLinkDestination(e.src,p,e.posMax),n.ok){for(s=e.md.normalizeLink(n.str),e.md.validateLink(s)?p=n.pos:s="",u=p;p<f&&(r=e.src.charCodeAt(p),!(!isSpace(r)&&r!==10));p++);if(n=e.md.helpers.parseLinkTitle(e.src,p,e.posMax),p<f&&u!==p&&n.ok)for(i=n.str,p=n.pos;p<f&&(r=e.src.charCodeAt(p),!(!isSpace(r)&&r!==10));p++);}(p>=f||e.src.charCodeAt(p)!==41)&&(l=!0),p++}if(l){if(typeof e.env.references>"u")return!1;if(p<f&&e.src.charCodeAt(p)===91?(u=p+1,p=e.md.helpers.parseLinkLabel(e,p),p>=0?o=e.src.slice(u,p++):p=c+1):p=c+1,o||(o=e.src.slice(E,c)),a=e.env.references[normalizeReference(o)],!a)return e.pos=m,!1;s=a.href,i=a.title}if(!t){e.pos=E,e.posMax=c;const d=e.push("link_open","a",1),x=[["href",s]];d.attrs=x,i&&x.push(["title",i]),e.linkLevel++,e.md.inline.tokenize(e),e.linkLevel--,e.push("link_close","a",-1)}return e.pos=p,e.posMax=f,!0}function image(e,t){let r,o,n,a,s,i,u,l,m="";const f=e.pos,E=e.posMax;if(e.src.charCodeAt(e.pos)!==33||e.src.charCodeAt(e.pos+1)!==91)return!1;const c=e.pos+2,p=e.md.helpers.parseLinkLabel(e,e.pos+1,!1);if(p<0)return!1;if(a=p+1,a<E&&e.src.charCodeAt(a)===40){for(a++;a<E&&(r=e.src.charCodeAt(a),!(!isSpace(r)&&r!==10));a++);if(a>=E)return!1;for(l=a,i=e.md.helpers.parseLinkDestination(e.src,a,e.posMax),i.ok&&(m=e.md.normalizeLink(i.str),e.md.validateLink(m)?a=i.pos:m=""),l=a;a<E&&(r=e.src.charCodeAt(a),!(!isSpace(r)&&r!==10));a++);if(i=e.md.helpers.parseLinkTitle(e.src,a,e.posMax),a<E&&l!==a&&i.ok)for(u=i.str,a=i.pos;a<E&&(r=e.src.charCodeAt(a),!(!isSpace(r)&&r!==10));a++);else u="";if(a>=E||e.src.charCodeAt(a)!==41)return e.pos=f,!1;a++}else{if(typeof e.env.references>"u")return!1;if(a<E&&e.src.charCodeAt(a)===91?(l=a+1,a=e.md.helpers.parseLinkLabel(e,a),a>=0?n=e.src.slice(l,a++):a=p+1):a=p+1,n||(n=e.src.slice(c,p)),s=e.env.references[normalizeReference(n)],!s)return e.pos=f,!1;m=s.href,u=s.title}if(!t){o=e.src.slice(c,p);const d=[];e.md.inline.parse(o,e.md,e.env,d);const x=e.push("image","img",0),y=[["src",m],["alt",""]];x.attrs=y,x.children=d,x.content=o,u&&y.push(["title",u])}return e.pos=a,e.posMax=E,!0}const EMAIL_RE=/^([a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,AUTOLINK_RE=/^([a-zA-Z][a-zA-Z0-9+.-]{1,31}):([^<>\x00-\x20]*)$/;function autolink(e,t){let r=e.pos;if(e.src.charCodeAt(r)!==60)return!1;const o=e.pos,n=e.posMax;for(;;){if(++r>=n)return!1;const s=e.src.charCodeAt(r);if(s===60)return!1;if(s===62)break}const a=e.src.slice(o+1,r);if(AUTOLINK_RE.test(a)){const s=e.md.normalizeLink(a);if(!e.md.validateLink(s))return!1;if(!t){const i=e.push("link_open","a",1);i.attrs=[["href",s]],i.markup="autolink",i.info="auto";const u=e.push("text","",0);u.content=e.md.normalizeLinkText(a);const l=e.push("link_close","a",-1);l.markup="autolink",l.info="auto"}return e.pos+=a.length+2,!0}if(EMAIL_RE.test(a)){const s=e.md.normalizeLink("mailto:"+a);if(!e.md.validateLink(s))return!1;if(!t){const i=e.push("link_open","a",1);i.attrs=[["href",s]],i.markup="autolink",i.info="auto";const u=e.push("text","",0);u.content=e.md.normalizeLinkText(a);const l=e.push("link_close","a",-1);l.markup="autolink",l.info="auto"}return e.pos+=a.length+2,!0}return!1}function isLinkOpen(e){return/^<a[>\s]/i.test(e)}function isLinkClose(e){return/^<\/a\s*>/i.test(e)}function isLetter(e){const t=e|32;return t>=97&&t<=122}function html_inline(e,t){if(!e.md.options.html)return!1;const r=e.posMax,o=e.pos;if(e.src.charCodeAt(o)!==60||o+2>=r)return!1;const n=e.src.charCodeAt(o+1);if(n!==33&&n!==63&&n!==47&&!isLetter(n))return!1;const a=e.src.slice(o).match(HTML_TAG_RE);if(!a)return!1;if(!t){const s=e.push("html_inline","",0);s.content=a[0],isLinkOpen(s.content)&&e.linkLevel++,isLinkClose(s.content)&&e.linkLevel--}return e.pos+=a[0].length,!0}const DIGITAL_RE=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,NAMED_RE=/^&([a-z][a-z0-9]{1,31});/i;function entity(e,t){const r=e.pos,o=e.posMax;if(e.src.charCodeAt(r)!==38||r+1>=o)return!1;if(e.src.charCodeAt(r+1)===35){const a=e.src.slice(r).match(DIGITAL_RE);if(a){if(!t){const s=a[1][0].toLowerCase()==="x"?parseInt(a[1].slice(1),16):parseInt(a[1],10),i=e.push("text_special","",0);i.content=isValidEntityCode(s)?fromCodePoint(s):fromCodePoint(65533),i.markup=a[0],i.info="entity"}return e.pos+=a[0].length,!0}}else{const a=e.src.slice(r).match(NAMED_RE);if(a){const s=decodeHTML(a[0]);if(s!==a[0]){if(!t){const i=e.push("text_special","",0);i.content=s,i.markup=a[0],i.info="entity"}return e.pos+=a[0].length,!0}}}return!1}function processDelimiters(e){const t={},r=e.length;if(!r)return;let o=0,n=-2;const a=[];for(let s=0;s<r;s++){const i=e[s];if(a.push(0),(e[o].marker!==i.marker||n!==i.token-1)&&(o=s),n=i.token,i.length=i.length||0,!i.close)continue;t.hasOwnProperty(i.marker)||(t[i.marker]=[-1,-1,-1,-1,-1,-1]);const u=t[i.marker][(i.open?3:0)+i.length%3];let l=o-a[o]-1,m=l;for(;l>u;l-=a[l]+1){const f=e[l];if(f.marker===i.marker&&f.open&&f.end<0){let E=!1;if((f.close||i.open)&&(f.length+i.length)%3===0&&(f.length%3!==0||i.length%3!==0)&&(E=!0),!E){const c=l>0&&!e[l-1].open?a[l-1]+1:0;a[s]=s-l+c,a[l]=c,i.open=!1,f.end=s,f.close=!1,m=-1,n=-2;break}}}m!==-1&&(t[i.marker][(i.open?3:0)+(i.length||0)%3]=m)}}function link_pairs(e){const t=e.tokens_meta,r=e.tokens_meta.length;processDelimiters(e.delimiters);for(let o=0;o<r;o++)t[o]&&t[o].delimiters&&processDelimiters(t[o].delimiters)}function fragments_join(e){let t,r,o=0;const n=e.tokens,a=e.tokens.length;for(t=r=0;t<a;t++)n[t].nesting<0&&o--,n[t].level=o,n[t].nesting>0&&o++,n[t].type==="text"&&t+1<a&&n[t+1].type==="text"?n[t+1].content=n[t].content+n[t+1].content:(t!==r&&(n[r]=n[t]),r++);t!==r&&(n.length=r)}const _rules=[["text",text],["linkify",linkify],["newline",newline],["escape",escape$1],["backticks",backtick],["strikethrough",r_strikethrough.tokenize],["emphasis",r_emphasis.tokenize],["link",link],["image",image],["autolink",autolink],["html_inline",html_inline],["entity",entity]],_rules2=[["balance_pairs",link_pairs],["strikethrough",r_strikethrough.postProcess],["emphasis",r_emphasis.postProcess],["fragments_join",fragments_join]];function ParserInline(){this.ruler=new Ruler;for(let e=0;e<_rules.length;e++)this.ruler.push(_rules[e][0],_rules[e][1]);this.ruler2=new Ruler;for(let e=0;e<_rules2.length;e++)this.ruler2.push(_rules2[e][0],_rules2[e][1])}ParserInline.prototype.skipToken=function(e){const t=e.pos,r=this.ruler.getRules(""),o=r.length,n=e.md.options.maxNesting,a=e.cache;if(typeof a[t]<"u"){e.pos=a[t];return}let s=!1;if(e.level<n){for(let i=0;i<o;i++)if(e.level++,s=r[i](e,!0),e.level--,s){if(t>=e.pos)throw new Error("inline rule didn't increment state.pos");break}}else e.pos=e.posMax;s||e.pos++,a[t]=e.pos};ParserInline.prototype.tokenize=function(e){const t=this.ruler.getRules(""),r=t.length,o=e.posMax,n=e.md.options.maxNesting;for(;e.pos<o;){const a=e.pos;let s=!1;if(e.level<n){for(let i=0;i<r;i++)if(s=t[i](e,!1),s){if(a>=e.pos)throw new Error("inline rule didn't increment state.pos");break}}if(s){if(e.pos>=o)break;continue}e.pending+=e.src[e.pos++]}e.pending&&e.pushPending()};ParserInline.prototype.parse=function(e,t,r,o){const n=new this.State(e,t,r,o);this.tokenize(n);const a=this.ruler2.getRules(""),s=a.length;for(let i=0;i<s;i++)a[i](n)};ParserInline.prototype.State=StateInline;function reFactory(e){const t={};e=e||{},t.src_Any=Any.source,t.src_Cc=Cc.source,t.src_Z=Z.source,t.src_P=P.source,t.src_ZPCc=[t.src_Z,t.src_P,t.src_Cc].join("|"),t.src_ZCc=[t.src_Z,t.src_Cc].join("|");const r="[><]";return t.src_pseudo_letter="(?:(?!"+r+"|"+t.src_ZPCc+")"+t.src_Any+")",t.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",t.src_auth="(?:(?:(?!"+t.src_ZCc+"|[@/\\[\\]()]).)+@)?",t.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",t.src_host_terminator="(?=$|"+r+"|"+t.src_ZPCc+")(?!"+(e["---"]?"-(?!--)|":"-|")+"_|:\\d|\\.-|\\.(?!$|"+t.src_ZPCc+"))",t.src_path="(?:[/?#](?:(?!"+t.src_ZCc+"|"+r+`|[()[\\]{}.,"'?!\\-;]).|\\[(?:(?!`+t.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+t.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+t.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+t.src_ZCc+`|["]).)+\\"|\\'(?:(?!`+t.src_ZCc+"|[']).)+\\'|\\'(?="+t.src_pseudo_letter+"|[-])|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+t.src_ZCc+"|[.]|$)|"+(e["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+t.src_ZCc+"|$)|;(?!"+t.src_ZCc+"|$)|\\!+(?!"+t.src_ZCc+"|[!]|$)|\\?(?!"+t.src_ZCc+"|[?]|$))+|\\/)?",t.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',t.src_xn="xn--[a-z0-9\\-]{1,59}",t.src_domain_root="(?:"+t.src_xn+"|"+t.src_pseudo_letter+"{1,63})",t.src_domain="(?:"+t.src_xn+"|(?:"+t.src_pseudo_letter+")|(?:"+t.src_pseudo_letter+"(?:-|"+t.src_pseudo_letter+"){0,61}"+t.src_pseudo_letter+"))",t.src_host="(?:(?:(?:(?:"+t.src_domain+")\\.)*"+t.src_domain+"))",t.tpl_host_fuzzy="(?:"+t.src_ip4+"|(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%)))",t.tpl_host_no_ip_fuzzy="(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%))",t.src_host_strict=t.src_host+t.src_host_terminator,t.tpl_host_fuzzy_strict=t.tpl_host_fuzzy+t.src_host_terminator,t.src_host_port_strict=t.src_host+t.src_port+t.src_host_terminator,t.tpl_host_port_fuzzy_strict=t.tpl_host_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_port_no_ip_fuzzy_strict=t.tpl_host_no_ip_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+t.src_ZPCc+"|>|$))",t.tpl_email_fuzzy="(^|"+r+'|"|\\(|'+t.src_ZCc+")("+t.src_email_name+"@"+t.tpl_host_fuzzy_strict+")",t.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+t.src_ZPCc+"))((?![$+<=>^`|])"+t.tpl_host_port_fuzzy_strict+t.src_path+")",t.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+t.src_ZPCc+"))((?![$+<=>^`|])"+t.tpl_host_port_no_ip_fuzzy_strict+t.src_path+")",t}function assign(e){return Array.prototype.slice.call(arguments,1).forEach(function(r){r&&Object.keys(r).forEach(function(o){e[o]=r[o]})}),e}function _class(e){return Object.prototype.toString.call(e)}function isString(e){return _class(e)==="[object String]"}function isObject(e){return _class(e)==="[object Object]"}function isRegExp(e){return _class(e)==="[object RegExp]"}function isFunction(e){return _class(e)==="[object Function]"}function escapeRE(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}const defaultOptions={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};function isOptionsObj(e){return Object.keys(e||{}).reduce(function(t,r){return t||defaultOptions.hasOwnProperty(r)},!1)}const defaultSchemas={"http:":{validate:function(e,t,r){const o=e.slice(t);return r.re.http||(r.re.http=new RegExp("^\\/\\/"+r.re.src_auth+r.re.src_host_port_strict+r.re.src_path,"i")),r.re.http.test(o)?o.match(r.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(e,t,r){const o=e.slice(t);return r.re.no_http||(r.re.no_http=new RegExp("^"+r.re.src_auth+"(?:localhost|(?:(?:"+r.re.src_domain+")\\.)+"+r.re.src_domain_root+")"+r.re.src_port+r.re.src_host_terminator+r.re.src_path,"i")),r.re.no_http.test(o)?t>=3&&e[t-3]===":"||t>=3&&e[t-3]==="/"?0:o.match(r.re.no_http)[0].length:0}},"mailto:":{validate:function(e,t,r){const o=e.slice(t);return r.re.mailto||(r.re.mailto=new RegExp("^"+r.re.src_email_name+"@"+r.re.src_host_strict,"i")),r.re.mailto.test(o)?o.match(r.re.mailto)[0].length:0}}},tlds_2ch_src_re="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",tlds_default="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|".split("|");function resetScanCache(e){e.__index__=-1,e.__text_cache__=""}function createValidator(e){return function(t,r){const o=t.slice(r);return e.test(o)?o.match(e)[0].length:0}}function createNormalizer(){return function(e,t){t.normalize(e)}}function compile(e){const t=e.re=reFactory(e.__opts__),r=e.__tlds__.slice();e.onCompile(),e.__tlds_replaced__||r.push(tlds_2ch_src_re),r.push(t.src_xn),t.src_tlds=r.join("|");function o(i){return i.replace("%TLDS%",t.src_tlds)}t.email_fuzzy=RegExp(o(t.tpl_email_fuzzy),"i"),t.link_fuzzy=RegExp(o(t.tpl_link_fuzzy),"i"),t.link_no_ip_fuzzy=RegExp(o(t.tpl_link_no_ip_fuzzy),"i"),t.host_fuzzy_test=RegExp(o(t.tpl_host_fuzzy_test),"i");const n=[];e.__compiled__={};function a(i,u){throw new Error('(LinkifyIt) Invalid schema "'+i+'": '+u)}Object.keys(e.__schemas__).forEach(function(i){const u=e.__schemas__[i];if(u===null)return;const l={validate:null,link:null};if(e.__compiled__[i]=l,isObject(u)){isRegExp(u.validate)?l.validate=createValidator(u.validate):isFunction(u.validate)?l.validate=u.validate:a(i,u),isFunction(u.normalize)?l.normalize=u.normalize:u.normalize?a(i,u):l.normalize=createNormalizer();return}if(isString(u)){n.push(i);return}a(i,u)}),n.forEach(function(i){e.__compiled__[e.__schemas__[i]]&&(e.__compiled__[i].validate=e.__compiled__[e.__schemas__[i]].validate,e.__compiled__[i].normalize=e.__compiled__[e.__schemas__[i]].normalize)}),e.__compiled__[""]={validate:null,normalize:createNormalizer()};const s=Object.keys(e.__compiled__).filter(function(i){return i.length>0&&e.__compiled__[i]}).map(escapeRE).join("|");e.re.schema_test=RegExp("(^|(?!_)(?:[><]|"+t.src_ZPCc+"))("+s+")","i"),e.re.schema_search=RegExp("(^|(?!_)(?:[><]|"+t.src_ZPCc+"))("+s+")","ig"),e.re.schema_at_start=RegExp("^"+e.re.schema_search.source,"i"),e.re.pretest=RegExp("("+e.re.schema_test.source+")|("+e.re.host_fuzzy_test.source+")|@","i"),resetScanCache(e)}function Match(e,t){const r=e.__index__,o=e.__last_index__,n=e.__text_cache__.slice(r,o);this.schema=e.__schema__.toLowerCase(),this.index=r+t,this.lastIndex=o+t,this.raw=n,this.text=n,this.url=n}function createMatch(e,t){const r=new Match(e,t);return e.__compiled__[r.schema].normalize(r,e),r}function LinkifyIt(e,t){if(!(this instanceof LinkifyIt))return new LinkifyIt(e,t);t||isOptionsObj(e)&&(t=e,e={}),this.__opts__=assign({},defaultOptions,t),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=assign({},defaultSchemas,e),this.__compiled__={},this.__tlds__=tlds_default,this.__tlds_replaced__=!1,this.re={},compile(this)}LinkifyIt.prototype.add=function e(t,r){return this.__schemas__[t]=r,compile(this),this};LinkifyIt.prototype.set=function e(t){return this.__opts__=assign(this.__opts__,t),this};LinkifyIt.prototype.test=function e(t){if(this.__text_cache__=t,this.__index__=-1,!t.length)return!1;let r,o,n,a,s,i,u,l,m;if(this.re.schema_test.test(t)){for(u=this.re.schema_search,u.lastIndex=0;(r=u.exec(t))!==null;)if(a=this.testSchemaAt(t,r[2],u.lastIndex),a){this.__schema__=r[2],this.__index__=r.index+r[1].length,this.__last_index__=r.index+r[0].length+a;break}}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(l=t.search(this.re.host_fuzzy_test),l>=0&&(this.__index__<0||l<this.__index__)&&(o=t.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))!==null&&(s=o.index+o[1].length,(this.__index__<0||s<this.__index__)&&(this.__schema__="",this.__index__=s,this.__last_index__=o.index+o[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(m=t.indexOf("@"),m>=0&&(n=t.match(this.re.email_fuzzy))!==null&&(s=n.index+n[1].length,i=n.index+n[0].length,(this.__index__<0||s<this.__index__||s===this.__index__&&i>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=s,this.__last_index__=i))),this.__index__>=0};LinkifyIt.prototype.pretest=function e(t){return this.re.pretest.test(t)};LinkifyIt.prototype.testSchemaAt=function e(t,r,o){return this.__compiled__[r.toLowerCase()]?this.__compiled__[r.toLowerCase()].validate(t,o,this):0};LinkifyIt.prototype.match=function e(t){const r=[];let o=0;this.__index__>=0&&this.__text_cache__===t&&(r.push(createMatch(this,o)),o=this.__last_index__);let n=o?t.slice(o):t;for(;this.test(n);)r.push(createMatch(this,o)),n=n.slice(this.__last_index__),o+=this.__last_index__;return r.length?r:null};LinkifyIt.prototype.matchAtStart=function e(t){if(this.__text_cache__=t,this.__index__=-1,!t.length)return null;const r=this.re.schema_at_start.exec(t);if(!r)return null;const o=this.testSchemaAt(t,r[2],r[0].length);return o?(this.__schema__=r[2],this.__index__=r.index+r[1].length,this.__last_index__=r.index+r[0].length+o,createMatch(this,0)):null};LinkifyIt.prototype.tlds=function e(t,r){return t=Array.isArray(t)?t:[t],r?(this.__tlds__=this.__tlds__.concat(t).sort().filter(function(o,n,a){return o!==a[n-1]}).reverse(),compile(this),this):(this.__tlds__=t.slice(),this.__tlds_replaced__=!0,compile(this),this)};LinkifyIt.prototype.normalize=function e(t){t.schema||(t.url="http://"+t.url),t.schema==="mailto:"&&!/^mailto:/i.test(t.url)&&(t.url="mailto:"+t.url)};LinkifyIt.prototype.onCompile=function e(){};const maxInt=2147483647,base=36,tMin=1,tMax=26,skew=38,damp=700,initialBias=72,initialN=128,delimiter="-",regexPunycode=/^xn--/,regexNonASCII=/[^\0-\x7F]/,regexSeparators=/[\x2E\u3002\uFF0E\uFF61]/g,errors={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},baseMinusTMin=base-tMin,floor=Math.floor,stringFromCharCode=String.fromCharCode;function error(e){throw new RangeError(errors[e])}function map(e,t){const r=[];let o=e.length;for(;o--;)r[o]=t(e[o]);return r}function mapDomain(e,t){const r=e.split("@");let o="";r.length>1&&(o=r[0]+"@",e=r[1]),e=e.replace(regexSeparators,".");const n=e.split("."),a=map(n,t).join(".");return o+a}function ucs2decode(e){const t=[];let r=0;const o=e.length;for(;r<o;){const n=e.charCodeAt(r++);if(n>=55296&&n<=56319&&r<o){const a=e.charCodeAt(r++);(a&64512)==56320?t.push(((n&1023)<<10)+(a&1023)+65536):(t.push(n),r--)}else t.push(n)}return t}const ucs2encode=e=>String.fromCodePoint(...e),basicToDigit=function(e){return e>=48&&e<58?26+(e-48):e>=65&&e<91?e-65:e>=97&&e<123?e-97:base},digitToBasic=function(e,t){return e+22+75*(e<26)-((t!=0)<<5)},adapt=function(e,t,r){let o=0;for(e=r?floor(e/damp):e>>1,e+=floor(e/t);e>baseMinusTMin*tMax>>1;o+=base)e=floor(e/baseMinusTMin);return floor(o+(baseMinusTMin+1)*e/(e+skew))},decode=function(e){const t=[],r=e.length;let o=0,n=initialN,a=initialBias,s=e.lastIndexOf(delimiter);s<0&&(s=0);for(let i=0;i<s;++i)e.charCodeAt(i)>=128&&error("not-basic"),t.push(e.charCodeAt(i));for(let i=s>0?s+1:0;i<r;){const u=o;for(let m=1,f=base;;f+=base){i>=r&&error("invalid-input");const E=basicToDigit(e.charCodeAt(i++));E>=base&&error("invalid-input"),E>floor((maxInt-o)/m)&&error("overflow"),o+=E*m;const c=f<=a?tMin:f>=a+tMax?tMax:f-a;if(E<c)break;const p=base-c;m>floor(maxInt/p)&&error("overflow"),m*=p}const l=t.length+1;a=adapt(o-u,l,u==0),floor(o/l)>maxInt-n&&error("overflow"),n+=floor(o/l),o%=l,t.splice(o++,0,n)}return String.fromCodePoint(...t)},encode=function(e){const t=[];e=ucs2decode(e);const r=e.length;let o=initialN,n=0,a=initialBias;for(const u of e)u<128&&t.push(stringFromCharCode(u));const s=t.length;let i=s;for(s&&t.push(delimiter);i<r;){let u=maxInt;for(const m of e)m>=o&&m<u&&(u=m);const l=i+1;u-o>floor((maxInt-n)/l)&&error("overflow"),n+=(u-o)*l,o=u;for(const m of e)if(m<o&&++n>maxInt&&error("overflow"),m===o){let f=n;for(let E=base;;E+=base){const c=E<=a?tMin:E>=a+tMax?tMax:E-a;if(f<c)break;const p=f-c,d=base-c;t.push(stringFromCharCode(digitToBasic(c+p%d,0))),f=floor(p/d)}t.push(stringFromCharCode(digitToBasic(f,0))),a=adapt(n,l,i===s),n=0,++i}++n,++o}return t.join("")},toUnicode=function(e){return mapDomain(e,function(t){return regexPunycode.test(t)?decode(t.slice(4).toLowerCase()):t})},toASCII=function(e){return mapDomain(e,function(t){return regexNonASCII.test(t)?"xn--"+encode(t):t})},punycode={version:"2.3.1",ucs2:{decode:ucs2decode,encode:ucs2encode},decode,encode,toASCII,toUnicode},cfg_default={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}},cfg_zero={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","fragments_join"]}}},cfg_commonmark={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","fragments_join"]}}},config={default:cfg_default,zero:cfg_zero,commonmark:cfg_commonmark},BAD_PROTO_RE=/^(vbscript|javascript|file|data):/,GOOD_DATA_RE=/^data:image\/(gif|png|jpeg|webp);/;function validateLink(e){const t=e.trim().toLowerCase();return BAD_PROTO_RE.test(t)?GOOD_DATA_RE.test(t):!0}const RECODE_HOSTNAME_FOR=["http:","https:","mailto:"];function normalizeLink(e){const t=urlParse(e,!0);if(t.hostname&&(!t.protocol||RECODE_HOSTNAME_FOR.indexOf(t.protocol)>=0))try{t.hostname=punycode.toASCII(t.hostname)}catch{}return encode$1(format(t))}function normalizeLinkText(e){const t=urlParse(e,!0);if(t.hostname&&(!t.protocol||RECODE_HOSTNAME_FOR.indexOf(t.protocol)>=0))try{t.hostname=punycode.toUnicode(t.hostname)}catch{}return decode$1(format(t),decode$1.defaultChars+"%")}function MarkdownIt(e,t){if(!(this instanceof MarkdownIt))return new MarkdownIt(e,t);t||isString$1(e)||(t=e||{},e="default"),this.inline=new ParserInline,this.block=new ParserBlock,this.core=new Core,this.renderer=new Renderer,this.linkify=new LinkifyIt,this.validateLink=validateLink,this.normalizeLink=normalizeLink,this.normalizeLinkText=normalizeLinkText,this.utils=utils,this.helpers=assign$1({},helpers),this.options={},this.configure(e),t&&this.set(t)}MarkdownIt.prototype.set=function(e){return assign$1(this.options,e),this};MarkdownIt.prototype.configure=function(e){const t=this;if(isString$1(e)){const r=e;if(e=config[r],!e)throw new Error('Wrong `markdown-it` preset "'+r+'", check name')}if(!e)throw new Error("Wrong `markdown-it` preset, can't be empty");return e.options&&t.set(e.options),e.components&&Object.keys(e.components).forEach(function(r){e.components[r].rules&&t[r].ruler.enableOnly(e.components[r].rules),e.components[r].rules2&&t[r].ruler2.enableOnly(e.components[r].rules2)}),this};MarkdownIt.prototype.enable=function(e,t){let r=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach(function(n){r=r.concat(this[n].ruler.enable(e,!0))},this),r=r.concat(this.inline.ruler2.enable(e,!0));const o=e.filter(function(n){return r.indexOf(n)<0});if(o.length&&!t)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+o);return this};MarkdownIt.prototype.disable=function(e,t){let r=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach(function(n){r=r.concat(this[n].ruler.disable(e,!0))},this),r=r.concat(this.inline.ruler2.disable(e,!0));const o=e.filter(function(n){return r.indexOf(n)<0});if(o.length&&!t)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+o);return this};MarkdownIt.prototype.use=function(e){const t=[this].concat(Array.prototype.slice.call(arguments,1));return e.apply(e,t),this};MarkdownIt.prototype.parse=function(e,t){if(typeof e!="string")throw new Error("Input data should be a String");const r=new this.core.State(e,this,t);return this.core.process(r),r.tokens};MarkdownIt.prototype.render=function(e,t){return t=t||{},this.renderer.render(this.parse(e,t),this.options,t)};MarkdownIt.prototype.parseInline=function(e,t){const r=new this.core.State(e,this,t);return r.inlineMode=!0,this.core.process(r),r.tokens};MarkdownIt.prototype.renderInline=function(e,t){return t=t||{},this.renderer.render(this.parseInline(e,t),this.options,t)};const db$2=new Dexie("AgentCompanyDemoRecords");db$2.version(1).stores({kvs:"++id, &key, value",functions:"++id, &name, config",records:"++id, supplier, function, input, output",chats:"++id, title"});function tryOnScopeDispose(e){return getCurrentScope()?(onScopeDispose(e),!0):!1}typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;function useObservable(e,t){const r=ref(void 0),o=e.subscribe({next:n=>r.value=n,error:void 0});return tryOnScopeDispose(()=>{o.unsubscribe()}),r}const functionSettings=L,db$1=db$2,md$1=MarkdownIt({breaks:!0,linkify:!0}),textRenderEngine={process:e=>md$1.render(e)},load=async e=>{var r;const t=(r=await db$1.kvs.get({key:e}))==null?void 0:r.value;return t==null?null:lib$1.parse(t)},save=async(e,t)=>{const r=lib$1.stringify(t);await db$1.kvs.put({id:e,key:e,value:r})},=async e=>{if(e.id!=null){const t=e.id;return await db$1.chats.delete(e.id),e.id=void 0,{ok:!0,id:t}}return{ok:!1}},=async e=>{const t=await db$1.chats.add(_.cloneDeep({...e,id:void 0}));return e.id=t,{ok:!0,id:t}},=async e=>e.id!=null?(await db$1.chats.put(_.cloneDeep(e)),{ok:!0,id:e.id}):(e),=async e=>[`
system

${e.systemPrompt??""}

---
`,...e.messages.map(o=>`
${o.role}

${o.content}

---
`)].join(`
`),=async e=>{const t=await (e),r=new Blob([t],{type:"text/plain"});FileSaver_minExports.saveAs(r,`[${(e==null?void 0:e.id)??"-"}]${(e==null?void 0:e.title)??"chat"}(${new Date().toLocaleString()}).md`)},=async(e,t)=>{var n;const r=t.apiKeyDict,o=t.supplierModelsDict;try{const a=`Bearer ${r[e.name]}`;console.log({supplier:e,apiKeyDict:r,Authorization:a});let s;try{s=await axios.get(`${e.baseUrl}${e.modelsUrl}`),console.log(s)}catch(l){try{s=await axios.get(`${e.baseUrl}${e.modelsUrl}`,{headers:{Authorization:a}}),console.log(s)}catch(m){console.warn(l),console.warn(m)}}let i=((n=s==null?void 0:s.data)==null?void 0:n.data)??[];console.log({models:i}),i!=null&&i.length||(i=(e==null?void 0:e.models)??[]);const u={...o};u[e.name]=i,t.supplierModelsDict=u,save("supplierForm",t)}catch(a){console.warn(a)}},=async(e,t)=>{const r=_.cloneDeep(e),o=_.cloneDeep(t.savedSettings);let n=!!functionSettings.find(s=>s.name==r.name);for(;n;)r.name=`${r.name}*`,n=!!functionSettings.find(s=>s.name==r.name);t.functionSetting=r,save("functionSetting",r);const a=o.find(s=>s.name==r.name);a==null?o.push(r):Object.assign(a,r),t.savedSettings=o,save("savedSettings",o)},=async(e,t)=>{t.savedSettings=t.savedSettings.filter(r=>r.name!=e.name),save("savedSettings",t.savedSettings)},=async(e,t)=>{t=t??`myFunctionSettings(${new Date().toLocaleString()}).json`;const r=new Blob([JSON.stringify(e)],{type:"application/json"});FileSaver_minExports.saveAs(r,t)},=async(e,t)=>{t=t??`${(e==null?void 0:e.name)??"myFunctionSetting"}(${new Date().toLocaleString()}).json`;const r=new Blob([JSON.stringify([e])],{type:"application/json"});FileSaver_minExports.saveAs(r,t)},=async(e,t)=>{const r=_.cloneDeep(e);r.name=`${r.name}*`,(r,t)},useDbRecords=(e=5)=>{const t=liveQuery(()=>db$1.records.orderBy("id").reverse().limit(e).toArray());return{lastNRecords:useObservable(t)}},useDbChats=(e=5)=>{const t=liveQuery(()=>db$1.chats.orderBy("id").reverse().limit(e).toArray());return{lastNChats:useObservable(t)}},=async()=>{const e=await db$1.records.toArray()??[],t=new Blob([e.map(JSON.stringify).join(`
`)],{type:"application/json"});FileSaver_minExports.saveAs(t,`records(${new Date().toLocaleString()}).jsonl`)},=async()=>{await db$1.records.clear()},=async(e,t,r,o,n,a,s)=>{const i=new v({...r,ai:{baseURL:e.baseUrl,apiKey:t,defaultModel:e.defaultModel}});console.log({supplier:e,apiKey:t,functionSetting:r,taskInput:o,callback:n,aiFunc:i});const u=Date.now(),l=await i.doTask(o,a,s).catch(c=>(console.error(String(c)),console.error(c),{error:c})),m=Date.now(),f=m-u,E={result:l,timeCost:f,timeStart:u,timeEnd:m};return console.log({report:E}),n?n==null?void 0:n(E):E},=async(e,t,r,o,n,a,s,i)=>{const u=new v({...o,ai:{baseURL:t.baseUrl,apiKey:r,defaultModel:t.defaultModel}});console.log({supplier:t,apiKey:r,functionSetting:o,taskInput:n,callback:a,aiFunc:u});const l=Date.now(),m=u.doTaskStream(n,s,i),f=[];let E="";for await(const y of m)if(y!=null){if(y!=null&&y.done)break;E+=_.isString(y)?y:JSON.stringify(y),f.push(y),e.result.result=E}console.log({resultText:E});const c=Date.now(),p=c-l,d={result:void 0,error:void 0};try{const y=JSON.parse(E);console.log({jjj:y,jjj_str:JSON.stringify(y)}),d.result=y}catch(y){console.warn("error"),d.result=E,d.error=y}console.log("result.result",d.result);const x={...d,chunks:f,timeCost:p,timeStart:l,timeEnd:c};return console.log({report:x}),a?a==null?void 0:a(x):x},=async(e,t,r,o,n,a,s)=>{const i=async l=>{var f;const m=JSON.parse(JSON.stringify(l));if(save("result",m),e.result=JSON.parse(JSON.stringify(m)),!((f=m==null?void 0:m.result)!=null&&f.error)){n.output=m;const E=await db$1.records.add(_.cloneDeep(n));e.lastRecordId=E}return l};if(s!=null&&s.stream)return (e,r,o,t==null?void 0:t.functionSetting,e==null?void 0:e.taskInput,i,a,s);const u=await (r,o,t==null?void 0:t.functionSetting,e==null?void 0:e.taskInput,i,a,s);return console.log({output:u}),u},=async(e,t,r,o,n)=>{var i,u;e.result={},e.processing=!0,e.lastRecordId=null;const a=_.cloneDeep({supplier:(i=t==null?void 0:t.selectedSupplier)==null?void 0:i.name,function:r==null?void 0:r.functionSetting,input:e==null?void 0:e.taskInput,otherParams:n}),s=await (e,r,t==null?void 0:t.selectedSupplier,t==null?void 0:t.apiKeyDict[(u=t==null?void 0:t.selectedSupplier)==null?void 0:u.name],a,o,n);return e.processing=!1,s},=,=async(e,t,r,o,n,a,s=!1)=>{var y,R,B;e.processing=!0;const i=(e==null?void 0:e.taskInput)??"",u=_.clone(o),l=new b({baseURL:(y=t==null?void 0:t.selectedSupplier)==null?void 0:y.baseUrl,apiKey:t==null?void 0:t.apiKeyDict[(R=t==null?void 0:t.selectedSupplier)==null?void 0:R.name],defaultModel:(B=t==null?void 0:t.selectedSupplier)==null?void 0:B.defaultModel}),m=Date.now(),f=[];let E="";for await(const F of l.chatStream(i,r==null?void 0:r.systemPrompt,u,n,s))if(F!=null){if(F!=null&&F.done)break;E+=_.isString(F)?F:JSON.stringify(F),r.newMessage=E,f.push(F),await nextTick()}const c=Date.now(),p=c-m,d={result:void 0,error:void 0};try{d.result=JSON.parse(E)}catch(F){d.result=E,d.error=F}await(a==null?void 0:a(d)),e.processing=!1;const x={...d,chunks:f,timeCost:p,timeStart:m,timeEnd:c};return console.log({report:x}),x},=async(e,t,r,o,n,a)=>{const s=o.map(u=>{var l;return{supplier:(l=t==null?void 0:t.selectedSupplier)==null?void 0:l.name,function:r==null?void 0:r.functionSetting,input:u.input,batchUnit:u.unit,batchIdx:u.idx,otherParams:a}});return await Promise.all(s.map(async u=>{var m;return await (e,r,t==null?void 0:t.selectedSupplier,t==null?void 0:t.apiKeyDict[(m=t==null?void 0:t.selectedSupplier)==null?void 0:m.name],u,n,a)}))},=async(e,t,r,o,n,a,s)=>{const i=_.max([(t==null?void 0:t.skip)??0,0]);let u=_.min([(t==null?void 0:t.limit)??1/0,1/0]);u<=0&&(u=1/0),console.log({skip:i,limit:u});const l=r.slice(i,i+u),m=_.chunk(l,(t==null?void 0:t.concurrency)??1);let f=0;e:for await(const E of m){const p=(await (e,o,n,E,[],s)).filter(d=>{var x;return(x=d==null?void 0:d.result)==null?void 0:x.error});if(p!=null&&p.length){const d=(t==null?void 0:t.retry)??3;t:for(let x=0;x<d;x++){const y=((t==null?void 0:t.retryDaley)??1e4)+x*((t==null?void 0:t.retryDaleyDelta)??5e3);await sleep$1(y);const R=p.map(T=>({unit:T==null?void 0:T.batchUnit,idx:T==null?void 0:T.batchIdx,input:T==null?void 0:T.input})),B=await (e,o,n,R,[],s),F=B.filter(T=>{var z;return(z=T==null?void 0:T.result)==null?void 0:z.error});if(!(F!=null&&F.length))break t;if(x>=d-1){console.error("",{errorOutputs:p,retryOutputs:B});break e}}}f<m.length-1&&sleep$1((t==null?void 0:t.delay)??700),f++}console.log("")},AppConfigView=defineComponent({setup(){const e=reactive({selectedSupplier:A[0],apiKeyDict:{},supplierModelsDict:{},selectedModelDict:{}}),t=computed(()=>{var a,s,i;const n={name:(a=e.selectedSupplier)==null?void 0:a.defaultModel};return((i=e.selectedModelDict[(s=e.selectedSupplier)==null?void 0:s.name])==null?void 0:i.name)==DEFAULT_MODEL.label?n:e.selectedModelDict[e.selectedSupplier.name]??n}),r=computed(()=>{var n;return e.supplierModelsDict[(n=e.selectedSupplier)==null?void 0:n.name]??[]}),o=computed(()=>[{name:DEFAULT_MODEL.label},...r.value.map(n=>({name:(n==null?void 0:n.label)??(n==null?void 0:n.name)??(n==null?void 0:n.id)}))]);return onMounted(async()=>{const n=await load("supplierForm");n!=null&&Object.assign(e,n)}),()=>[h(script$3,{header:"",toggleable:!0,class:"my-1.5rem! col"},{default:()=>{var n;return h("div",{class:"stack-v"},[h(script$h,{name:"supplier",options:A,optionLabel:"name",placeholder:"",fluid:!0,modelValue:e.selectedSupplier,"onUpdate:modelValue":a=>{e.selectedSupplier=a}}),h(script$g,{type:"password",name:"apiKey",placeholder:"API Key",fluid:!0,modelValue:e.apiKeyDict[(n=e.selectedSupplier)==null?void 0:n.name],"onUpdate:modelValue":a=>{e.apiKeyDict[e.selectedSupplier.name]=a,save("supplierForm",e)}}),h("div",{class:"stack-h w-full"},[h(script$h,{name:"model",options:o.value,optionLabel:"name",placeholder:"",class:"grow-1",modelValue:t.value,"onUpdate:modelValue":a=>{e.selectedModelDict[e.selectedSupplier.name]=a,save("supplierForm",e)}}),h(ToolButton,{icon:"pi pi-trash",label:"",command:()=>{(e.selectedSupplier,e)}})]),h(ToolButton,{size:"small",icon:"pi pi-trash",label:"debug",command:()=>{console.log({supplierForm:e,selectedModel:t.value})}})])}})]}}),tableTextarea=(e,t,r,o,n=t,a)=>[h("div",{class:"opacity-80 fw-500"},t),h(script$e,{class:"w-full",placeholder:n,...a,modelValue:e==null?void 0:e[r],"onUpdate:modelValue":s=>{e[r]=s,save(o,e)}})],cacheRenderer=e=>{if(_.isString(e))return e;try{return JSON.stringify(e,null,2)}catch(t){return console.log({error:t}),String(e)}},resultRenderer=(e,t=!1)=>t?e??"":cacheRenderer(e),ResultCard=defineComponent({name:"ResultCard",props:["appData"],setup(e){return()=>h(script$b,{onClick:()=>{var t;console.log((t=e==null?void 0:e.appData)==null?void 0:t.result)},pt:{body:{class:"py-0.75rem! px-1rem!"}},class:"w-full"},{content:()=>{var t,r,o;return h("div",{class:"stack-v"},[h("div",{class:"whitespace-pre-wrap font-mono! min-h-6em max-h-20em w-full overflow-y-auto"},`${resultRenderer((r=(t=e==null?void 0:e.appData)==null?void 0:t.result)==null?void 0:r.result,(o=e==null?void 0:e.appData)==null?void 0:o.processing)}`)])}})}}),AppFuncTestView=defineComponent({setup(){const e=useToast(),t=useConfirm(),r=useDbRecords(5),o=reactive({ipAndCountryCode:{},taskInput:"",processing:!1,lastRecordId:null,result:{},_lastResultError:null}),n=reactive({batchMode:!1,batchConfig:{inputTemplate:"",slotMark:"__",slotMarkIsRegExp:!1,itemsText:"",splitter:"[\\s\\n]+",splitterIsRegExp:!0,skip:0,limit:0,concurrency:1,showMore:!1,delay:0,retry:1,retryDaley:5e3,retryDaleyDelta:0},batchState:{}}),a=reactive({template:null,taskMask:null,reqMask:null,resMask:null}),s=reactive({functionSetting:L[0],savedSettings:[]}),i=reactive({selectedSupplier:A[0],apiKeyDict:{},supplierModelsDict:{},selectedModelDict:{}}),u=computed(()=>{const c={...s.functionSetting,...a};return new v(c).makeInstruction()}),l=computed(()=>{var c,p;return console.log("lastNRecords",(c=r==null?void 0:r.lastNRecords)==null?void 0:c.value),((p=r==null?void 0:r.lastNRecords)==null?void 0:p.value)??[]}),m=computed(()=>{const c=_.cloneDeep(defaultBatchConfig);Object.assign(c,n.batchConfig);let p=c.splitter;c!=null&&c.splitterIsRegExp&&(p=new RegExp(c.splitter,"g"));let d=c.slotMark;return c!=null&&c.slotMarkIsRegExp&&(d=new RegExp(c.slotMark,"g")),c.itemsText.trim().split(p).map(y=>y.trim()).filter(y=>y==null?void 0:y.length).map((y,R)=>({idx:R,unit:y,input:c.inputTemplate.replace(d,y)}))}),f=computed(()=>{var c;return JSON.stringify((c=o.result)==null?void 0:c.result,null,2)}),E=computed(()=>[{label:"",items:s.savedSettings},{label:"",items:L}]);return onMounted(async()=>{const c=await load("templateForm");c!=null&&Object.assign(a,c);const p=await load("batchForm");p!=null&&Object.assign(n,p);const d=await load("savedSettings");d!=null&&(s.savedSettings=d);const x=await load("supplierForm");x!=null&&Object.assign(i,x);const y=await load("functionSetting");y!=null&&(s.functionSetting=y);const R=await load("taskInput");R!=null&&(o.taskInput=R);let B=await load("result");if(B!=null){if(_.isString(B))try{B=JSON.parse(B)}catch(F){o._lastResultError=F}o.result=B}}),()=>[h(script$3,{header:"",toggleable:!0,collapsed:!0,class:"my-1.5rem! col"},{default:()=>h("div",{class:"stack-v"},[tableTextarea(a,"","template","templateForm",defaultInstructionTemplateEN),tableTextarea(a,"","taskMask","templateForm",defaultTaskMark),tableTextarea(a,"","reqMask","templateForm",defaultReqMark),tableTextarea(a,"","resMask","templateForm",defaultResMark),h("div",{class:"opacity-80 fw-500"},""),h(script$e,{class:"w-full",placeholder:"",value:u.value})])}),h(script$3,{header:"",toggleable:!0,class:"my-1.5rem! col"},{default:()=>{var c,p;return h("div",{class:"stack-v"},[h("div",{class:"stack-h"},[h(ToolButton,{size:"small",icon:"pi pi-save",label:"",command:async()=>{(s.savedSettings)}}),h(ToolButton,{size:"small",icon:"pi pi-file-import",label:"",command:async()=>{e.add({severity:"warn",summary:"",detail:"",life:2e3})}})]),h("div",{class:"stack-h"},[h(ToolButton,{size:"small",icon:"pi pi-save",label:"",command:async()=>{(s==null?void 0:s.functionSetting)}}),h(ToolButton,{size:"small",icon:"pi pi-copy",label:"",command:async()=>{(s==null?void 0:s.functionSetting,s)}})]),h("div",{class:"opacity-80 fw-500"},""),h(script$h,{name:"functionSettingName",options:E.value,optionLabel:"name",optionGroupLabel:"label",optionGroupChildren:"items",placeholder:"",fluid:!0,modelValue:s.functionSetting,"onUpdate:modelValue":d=>{s.functionSetting=d,save("functionSetting",_.cloneDeep(s.functionSetting))}},{optiongroup:d=>h("div",{},d.option.label)}),tableTextarea(s==null?void 0:s.functionSetting,"","name","functionSetting","",{rows:1}),tableTextarea(s==null?void 0:s.functionSetting,"","desc","functionSetting","",{rows:1}),h("div",{class:"stack-h"},[h("div",{class:"opacity-80 fw-500"},""),h(script$i,{modelValue:(c=s==null?void 0:s.functionSetting)==null?void 0:c.instructed,"onUpdate:modelValue":d=>{s.functionSetting.instructed=d,save("functionSetting",s.functionSetting)}})]),(p=s==null?void 0:s.functionSetting)!=null&&p.instructed?[tableTextarea(s==null?void 0:s.functionSetting,"","instruction","functionSetting")]:[tableTextarea(s==null?void 0:s.functionSetting,"","task","functionSetting"),tableTextarea(s==null?void 0:s.functionSetting,"","reqFormat","functionSetting"),tableTextarea(s==null?void 0:s.functionSetting,"","resFormat","functionSetting")],h("div",{class:"stack-h w-full justify-between!"},[h(ToolButton,{size:"small",icon:"pi pi-save",label:"",command:async()=>{await (s.functionSetting,s),e.add({severity:"info",summary:"",detail:"",life:2e3})}}),h(ToolButton,{size:"small",icon:"pi pi-trash",label:"",command:d=>{t.require({target:d.currentTarget,message:"",rejectProps:{label:"",severity:"secondary",outlined:!0},acceptProps:{label:"",severity:"danger"},accept:()=>{(s.functionSetting,s)},reject:()=>{e.add({severity:"info",summary:"",detail:"",life:2e3})}})}})])])}}),h(script$3,{header:"",toggleable:!0,class:"my-1.5rem! col"},{default:()=>{var c,p,d;return h("div",{class:"stack-v"},[h("div",{class:"stack-h"},[h("div",{class:"opacity-80 fw-500"},""),h(script$i,{modelValue:n.batchMode,"onUpdate:modelValue":x=>{n.batchMode=x,save("batchForm",n)}})]),n.batchMode?null:[h(script$e,{class:"w-full",placeholder:"",modelValue:o.taskInput,"onUpdate:modelValue":x=>{o.taskInput=x,save("taskInput",x)}}),h("div",{class:"stack-h"},[h(ToolButton,{size:"small",icon:"pi pi-plus",label:"",command:()=>{o.taskInput.trim()!==""&&(s.functionSetting.requestExamples=[...s.functionSetting.requestExamples,o.taskInput],save("functionSetting",s.functionSetting))}}),h(ToolButton,{size:"small",icon:"pi pi-copy",label:"",command:()=>{var x,y;clipboard.copy(o.taskInput),e.add({severity:"info",summary:"",detail:`${(x=o.taskInput)==null?void 0:x.length} 
${o.taskInput.slice(0,20)}${((y=o.taskInput)==null?void 0:y.length)<=20?"":"..."}`,life:2e3})}}),h(ToolButton,{size:"small",icon:"pi pi-trash",label:"",command:()=>{o.taskInput=""}})]),(((c=s==null?void 0:s.functionSetting)==null?void 0:c.requestExamples)??[]).map((x,y)=>h(ToolButton,{size:"small",key:`requestExample[${y}]${x}`,label:x,tip:`[${y+1}]`,class:"w-full",command:()=>{o.taskInput=x}})),(d=(p=s==null?void 0:s.functionSetting)==null?void 0:p.requestExamples)!=null&&d.length?h(ToolButton,{size:"small",icon:"pi pi-trash",label:"",command:()=>{s.functionSetting.requestExamples=[],save("functionSetting",s.functionSetting)}}):null]])}}),h(script$3,{header:"",toggleable:!0,class:"my-1.5rem! col"},{default:()=>{var c,p;return h("div",{class:"stack-v"},[n.batchMode?null:h(ToolButton,{size:"small",icon:"pi pi-play",label:"",fluid:!0,command:()=>{(o,i,s,[],{stream:!0})}}),n.batchMode?h(ToolButton,{size:"small",icon:"pi pi-play",label:"",fluid:!0,command:()=>{(o,n.batchConfig,m.value,i,s)}}):null,h("div",{class:"opacity-80 fw-500"},[o.processing?"":(c=o.result)!=null&&c.timeCost?` ${(p=o.result)==null?void 0:p.timeCost}ms`:""]),h(ResultCard,{appData:o}),h(ToolButton,{size:"small",icon:"pi pi-copy",label:"",command:()=>{var d;clipboard.copy(f.value),e.add({severity:"info",summary:"",detail:`${(d=f.value)==null?void 0:d.length} `,life:2e3})}})])}}),h(script$3,{header:"",toggleable:!0,class:"my-1.5rem! col"},{default:()=>h("div",{class:"stack-v"},[h(ToolButton,{size:"small",icon:"pi pi-trash",label:"",command:c=>{t.require({target:c.currentTarget,message:"",rejectProps:{label:"",severity:"secondary",outlined:!0},acceptProps:{label:"",severity:"danger"},accept:()=>{(),e.add({severity:"info",summary:"",detail:"",life:2e3})},reject:()=>{e.add({severity:"info",summary:"",detail:"",life:2e3})}})}}),(l.value??[]).map((c,p)=>h(script$b,{key:`lastNRecords[${p}]`,onClick:()=>{console.log(c)},pt:{body:{class:"py-0.75rem! px-1rem!"}},class:"w-full"},{content:()=>{var d,x,y;return h("div",{class:"stack-v"},[h("div",{class:"opacity-80",title:JSON.stringify(c==null?void 0:c.function,null,2)},[`[${c==null?void 0:c.id}] ${(d=c==null?void 0:c.function)==null?void 0:d.name} - ${((x=c==null?void 0:c.otherParams)==null?void 0:x.model)??(c==null?void 0:c.supplier)}`]),h("div",{class:"fw-500"},c==null?void 0:c.input),(c==null?void 0:c.batchIdx)==null?null:h("div",{},`[${c==null?void 0:c.batchIdx}]${c==null?void 0:c.batchUnit}`),h("div",{class:"whitespace-pre-wrap font-mono! min-h-6em max-h-20em w-full overflow-y-auto"},cacheRenderer((y=c==null?void 0:c.output)==null?void 0:y.result))])}})),h("div",{class:"stack-h items-center! w-full"},[h("div",{},[""]),h(ToolButton,{size:"small",icon:"pi pi-file-export",label:"",command:()=>{(),e.add({severity:"info",summary:"",detail:"",life:2e3})},class:"ml-auto"})])])})]}}),AppChatTestView=defineComponent({setup(){const e=useToast(),t=useDbChats(10),r=computed(()=>{var f,E;return console.log("lastNChats",(f=t==null?void 0:t.lastNChats)==null?void 0:f.value),((E=t==null?void 0:t.lastNChats)==null?void 0:E.value)??[]}),o=reactive({ipAndCountryCode:{},taskInput:"",processing:!1,lastRecordId:null,result:{},_lastResultError:null}),n=reactive({batchMode:!1,batchConfig:{},batchState:{}}),a=reactive({template:null,taskMask:null,reqMask:null,resMask:null}),s=reactive({functionSetting:L[0],savedSettings:[]}),i=reactive({selectedSupplier:A[0],apiKeyDict:{},supplierModelsDict:{},selectedModelDict:{}}),u=reactive({id:void 0,title:"",systemPrompt:"",messages:[],newMessage:""}),l=reactive({temperature:1,top_p:1}),m=[{key:"temperature",label:"temperature",min:.01,max:2,step:.01,default:1,tip:" 0  2  0.8 0.2 top_p"},{key:"top_p",label:"top_p",min:.01,max:1,step:.01,default:1,tip:" top_p  token  0.1  10%  token  temperature"}];return onMounted(async()=>{const f=await load("templateForm");f!=null&&Object.assign(a,f);const E=await load("batchForm");E!=null&&Object.assign(n,E);const c=await load("savedSettings");c!=null&&(s.savedSettings=c);const p=await load("supplierForm");p!=null&&Object.assign(i,p);const d=await load("functionSetting");d!=null&&(s.functionSetting=d);const x=await load("taskInput");x!=null&&(o.taskInput=x);const y=await load("chatData");y!=null&&Object.assign(u,y);const R=await load("llmOptions");R!=null&&Object.assign(l,R);let B=await load("result");if(B!=null){if(_.isString(B))try{B=JSON.parse(B)}catch(F){o._lastResultError=F}o.result=B}}),()=>[h(script$3,{header:"",toggleable:!0,class:"my-1.5rem! col"},{default:()=>h("div",{class:"stack-v"},[h("div",{class:"stack-h"},[h(ToolButton,{label:"",command:async()=>{const f=await (u);clipboard.copy(f),e.add({severity:"info",summary:"",detail:`${f==null?void 0:f.length} 
${f.slice(0,20)}${(f==null?void 0:f.length)<=20?"":"..."}`,life:2e3})}}),h(ToolButton,{label:"",command:async()=>{await (u),e.add({severity:"info",summary:"",detail:` ID${u.id}`,life:2e3})}})]),h("div",{class:"stack-h"},[h(ToolButton,{label:`[${u.id??"-"}]`,command:async()=>{const f=await (u);e.add({severity:"info",summary:"",detail:` ID${f.id}`,life:2e3}),save("chatData",u)}}),h(ToolButton,{label:`[${u.id??"-"}]`,command:async()=>{const f=await (u);e.add({severity:"info",summary:"",detail:` ID${f.id}`,life:2e3}),save("chatData",u)}}),h(ToolButton,{label:`[${u.id??"-"}]`,command:async()=>{const f=await (u);f.ok?e.add({severity:"info",summary:"",detail:` ID${f.id}`,life:2e3}):e.add({severity:"error",summary:"",detail:` ID${u.id}`,life:2e3}),save("chatData",u)}})]),h("div",{class:"stack-v"},[r.value.map(f=>h("div",{class:"stack-h"},[h("span",{},`[${f.id??"-"}]${f.title??"-"}`),h(ToolButton,{label:"",command:async()=>{f!=null&&(Object.assign(u,f),save("chatData",u))}})]))])])}),h(script$3,{header:"",toggleable:!0,class:"my-1.5rem! col"},{default:()=>{var f,E,c,p;return h("div",{class:"stack-v max-w-640px mx-auto py-1rem"},[h("div",{class:"stack-h w-full"},[h(script$g,{name:"chatTitle",placeholder:"",class:"grow-1",modelValue:u.title,"onUpdate:modelValue":d=>{u.title=d,save("chatData",u)}}),h(ToolButton,{icon:"pi pi-sparkles",label:"",command:()=>{u.title=` ${new Date().toLocaleString()}`,save("chatData",u)}})]),h(script$e,{class:"w-full",placeholder:"",modelValue:u.systemPrompt,"onUpdate:modelValue":d=>{u.systemPrompt=d,save("chatData",u)}}),h("div",{class:["stack-v w-full max-h-80vh my-1rem p-1rem overflow-auto","p-panel"]},[(f=u.systemPrompt)!=null&&f.length?h(Bubble,{content:u.systemPrompt,messageRender:d=>textRenderEngine.process(d),key:u.systemPrompt,loading:!1,placement:"end",avatarProps:{icon:"pi pi-desktop"},onClick:()=>{console.log(u)}},{header:()=>h("div",{class:"stack-h"},["system"]),footer:()=>h("div",{class:"stack-h"},[h(ToolButton,{size:"small",icon:"pi pi-copy",label:"",command:()=>{const d=u.systemPrompt??"";clipboard.copy(d),e.add({severity:"info",summary:"",detail:`${d==null?void 0:d.length} 
${d.slice(0,20)}${(d==null?void 0:d.length)<=20?"":"..."}`,life:2e3})}})])}):null,(E=u.systemPrompt)!=null&&E.length?h(script$d,{severity:"secondary",size:"small",class:"max-w-80% my-1rem mx-auto -outline-width-0!",pt:{text:{class:"-fw-400!"}}},{default:()=>[""]}):null,u.messages.map(d=>[h(Bubble,{content:d.content,key:d.content,messageRender:x=>textRenderEngine.process(x),loading:!1,placement:["user","system"].includes(d.role)?"end":"start",avatarProps:{icon:d.role=="user"?"pi pi-user":d.role=="assistant"?"pi pi-face-smile":"pi pi-desktop"}},{header:()=>h("div",{class:"stack-h"},[_.camelCase(d.role)]),footer:()=>h("div",{class:"stack-h"},[h(ToolButton,{size:"small",icon:"pi pi-copy",label:"",command:()=>{var x,y;clipboard.copy(d.content),e.add({severity:"info",summary:"",detail:`${(x=d.content)==null?void 0:x.length} 
${d.content.slice(0,20)}${((y=d.content)==null?void 0:y.length)<=20?"":"..."}`,life:2e3})}})])})]),(c=u.newMessage)!=null&&c.length?h(script$d,{severity:"secondary",size:"small",class:"max-w-80% my-1rem mx-auto -outline-width-0!",pt:{text:{class:"-fw-400!"}}},{default:()=>[""]}):null,(p=u.newMessage)!=null&&p.length?h(Bubble,{content:u.newMessage,messageRender:d=>textRenderEngine.process(d),key:u.newMessage,loading:!1,placement:"start",avatarProps:{icon:"pi pi-face-smile"},onClick:()=>{console.log(u)}},{header:()=>h("div",{class:"stack-h"},["assistant"]),footer:()=>h("div",{class:"stack-h"},[h(ToolButton,{size:"small",icon:"pi pi-copy",label:"",command:()=>{const d=u.newMessage??"";clipboard.copy(d),e.add({severity:"info",summary:"",detail:`${d==null?void 0:d.length} 
${d.slice(0,20)}${(d==null?void 0:d.length)<=20?"":"..."}`,life:2e3})}})])}):null]),[h(script$e,{class:"w-full",placeholder:"",modelValue:o.taskInput,"onUpdate:modelValue":d=>{o.taskInput=d,save("taskInput",d)}}),h("div",{class:"stack-h"},[h(ToolButton,{size:"small",icon:"pi pi-send",label:"",class:"ml-auto",command:async()=>{if(o.taskInput.trim()==="")return;const d=_.clone(u.messages);u.messages.push({role:"user",content:o.taskInput}),await (o,i,u,d,{stream:!0,...l}),u.messages.push({role:"assistant",content:u.newMessage??""}),u.newMessage="",o.taskInput="",save("chatData",u)}}),h(ToolButton,{size:"small",icon:"pi pi-send",label:"",class:"ml-auto",command:async()=>{o.taskInput.trim()!==""&&(await (o,i,u,u.messages,{stream:!0,...l}),save("chatData",u))}}),h(ToolButton,{size:"small",icon:"pi pi-send",label:"",class:"ml-auto",command:async()=>{const d=_.clone(u.messages);await (o,i,u,d,{stream:!0,...l},!0),save("chatData",u)}}),h(ToolButton,{size:"small",icon:"pi pi-send",label:"",class:"ml-auto",command:async()=>{o.taskInput.trim().length&&u.messages.push({role:"user",content:o.taskInput}),(u.newMessage??"").trim().length&&u.messages.push({role:"assistant",content:u.newMessage??""}),u.newMessage="",o.taskInput="",save("chatData",u)}}),h(ToolButton,{size:"small",icon:"pi pi-send",label:"",class:"ml-auto",command:async()=>{o.taskInput.trim()!==""&&(u.messages.push({role:"user",content:o.taskInput}),o.taskInput="",save("chatData",u))}}),h(ToolButton,{size:"small",icon:"pi pi-send",label:"",class:"ml-auto",command:async()=>{u.messages=[],u.newMessage="",save("chatData",u)}}),h(ToolButton,{size:"small",icon:"pi pi-copy",label:"",command:()=>{var d,x;clipboard.copy(o.taskInput),e.add({severity:"info",summary:"",detail:`${(d=o.taskInput)==null?void 0:d.length} 
${o.taskInput.slice(0,20)}${((x=o.taskInput)==null?void 0:x.length)<=20?"":"..."}`,life:2e3})}}),h(ToolButton,{size:"small",icon:"pi pi-trash",label:"",command:()=>{o.taskInput=""}})]),h("div",{class:"grid grid-cols-2 gap-4 w-full"},[m.map((d,x)=>h("div",{class:"stack-v col-span-2 lg-col-span-1 gap-4!"},[h(script$f,{variant:"on",class:"w-full"},{default:()=>[h(script$g,{id:`${d.key}Input`,fluid:!0,key:`[${x}]${d.key}`,modelValue:l[d.key],"onUpdate:modelValue":y=>{l[d.key]=Number(y),save("llmOptions",l)}}),h("label",{for:`${d.key}Input`},d.label)]}),h(script$j,{class:"w-96% mx-auto",modelValue:l[d.key],"onUpdate:modelValue":y=>{l[d.key]=Number(y),save("llmOptions",l)},min:d.min,max:d.max,step:d.step,title:d.tip})]))])]])}})]}});class ConceptDB extends Dexie{constructor(){super("ConceptForest");Ie(this,"trees");Ie(this,"nodes");Ie(this,"aliases");this.version(1).stores({trees:"&name",nodes:"[tree+key], tree, parents",aliases:"[tree+alias], [tree+key]"})}async _getRealKey(r,o){const n=await this.aliases.get([r,o.toLowerCase()]);return(n==null?void 0:n.key)||o}async createTree(r){if(!await this.trees.get(r))return this.trees.put({name:r})}async addNode(r,o){const n=(o.alias||[]).map(a=>a.toLowerCase());return this.transaction("rw",this.nodes,this.aliases,async()=>{await this.nodes.put({key:o.key,alias:n,parents:o.parents||[],props:o.props||{},tree:r,updated:new Date}),await this.aliases.bulkPut(n.map(a=>({tree:r,alias:a,key:o.key})))})}async updateParent(r,o,n){const a=await this._getRealKey(r,o);return this.nodes.update([r,a],{parents:n})}async findConcepts(r,o){let n=this.nodes.where("tree").equals(r);if(o.name)if(o.fuzzy){const a=await this.aliases.where("[tree+alias]").between([r,o.name.toLowerCase()],[r,o.name.toLowerCase()+""]).primaryKeys();n=n.filter(s=>a.map(i=>i[1]).includes(s.key))}else{const a=await this._getRealKey(r,o.name);n=n.filter(s=>s.key===a)}return o.props&&(n=n.filter(a=>Object.entries(o.props).every(([s,i])=>a.props[s]===i))),n.toArray()}}const db=new ConceptDB,TemplateJsTool={cdb:db,__KV__:{},__History__:[],log(e){const t=JSON.stringify(e);this.__History__.push(t),console.log(t)},clear(){this.__KV__={},this.__History__=[]},set(e,t){this.__KV__[e]=t},get(e){return this.__KV__[e]},last(){return this.__History__[this.__History__.length-1]},history(){return this.__History__},runCode(code){const frags=code.split(/(CallStart|CallEnd)/g);for(;frags[0]!=="CallStart";)if(frags.shift(),frags.length===0)return this.log("Error Code block not found."),this.last();for(frags.shift();frags[frags.length-1]!=="CallEnd";)if(frags.pop(),frags.length===0)return this.log("Error Code block not found."),this.last();frags.pop(),code=frags.join("").trim(),code=code.replace(/^```([Jj](ava)?[Ss](cript)?)?/g,""),code=code.replace(/```$/g,""),code=code.trim();try{eval(code)}catch(e){this.log(String(e))}return this.last()}},="\n js JsToolAPI\n\n- **** JsTool\n  - **** `JsToolUsed`\n  -  JsTool `JsToolUsed`\n  -  JsTool \n  -  JsTool \n  -  JsTool \n-  JsTool `CallStart``CallEnd` 1  JsTool\n\n\n\n-  JsTool  import \n-  JsTool  `console.log`  `JsTool.log` \n-  JsTool  `JsTool.set(key, value)`  `JsTool.get(key)`\n\n-  JsTool  lodash `_`\n-  JsTool  id  `the-only-art-board-wrap`  div  div  canvas  svg \n- js\n-  JsTool \n\n- `ReturnStart``ReturnEnd` `JsTool.log` \n-  JsTool \n  \n\n`ResultStart``ResultEnd`",roleIconDict={user:"pi pi-user",assistant:"pi pi-face-smile",system:"pi pi-desktop",tool:"pi pi-hammer"},AppToolTestView=defineComponent({setup(){const e=reactive(TemplateJsTool);onMounted(()=>{window.JsTool=e}),onUnmounted(()=>{window.JsTool=void 0});const t=c=>e.runCode(c),r=async c=>{const p=m.newMessage??"";return p.includes("JsToolUsed")?{run:!0,nextMessage:`ReturnStart${t(p)}ReturnEnd`}:{run:!1}},o=async(c=!1,p=2)=>{const d=_.cloneDeep(m.messages);d.forEach(y=>{y.role=="tool"&&(y.role="user")}),c||m.messages.push({role:"user",content:a.taskInput});let x=null;await (a,l,m,d,{stream:!0,...f},async y=>{x=await r()}),m.messages.push({role:"assistant",content:m.newMessage??""}),m.newMessage="",a.taskInput="",save("chatData",m),x!=null&&x.run&&p>0&&(m.messages.push({role:"tool",content:x.nextMessage}),save("chatData",m),await o(!0,p-1))},n=useToast(),a=reactive({ipAndCountryCode:{},taskInput:"",processing:!1,lastRecordId:null,result:{},_lastResultError:null}),s=reactive({batchMode:!1,batchConfig:{},batchState:{}}),i=reactive({template:null,taskMask:null,reqMask:null,resMask:null}),u=reactive({functionSetting:L[0],savedSettings:[]}),l=reactive({selectedSupplier:A[0],apiKeyDict:{},supplierModelsDict:{},selectedModelDict:{}}),m=reactive({title:"",systemPrompt:"",messages:[],newMessage:""}),f=reactive({temperature:1,top_p:1}),E=[{key:"temperature",label:"temperature",min:.01,max:2,step:.01,default:1,tip:" 0  2  0.8 0.2 top_p"},{key:"top_p",label:"top_p",min:.01,max:1,step:.01,default:1,tip:" top_p  token  0.1  10%  token  temperature"}];return onMounted(async()=>{const c=await load("templateForm");c!=null&&Object.assign(i,c);const p=await load("batchForm");p!=null&&Object.assign(s,p);const d=await load("savedSettings");d!=null&&(u.savedSettings=d);const x=await load("supplierForm");x!=null&&Object.assign(l,x);const y=await load("functionSetting");y!=null&&(u.functionSetting=y);const R=await load("taskInput");R!=null&&(a.taskInput=R);const B=await load("chatData");B!=null&&Object.assign(m,B);const F=await load("llmOptions");F!=null&&Object.assign(f,F);let T=await load("result");if(T!=null){if(_.isString(T))try{T=JSON.parse(T)}catch(z){a._lastResultError=z}a.result=T}}),()=>[h(script$3,{header:"",toggleable:!0,class:"my-1.5rem! col"},{default:()=>h("div",{class:"stack-v"},[h("p",{},""),h("p",{},""),h("p",{},""),h("p",{},"")])}),h(script$3,{header:"",toggleable:!0,class:"my-1.5rem! col"},{default:()=>h("div",{class:"stack-v"},[h(ToolButton,{icon:"pi pi-sparkles",label:"",command:()=>{m.systemPrompt=,save("chatData",m)}})])}),h(script$3,{header:"",toggleable:!0,class:"my-1.5rem! col"},{default:()=>h("div",{class:"stack-v",id:"the-only-art-board-wrap"},[])}),h(script$3,{header:"",toggleable:!0,class:"my-1.5rem! col"},{default:()=>{var c,p,d,x;return h("div",{class:"stack-v max-w-640px mx-auto py-1rem"},[h("div",{class:"stack-h w-full"},[h(script$g,{name:"chatTitle",placeholder:"",class:"grow-1",modelValue:m.title,"onUpdate:modelValue":y=>{m.title=y,save("chatData",m)}}),h(ToolButton,{icon:"pi pi-sparkles",label:"",command:()=>{m.title=` ${new Date().toLocaleString()}`,save("chatData",m)}})]),h(script$e,{class:"w-full",placeholder:"",modelValue:m.systemPrompt,"onUpdate:modelValue":y=>{m.systemPrompt=y,save("chatData",m)}}),h("div",{class:["stack-v w-full max-h-80vh my-1rem p-1rem overflow-auto","p-panel"]},[(c=m.systemPrompt)!=null&&c.length?h(Bubble,{content:m.systemPrompt,messageRender:y=>textRenderEngine.process(y),key:m.systemPrompt,loading:!1,placement:"end",avatarProps:{icon:roleIconDict.system},onClick:()=>{console.log(m)}},{header:()=>h("div",{class:"stack-h"},["system"])}):null,(p=m.systemPrompt)!=null&&p.length?h(script$d,{severity:"secondary",size:"small",class:"max-w-80% my-1rem mx-auto -outline-width-0!",pt:{text:{class:"-fw-400!"}}},{default:()=>[""]}):null,m.messages.map(y=>[h(Bubble,{content:y.content,messageRender:R=>textRenderEngine.process(R),loading:!1,placement:["user","system"].includes(y.role)?"end":"start",avatarProps:{icon:roleIconDict[y.role]}},{header:()=>h("div",{class:"stack-h"},[_.camelCase(y.role)]),footer:()=>h("div",{class:"stack-h"},[h(ToolButton,{size:"small",icon:"pi pi-copy",command:()=>{var R,B;clipboard.copy(y.content),n.add({severity:"info",summary:"",detail:`${(R=y.content)==null?void 0:R.length} 
${y.content.slice(0,20)}${((B=y.content)==null?void 0:B.length)<=20?"":"..."}`,life:2e3})}}),y.content.includes("CallStart")&&y.content.includes("CallEnd")?h(ToolButton,{size:"small",icon:"pi pi-play",command:()=>{t(y.content)}}):null])})]),(d=m.newMessage)!=null&&d.length?h(script$d,{severity:"secondary",size:"small",class:"max-w-80% my-1rem mx-auto -outline-width-0!",pt:{text:{class:"-fw-400!"}}},{default:()=>[""]}):null,(x=m.newMessage)!=null&&x.length?h(Bubble,{content:m.newMessage,messageRender:y=>textRenderEngine.process(y),key:m.newMessage,loading:!1,placement:"start",avatarProps:{icon:roleIconDict.assistant},onClick:()=>{console.log(m)}},{header:()=>h("div",{class:"stack-h"},["assistant"]),footer:()=>h("div",{class:"stack-h"},[h(ToolButton,{size:"small",icon:"pi pi-copy",command:()=>{const y=m.newMessage??"";clipboard.copy(y),n.add({severity:"info",summary:"",detail:`${y==null?void 0:y.length} 
${y.slice(0,20)}${(y==null?void 0:y.length)<=20?"":"..."}`,life:2e3})}})])}):null]),[h(script$e,{class:"w-full",placeholder:"",modelValue:a.taskInput,"onUpdate:modelValue":y=>{a.taskInput=y,save("taskInput",y)}}),h("div",{class:"stack-h"},[h(ToolButton,{size:"small",icon:"pi pi-send",label:"",class:"ml-auto",command:()=>{a.taskInput.trim()!==""&&o()}}),h(ToolButton,{size:"small",icon:"pi pi-copy",label:"",command:()=>{var y,R;clipboard.copy(a.taskInput),n.add({severity:"info",summary:"",detail:`${(y=a.taskInput)==null?void 0:y.length} 
${a.taskInput.slice(0,20)}${((R=a.taskInput)==null?void 0:R.length)<=20?"":"..."}`,life:2e3})}}),h(ToolButton,{size:"small",icon:"pi pi-trash",label:"",command:()=>{a.taskInput=""}}),h(ToolButton,{size:"small",icon:"pi pi-send",label:"",class:"ml-auto",command:async()=>{m.messages=[],m.newMessage="",save("chatData",m)}})]),h("div",{class:"grid grid-cols-2 gap-4 w-full"},[E.map((y,R)=>h("div",{class:"stack-v col-span-2 lg-col-span-1 gap-4!"},[h(script$f,{variant:"on",class:"w-full"},{default:()=>[h(script$g,{id:`${y.key}Input`,fluid:!0,key:`[${R}]${y.key}`,modelValue:f[y.key],"onUpdate:modelValue":B=>{f[y.key]=Number(B),save("llmOptions",f)}}),h("label",{for:`${y.key}Input`},y.label)]}),h(script$j,{class:"w-96% mx-auto",modelValue:f[y.key],"onUpdate:modelValue":B=>{f[y.key]=Number(B),save("llmOptions",f)},min:y.min,max:y.max,step:y.step,title:y.tip})]))])]])}}),h("div",{class:"grid grid-cols-2 gap-4"},[h(script$3,{header:"JsTool ",toggleable:!0,class:"my-1.5rem! col"},{default:()=>h("div",{class:"stack-v"},[h(ToolButton,{icon:"pi pi-copy",label:"",command:()=>{var c;clipboard.copy(`ReturnStart${e.last()}ReturnEnd`),n.add({severity:"info",summary:"",detail:` ${(c=`${e.last()}`)==null?void 0:c.length} `,life:2e3})}}),JSON.stringify(e.history(),null,2)])}),h(script$3,{header:"JsTool ",toggleable:!0,class:"my-1.5rem! col"},{default:()=>h("div",{class:"stack-v"},[JSON.stringify(e.__KV__,null,2)])})]),h(AppFileView,{class:"w-full"})]}}),md=MarkdownIt({breaks:!0,linkify:!0}),readMeText=`
### JS AI

 JS  AI  Web 
`,AppAboutView=defineComponent({name:"AppAboutView",setup(){return()=>h(script$3,{header:"About JS AI",class:"my-3"},{default:()=>[h("div",{class:["stack-v"]},[h("div",{class:"markdown-body",innerHTML:md.render(readMeText.trim())})])]})}}),NoteEditor=defineComponent({name:"NoteEditor",props:["note","idx"],emits:["modifyNoteContent","deleteNote"],setup(e,{emit:t}){var l,m;const r=resolveDirective("tooltip"),o=ref(),n=f=>{o.value.toggle(f)},a=ref(!1),s=ref((l=e==null?void 0:e.note)==null?void 0:l.title),i=ref((m=e==null?void 0:e.note)==null?void 0:m.content),u=ref([{label:"",icon:"pi pi-pencil",command:()=>{a.value=!0}},{label:"",icon:"pi pi-trash",command:()=>{var f;t("deleteNote",{id:(f=e==null?void 0:e.note)==null?void 0:f.id})}}]);return()=>{var f,E,c;return h(script$3,{key:`note[${e==null?void 0:e.idx}][${(f=e==null?void 0:e.note)==null?void 0:f.id}]`,header:`[${(E=e==null?void 0:e.note)==null?void 0:E.id}] ${((c=e==null?void 0:e.note)==null?void 0:c.title)??""}`},{default:()=>{var p;return h("div",{},[a.value?null:h("pre",{},(p=e==null?void 0:e.note)==null?void 0:p.content),a.value?h("div",{class:"my-3 flex flex-col flex-wrap gap-2 flex-content-around"},[h(script$g,{fluid:!0,modelValue:s.value,"onUpdate:modelValue":d=>{s.value=d}}),h(script$e,{fluid:!0,rows:4,modelValue:i.value,"onUpdate:modelValue":d=>{i.value=d}})]):null,a.value?h("div",{class:"mt-3 flex flex-row flex-wrap gap-2 flex-content-around"},[h(script$4,{class:"ml-auto",label:"",severity:"secondary",size:"small",onClick:()=>{var d;t("modifyNoteContent",{shadow:{id:(d=e==null?void 0:e.note)==null?void 0:d.id},content:i.value,title:s.value,callback:x=>{x===0&&(a.value=!1)}})}}),h(script$4,{label:"",severity:"secondary",size:"small",onClick:()=>{a.value=!1}})]):null])},icons:()=>{var p;return[withDirectives(h(script$4,{icon:"pi pi-pencil",severity:"secondary",rounded:!0,text:!0,onClick:()=>{a.value=!0}}),[[r,{value:"",showDelay:250,hideDelay:500},"top",{top:!0}]]),withDirectives(h(script$4,{icon:"pi pi-trash",severity:"secondary",rounded:!0,text:!0,onClick:()=>{var d;t("deleteNote",{id:(d=e==null?void 0:e.note)==null?void 0:d.id})}}),[[r,{value:"",showDelay:250,hideDelay:500},"top",{top:!0}]]),withDirectives(h(script$4,{icon:"pi pi-cog",severity:"secondary",rounded:!0,text:!0,onClick:n}),[[r,{value:"",showDelay:250,hideDelay:500},"top",{top:!0}]]),h(script$k,{ref:o,id:`menu-of-note[${e==null?void 0:e.idx}][${(p=e==null?void 0:e.note)==null?void 0:p.id}]`,model:u.value,popup:!0})]}})}}}),useNotesStore=defineStore("notesStore",{state:()=>({notes:[]}),getters:{count:e=>e.notes.length,maxId:e=>{var t;return((t=_.maxBy(e.notes,"id"))==null?void 0:t.id)??0}},actions:{addNote(e){e.id=this.maxId+1,e.timestamp=Date.now(),this.notes.unshift(e)},addNoteByContent(e,t){const r={content:e,title:t,id:this.maxId+1,timestamp:Date.now()};this.notes.unshift(r)},removeNote(e){_.remove(this.notes,e)},modifyNoteContent(e,t,r,o){console.log({shadow:e,title:r,content:t});const n=this.notes.find(a=>_.isMatch(a,e));if(n){const a=this.notes.indexOf(n),s={..._.cloneDeep(n),content:t,title:r};this.notes.splice(a,1,s),o==null||o(0)}else o==null||o(-1)}},persist:{serializer:{deserialize:lib$1.parse,serialize:lib$1.stringify}}}),AppNotesView=defineComponent({name:"AppNotesView",setup(){const e=useToast(),t=resolveDirective("tooltip"),r=useNotesStore(),{addNote:o,removeNote:n,modifyNoteContent:a}=r,{notes:s,count:i}=storeToRefs(r);return()=>h(script$3,{header:` ${i.value} `,toggleable:!0,class:"my-3"},{default:()=>[h("div",{class:["flex flex-row flex-items-center flex-wrap gap-2 flex-content-around flex-justify-around"]},[withDirectives(h(script$4,{label:"",onClick:()=>{o({content:""})}}),[[t,{value:"",showDelay:250,hideDelay:500},"top",{top:!0}]])]),h(script$l,{value:s.value,dataKey:"id",paginator:!0,rows:20},{empty:()=>h("div",{class:"my-3"},[""]),list:u=>u.items.map((l,m)=>h(NoteEditor,{class:"my-3",note:l,idx:m,key:`note[${m}][${l.id}]`,onDeleteNote:f=>{n(f)},onModifyNoteContent:({shadow:f,content:E,title:c,callback:p})=>{console.log({shadow:f,content:E,title:c,callback:p}),a(f,E,c,d=>{d===0||e.add({severity:"error",summary:"",detail:`${d}
${JSON.stringify(f)}`,life:3e3}),p==null||p(d)})}}))})]})}}),routes=[{path:"/:pathMatch(.*)*",name:"404",component:NotFoundView},{path:"/",redirect:"/about"},{path:"/",name:"app-root",component:AppView,children:[{path:"agent",name:"app-agent",component:AppRootView},{path:"about",name:"app-about",component:AppAboutView},{path:"func-test",name:"app-func-test",component:AppFuncTestView},{path:"chat-test",name:"app-chat-test",component:AppChatTestView},{path:"tool-test",name:"app-tool-test",component:AppToolTestView},{path:"notes",name:"app-notes",component:AppNotesView},{path:"config",name:"app-config",component:AppConfigView},{path:"suppliers",name:"app-suppliers",component:AppNotesView}]}],router=createRouter({history:createWebHashHistory(),routes}),suspectProtoRx=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,suspectConstructorRx=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,JsonSigRx=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function jsonParseTransform(e,t){if(e==="__proto__"||e==="constructor"&&t&&typeof t=="object"&&"prototype"in t){warnKeyDropped(e);return}return t}function warnKeyDropped(e){console.warn(`[destr] Dropping "${e}" key to prevent prototype pollution.`)}function destr(e,t={}){if(typeof e!="string")return e;const r=e.trim();if(e[0]==='"'&&e.endsWith('"')&&!e.includes("\\"))return r.slice(1,-1);if(r.length<=9){const o=r.toLowerCase();if(o==="true")return!0;if(o==="false")return!1;if(o==="undefined")return;if(o==="null")return null;if(o==="nan")return Number.NaN;if(o==="infinity")return Number.POSITIVE_INFINITY;if(o==="-infinity")return Number.NEGATIVE_INFINITY}if(!JsonSigRx.test(e)){if(t.strict)throw new SyntaxError("[destr] Invalid JSON");return e}try{if(suspectProtoRx.test(e)||suspectConstructorRx.test(e)){if(t.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(e,jsonParseTransform)}return JSON.parse(e)}catch(o){if(t.strict)throw o;return e}}function get(e,t){if(e==null)return;let r=e;for(let o=0;o<t.length;o++){if(r==null||r[t[o]]==null)return;r=r[t[o]]}return r}function set(e,t,r){if(r.length===0)return t;const o=r[0];return r.length>1&&(t=set(typeof e!="object"||e===null||!Object.prototype.hasOwnProperty.call(e,o)?Number.isInteger(Number(r[1]))?[]:{}:e[o],t,Array.prototype.slice.call(r,1))),Number.isInteger(Number(o))&&Array.isArray(e)?e.slice()[o]:Object.assign({},e,{[o]:t})}function unset(e,t){if(e==null||t.length===0)return e;if(t.length===1){if(e==null)return e;if(Number.isInteger(t[0])&&Array.isArray(e))return Array.prototype.slice.call(e,0).splice(t[0],1);const r={};for(const o in e)r[o]=e[o];return delete r[t[0]],r}if(e[t[0]]==null){if(Number.isInteger(t[0])&&Array.isArray(e))return Array.prototype.concat.call([],e);const r={};for(const o in e)r[o]=e[o];return r}return set(e,unset(e[t[0]],Array.prototype.slice.call(t,1)),[t[0]])}function deepPickUnsafe(e,t){return t.map(r=>r.split(".")).map(r=>[r,get(e,r)]).filter(r=>r[1]!==void 0).reduce((r,o)=>set(r,o[1],o[0]),{})}function deepOmitUnsafe(e,t){return t.map(r=>r.split(".")).reduce((r,o)=>unset(r,o),e)}function hydrateStore(e,{storage:t,serializer:r,key:o,debug:n,pick:a,omit:s,beforeHydrate:i,afterHydrate:u},l,m=!0){try{m&&(i==null||i(l));const f=t.getItem(o);if(f){const E=r.deserialize(f),c=a?deepPickUnsafe(E,a):E,p=s?deepOmitUnsafe(c,s):c;e.$patch(p)}m&&(u==null||u(l))}catch(f){n&&console.error("[pinia-plugin-persistedstate]",f)}}function persistState(e,{storage:t,serializer:r,key:o,debug:n,pick:a,omit:s}){try{const i=a?deepPickUnsafe(e,a):e,u=s?deepOmitUnsafe(i,s):i,l=r.serialize(u);t.setItem(o,l)}catch(i){n&&console.error("[pinia-plugin-persistedstate]",i)}}function createPersistence(e,t,r){const{pinia:o,store:n,options:{persist:a=r}}=e;if(!a)return;if(!(n.$id in o.state.value)){const u=o._s.get(n.$id.replace("__hot:",""));u&&Promise.resolve().then(()=>u.$persist());return}const i=(Array.isArray(a)?a:a===!0?[{}]:[a]).map(t);n.$hydrate=({runHooks:u=!0}={})=>{i.forEach(l=>{hydrateStore(n,l,e,u)})},n.$persist=()=>{i.forEach(u=>{persistState(n.$state,u)})},i.forEach(u=>{hydrateStore(n,u,e),n.$subscribe((l,m)=>persistState(m,u),{detached:!0})})}function createPersistedState(e={}){return function(t){createPersistence(t,r=>({key:(e.key?e.key:o=>o)(r.key??t.store.$id),debug:r.debug??e.debug??!1,serializer:r.serializer??e.serializer??{serialize:o=>JSON.stringify(o),deserialize:o=>destr(o)},storage:r.storage??e.storage??window.localStorage,beforeHydrate:r.beforeHydrate,afterHydrate:r.afterHydrate,pick:r.pick,omit:r.omit}),e.auto??!1)}}var src_default=createPersistedState();const store=createPinia();store.use(src_default);const i18n=createI18n({legacy:!1,locale:"zh",fallbackLocale:"en",messages:{en:{message:{hello:"hello world"}},zh:{message:{hello:""}}}}),app=createApp(App);app.use(PrimeVue,{ripple:!0,theme:{preset:IndigoThemePreset,options:{prefix:"p",darkModeSelector:`.${darkModeClassName}`,cssLayer:!1}}});app.use(router);app.use(store);app.use(ToastService);app.use(DialogService);app.use(ConfirmationService);app.use(i18n);app.directive("tooltip",Tooltip);app.mount("#app");
