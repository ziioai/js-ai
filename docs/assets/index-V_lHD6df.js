var M=Object.defineProperty;var N=(e,r,t)=>r in e?M(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t;var B=(e,r,t)=>N(e,typeof r!="symbol"?r+"":r,t);import{L as defineStore,b as ref,B as computed,M as defineComponent,N as watchEffect,O as h,R as RouterView,P as useRouter,Q as useI18n,S as storeToRefs,U as useRoute,w as watch,i as resolveDirective,l as withDirectives,e as onMounted,V as onUnmounted,C as reactive,W as getCurrentScope,X as onScopeDispose,n as nextTick,Y as createRouter,Z as createWebHashHistory,_ as createPinia,$ as createI18n,a0 as createApp}from"./vue-VsIqK9es.js";import{a as axios,D as Dexie,l as localforage,b as liveQuery}from"./tools2-B8st6xGj.js";import{l as lib$1,c as clipboard,a as lib$2,m as md5,n as nanoid,p as pako,F as FileSaver_minExports,Y as YAML,z as zipson}from"./tools1-CvFydF0o.js";import{j as jschardet}from"./jschardet-IpODvyiT.js";import{_}from"./lodash-D9wIYH0h.js";import{s as script,a as script$1,b as script$2,d as definePreset,c as script$3,e as script$4,f as script$5,g as script$6,h as script$7,i as script$8,j as script$9,k as script$a,l as script$b,u as useToast,m as script$c,n as script$d,o as script$e,p as script$f,q as script$g,r as useConfirm,t as script$h,v as script$i,w as script$j,x as script$k,P as PrimeVue,T as ToastService,D as DialogService,C as ConfirmationService,y as Tooltip}from"./primevue-rPwysyda.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const u of n)if(u.type==="childList")for(const a of u.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function t(n){const u={};return n.integrity&&(u.integrity=n.integrity),n.referrerPolicy&&(u.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?u.credentials="include":n.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function o(n){if(n.ep)return;n.ep=!0;const u=t(n);fetch(n.href,u)}})();const darkModeClassName="my-app-dark",useDarkModeStore=defineStore("darkMode",()=>{const e=ref(darkModeClassName),r=ref(!1),t=computed(()=>`.${e.value}`),o=computed(()=>document.documentElement.classList.contains(darkModeClassName)),n=()=>{document.documentElement.classList.add(e.value),r.value=!0},u=()=>{document.documentElement.classList.remove(e.value),r.value=!1};return{className:e,isOn:r,darkModeClass:t,isDarkMode:o,turnOn:n,turnOff:u,toggle:()=>{document.documentElement.classList.toggle(e.value),r.value=!r.value},turn:()=>{r.value?n():u()}}},{persist:{serializer:{deserialize:lib$1.parse,serialize:lib$1.stringify},pick:["isOn"]}}),defaultState={locale:"en",fallbackLocale:"en",availableLocales:["en","zh"]},systemSettingsDefinition={state:()=>_.cloneDeep(defaultState),getters:{},actions:{setLocale(e,r){var t;e=(e??"").toLowerCase(),(t=this.availableLocales)!=null&&t.includes(e)||(e=this.locale),r!=null&&(r.value=e),this.locale=e}},persist:{serializer:{deserialize:lib$1.parse,serialize:lib$1.stringify}}},useSystemSettingsStore=defineStore("systemSettingsStore",systemSettingsDefinition),RootLayout=defineComponent({setup(){const e=useDarkModeStore(),{turn:r}=e,t=useSystemSettingsStore(),{setLocale:o}=t;return watchEffect(()=>{r(),o()}),()=>[h(RouterView),h(script),h(script$1),h(script$2)]}});window.toolPack={_,axios,clipboard,Dexie,jschardet,json5:lib$2,JSON5:lib$2,localforage,lodash:_,Lodash:_,md5,nanoid,pako,saveAs:FileSaver_minExports.saveAs,yaml:YAML,zipson};window._=_;window.axios=axios;window.clipboard=clipboard;window.Dexie=Dexie;window.jschardet=jschardet;window.json5=lib$2;window.JSON5=lib$2;window.localforage=localforage;window.lodash=_;window.Lodash=_;window.md5=md5;window.nanoid=nanoid;window.pako=pako;window.saveAs=FileSaver_minExports.saveAs;window.yaml=YAML;window.zipson=zipson;const App=defineComponent({setup(){return()=>h(RootLayout)}});var index$1p={root:{transitionDuration:"{transition.duration}"},panel:{borderWidth:"0 0 1px 0",borderColor:"{content.border.color}"},header:{color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{text.color}",padding:"1.125rem",fontWeight:"600",borderRadius:"0",borderWidth:"0",borderColor:"{content.border.color}",background:"{content.background}",hoverBackground:"{content.background}",activeBackground:"{content.background}",activeHoverBackground:"{content.background}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"},toggleIcon:{color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{text.color}",activeHoverColor:"{text.color}"},first:{topBorderRadius:"{content.border.radius}",borderWidth:"0"},last:{bottomBorderRadius:"{content.border.radius}",activeBottomBorderRadius:"0"}},content:{borderWidth:"0",borderColor:"{content.border.color}",background:"{content.background}",color:"{text.color}",padding:"0 1.125rem 1.125rem 1.125rem"}},index$1o={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}"},overlay:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},list:{padding:"{list.padding}",gap:"{list.gap}"},option:{focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"},optionGroup:{background:"{list.option.group.background}",color:"{list.option.group.color}",fontWeight:"{list.option.group.font.weight}",padding:"{list.option.group.padding}"},dropdown:{width:"2.5rem",sm:{width:"2rem"},lg:{width:"3rem"},borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.border.color}",activeBorderColor:"{form.field.border.color}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},chip:{borderRadius:"{border.radius.sm}"},emptyMessage:{padding:"{list.option.padding}"},colorScheme:{light:{chip:{focusBackground:"{surface.200}",focusColor:"{surface.800}"},dropdown:{background:"{surface.100}",hoverBackground:"{surface.200}",activeBackground:"{surface.300}",color:"{surface.600}",hoverColor:"{surface.700}",activeColor:"{surface.800}"}},dark:{chip:{focusBackground:"{surface.700}",focusColor:"{surface.0}"},dropdown:{background:"{surface.800}",hoverBackground:"{surface.700}",activeBackground:"{surface.600}",color:"{surface.300}",hoverColor:"{surface.200}",activeColor:"{surface.100}"}}}},index$1n={root:{width:"2rem",height:"2rem",fontSize:"1rem",background:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}"},icon:{size:"1rem"},group:{borderColor:"{content.background}",offset:"-0.75rem"},lg:{width:"3rem",height:"3rem",fontSize:"1.5rem",icon:{size:"1.5rem"},group:{offset:"-1rem"}},xl:{width:"4rem",height:"4rem",fontSize:"2rem",icon:{size:"2rem"},group:{offset:"-1.5rem"}}},index$1m={root:{borderRadius:"{border.radius.md}",padding:"0 0.5rem",fontSize:"0.75rem",fontWeight:"700",minWidth:"1.5rem",height:"1.5rem"},dot:{size:"0.5rem"},sm:{fontSize:"0.625rem",minWidth:"1.25rem",height:"1.25rem"},lg:{fontSize:"0.875rem",minWidth:"1.75rem",height:"1.75rem"},xl:{fontSize:"1rem",minWidth:"2rem",height:"2rem"},colorScheme:{light:{primary:{background:"{primary.color}",color:"{primary.contrast.color}"},secondary:{background:"{surface.100}",color:"{surface.600}"},success:{background:"{green.500}",color:"{surface.0}"},info:{background:"{sky.500}",color:"{surface.0}"},warn:{background:"{orange.500}",color:"{surface.0}"},danger:{background:"{red.500}",color:"{surface.0}"},contrast:{background:"{surface.950}",color:"{surface.0}"}},dark:{primary:{background:"{primary.color}",color:"{primary.contrast.color}"},secondary:{background:"{surface.800}",color:"{surface.300}"},success:{background:"{green.400}",color:"{green.950}"},info:{background:"{sky.400}",color:"{sky.950}"},warn:{background:"{orange.400}",color:"{orange.950}"},danger:{background:"{red.400}",color:"{red.950}"},contrast:{background:"{surface.0}",color:"{surface.950}"}}}},index$1l={primitive:{borderRadius:{none:"0",xs:"2px",sm:"4px",md:"6px",lg:"8px",xl:"12px"},emerald:{50:"#ecfdf5",100:"#d1fae5",200:"#a7f3d0",300:"#6ee7b7",400:"#34d399",500:"#10b981",600:"#059669",700:"#047857",800:"#065f46",900:"#064e3b",950:"#022c22"},green:{50:"#f0fdf4",100:"#dcfce7",200:"#bbf7d0",300:"#86efac",400:"#4ade80",500:"#22c55e",600:"#16a34a",700:"#15803d",800:"#166534",900:"#14532d",950:"#052e16"},lime:{50:"#f7fee7",100:"#ecfccb",200:"#d9f99d",300:"#bef264",400:"#a3e635",500:"#84cc16",600:"#65a30d",700:"#4d7c0f",800:"#3f6212",900:"#365314",950:"#1a2e05"},red:{50:"#fef2f2",100:"#fee2e2",200:"#fecaca",300:"#fca5a5",400:"#f87171",500:"#ef4444",600:"#dc2626",700:"#b91c1c",800:"#991b1b",900:"#7f1d1d",950:"#450a0a"},orange:{50:"#fff7ed",100:"#ffedd5",200:"#fed7aa",300:"#fdba74",400:"#fb923c",500:"#f97316",600:"#ea580c",700:"#c2410c",800:"#9a3412",900:"#7c2d12",950:"#431407"},amber:{50:"#fffbeb",100:"#fef3c7",200:"#fde68a",300:"#fcd34d",400:"#fbbf24",500:"#f59e0b",600:"#d97706",700:"#b45309",800:"#92400e",900:"#78350f",950:"#451a03"},yellow:{50:"#fefce8",100:"#fef9c3",200:"#fef08a",300:"#fde047",400:"#facc15",500:"#eab308",600:"#ca8a04",700:"#a16207",800:"#854d0e",900:"#713f12",950:"#422006"},teal:{50:"#f0fdfa",100:"#ccfbf1",200:"#99f6e4",300:"#5eead4",400:"#2dd4bf",500:"#14b8a6",600:"#0d9488",700:"#0f766e",800:"#115e59",900:"#134e4a",950:"#042f2e"},cyan:{50:"#ecfeff",100:"#cffafe",200:"#a5f3fc",300:"#67e8f9",400:"#22d3ee",500:"#06b6d4",600:"#0891b2",700:"#0e7490",800:"#155e75",900:"#164e63",950:"#083344"},sky:{50:"#f0f9ff",100:"#e0f2fe",200:"#bae6fd",300:"#7dd3fc",400:"#38bdf8",500:"#0ea5e9",600:"#0284c7",700:"#0369a1",800:"#075985",900:"#0c4a6e",950:"#082f49"},blue:{50:"#eff6ff",100:"#dbeafe",200:"#bfdbfe",300:"#93c5fd",400:"#60a5fa",500:"#3b82f6",600:"#2563eb",700:"#1d4ed8",800:"#1e40af",900:"#1e3a8a",950:"#172554"},indigo:{50:"#eef2ff",100:"#e0e7ff",200:"#c7d2fe",300:"#a5b4fc",400:"#818cf8",500:"#6366f1",600:"#4f46e5",700:"#4338ca",800:"#3730a3",900:"#312e81",950:"#1e1b4b"},violet:{50:"#f5f3ff",100:"#ede9fe",200:"#ddd6fe",300:"#c4b5fd",400:"#a78bfa",500:"#8b5cf6",600:"#7c3aed",700:"#6d28d9",800:"#5b21b6",900:"#4c1d95",950:"#2e1065"},purple:{50:"#faf5ff",100:"#f3e8ff",200:"#e9d5ff",300:"#d8b4fe",400:"#c084fc",500:"#a855f7",600:"#9333ea",700:"#7e22ce",800:"#6b21a8",900:"#581c87",950:"#3b0764"},fuchsia:{50:"#fdf4ff",100:"#fae8ff",200:"#f5d0fe",300:"#f0abfc",400:"#e879f9",500:"#d946ef",600:"#c026d3",700:"#a21caf",800:"#86198f",900:"#701a75",950:"#4a044e"},pink:{50:"#fdf2f8",100:"#fce7f3",200:"#fbcfe8",300:"#f9a8d4",400:"#f472b6",500:"#ec4899",600:"#db2777",700:"#be185d",800:"#9d174d",900:"#831843",950:"#500724"},rose:{50:"#fff1f2",100:"#ffe4e6",200:"#fecdd3",300:"#fda4af",400:"#fb7185",500:"#f43f5e",600:"#e11d48",700:"#be123c",800:"#9f1239",900:"#881337",950:"#4c0519"},slate:{50:"#f8fafc",100:"#f1f5f9",200:"#e2e8f0",300:"#cbd5e1",400:"#94a3b8",500:"#64748b",600:"#475569",700:"#334155",800:"#1e293b",900:"#0f172a",950:"#020617"},gray:{50:"#f9fafb",100:"#f3f4f6",200:"#e5e7eb",300:"#d1d5db",400:"#9ca3af",500:"#6b7280",600:"#4b5563",700:"#374151",800:"#1f2937",900:"#111827",950:"#030712"},zinc:{50:"#fafafa",100:"#f4f4f5",200:"#e4e4e7",300:"#d4d4d8",400:"#a1a1aa",500:"#71717a",600:"#52525b",700:"#3f3f46",800:"#27272a",900:"#18181b",950:"#09090b"},neutral:{50:"#fafafa",100:"#f5f5f5",200:"#e5e5e5",300:"#d4d4d4",400:"#a3a3a3",500:"#737373",600:"#525252",700:"#404040",800:"#262626",900:"#171717",950:"#0a0a0a"},stone:{50:"#fafaf9",100:"#f5f5f4",200:"#e7e5e4",300:"#d6d3d1",400:"#a8a29e",500:"#78716c",600:"#57534e",700:"#44403c",800:"#292524",900:"#1c1917",950:"#0c0a09"}},semantic:{transitionDuration:"0.2s",focusRing:{width:"1px",style:"solid",color:"{primary.color}",offset:"2px",shadow:"none"},disabledOpacity:"0.6",iconSize:"1rem",anchorGutter:"2px",primary:{50:"{emerald.50}",100:"{emerald.100}",200:"{emerald.200}",300:"{emerald.300}",400:"{emerald.400}",500:"{emerald.500}",600:"{emerald.600}",700:"{emerald.700}",800:"{emerald.800}",900:"{emerald.900}",950:"{emerald.950}"},formField:{paddingX:"0.75rem",paddingY:"0.5rem",sm:{fontSize:"0.875rem",paddingX:"0.625rem",paddingY:"0.375rem"},lg:{fontSize:"1.125rem",paddingX:"0.875rem",paddingY:"0.625rem"},borderRadius:"{border.radius.md}",focusRing:{width:"0",style:"none",color:"transparent",offset:"0",shadow:"none"},transitionDuration:"{transition.duration}"},list:{padding:"0.25rem 0.25rem",gap:"2px",header:{padding:"0.5rem 1rem 0.25rem 1rem"},option:{padding:"0.5rem 0.75rem",borderRadius:"{border.radius.sm}"},optionGroup:{padding:"0.5rem 0.75rem",fontWeight:"600"}},content:{borderRadius:"{border.radius.md}"},mask:{transitionDuration:"0.15s"},navigation:{list:{padding:"0.25rem 0.25rem",gap:"2px"},item:{padding:"0.5rem 0.75rem",borderRadius:"{border.radius.sm}",gap:"0.5rem"},submenuLabel:{padding:"0.5rem 0.75rem",fontWeight:"600"},submenuIcon:{size:"0.875rem"}},overlay:{select:{borderRadius:"{border.radius.md}",shadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1)"},popover:{borderRadius:"{border.radius.md}",padding:"0.75rem",shadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1)"},modal:{borderRadius:"{border.radius.xl}",padding:"1.25rem",shadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1)"},navigation:{shadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1)"}},colorScheme:{light:{surface:{0:"#ffffff",50:"{slate.50}",100:"{slate.100}",200:"{slate.200}",300:"{slate.300}",400:"{slate.400}",500:"{slate.500}",600:"{slate.600}",700:"{slate.700}",800:"{slate.800}",900:"{slate.900}",950:"{slate.950}"},primary:{color:"{primary.500}",contrastColor:"#ffffff",hoverColor:"{primary.600}",activeColor:"{primary.700}"},highlight:{background:"{primary.50}",focusBackground:"{primary.100}",color:"{primary.700}",focusColor:"{primary.800}"},mask:{background:"rgba(0,0,0,0.4)",color:"{surface.200}"},formField:{background:"{surface.0}",disabledBackground:"{surface.200}",filledBackground:"{surface.50}",filledHoverBackground:"{surface.50}",filledFocusBackground:"{surface.50}",borderColor:"{surface.300}",hoverBorderColor:"{surface.400}",focusBorderColor:"{primary.color}",invalidBorderColor:"{red.400}",color:"{surface.700}",disabledColor:"{surface.500}",placeholderColor:"{surface.500}",invalidPlaceholderColor:"{red.600}",floatLabelColor:"{surface.500}",floatLabelFocusColor:"{primary.600}",floatLabelActiveColor:"{surface.500}",floatLabelInvalidColor:"{form.field.invalid.placeholder.color}",iconColor:"{surface.400}",shadow:"0 0 #0000, 0 0 #0000, 0 1px 2px 0 rgba(18, 18, 23, 0.05)"},text:{color:"{surface.700}",hoverColor:"{surface.800}",mutedColor:"{surface.500}",hoverMutedColor:"{surface.600}"},content:{background:"{surface.0}",hoverBackground:"{surface.100}",borderColor:"{surface.200}",color:"{text.color}",hoverColor:"{text.hover.color}"},overlay:{select:{background:"{surface.0}",borderColor:"{surface.200}",color:"{text.color}"},popover:{background:"{surface.0}",borderColor:"{surface.200}",color:"{text.color}"},modal:{background:"{surface.0}",borderColor:"{surface.200}",color:"{text.color}"}},list:{option:{focusBackground:"{surface.100}",selectedBackground:"{highlight.background}",selectedFocusBackground:"{highlight.focus.background}",color:"{text.color}",focusColor:"{text.hover.color}",selectedColor:"{highlight.color}",selectedFocusColor:"{highlight.focus.color}",icon:{color:"{surface.400}",focusColor:"{surface.500}"}},optionGroup:{background:"transparent",color:"{text.muted.color}"}},navigation:{item:{focusBackground:"{surface.100}",activeBackground:"{surface.100}",color:"{text.color}",focusColor:"{text.hover.color}",activeColor:"{text.hover.color}",icon:{color:"{surface.400}",focusColor:"{surface.500}",activeColor:"{surface.500}"}},submenuLabel:{background:"transparent",color:"{text.muted.color}"},submenuIcon:{color:"{surface.400}",focusColor:"{surface.500}",activeColor:"{surface.500}"}}},dark:{surface:{0:"#ffffff",50:"{zinc.50}",100:"{zinc.100}",200:"{zinc.200}",300:"{zinc.300}",400:"{zinc.400}",500:"{zinc.500}",600:"{zinc.600}",700:"{zinc.700}",800:"{zinc.800}",900:"{zinc.900}",950:"{zinc.950}"},primary:{color:"{primary.400}",contrastColor:"{surface.900}",hoverColor:"{primary.300}",activeColor:"{primary.200}"},highlight:{background:"color-mix(in srgb, {primary.400}, transparent 84%)",focusBackground:"color-mix(in srgb, {primary.400}, transparent 76%)",color:"rgba(255,255,255,.87)",focusColor:"rgba(255,255,255,.87)"},mask:{background:"rgba(0,0,0,0.6)",color:"{surface.200}"},formField:{background:"{surface.950}",disabledBackground:"{surface.700}",filledBackground:"{surface.800}",filledHoverBackground:"{surface.800}",filledFocusBackground:"{surface.800}",borderColor:"{surface.600}",hoverBorderColor:"{surface.500}",focusBorderColor:"{primary.color}",invalidBorderColor:"{red.300}",color:"{surface.0}",disabledColor:"{surface.400}",placeholderColor:"{surface.400}",invalidPlaceholderColor:"{red.400}",floatLabelColor:"{surface.400}",floatLabelFocusColor:"{primary.color}",floatLabelActiveColor:"{surface.400}",floatLabelInvalidColor:"{form.field.invalid.placeholder.color}",iconColor:"{surface.400}",shadow:"0 0 #0000, 0 0 #0000, 0 1px 2px 0 rgba(18, 18, 23, 0.05)"},text:{color:"{surface.0}",hoverColor:"{surface.0}",mutedColor:"{surface.400}",hoverMutedColor:"{surface.300}"},content:{background:"{surface.900}",hoverBackground:"{surface.800}",borderColor:"{surface.700}",color:"{text.color}",hoverColor:"{text.hover.color}"},overlay:{select:{background:"{surface.900}",borderColor:"{surface.700}",color:"{text.color}"},popover:{background:"{surface.900}",borderColor:"{surface.700}",color:"{text.color}"},modal:{background:"{surface.900}",borderColor:"{surface.700}",color:"{text.color}"}},list:{option:{focusBackground:"{surface.800}",selectedBackground:"{highlight.background}",selectedFocusBackground:"{highlight.focus.background}",color:"{text.color}",focusColor:"{text.hover.color}",selectedColor:"{highlight.color}",selectedFocusColor:"{highlight.focus.color}",icon:{color:"{surface.500}",focusColor:"{surface.400}"}},optionGroup:{background:"transparent",color:"{text.muted.color}"}},navigation:{item:{focusBackground:"{surface.800}",activeBackground:"{surface.800}",color:"{text.color}",focusColor:"{text.hover.color}",activeColor:"{text.hover.color}",icon:{color:"{surface.500}",focusColor:"{surface.400}",activeColor:"{surface.400}"}},submenuLabel:{background:"transparent",color:"{text.muted.color}"},submenuIcon:{color:"{surface.500}",focusColor:"{surface.400}",activeColor:"{surface.400}"}}}}}},index$1k={root:{borderRadius:"{content.border.radius}"}},index$1j={root:{padding:"1rem",background:"{content.background}",gap:"0.5rem",transitionDuration:"{transition.duration}"},item:{color:"{text.muted.color}",hoverColor:"{text.color}",borderRadius:"{content.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",hoverColor:"{navigation.item.icon.focus.color}"},focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},separator:{color:"{navigation.item.icon.color}"}},index$1i={root:{borderRadius:"{form.field.border.radius}",roundedBorderRadius:"2rem",gap:"0.5rem",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",iconOnlyWidth:"2.5rem",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"},label:{fontWeight:"500"},raisedShadow:"0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12)",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",offset:"{focus.ring.offset}"},badgeSize:"1rem",transitionDuration:"{form.field.transition.duration}"},colorScheme:{light:{root:{primary:{background:"{primary.color}",hoverBackground:"{primary.hover.color}",activeBackground:"{primary.active.color}",borderColor:"{primary.color}",hoverBorderColor:"{primary.hover.color}",activeBorderColor:"{primary.active.color}",color:"{primary.contrast.color}",hoverColor:"{primary.contrast.color}",activeColor:"{primary.contrast.color}",focusRing:{color:"{primary.color}",shadow:"none"}},secondary:{background:"{surface.100}",hoverBackground:"{surface.200}",activeBackground:"{surface.300}",borderColor:"{surface.100}",hoverBorderColor:"{surface.200}",activeBorderColor:"{surface.300}",color:"{surface.600}",hoverColor:"{surface.700}",activeColor:"{surface.800}",focusRing:{color:"{surface.600}",shadow:"none"}},info:{background:"{sky.500}",hoverBackground:"{sky.600}",activeBackground:"{sky.700}",borderColor:"{sky.500}",hoverBorderColor:"{sky.600}",activeBorderColor:"{sky.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{sky.500}",shadow:"none"}},success:{background:"{green.500}",hoverBackground:"{green.600}",activeBackground:"{green.700}",borderColor:"{green.500}",hoverBorderColor:"{green.600}",activeBorderColor:"{green.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{green.500}",shadow:"none"}},warn:{background:"{orange.500}",hoverBackground:"{orange.600}",activeBackground:"{orange.700}",borderColor:"{orange.500}",hoverBorderColor:"{orange.600}",activeBorderColor:"{orange.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{orange.500}",shadow:"none"}},help:{background:"{purple.500}",hoverBackground:"{purple.600}",activeBackground:"{purple.700}",borderColor:"{purple.500}",hoverBorderColor:"{purple.600}",activeBorderColor:"{purple.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{purple.500}",shadow:"none"}},danger:{background:"{red.500}",hoverBackground:"{red.600}",activeBackground:"{red.700}",borderColor:"{red.500}",hoverBorderColor:"{red.600}",activeBorderColor:"{red.700}",color:"#ffffff",hoverColor:"#ffffff",activeColor:"#ffffff",focusRing:{color:"{red.500}",shadow:"none"}},contrast:{background:"{surface.950}",hoverBackground:"{surface.900}",activeBackground:"{surface.800}",borderColor:"{surface.950}",hoverBorderColor:"{surface.900}",activeBorderColor:"{surface.800}",color:"{surface.0}",hoverColor:"{surface.0}",activeColor:"{surface.0}",focusRing:{color:"{surface.950}",shadow:"none"}}},outlined:{primary:{hoverBackground:"{primary.50}",activeBackground:"{primary.100}",borderColor:"{primary.200}",color:"{primary.color}"},secondary:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",borderColor:"{surface.200}",color:"{surface.500}"},success:{hoverBackground:"{green.50}",activeBackground:"{green.100}",borderColor:"{green.200}",color:"{green.500}"},info:{hoverBackground:"{sky.50}",activeBackground:"{sky.100}",borderColor:"{sky.200}",color:"{sky.500}"},warn:{hoverBackground:"{orange.50}",activeBackground:"{orange.100}",borderColor:"{orange.200}",color:"{orange.500}"},help:{hoverBackground:"{purple.50}",activeBackground:"{purple.100}",borderColor:"{purple.200}",color:"{purple.500}"},danger:{hoverBackground:"{red.50}",activeBackground:"{red.100}",borderColor:"{red.200}",color:"{red.500}"},contrast:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",borderColor:"{surface.700}",color:"{surface.950}"},plain:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",borderColor:"{surface.200}",color:"{surface.700}"}},text:{primary:{hoverBackground:"{primary.50}",activeBackground:"{primary.100}",color:"{primary.color}"},secondary:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",color:"{surface.500}"},success:{hoverBackground:"{green.50}",activeBackground:"{green.100}",color:"{green.500}"},info:{hoverBackground:"{sky.50}",activeBackground:"{sky.100}",color:"{sky.500}"},warn:{hoverBackground:"{orange.50}",activeBackground:"{orange.100}",color:"{orange.500}"},help:{hoverBackground:"{purple.50}",activeBackground:"{purple.100}",color:"{purple.500}"},danger:{hoverBackground:"{red.50}",activeBackground:"{red.100}",color:"{red.500}"},contrast:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",color:"{surface.950}"},plain:{hoverBackground:"{surface.50}",activeBackground:"{surface.100}",color:"{surface.700}"}},link:{color:"{primary.color}",hoverColor:"{primary.color}",activeColor:"{primary.color}"}},dark:{root:{primary:{background:"{primary.color}",hoverBackground:"{primary.hover.color}",activeBackground:"{primary.active.color}",borderColor:"{primary.color}",hoverBorderColor:"{primary.hover.color}",activeBorderColor:"{primary.active.color}",color:"{primary.contrast.color}",hoverColor:"{primary.contrast.color}",activeColor:"{primary.contrast.color}",focusRing:{color:"{primary.color}",shadow:"none"}},secondary:{background:"{surface.800}",hoverBackground:"{surface.700}",activeBackground:"{surface.600}",borderColor:"{surface.800}",hoverBorderColor:"{surface.700}",activeBorderColor:"{surface.600}",color:"{surface.300}",hoverColor:"{surface.200}",activeColor:"{surface.100}",focusRing:{color:"{surface.300}",shadow:"none"}},info:{background:"{sky.400}",hoverBackground:"{sky.300}",activeBackground:"{sky.200}",borderColor:"{sky.400}",hoverBorderColor:"{sky.300}",activeBorderColor:"{sky.200}",color:"{sky.950}",hoverColor:"{sky.950}",activeColor:"{sky.950}",focusRing:{color:"{sky.400}",shadow:"none"}},success:{background:"{green.400}",hoverBackground:"{green.300}",activeBackground:"{green.200}",borderColor:"{green.400}",hoverBorderColor:"{green.300}",activeBorderColor:"{green.200}",color:"{green.950}",hoverColor:"{green.950}",activeColor:"{green.950}",focusRing:{color:"{green.400}",shadow:"none"}},warn:{background:"{orange.400}",hoverBackground:"{orange.300}",activeBackground:"{orange.200}",borderColor:"{orange.400}",hoverBorderColor:"{orange.300}",activeBorderColor:"{orange.200}",color:"{orange.950}",hoverColor:"{orange.950}",activeColor:"{orange.950}",focusRing:{color:"{orange.400}",shadow:"none"}},help:{background:"{purple.400}",hoverBackground:"{purple.300}",activeBackground:"{purple.200}",borderColor:"{purple.400}",hoverBorderColor:"{purple.300}",activeBorderColor:"{purple.200}",color:"{purple.950}",hoverColor:"{purple.950}",activeColor:"{purple.950}",focusRing:{color:"{purple.400}",shadow:"none"}},danger:{background:"{red.400}",hoverBackground:"{red.300}",activeBackground:"{red.200}",borderColor:"{red.400}",hoverBorderColor:"{red.300}",activeBorderColor:"{red.200}",color:"{red.950}",hoverColor:"{red.950}",activeColor:"{red.950}",focusRing:{color:"{red.400}",shadow:"none"}},contrast:{background:"{surface.0}",hoverBackground:"{surface.100}",activeBackground:"{surface.200}",borderColor:"{surface.0}",hoverBorderColor:"{surface.100}",activeBorderColor:"{surface.200}",color:"{surface.950}",hoverColor:"{surface.950}",activeColor:"{surface.950}",focusRing:{color:"{surface.0}",shadow:"none"}}},outlined:{primary:{hoverBackground:"color-mix(in srgb, {primary.color}, transparent 96%)",activeBackground:"color-mix(in srgb, {primary.color}, transparent 84%)",borderColor:"{primary.700}",color:"{primary.color}"},secondary:{hoverBackground:"rgba(255,255,255,0.04)",activeBackground:"rgba(255,255,255,0.16)",borderColor:"{surface.700}",color:"{surface.400}"},success:{hoverBackground:"color-mix(in srgb, {green.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {green.400}, transparent 84%)",borderColor:"{green.700}",color:"{green.400}"},info:{hoverBackground:"color-mix(in srgb, {sky.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {sky.400}, transparent 84%)",borderColor:"{sky.700}",color:"{sky.400}"},warn:{hoverBackground:"color-mix(in srgb, {orange.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {orange.400}, transparent 84%)",borderColor:"{orange.700}",color:"{orange.400}"},help:{hoverBackground:"color-mix(in srgb, {purple.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {purple.400}, transparent 84%)",borderColor:"{purple.700}",color:"{purple.400}"},danger:{hoverBackground:"color-mix(in srgb, {red.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {red.400}, transparent 84%)",borderColor:"{red.700}",color:"{red.400}"},contrast:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",borderColor:"{surface.500}",color:"{surface.0}"},plain:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",borderColor:"{surface.600}",color:"{surface.0}"}},text:{primary:{hoverBackground:"color-mix(in srgb, {primary.color}, transparent 96%)",activeBackground:"color-mix(in srgb, {primary.color}, transparent 84%)",color:"{primary.color}"},secondary:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",color:"{surface.400}"},success:{hoverBackground:"color-mix(in srgb, {green.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {green.400}, transparent 84%)",color:"{green.400}"},info:{hoverBackground:"color-mix(in srgb, {sky.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {sky.400}, transparent 84%)",color:"{sky.400}"},warn:{hoverBackground:"color-mix(in srgb, {orange.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {orange.400}, transparent 84%)",color:"{orange.400}"},help:{hoverBackground:"color-mix(in srgb, {purple.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {purple.400}, transparent 84%)",color:"{purple.400}"},danger:{hoverBackground:"color-mix(in srgb, {red.400}, transparent 96%)",activeBackground:"color-mix(in srgb, {red.400}, transparent 84%)",color:"{red.400}"},contrast:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",color:"{surface.0}"},plain:{hoverBackground:"{surface.800}",activeBackground:"{surface.700}",color:"{surface.0}"}},link:{color:"{primary.color}",hoverColor:"{primary.color}",activeColor:"{primary.color}"}}}},index$1h={root:{background:"{content.background}",borderRadius:"{border.radius.xl}",color:"{content.color}",shadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px -1px rgba(0, 0, 0, 0.1)"},body:{padding:"1.25rem",gap:"0.5rem"},caption:{gap:"0.5rem"},title:{fontSize:"1.25rem",fontWeight:"500"},subtitle:{color:"{text.muted.color}"}},index$1g={root:{transitionDuration:"{transition.duration}"},content:{gap:"0.25rem"},indicatorList:{padding:"1rem",gap:"0.5rem"},indicator:{width:"2rem",height:"0.5rem",borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},colorScheme:{light:{indicator:{background:"{surface.200}",hoverBackground:"{surface.300}",activeBackground:"{primary.color}"}},dark:{indicator:{background:"{surface.700}",hoverBackground:"{surface.600}",activeBackground:"{primary.color}"}}}},index$1f={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}},dropdown:{width:"2.5rem",color:"{form.field.icon.color}"},overlay:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},list:{padding:"{list.padding}",gap:"{list.gap}",mobileIndent:"1rem"},option:{focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}",icon:{color:"{list.option.icon.color}",focusColor:"{list.option.icon.focus.color}",size:"0.875rem"}},clearIcon:{color:"{form.field.icon.color}"}},index$1e={root:{borderRadius:"{border.radius.sm}",width:"1.25rem",height:"1.25rem",background:"{form.field.background}",checkedBackground:"{primary.color}",checkedHoverBackground:"{primary.hover.color}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.border.color}",checkedBorderColor:"{primary.color}",checkedHoverBorderColor:"{primary.hover.color}",checkedFocusBorderColor:"{primary.color}",checkedDisabledBorderColor:"{form.field.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",shadow:"{form.field.shadow}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{width:"1rem",height:"1rem"},lg:{width:"1.5rem",height:"1.5rem"}},icon:{size:"0.875rem",color:"{form.field.color}",checkedColor:"{primary.contrast.color}",checkedHoverColor:"{primary.contrast.color}",disabledColor:"{form.field.disabled.color}",sm:{size:"0.75rem"},lg:{size:"1rem"}}},index$1d={root:{borderRadius:"16px",paddingX:"0.75rem",paddingY:"0.5rem",gap:"0.5rem",transitionDuration:"{transition.duration}"},image:{width:"2rem",height:"2rem"},icon:{size:"1rem"},removeIcon:{size:"1rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"}},colorScheme:{light:{root:{background:"{surface.100}",color:"{surface.800}"},icon:{color:"{surface.800}"},removeIcon:{color:"{surface.800}"}},dark:{root:{background:"{surface.800}",color:"{surface.0}"},icon:{color:"{surface.0}"},removeIcon:{color:"{surface.0}"}}}},index$1c={root:{transitionDuration:"{transition.duration}"},preview:{width:"1.5rem",height:"1.5rem",borderRadius:"{form.field.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},panel:{shadow:"{overlay.popover.shadow}",borderRadius:"{overlay.popover.borderRadius}"},colorScheme:{light:{panel:{background:"{surface.800}",borderColor:"{surface.900}"},handle:{color:"{surface.0}"}},dark:{panel:{background:"{surface.900}",borderColor:"{surface.700}"},handle:{color:"{surface.0}"}}}},index$1b={icon:{size:"2rem",color:"{overlay.modal.color}"},content:{gap:"1rem"}},index$1a={root:{background:"{overlay.popover.background}",borderColor:"{overlay.popover.border.color}",color:"{overlay.popover.color}",borderRadius:"{overlay.popover.border.radius}",shadow:"{overlay.popover.shadow}",gutter:"10px",arrowOffset:"1.25rem"},content:{padding:"{overlay.popover.padding}",gap:"1rem"},icon:{size:"1.5rem",color:"{overlay.popover.color}"},footer:{gap:"0.5rem",padding:"0 {overlay.popover.padding} {overlay.popover.padding} {overlay.popover.padding}"}},index$19={root:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.navigation.shadow}",transitionDuration:"{transition.duration}"},list:{padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},item:{focusBackground:"{navigation.item.focus.background}",activeBackground:"{navigation.item.active.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",activeColor:"{navigation.item.active.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}",activeColor:"{navigation.item.icon.active.color}"}},submenu:{mobileIndent:"1rem"},submenuIcon:{size:"{navigation.submenu.icon.size}",color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}",activeColor:"{navigation.submenu.icon.active.color}"},separator:{borderColor:"{content.border.color}"}},index$18={root:{transitionDuration:"{transition.duration}"},header:{background:"{content.background}",borderColor:"{datatable.border.color}",color:"{content.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem"},headerCell:{background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",borderColor:"{datatable.border.color}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{highlight.color}",gap:"0.5rem",padding:"0.75rem 1rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},columnTitle:{fontWeight:"600"},row:{background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{highlight.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},bodyCell:{borderColor:"{datatable.border.color}",padding:"0.75rem 1rem"},footerCell:{background:"{content.background}",borderColor:"{datatable.border.color}",color:"{content.color}",padding:"0.75rem 1rem"},columnFooter:{fontWeight:"600"},footer:{background:"{content.background}",borderColor:"{datatable.border.color}",color:"{content.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem"},dropPoint:{color:"{primary.color}"},columnResizerWidth:"0.5rem",resizeIndicator:{width:"1px",color:"{primary.color}"},sortIcon:{color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",size:"0.875rem"},loadingIcon:{size:"2rem"},rowToggleButton:{hoverBackground:"{content.hover.background}",selectedHoverBackground:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.color}",selectedHoverColor:"{primary.color}",size:"1.75rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},filter:{inlineGap:"0.5rem",overlaySelect:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},overlayPopover:{background:"{overlay.popover.background}",borderColor:"{overlay.popover.border.color}",borderRadius:"{overlay.popover.border.radius}",color:"{overlay.popover.color}",shadow:"{overlay.popover.shadow}",padding:"{overlay.popover.padding}",gap:"0.5rem"},rule:{borderColor:"{content.border.color}"},constraintList:{padding:"{list.padding}",gap:"{list.gap}"},constraint:{focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",separator:{borderColor:"{content.border.color}"},padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"}},paginatorTop:{borderColor:"{datatable.border.color}",borderWidth:"0 0 1px 0"},paginatorBottom:{borderColor:"{datatable.border.color}",borderWidth:"0 0 1px 0"},colorScheme:{light:{root:{borderColor:"{content.border.color}"},row:{stripedBackground:"{surface.50}"},bodyCell:{selectedBorderColor:"{primary.100}"}},dark:{root:{borderColor:"{surface.800}"},row:{stripedBackground:"{surface.950}"},bodyCell:{selectedBorderColor:"{primary.900}"}}}},index$17={root:{borderColor:"transparent",borderWidth:"0",borderRadius:"0",padding:"0"},header:{background:"{content.background}",color:"{content.color}",borderColor:"{content.border.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem",borderRadius:"0"},content:{background:"{content.background}",color:"{content.color}",borderColor:"transparent",borderWidth:"0",padding:"0",borderRadius:"0"},footer:{background:"{content.background}",color:"{content.color}",borderColor:"{content.border.color}",borderWidth:"1px 0 0 0",padding:"0.75rem 1rem",borderRadius:"0"},paginatorTop:{borderColor:"{content.border.color}",borderWidth:"0 0 1px 0"},paginatorBottom:{borderColor:"{content.border.color}",borderWidth:"1px 0 0 0"}},index$16={root:{transitionDuration:"{transition.duration}"},panel:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.popover.shadow}",padding:"{overlay.popover.padding}"},header:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",padding:"0 0 0.5rem 0"},title:{gap:"0.5rem",fontWeight:"500"},dropdown:{width:"2.5rem",sm:{width:"2rem"},lg:{width:"3rem"},borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.border.color}",activeBorderColor:"{form.field.border.color}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},inputIcon:{color:"{form.field.icon.color}"},selectMonth:{hoverBackground:"{content.hover.background}",color:"{content.color}",hoverColor:"{content.hover.color}",padding:"0.25rem 0.5rem",borderRadius:"{content.border.radius}"},selectYear:{hoverBackground:"{content.hover.background}",color:"{content.color}",hoverColor:"{content.hover.color}",padding:"0.25rem 0.5rem",borderRadius:"{content.border.radius}"},group:{borderColor:"{content.border.color}",gap:"{overlay.popover.padding}"},dayView:{margin:"0.5rem 0 0 0"},weekDay:{padding:"0.25rem",fontWeight:"500",color:"{content.color}"},date:{hoverBackground:"{content.hover.background}",selectedBackground:"{primary.color}",rangeSelectedBackground:"{highlight.background}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{primary.contrast.color}",rangeSelectedColor:"{highlight.color}",width:"2rem",height:"2rem",borderRadius:"50%",padding:"0.25rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},monthView:{margin:"0.5rem 0 0 0"},month:{padding:"0.375rem",borderRadius:"{content.border.radius}"},yearView:{margin:"0.5rem 0 0 0"},year:{padding:"0.375rem",borderRadius:"{content.border.radius}"},buttonbar:{padding:"0.5rem 0 0 0",borderColor:"{content.border.color}"},timePicker:{padding:"0.5rem 0 0 0",borderColor:"{content.border.color}",gap:"0.5rem",buttonGap:"0.25rem"},colorScheme:{light:{dropdown:{background:"{surface.100}",hoverBackground:"{surface.200}",activeBackground:"{surface.300}",color:"{surface.600}",hoverColor:"{surface.700}",activeColor:"{surface.800}"},today:{background:"{surface.200}",color:"{surface.900}"}},dark:{dropdown:{background:"{surface.800}",hoverBackground:"{surface.700}",activeBackground:"{surface.600}",color:"{surface.300}",hoverColor:"{surface.200}",activeColor:"{surface.100}"},today:{background:"{surface.700}",color:"{surface.0}"}}}},index$15={root:{background:"{overlay.modal.background}",borderColor:"{overlay.modal.border.color}",color:"{overlay.modal.color}",borderRadius:"{overlay.modal.border.radius}",shadow:"{overlay.modal.shadow}"},header:{padding:"{overlay.modal.padding}",gap:"0.5rem"},title:{fontSize:"1.25rem",fontWeight:"600"},content:{padding:"0 {overlay.modal.padding} {overlay.modal.padding} {overlay.modal.padding}"},footer:{padding:"0 {overlay.modal.padding} {overlay.modal.padding} {overlay.modal.padding}",gap:"0.5rem"}},index$14={root:{borderColor:"{content.border.color}"},content:{background:"{content.background}",color:"{text.color}"},horizontal:{margin:"1rem 0",padding:"0 1rem",content:{padding:"0 0.5rem"}},vertical:{margin:"0 1rem",padding:"0.5rem 0",content:{padding:"0.5rem 0"}}},index$13={root:{background:"rgba(255, 255, 255, 0.1)",borderColor:"rgba(255, 255, 255, 0.2)",padding:"0.5rem",borderRadius:"{border.radius.xl}"},item:{borderRadius:"{content.border.radius}",padding:"0.5rem",size:"3rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}}},index$12={root:{background:"{overlay.modal.background}",borderColor:"{overlay.modal.border.color}",color:"{overlay.modal.color}",shadow:"{overlay.modal.shadow}"},header:{padding:"{overlay.modal.padding}"},title:{fontSize:"1.5rem",fontWeight:"600"},content:{padding:"0 {overlay.modal.padding} {overlay.modal.padding} {overlay.modal.padding}"},footer:{padding:"{overlay.modal.padding}"}},index$11={toolbar:{background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}"},toolbarItem:{color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}"},overlay:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}",padding:"{list.padding}"},overlayOption:{focusBackground:"{list.option.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"},content:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}"}},index$10={root:{background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",padding:"0 1.125rem 1.125rem 1.125rem",transitionDuration:"{transition.duration}"},legend:{background:"{content.background}",hoverBackground:"{content.hover.background}",color:"{content.color}",hoverColor:"{content.hover.color}",borderRadius:"{content.border.radius}",borderWidth:"1px",borderColor:"transparent",padding:"0.5rem 0.75rem",gap:"0.5rem",fontWeight:"600",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},toggleIcon:{color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}"},content:{padding:"0"}},index$$={root:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",transitionDuration:"{transition.duration}"},header:{background:"transparent",color:"{text.color}",padding:"1.125rem",borderColor:"unset",borderWidth:"0",borderRadius:"0",gap:"0.5rem"},content:{highlightBorderColor:"{primary.color}",padding:"0 1.125rem 1.125rem 1.125rem",gap:"1rem"},file:{padding:"1rem",gap:"1rem",borderColor:"{content.border.color}",info:{gap:"0.5rem"}},fileList:{gap:"0.5rem"},progressbar:{height:"0.25rem"},basic:{gap:"0.5rem"}},index$_={root:{color:"{form.field.float.label.color}",focusColor:"{form.field.float.label.focus.color}",activeColor:"{form.field.float.label.active.color}",invalidColor:"{form.field.float.label.invalid.color}",transitionDuration:"0.2s",positionX:"{form.field.padding.x}",positionY:"{form.field.padding.y}",fontWeight:"500",active:{fontSize:"0.75rem",fontWeight:"400"}},over:{active:{top:"-1.25rem"}},in:{input:{paddingTop:"1.5rem",paddingBottom:"{form.field.padding.y}"},active:{top:"{form.field.padding.y}"}},on:{borderRadius:"{border.radius.xs}",active:{background:"{form.field.background}",padding:"0 0.125rem"}}},index$Z={root:{borderWidth:"1px",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",transitionDuration:"{transition.duration}"},navButton:{background:"rgba(255, 255, 255, 0.1)",hoverBackground:"rgba(255, 255, 255, 0.2)",color:"{surface.100}",hoverColor:"{surface.0}",size:"3rem",gutter:"0.5rem",prev:{borderRadius:"50%"},next:{borderRadius:"50%"},focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},navIcon:{size:"1.5rem"},thumbnailsContent:{background:"{content.background}",padding:"1rem 0.25rem"},thumbnailNavButton:{size:"2rem",borderRadius:"{content.border.radius}",gutter:"0.5rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},thumbnailNavButtonIcon:{size:"1rem"},caption:{background:"rgba(0, 0, 0, 0.5)",color:"{surface.100}",padding:"1rem"},indicatorList:{gap:"0.5rem",padding:"1rem"},indicatorButton:{width:"1rem",height:"1rem",activeBackground:"{primary.color}",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},insetIndicatorList:{background:"rgba(0, 0, 0, 0.5)"},insetIndicatorButton:{background:"rgba(255, 255, 255, 0.4)",hoverBackground:"rgba(255, 255, 255, 0.6)",activeBackground:"rgba(255, 255, 255, 0.9)"},closeButton:{size:"3rem",gutter:"0.5rem",background:"rgba(255, 255, 255, 0.1)",hoverBackground:"rgba(255, 255, 255, 0.2)",color:"{surface.50}",hoverColor:"{surface.0}",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},closeButtonIcon:{size:"1.5rem"},colorScheme:{light:{thumbnailNavButton:{hoverBackground:"{surface.100}",color:"{surface.600}",hoverColor:"{surface.700}"},indicatorButton:{background:"{surface.200}",hoverBackground:"{surface.300}"}},dark:{thumbnailNavButton:{hoverBackground:"{surface.700}",color:"{surface.400}",hoverColor:"{surface.0}"},indicatorButton:{background:"{surface.700}",hoverBackground:"{surface.600}"}}}},index$Y={icon:{color:"{form.field.icon.color}"}},index$X={root:{color:"{form.field.float.label.color}",focusColor:"{form.field.float.label.focus.color}",invalidColor:"{form.field.float.label.invalid.color}",transitionDuration:"0.2s",positionX:"{form.field.padding.x}",top:"{form.field.padding.y}",fontSize:"0.75rem",fontWeight:"400"},input:{paddingTop:"1.5rem",paddingBottom:"{form.field.padding.y}"}},index$W={root:{transitionDuration:"{transition.duration}"},preview:{icon:{size:"1.5rem"},mask:{background:"{mask.background}",color:"{mask.color}"}},toolbar:{position:{left:"auto",right:"1rem",top:"1rem",bottom:"auto"},blur:"8px",background:"rgba(255,255,255,0.1)",borderColor:"rgba(255,255,255,0.2)",borderWidth:"1px",borderRadius:"30px",padding:".5rem",gap:"0.5rem"},action:{hoverBackground:"rgba(255,255,255,0.1)",color:"{surface.50}",hoverColor:"{surface.0}",size:"3rem",iconSize:"1.5rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}}},index$V={handle:{size:"15px",hoverSize:"30px",background:"rgba(255,255,255,0.3)",hoverBackground:"rgba(255,255,255,0.3)",borderColor:"unset",hoverBorderColor:"unset",borderWidth:"0",borderRadius:"50%",transitionDuration:"{transition.duration}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"rgba(255,255,255,0.3)",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}}},index$U={root:{padding:"{form.field.padding.y} {form.field.padding.x}",borderRadius:"{content.border.radius}",gap:"0.5rem"},text:{fontWeight:"500"},icon:{size:"1rem"},colorScheme:{light:{info:{background:"color-mix(in srgb, {blue.50}, transparent 5%)",borderColor:"{blue.200}",color:"{blue.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)"},success:{background:"color-mix(in srgb, {green.50}, transparent 5%)",borderColor:"{green.200}",color:"{green.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)"},warn:{background:"color-mix(in srgb,{yellow.50}, transparent 5%)",borderColor:"{yellow.200}",color:"{yellow.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)"},error:{background:"color-mix(in srgb, {red.50}, transparent 5%)",borderColor:"{red.200}",color:"{red.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)"},secondary:{background:"{surface.100}",borderColor:"{surface.200}",color:"{surface.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)"},contrast:{background:"{surface.900}",borderColor:"{surface.950}",color:"{surface.50}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)"}},dark:{info:{background:"color-mix(in srgb, {blue.500}, transparent 84%)",borderColor:"color-mix(in srgb, {blue.700}, transparent 64%)",color:"{blue.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)"},success:{background:"color-mix(in srgb, {green.500}, transparent 84%)",borderColor:"color-mix(in srgb, {green.700}, transparent 64%)",color:"{green.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)"},warn:{background:"color-mix(in srgb, {yellow.500}, transparent 84%)",borderColor:"color-mix(in srgb, {yellow.700}, transparent 64%)",color:"{yellow.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)"},error:{background:"color-mix(in srgb, {red.500}, transparent 84%)",borderColor:"color-mix(in srgb, {red.700}, transparent 64%)",color:"{red.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)"},secondary:{background:"{surface.800}",borderColor:"{surface.700}",color:"{surface.300}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)"},contrast:{background:"{surface.0}",borderColor:"{surface.100}",color:"{surface.950}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)"}}}},index$T={root:{padding:"{form.field.padding.y} {form.field.padding.x}",borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},transitionDuration:"{transition.duration}"},display:{hoverBackground:"{content.hover.background}",hoverColor:"{content.hover.color}"}},index$S={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}"},chip:{borderRadius:"{border.radius.sm}"},colorScheme:{light:{chip:{focusBackground:"{surface.200}",color:"{surface.800}"}},dark:{chip:{focusBackground:"{surface.700}",color:"{surface.0}"}}}},index$R={addon:{background:"{form.field.background}",borderColor:"{form.field.border.color}",color:"{form.field.icon.color}",borderRadius:"{form.field.border.radius}",padding:"0.5rem",minWidth:"2.5rem"}},index$Q={root:{transitionDuration:"{transition.duration}"},button:{width:"2.5rem",borderRadius:"{form.field.border.radius}",verticalPadding:"{form.field.padding.y}"},colorScheme:{light:{button:{background:"transparent",hoverBackground:"{surface.100}",activeBackground:"{surface.200}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.border.color}",activeBorderColor:"{form.field.border.color}",color:"{surface.400}",hoverColor:"{surface.500}",activeColor:"{surface.600}"}},dark:{button:{background:"transparent",hoverBackground:"{surface.800}",activeBackground:"{surface.700}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.border.color}",activeBorderColor:"{form.field.border.color}",color:"{surface.400}",hoverColor:"{surface.300}",activeColor:"{surface.200}"}}}},index$P={root:{gap:"0.5rem"},input:{width:"2.5rem",sm:{width:"2rem"},lg:{width:"3rem"}}},index$O={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}}},index$N={root:{transitionDuration:"{transition.duration}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},value:{background:"{primary.color}"},range:{background:"{content.border.color}"},text:{color:"{text.muted.color}"}},index$M={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",borderColor:"{form.field.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",shadow:"{form.field.shadow}",borderRadius:"{form.field.border.radius}",transitionDuration:"{form.field.transition.duration}"},list:{padding:"{list.padding}",gap:"{list.gap}",header:{padding:"{list.header.padding}"}},option:{focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"},optionGroup:{background:"{list.option.group.background}",color:"{list.option.group.color}",fontWeight:"{list.option.group.font.weight}",padding:"{list.option.group.padding}"},checkmark:{color:"{list.option.color}",gutterStart:"-0.375rem",gutterEnd:"0.375rem"},emptyMessage:{padding:"{list.option.padding}"},colorScheme:{light:{option:{stripedBackground:"{surface.50}"}},dark:{option:{stripedBackground:"{surface.900}"}}}},index$L={root:{background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",gap:"0.5rem",verticalOrientation:{padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},horizontalOrientation:{padding:"0.5rem 0.75rem",gap:"0.5rem"},transitionDuration:"{transition.duration}"},baseItem:{borderRadius:"{content.border.radius}",padding:"{navigation.item.padding}"},item:{focusBackground:"{navigation.item.focus.background}",activeBackground:"{navigation.item.active.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",activeColor:"{navigation.item.active.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}",activeColor:"{navigation.item.icon.active.color}"}},overlay:{padding:"0",background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",shadow:"{overlay.navigation.shadow}",gap:"0.5rem"},submenu:{padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},submenuLabel:{padding:"{navigation.submenu.label.padding}",fontWeight:"{navigation.submenu.label.font.weight}",background:"{navigation.submenu.label.background.}",color:"{navigation.submenu.label.color}"},submenuIcon:{size:"{navigation.submenu.icon.size}",color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}",activeColor:"{navigation.submenu.icon.active.color}"},separator:{borderColor:"{content.border.color}"},mobileButton:{borderRadius:"50%",size:"1.75rem",color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",hoverBackground:"{content.hover.background}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}}},index$K={root:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.navigation.shadow}",transitionDuration:"{transition.duration}"},list:{padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},item:{focusBackground:"{navigation.item.focus.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}"}},submenuLabel:{padding:"{navigation.submenu.label.padding}",fontWeight:"{navigation.submenu.label.font.weight}",background:"{navigation.submenu.label.background}",color:"{navigation.submenu.label.color}"},separator:{borderColor:"{content.border.color}"}},index$J={root:{background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",gap:"0.5rem",padding:"0.5rem 0.75rem",transitionDuration:"{transition.duration}"},baseItem:{borderRadius:"{content.border.radius}",padding:"{navigation.item.padding}"},item:{focusBackground:"{navigation.item.focus.background}",activeBackground:"{navigation.item.active.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",activeColor:"{navigation.item.active.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}",activeColor:"{navigation.item.icon.active.color}"}},submenu:{padding:"{navigation.list.padding}",gap:"{navigation.list.gap}",background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.navigation.shadow}",mobileIndent:"1rem",icon:{size:"{navigation.submenu.icon.size}",color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}",activeColor:"{navigation.submenu.icon.active.color}"}},separator:{borderColor:"{content.border.color}"},mobileButton:{borderRadius:"50%",size:"1.75rem",color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",hoverBackground:"{content.hover.background}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}}},index$I={root:{borderRadius:"{content.border.radius}",borderWidth:"1px",transitionDuration:"{transition.duration}"},content:{padding:"0.5rem 0.75rem",gap:"0.5rem",sm:{padding:"0.375rem 0.625rem"},lg:{padding:"0.625rem 0.875rem"}},text:{fontSize:"1rem",fontWeight:"500",sm:{fontSize:"0.875rem"},lg:{fontSize:"1.125rem"}},icon:{size:"1.125rem",sm:{size:"1rem"},lg:{size:"1.25rem"}},closeButton:{width:"1.75rem",height:"1.75rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",offset:"{focus.ring.offset}"}},closeIcon:{size:"1rem",sm:{size:"0.875rem"},lg:{size:"1.125rem"}},outlined:{root:{borderWidth:"1px"}},simple:{content:{padding:"0"}},colorScheme:{light:{info:{background:"color-mix(in srgb, {blue.50}, transparent 5%)",borderColor:"{blue.200}",color:"{blue.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)",closeButton:{hoverBackground:"{blue.100}",focusRing:{color:"{blue.600}",shadow:"none"}},outlined:{color:"{blue.600}",borderColor:"{blue.600}"},simple:{color:"{blue.600}"}},success:{background:"color-mix(in srgb, {green.50}, transparent 5%)",borderColor:"{green.200}",color:"{green.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)",closeButton:{hoverBackground:"{green.100}",focusRing:{color:"{green.600}",shadow:"none"}},outlined:{color:"{green.600}",borderColor:"{green.600}"},simple:{color:"{green.600}"}},warn:{background:"color-mix(in srgb,{yellow.50}, transparent 5%)",borderColor:"{yellow.200}",color:"{yellow.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)",closeButton:{hoverBackground:"{yellow.100}",focusRing:{color:"{yellow.600}",shadow:"none"}},outlined:{color:"{yellow.600}",borderColor:"{yellow.600}"},simple:{color:"{yellow.600}"}},error:{background:"color-mix(in srgb, {red.50}, transparent 5%)",borderColor:"{red.200}",color:"{red.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)",closeButton:{hoverBackground:"{red.100}",focusRing:{color:"{red.600}",shadow:"none"}},outlined:{color:"{red.600}",borderColor:"{red.600}"},simple:{color:"{red.600}"}},secondary:{background:"{surface.100}",borderColor:"{surface.200}",color:"{surface.600}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)",closeButton:{hoverBackground:"{surface.200}",focusRing:{color:"{surface.600}",shadow:"none"}},outlined:{color:"{surface.500}",borderColor:"{surface.500}"},simple:{color:"{surface.500}"}},contrast:{background:"{surface.900}",borderColor:"{surface.950}",color:"{surface.50}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)",closeButton:{hoverBackground:"{surface.800}",focusRing:{color:"{surface.50}",shadow:"none"}},outlined:{color:"{surface.950}",borderColor:"{surface.950}"},simple:{color:"{surface.950}"}}},dark:{info:{background:"color-mix(in srgb, {blue.500}, transparent 84%)",borderColor:"color-mix(in srgb, {blue.700}, transparent 64%)",color:"{blue.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{blue.500}",shadow:"none"}},outlined:{color:"{blue.500}",borderColor:"{blue.500}"},simple:{color:"{blue.500}"}},success:{background:"color-mix(in srgb, {green.500}, transparent 84%)",borderColor:"color-mix(in srgb, {green.700}, transparent 64%)",color:"{green.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{green.500}",shadow:"none"}},outlined:{color:"{green.500}",borderColor:"{green.500}"},simple:{color:"{green.500}"}},warn:{background:"color-mix(in srgb, {yellow.500}, transparent 84%)",borderColor:"color-mix(in srgb, {yellow.700}, transparent 64%)",color:"{yellow.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{yellow.500}",shadow:"none"}},outlined:{color:"{yellow.500}",borderColor:"{yellow.500}"},simple:{color:"{yellow.500}"}},error:{background:"color-mix(in srgb, {red.500}, transparent 84%)",borderColor:"color-mix(in srgb, {red.700}, transparent 64%)",color:"{red.500}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{red.500}",shadow:"none"}},outlined:{color:"{red.500}",borderColor:"{red.500}"},simple:{color:"{red.500}"}},secondary:{background:"{surface.800}",borderColor:"{surface.700}",color:"{surface.300}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)",closeButton:{hoverBackground:"{surface.700}",focusRing:{color:"{surface.300}",shadow:"none"}},outlined:{color:"{surface.400}",borderColor:"{surface.400}"},simple:{color:"{surface.400}"}},contrast:{background:"{surface.0}",borderColor:"{surface.100}",color:"{surface.950}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)",closeButton:{hoverBackground:"{surface.100}",focusRing:{color:"{surface.950}",shadow:"none"}},outlined:{color:"{surface.0}",borderColor:"{surface.0}"},simple:{color:"{surface.0}"}}}}},index$H={root:{borderRadius:"{content.border.radius}",gap:"1rem"},meters:{background:"{content.border.color}",size:"0.5rem"},label:{gap:"0.5rem"},labelMarker:{size:"0.5rem"},labelIcon:{size:"1rem"},labelList:{verticalGap:"0.5rem",horizontalGap:"1rem"}},index$G={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}},dropdown:{width:"2.5rem",color:"{form.field.icon.color}"},overlay:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},list:{padding:"{list.padding}",gap:"{list.gap}",header:{padding:"{list.header.padding}"}},option:{focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}",gap:"0.5rem"},optionGroup:{background:"{list.option.group.background}",color:"{list.option.group.color}",fontWeight:"{list.option.group.font.weight}",padding:"{list.option.group.padding}"},clearIcon:{color:"{form.field.icon.color}"},chip:{borderRadius:"{border.radius.sm}"},emptyMessage:{padding:"{list.option.padding}"}},index$F={root:{gap:"1.125rem"},controls:{gap:"0.5rem"}},index$E={root:{gutter:"0.75rem",transitionDuration:"{transition.duration}"},node:{background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",borderColor:"{content.border.color}",color:"{content.color}",selectedColor:"{highlight.color}",hoverColor:"{content.hover.color}",padding:"0.75rem 1rem",toggleablePadding:"0.75rem 1rem 1.25rem 1rem",borderRadius:"{content.border.radius}"},nodeToggleButton:{background:"{content.background}",hoverBackground:"{content.hover.background}",borderColor:"{content.border.color}",color:"{text.muted.color}",hoverColor:"{text.color}",size:"1.5rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},connector:{color:"{content.border.color}",borderRadius:"{content.border.radius}",height:"24px"}},index$D={root:{outline:{width:"2px",color:"{content.background}"}}},index$C={root:{padding:"0.5rem 1rem",gap:"0.25rem",borderRadius:"{content.border.radius}",background:"{content.background}",color:"{content.color}",transitionDuration:"{transition.duration}"},navButton:{background:"transparent",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",selectedColor:"{highlight.color}",width:"2.5rem",height:"2.5rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},currentPageReport:{color:"{text.muted.color}"},jumpToPageInput:{maxWidth:"2.5rem"}},index$B={root:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}"},header:{background:"transparent",color:"{text.color}",padding:"1.125rem",borderColor:"{content.border.color}",borderWidth:"0",borderRadius:"0"},toggleableHeader:{padding:"0.375rem 1.125rem"},title:{fontWeight:"600"},content:{padding:"0 1.125rem 1.125rem 1.125rem"},footer:{padding:"0 1.125rem 1.125rem 1.125rem"}},index$A={root:{gap:"0.5rem",transitionDuration:"{transition.duration}"},panel:{background:"{content.background}",borderColor:"{content.border.color}",borderWidth:"1px",color:"{content.color}",padding:"0.25rem 0.25rem",borderRadius:"{content.border.radius}",first:{borderWidth:"1px",topBorderRadius:"{content.border.radius}"},last:{borderWidth:"1px",bottomBorderRadius:"{content.border.radius}"}},item:{focusBackground:"{navigation.item.focus.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",gap:"0.5rem",padding:"{navigation.item.padding}",borderRadius:"{content.border.radius}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}"}},submenu:{indent:"1rem"},submenuIcon:{color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}"}},index$z={meter:{background:"{content.border.color}",borderRadius:"{content.border.radius}",height:".75rem"},icon:{color:"{form.field.icon.color}"},overlay:{background:"{overlay.popover.background}",borderColor:"{overlay.popover.border.color}",borderRadius:"{overlay.popover.border.radius}",color:"{overlay.popover.color}",padding:"{overlay.popover.padding}",shadow:"{overlay.popover.shadow}"},content:{gap:"0.5rem"},colorScheme:{light:{strength:{weakBackground:"{red.500}",mediumBackground:"{amber.500}",strongBackground:"{green.500}"}},dark:{strength:{weakBackground:"{red.400}",mediumBackground:"{amber.400}",strongBackground:"{green.400}"}}}},index$y={root:{gap:"1.125rem"},controls:{gap:"0.5rem"}},index$x={root:{background:"{overlay.popover.background}",borderColor:"{overlay.popover.border.color}",color:"{overlay.popover.color}",borderRadius:"{overlay.popover.border.radius}",shadow:"{overlay.popover.shadow}",gutter:"10px",arrowOffset:"1.25rem"},content:{padding:"{overlay.popover.padding}"}},index$w={root:{background:"{content.border.color}",borderRadius:"{content.border.radius}",height:"1.25rem"},value:{background:"{primary.color}"},label:{color:"{primary.contrast.color}",fontSize:"0.75rem",fontWeight:"600"}},index$v={colorScheme:{light:{root:{"color.1":"{red.500}","color.2":"{blue.500}","color.3":"{green.500}","color.4":"{yellow.500}"}},dark:{root:{"color.1":"{red.400}","color.2":"{blue.400}","color.3":"{green.400}","color.4":"{yellow.400}"}}}},index$u={root:{width:"1.25rem",height:"1.25rem",background:"{form.field.background}",checkedBackground:"{primary.color}",checkedHoverBackground:"{primary.hover.color}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.border.color}",checkedBorderColor:"{primary.color}",checkedHoverBorderColor:"{primary.hover.color}",checkedFocusBorderColor:"{primary.color}",checkedDisabledBorderColor:"{form.field.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",shadow:"{form.field.shadow}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{width:"1rem",height:"1rem"},lg:{width:"1.5rem",height:"1.5rem"}},icon:{size:"0.75rem",checkedColor:"{primary.contrast.color}",checkedHoverColor:"{primary.contrast.color}",disabledColor:"{form.field.disabled.color}",sm:{size:"0.5rem"},lg:{size:"1rem"}}},index$t={root:{gap:"0.25rem",transitionDuration:"{transition.duration}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},icon:{size:"1rem",color:"{text.muted.color}",hoverColor:"{primary.color}",activeColor:"{primary.color}"}},index$s={colorScheme:{light:{root:{background:"rgba(0,0,0,0.1)"}},dark:{root:{background:"rgba(255,255,255,0.3)"}}}},index$r={root:{transitionDuration:"{transition.duration}"},bar:{size:"9px",borderRadius:"{border.radius.sm}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},colorScheme:{light:{bar:{background:"{surface.100}"}},dark:{bar:{background:"{surface.800}"}}}},index$q={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}},dropdown:{width:"2.5rem",color:"{form.field.icon.color}"},overlay:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},list:{padding:"{list.padding}",gap:"{list.gap}",header:{padding:"{list.header.padding}"}},option:{focusBackground:"{list.option.focus.background}",selectedBackground:"{list.option.selected.background}",selectedFocusBackground:"{list.option.selected.focus.background}",color:"{list.option.color}",focusColor:"{list.option.focus.color}",selectedColor:"{list.option.selected.color}",selectedFocusColor:"{list.option.selected.focus.color}",padding:"{list.option.padding}",borderRadius:"{list.option.border.radius}"},optionGroup:{background:"{list.option.group.background}",color:"{list.option.group.color}",fontWeight:"{list.option.group.font.weight}",padding:"{list.option.group.padding}"},clearIcon:{color:"{form.field.icon.color}"},checkmark:{color:"{list.option.color}",gutterStart:"-0.375rem",gutterEnd:"0.375rem"},emptyMessage:{padding:"{list.option.padding}"}},index$p={root:{borderRadius:"{form.field.border.radius}"},colorScheme:{light:{root:{invalidBorderColor:"{form.field.invalid.border.color}"}},dark:{root:{invalidBorderColor:"{form.field.invalid.border.color}"}}}},index$o={root:{borderRadius:"{content.border.radius}"},colorScheme:{light:{root:{background:"{surface.200}",animationBackground:"rgba(255,255,255,0.4)"}},dark:{root:{background:"rgba(255, 255, 255, 0.06)",animationBackground:"rgba(255, 255, 255, 0.04)"}}}},index$n={root:{transitionDuration:"{transition.duration}"},track:{background:"{content.border.color}",borderRadius:"{content.border.radius}",size:"3px"},range:{background:"{primary.color}"},handle:{width:"20px",height:"20px",borderRadius:"50%",background:"{content.border.color}",hoverBackground:"{content.border.color}",content:{borderRadius:"50%",hoverBackground:"{content.background}",width:"16px",height:"16px",shadow:"0px 0.5px 0px 0px rgba(0, 0, 0, 0.08), 0px 1px 1px 0px rgba(0, 0, 0, 0.14)"},focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},colorScheme:{light:{handle:{contentBackground:"{surface.0}"}},dark:{handle:{contentBackground:"{surface.950}"}}}},index$m={root:{gap:"0.5rem",transitionDuration:"{transition.duration}"}},index$l={root:{borderRadius:"{form.field.border.radius}",roundedBorderRadius:"2rem",raisedShadow:"0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12)"}},index$k={root:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",transitionDuration:"{transition.duration}"},gutter:{background:"{content.border.color}"},handle:{size:"24px",background:"transparent",borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}}},index$j={root:{transitionDuration:"{transition.duration}"},separator:{background:"{content.border.color}",activeBackground:"{primary.color}",margin:"0 0 0 1.625rem",size:"2px"},step:{padding:"0.5rem",gap:"1rem"},stepHeader:{padding:"0",borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},gap:"0.5rem"},stepTitle:{color:"{text.muted.color}",activeColor:"{primary.color}",fontWeight:"500"},stepNumber:{background:"{content.background}",activeBackground:"{content.background}",borderColor:"{content.border.color}",activeBorderColor:"{content.border.color}",color:"{text.muted.color}",activeColor:"{primary.color}",size:"2rem",fontSize:"1.143rem",fontWeight:"500",borderRadius:"50%",shadow:"0px 0.5px 0px 0px rgba(0, 0, 0, 0.06), 0px 1px 1px 0px rgba(0, 0, 0, 0.12)"},steppanels:{padding:"0.875rem 0.5rem 1.125rem 0.5rem"},steppanel:{background:"{content.background}",color:"{content.color}",padding:"0",indent:"1rem"}},index$i={root:{transitionDuration:"{transition.duration}"},separator:{background:"{content.border.color}"},itemLink:{borderRadius:"{content.border.radius}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},gap:"0.5rem"},itemLabel:{color:"{text.muted.color}",activeColor:"{primary.color}",fontWeight:"500"},itemNumber:{background:"{content.background}",activeBackground:"{content.background}",borderColor:"{content.border.color}",activeBorderColor:"{content.border.color}",color:"{text.muted.color}",activeColor:"{primary.color}",size:"2rem",fontSize:"1.143rem",fontWeight:"500",borderRadius:"50%",shadow:"0px 0.5px 0px 0px rgba(0, 0, 0, 0.06), 0px 1px 1px 0px rgba(0, 0, 0, 0.12)"}},index$h={root:{transitionDuration:"{transition.duration}"},tablist:{borderWidth:"0 0 1px 0",background:"{content.background}",borderColor:"{content.border.color}"},item:{background:"transparent",hoverBackground:"transparent",activeBackground:"transparent",borderWidth:"0 0 1px 0",borderColor:"{content.border.color}",hoverBorderColor:"{content.border.color}",activeBorderColor:"{primary.color}",color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}",padding:"1rem 1.125rem",fontWeight:"600",margin:"0 0 -1px 0",gap:"0.5rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},itemIcon:{color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}"},activeBar:{height:"1px",bottom:"-1px",background:"{primary.color}"}},index$g={root:{transitionDuration:"{transition.duration}"},tablist:{borderWidth:"0 0 1px 0",background:"{content.background}",borderColor:"{content.border.color}"},tab:{background:"transparent",hoverBackground:"transparent",activeBackground:"transparent",borderWidth:"0 0 1px 0",borderColor:"{content.border.color}",hoverBorderColor:"{content.border.color}",activeBorderColor:"{primary.color}",color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}",padding:"1rem 1.125rem",fontWeight:"600",margin:"0 0 -1px 0",gap:"0.5rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},tabpanel:{background:"{content.background}",color:"{content.color}",padding:"0.875rem 1.125rem 1.125rem 1.125rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"inset {focus.ring.shadow}"}},navButton:{background:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.color}",width:"2.5rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},activeBar:{height:"1px",bottom:"-1px",background:"{primary.color}"},colorScheme:{light:{navButton:{shadow:"0px 0px 10px 50px rgba(255, 255, 255, 0.6)"}},dark:{navButton:{shadow:"0px 0px 10px 50px color-mix(in srgb, {content.background}, transparent 50%)"}}}},index$f={root:{transitionDuration:"{transition.duration}"},tabList:{background:"{content.background}",borderColor:"{content.border.color}"},tab:{borderColor:"{content.border.color}",activeBorderColor:"{primary.color}",color:"{text.muted.color}",hoverColor:"{text.color}",activeColor:"{primary.color}"},tabPanel:{background:"{content.background}",color:"{content.color}"},navButton:{background:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.color}"},colorScheme:{light:{navButton:{shadow:"0px 0px 10px 50px rgba(255, 255, 255, 0.6)"}},dark:{navButton:{shadow:"0px 0px 10px 50px color-mix(in srgb, {content.background}, transparent 50%)"}}}},index$e={root:{fontSize:"0.875rem",fontWeight:"700",padding:"0.25rem 0.5rem",gap:"0.25rem",borderRadius:"{content.border.radius}",roundedBorderRadius:"{border.radius.xl}"},icon:{size:"0.75rem"},colorScheme:{light:{primary:{background:"{primary.100}",color:"{primary.700}"},secondary:{background:"{surface.100}",color:"{surface.600}"},success:{background:"{green.100}",color:"{green.700}"},info:{background:"{sky.100}",color:"{sky.700}"},warn:{background:"{orange.100}",color:"{orange.700}"},danger:{background:"{red.100}",color:"{red.700}"},contrast:{background:"{surface.950}",color:"{surface.0}"}},dark:{primary:{background:"color-mix(in srgb, {primary.500}, transparent 84%)",color:"{primary.300}"},secondary:{background:"{surface.800}",color:"{surface.300}"},success:{background:"color-mix(in srgb, {green.500}, transparent 84%)",color:"{green.300}"},info:{background:"color-mix(in srgb, {sky.500}, transparent 84%)",color:"{sky.300}"},warn:{background:"color-mix(in srgb, {orange.500}, transparent 84%)",color:"{orange.300}"},danger:{background:"color-mix(in srgb, {red.500}, transparent 84%)",color:"{red.300}"},contrast:{background:"{surface.0}",color:"{surface.950}"}}}},index$d={root:{background:"{form.field.background}",borderColor:"{form.field.border.color}",color:"{form.field.color}",height:"18rem",padding:"{form.field.padding.y} {form.field.padding.x}",borderRadius:"{form.field.border.radius}"},prompt:{gap:"0.25rem"},commandResponse:{margin:"2px 0"}},index$c={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}}},index$b={root:{background:"{content.background}",borderColor:"{content.border.color}",color:"{content.color}",borderRadius:"{content.border.radius}",shadow:"{overlay.navigation.shadow}",transitionDuration:"{transition.duration}"},list:{padding:"{navigation.list.padding}",gap:"{navigation.list.gap}"},item:{focusBackground:"{navigation.item.focus.background}",activeBackground:"{navigation.item.active.background}",color:"{navigation.item.color}",focusColor:"{navigation.item.focus.color}",activeColor:"{navigation.item.active.color}",padding:"{navigation.item.padding}",borderRadius:"{navigation.item.border.radius}",gap:"{navigation.item.gap}",icon:{color:"{navigation.item.icon.color}",focusColor:"{navigation.item.icon.focus.color}",activeColor:"{navigation.item.icon.active.color}"}},submenu:{mobileIndent:"1rem"},submenuIcon:{size:"{navigation.submenu.icon.size}",color:"{navigation.submenu.icon.color}",focusColor:"{navigation.submenu.icon.focus.color}",activeColor:"{navigation.submenu.icon.active.color}"},separator:{borderColor:"{content.border.color}"}},index$a={event:{minHeight:"5rem"},horizontal:{eventContent:{padding:"1rem 0"}},vertical:{eventContent:{padding:"0 1rem"}},eventMarker:{size:"1.125rem",borderRadius:"50%",borderWidth:"2px",background:"{content.background}",borderColor:"{content.border.color}",content:{borderRadius:"50%",size:"0.375rem",background:"{primary.color}",insetShadow:"0px 0.5px 0px 0px rgba(0, 0, 0, 0.06), 0px 1px 1px 0px rgba(0, 0, 0, 0.12)"}},eventConnector:{color:"{content.border.color}",size:"2px"}},index$9={root:{width:"25rem",borderRadius:"{content.border.radius}",borderWidth:"1px",transitionDuration:"{transition.duration}"},icon:{size:"1.125rem"},content:{padding:"{overlay.popover.padding}",gap:"0.5rem"},text:{gap:"0.5rem"},summary:{fontWeight:"500",fontSize:"1rem"},detail:{fontWeight:"500",fontSize:"0.875rem"},closeButton:{width:"1.75rem",height:"1.75rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",offset:"{focus.ring.offset}"}},closeIcon:{size:"1rem"},colorScheme:{light:{blur:"1.5px",info:{background:"color-mix(in srgb, {blue.50}, transparent 5%)",borderColor:"{blue.200}",color:"{blue.600}",detailColor:"{surface.700}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)",closeButton:{hoverBackground:"{blue.100}",focusRing:{color:"{blue.600}",shadow:"none"}}},success:{background:"color-mix(in srgb, {green.50}, transparent 5%)",borderColor:"{green.200}",color:"{green.600}",detailColor:"{surface.700}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)",closeButton:{hoverBackground:"{green.100}",focusRing:{color:"{green.600}",shadow:"none"}}},warn:{background:"color-mix(in srgb,{yellow.50}, transparent 5%)",borderColor:"{yellow.200}",color:"{yellow.600}",detailColor:"{surface.700}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)",closeButton:{hoverBackground:"{yellow.100}",focusRing:{color:"{yellow.600}",shadow:"none"}}},error:{background:"color-mix(in srgb, {red.50}, transparent 5%)",borderColor:"{red.200}",color:"{red.600}",detailColor:"{surface.700}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)",closeButton:{hoverBackground:"{red.100}",focusRing:{color:"{red.600}",shadow:"none"}}},secondary:{background:"{surface.100}",borderColor:"{surface.200}",color:"{surface.600}",detailColor:"{surface.700}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)",closeButton:{hoverBackground:"{surface.200}",focusRing:{color:"{surface.600}",shadow:"none"}}},contrast:{background:"{surface.900}",borderColor:"{surface.950}",color:"{surface.50}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)",closeButton:{hoverBackground:"{surface.800}",focusRing:{color:"{surface.50}",shadow:"none"}}}},dark:{blur:"10px",info:{background:"color-mix(in srgb, {blue.500}, transparent 84%)",borderColor:"color-mix(in srgb, {blue.700}, transparent 64%)",color:"{blue.500}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {blue.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{blue.500}",shadow:"none"}}},success:{background:"color-mix(in srgb, {green.500}, transparent 84%)",borderColor:"color-mix(in srgb, {green.700}, transparent 64%)",color:"{green.500}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {green.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{green.500}",shadow:"none"}}},warn:{background:"color-mix(in srgb, {yellow.500}, transparent 84%)",borderColor:"color-mix(in srgb, {yellow.700}, transparent 64%)",color:"{yellow.500}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {yellow.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{yellow.500}",shadow:"none"}}},error:{background:"color-mix(in srgb, {red.500}, transparent 84%)",borderColor:"color-mix(in srgb, {red.700}, transparent 64%)",color:"{red.500}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {red.500}, transparent 96%)",closeButton:{hoverBackground:"rgba(255, 255, 255, 0.05)",focusRing:{color:"{red.500}",shadow:"none"}}},secondary:{background:"{surface.800}",borderColor:"{surface.700}",color:"{surface.300}",detailColor:"{surface.0}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.500}, transparent 96%)",closeButton:{hoverBackground:"{surface.700}",focusRing:{color:"{surface.300}",shadow:"none"}}},contrast:{background:"{surface.0}",borderColor:"{surface.100}",color:"{surface.950}",detailColor:"{surface.950}",shadow:"0px 4px 8px 0px color-mix(in srgb, {surface.950}, transparent 96%)",closeButton:{hoverBackground:"{surface.100}",focusRing:{color:"{surface.950}",shadow:"none"}}}}}},index$8={root:{padding:"0.5rem 1rem",borderRadius:"{content.border.radius}",gap:"0.5rem",fontWeight:"500",disabledBackground:"{form.field.disabled.background}",disabledBorderColor:"{form.field.disabled.background}",disabledColor:"{form.field.disabled.color}",invalidBorderColor:"{form.field.invalid.border.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",padding:"0.375rem 0.75rem"},lg:{fontSize:"{form.field.lg.font.size}",padding:"0.625rem 1.25rem"}},icon:{disabledColor:"{form.field.disabled.color}"},content:{left:"0.25rem",top:"0.25rem",checkedShadow:"0px 1px 2px 0px rgba(0, 0, 0, 0.02), 0px 1px 2px 0px rgba(0, 0, 0, 0.04)"},colorScheme:{light:{root:{background:"{surface.100}",checkedBackground:"{surface.100}",hoverBackground:"{surface.100}",borderColor:"{surface.100}",color:"{surface.500}",hoverColor:"{surface.700}",checkedColor:"{surface.900}",checkedBorderColor:"{surface.100}"},content:{checkedBackground:"{surface.0}"},icon:{color:"{surface.500}",hoverColor:"{surface.700}",checkedColor:"{surface.900}"}},dark:{root:{background:"{surface.950}",checkedBackground:"{surface.950}",hoverBackground:"{surface.950}",borderColor:"{surface.950}",color:"{surface.400}",hoverColor:"{surface.300}",checkedColor:"{surface.0}",checkedBorderColor:"{surface.950}"},content:{checkedBackground:"{surface.800}"},icon:{color:"{surface.400}",hoverColor:"{surface.300}",checkedColor:"{surface.0}"}}}},index$7={root:{width:"2.5rem",height:"1.5rem",borderRadius:"30px",gap:"0.25rem",shadow:"{form.field.shadow}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"},borderWidth:"1px",borderColor:"transparent",hoverBorderColor:"transparent",checkedBorderColor:"transparent",checkedHoverBorderColor:"transparent",invalidBorderColor:"{form.field.invalid.border.color}",transitionDuration:"{form.field.transition.duration}",slideDuration:"0.2s"},handle:{borderRadius:"50%",size:"1rem"},colorScheme:{light:{root:{background:"{surface.300}",disabledBackground:"{form.field.disabled.background}",hoverBackground:"{surface.400}",checkedBackground:"{primary.color}",checkedHoverBackground:"{primary.hover.color}"},handle:{background:"{surface.0}",disabledBackground:"{form.field.disabled.color}",hoverBackground:"{surface.0}",checkedBackground:"{surface.0}",checkedHoverBackground:"{surface.0}",color:"{text.muted.color}",hoverColor:"{text.color}",checkedColor:"{primary.color}",checkedHoverColor:"{primary.hover.color}"}},dark:{root:{background:"{surface.700}",disabledBackground:"{surface.600}",hoverBackground:"{surface.600}",checkedBackground:"{primary.color}",checkedHoverBackground:"{primary.hover.color}"},handle:{background:"{surface.400}",disabledBackground:"{surface.900}",hoverBackground:"{surface.300}",checkedBackground:"{surface.900}",checkedHoverBackground:"{surface.900}",color:"{surface.900}",hoverColor:"{surface.800}",checkedColor:"{primary.color}",checkedHoverColor:"{primary.hover.color}"}}}},index$6={root:{background:"{content.background}",borderColor:"{content.border.color}",borderRadius:"{content.border.radius}",color:"{content.color}",gap:"0.5rem",padding:"0.75rem"}},index$5={root:{maxWidth:"12.5rem",gutter:"0.25rem",shadow:"{overlay.popover.shadow}",padding:"0.5rem 0.75rem",borderRadius:"{overlay.popover.border.radius}"},colorScheme:{light:{root:{background:"{surface.700}",color:"{surface.0}"}},dark:{root:{background:"{surface.700}",color:"{surface.0}"}}}},index$4={root:{background:"{content.background}",color:"{content.color}",padding:"1rem",gap:"2px",indent:"1rem",transitionDuration:"{transition.duration}"},node:{padding:"0.25rem 0.5rem",borderRadius:"{content.border.radius}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",color:"{text.color}",hoverColor:"{text.hover.color}",selectedColor:"{highlight.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"},gap:"0.25rem"},nodeIcon:{color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",selectedColor:"{highlight.color}"},nodeToggleButton:{borderRadius:"50%",size:"1.75rem",hoverBackground:"{content.hover.background}",selectedHoverBackground:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",selectedHoverColor:"{primary.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},loadingIcon:{size:"2rem"},filter:{margin:"0 0 0.5rem 0"}},index$3={root:{background:"{form.field.background}",disabledBackground:"{form.field.disabled.background}",filledBackground:"{form.field.filled.background}",filledHoverBackground:"{form.field.filled.hover.background}",filledFocusBackground:"{form.field.filled.focus.background}",borderColor:"{form.field.border.color}",hoverBorderColor:"{form.field.hover.border.color}",focusBorderColor:"{form.field.focus.border.color}",invalidBorderColor:"{form.field.invalid.border.color}",color:"{form.field.color}",disabledColor:"{form.field.disabled.color}",placeholderColor:"{form.field.placeholder.color}",invalidPlaceholderColor:"{form.field.invalid.placeholder.color}",shadow:"{form.field.shadow}",paddingX:"{form.field.padding.x}",paddingY:"{form.field.padding.y}",borderRadius:"{form.field.border.radius}",focusRing:{width:"{form.field.focus.ring.width}",style:"{form.field.focus.ring.style}",color:"{form.field.focus.ring.color}",offset:"{form.field.focus.ring.offset}",shadow:"{form.field.focus.ring.shadow}"},transitionDuration:"{form.field.transition.duration}",sm:{fontSize:"{form.field.sm.font.size}",paddingX:"{form.field.sm.padding.x}",paddingY:"{form.field.sm.padding.y}"},lg:{fontSize:"{form.field.lg.font.size}",paddingX:"{form.field.lg.padding.x}",paddingY:"{form.field.lg.padding.y}"}},dropdown:{width:"2.5rem",color:"{form.field.icon.color}"},overlay:{background:"{overlay.select.background}",borderColor:"{overlay.select.border.color}",borderRadius:"{overlay.select.border.radius}",color:"{overlay.select.color}",shadow:"{overlay.select.shadow}"},tree:{padding:"{list.padding}"},clearIcon:{color:"{form.field.icon.color}"},emptyMessage:{padding:"{list.option.padding}"},chip:{borderRadius:"{border.radius.sm}"}},index$2={root:{transitionDuration:"{transition.duration}"},header:{background:"{content.background}",borderColor:"{treetable.border.color}",color:"{content.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem"},headerCell:{background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",borderColor:"{treetable.border.color}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{highlight.color}",gap:"0.5rem",padding:"0.75rem 1rem",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},columnTitle:{fontWeight:"600"},row:{background:"{content.background}",hoverBackground:"{content.hover.background}",selectedBackground:"{highlight.background}",color:"{content.color}",hoverColor:"{content.hover.color}",selectedColor:"{highlight.color}",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"-1px",shadow:"{focus.ring.shadow}"}},bodyCell:{borderColor:"{treetable.border.color}",padding:"0.75rem 1rem",gap:"0.5rem"},footerCell:{background:"{content.background}",borderColor:"{treetable.border.color}",color:"{content.color}",padding:"0.75rem 1rem"},columnFooter:{fontWeight:"600"},footer:{background:"{content.background}",borderColor:"{treetable.border.color}",color:"{content.color}",borderWidth:"0 0 1px 0",padding:"0.75rem 1rem"},columnResizerWidth:"0.5rem",resizeIndicator:{width:"1px",color:"{primary.color}"},sortIcon:{color:"{text.muted.color}",hoverColor:"{text.hover.muted.color}",size:"0.875rem"},loadingIcon:{size:"2rem"},nodeToggleButton:{hoverBackground:"{content.hover.background}",selectedHoverBackground:"{content.background}",color:"{text.muted.color}",hoverColor:"{text.color}",selectedHoverColor:"{primary.color}",size:"1.75rem",borderRadius:"50%",focusRing:{width:"{focus.ring.width}",style:"{focus.ring.style}",color:"{focus.ring.color}",offset:"{focus.ring.offset}",shadow:"{focus.ring.shadow}"}},paginatorTop:{borderColor:"{content.border.color}",borderWidth:"0 0 1px 0"},paginatorBottom:{borderColor:"{content.border.color}",borderWidth:"0 0 1px 0"},colorScheme:{light:{root:{borderColor:"{content.border.color}"},bodyCell:{selectedBorderColor:"{primary.100}"}},dark:{root:{borderColor:"{surface.800}"},bodyCell:{selectedBorderColor:"{primary.900}"}}}},index$1={loader:{mask:{background:"{content.background}",color:"{text.muted.color}"},icon:{size:"2rem"}}};function _typeof(e){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},_typeof(e)}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(o){_defineProperty(e,o,t[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(t,o))})}return e}function _defineProperty(e,r,t){return(r=_toPropertyKey(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _toPropertyKey(e){var r=_toPrimitive(e,"string");return _typeof(r)=="symbol"?r:r+""}function _toPrimitive(e,r){if(_typeof(e)!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var o=t.call(e,r||"default");if(_typeof(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var index=_objectSpread(_objectSpread({},index$1l),{},{components:{accordion:index$1p,autocomplete:index$1o,avatar:index$1n,badge:index$1m,blockui:index$1k,breadcrumb:index$1j,button:index$1i,datepicker:index$16,card:index$1h,carousel:index$1g,cascadeselect:index$1f,checkbox:index$1e,chip:index$1d,colorpicker:index$1c,confirmdialog:index$1b,confirmpopup:index$1a,contextmenu:index$19,dataview:index$17,datatable:index$18,dialog:index$15,divider:index$14,dock:index$13,drawer:index$12,editor:index$11,fieldset:index$10,fileupload:index$$,iftalabel:index$X,floatlabel:index$_,galleria:index$Z,iconfield:index$Y,image:index$W,imagecompare:index$V,inlinemessage:index$U,inplace:index$T,inputchips:index$S,inputgroup:index$R,inputnumber:index$Q,inputotp:index$P,inputtext:index$O,knob:index$N,listbox:index$M,megamenu:index$L,menu:index$K,menubar:index$J,message:index$I,metergroup:index$H,multiselect:index$G,orderlist:index$F,organizationchart:index$E,overlaybadge:index$D,popover:index$x,paginator:index$C,password:index$z,panel:index$B,panelmenu:index$A,picklist:index$y,progressbar:index$w,progressspinner:index$v,radiobutton:index$u,rating:index$t,scrollpanel:index$r,select:index$q,selectbutton:index$p,skeleton:index$o,slider:index$n,speeddial:index$m,splitter:index$k,splitbutton:index$l,stepper:index$j,steps:index$i,tabmenu:index$h,tabs:index$g,tabview:index$f,textarea:index$c,tieredmenu:index$b,tag:index$e,terminal:index$d,timeline:index$a,togglebutton:index$8,toggleswitch:index$7,tree:index$4,treeselect:index$3,treetable:index$2,toast:index$9,toolbar:index$6,virtualscroller:index$1},directives:{tooltip:index$5,ripple:index$s}});const IndigoThemePreset=definePreset(index,{semantic:{primary:{50:"{indigo.50}",100:"{indigo.100}",200:"{indigo.200}",300:"{indigo.300}",400:"{indigo.400}",500:"{indigo.500}",600:"{indigo.600}",700:"{indigo.700}",800:"{indigo.800}",900:"{indigo.900}",950:"{indigo.950}"}}}),NotFoundView=defineComponent({name:"NotFoundView",setup(){const e=useRouter();return()=>h("div",{class:"container"},[h("div",{class:["my-4rem"]}),h(script$3,{header:"404",toggleable:!0,class:"my-3"},{default:()=>[h("div",{class:["flex flex-row flex-items-center flex-wrap gap-2 flex-content-around flex-justify-around"]},[h(script$4,{label:"go app",onClick:()=>{e.push({name:"app"})}}),h(script$4,{label:"go home",onClick:()=>{e.push({name:"home"})}}),h(script$4,{label:"go root",onClick:()=>{e.push({name:"root"})}})])]})])}}),AppView=defineComponent({name:"AppView",setup(){const{locale:e}=useI18n({useScope:"global"});console.log({i18nLocale:e.value});const r=useDarkModeStore(),{toggle:t}=r,{isOn:o}=storeToRefs(r),n=useSystemSettingsStore(),{setLocale:u}=n,{availableLocales:a,locale:s}=storeToRefs(n),i=ref([{label:"JS AI Agent",name:"app-agent",icon:"pi pi-face-smile"},{label:"Function Test",name:"app-func-test",icon:"pi pi-wrench"},{label:"Chat Test",name:"app-chat-test",icon:"pi pi-comments"},{label:"",name:"app-notes",icon:"pi pi-clipboard"}]),c=ref(i.value[0].label),d=useRouter(),l=useRoute();return watch(()=>l.name,()=>{c.value=`${String(l.name??"")}`},{immediate:!0}),()=>{var g;return h("div",{class:"container"},[h(script$5,{value:c.value,scrollable:!0},{default:()=>h(script$6,{},{default:()=>i.value.map(m=>h(script$7,{key:m.label,value:m.name,onClick:()=>{d.hasRoute(m==null?void 0:m.name)&&d.push({name:m.name})}},{default:()=>h("span",{class:"inline-flex flex-row flex-items-center gap-2"},[h("i",{class:m.icon}),h("span",{},m.label)])}))})}),h("div",{class:["my-2rem"]}),h(RouterView),h("div",{class:["my-2rem"]}),h(script$8,{class:"my-6rem!",breakpoint:"0px",model:[{label:"theme",icon:`pi pi-${o.value?"moon":"sun"}`,command:()=>{t()}},{label:`${s.value} | ${e.value}`,icon:"pi pi-language",items:(g=a==null?void 0:a.value)==null?void 0:g.map(m=>({label:m,icon:"pi pi-flag",command:()=>{u(m,e)}}))},{label:"root",icon:"pi pi-globe",command:()=>{d.push({name:"root"})}},{label:"home",icon:"pi pi-home",command:()=>{d.push({name:"home"})}},{label:"Dev Ref",icon:"pi pi-external-link",items:[{label:"Dexie",items:[{label:"Dexie",url:"https://dexie.org",target:"_blank"},{label:"Design",url:"https://dexie.org/docs/Tutorial/Design",target:"_blank"},{label:"Version.stores()",url:"https://dexie.org/docs/Version/Version.stores()",target:"_blank"},{label:"IDB",url:"https://juejin.cn/post/7025592963002531871",target:"_blank"},{label:"supported-operations",url:"https://github.com/dexie/Dexie.js#supported-operations",target:"_blank"},{label:"Tutorial/Vue",url:"https://dexie.org/docs/Tutorial/Vue",target:"_blank"},{label:"liveQuery()",url:"https://dexie.org/docs/liveQuery()",target:"_blank"},{label:"version()",url:"https://dexie.org/docs/Dexie/Dexie.version()",target:"_blank"}]},{label:"D3",items:[{label:"d3-dispatch",url:"https://d3js.org/d3-dispatch",target:"_blank"}]},{label:"vue-icons",url:"https://vue-icons.kalimah-apps.com/getting-started.html",target:"_blank"},{label:"Prime Icons",url:"https://primevue.org/icons/",target:"_blank"},{label:"UnoCSS",url:"https://unocss.dev/interactive/",target:"_blank"},{label:"Vue I18n",url:"https://vue-i18n.intlify.dev/guide/advanced/composition.html",target:"_blank"},{label:"VueUse",url:"https://vueuse.org/",target:"_blank"},{label:"Vue Router",url:"https://router.vuejs.org/zh/guide/",target:"_blank"},{label:"Pinia",url:"https://pinia.vuejs.org/zh/core-concepts/",target:"_blank"},{label:"Pinia Persisted",url:"https://prazdevs.github.io/pinia-plugin-persistedstate/guide/config.html",target:"_blank"},{label:"zipson",url:"https://jgranstrom.github.io/zipson/",target:"_blank"},{label:"vue render func",url:"https://cn.vuejs.org/guide/extras/render-function.html",target:"_blank"},{label:"vuejs.org",url:"https://vuejs.org/",target:"_blank"},{label:"vuejs.dev",url:"https://vuejs.dev/",target:"_blank"},{label:"Dexie.js",url:"https://dexie.org/docs/Tutorial/Vue",target:"_blank"},{label:"test",url:"#daf/ewf/2efw3?asd:df=w23?df"}]}]}),h("div",{class:["my-4rem"]})])}}}),ToolButton=defineComponent({name:"ToolButton",props:["label","tip","command","class","tooltipProps","direction","focus"],setup(e){const r=resolveDirective("tooltip");return()=>{const{label:t,tip:o,command:n,class:u,tooltipProps:a,direction:s,focus:i,...c}=e;return withDirectives(h(script$4,{label:t,severity:"secondary",onClick:n,outlined:!0,...c,class:["p-var-p-button-padding-y!",u]}),[[r,{value:o??t,showDelay:300,hideDelay:300,...a},s??"bottom",{[s??"bottom"]:!0,focus:i}]])}}});function isString$2(e){return typeof e=="string"}const useTypedEffect=(e,r,t,o)=>{const n=ref(""),u=ref(1),a=r&&isString$2(e);return watch(()=>e,i=>{n.value=i,!a&&isString$2(i)?u.value=i.length:isString$2(i)&&isString$2(n.value)&&i.indexOf(n.value)!==0&&(u.value=1)}),onMounted(()=>{let i;const c=()=>{a&&u.value<e.length&&(i=window.setTimeout(()=>{u.value+=t,c()},o))};c(),onUnmounted(()=>{clearTimeout(i)})}),[a?e.slice(0,u.value):e,a&&u.value<e.length]},Bubble=defineComponent({name:"MyBubble",props:["avatarProps","loadingProps","placement","typing","loading","onTypingComplete","messageRender","content","prefixCls"],setup(e,{slots:r}){var l,g,m;const[t,o,n,u]=e.typing?[!0,(l=e.typing)==null?void 0:l.step,(g=e.typing)==null?void 0:g.interval,((m=e.typing)==null?void 0:m.suffix)??"|"]:[!1,0,0,""],[a,s]=useTypedEffect(e.content,t,o,n),i=e.messageRender?e.messageRender(a):a,c=ref(null),d=ref(!1);return onMounted(()=>{var p;!s&&!e.loading?d.value||(d.value=!0,(p=e.onTypingComplete)==null||p.call(e)):d.value=!1}),()=>{var p,b,y;return h("div",{ref:c,class:["my-bubble","stack-h w-100% flex-nowrap!",e.placement=="end"?"justify-content-end! flex-row-reverse!":"justify-content-start",e!=null&&e.avatarProps?"mt-0.75rem":null]},[h("div",{class:["my-bubble--avatar-wrapper","flex-basis-auto",e.placement=="end"?"items-end!":"items-start!"]},[h(script$9,{size:"large",...e==null?void 0:e.avatarProps,class:["overflow-hidden",e!=null&&e.avatarProps?null:"opacity-0 pointer-events-none",(p=e==null?void 0:e.avatarProps)==null?void 0:p.class]})]),h("div",{class:["my-bubble--content-wrapper","stack-v my-0.25rem flex-basis-auto",e.placement=="end"?"items-end!":"items-start!"]},[r.header&&((b=r.header)==null?void 0:b.call(r)),e.loading?h(script$a,{strokeWidth:6,animationDuration:".25s",...e==null?void 0:e.loadingProps,class:"w-28px! h-28px!"}):h(script$b,{pt:{body:{class:"p-0.75rem!"}}},{content:()=>[h("div",{innerHTML:i}),s&&u]}),r.footer&&((y=r.footer)==null?void 0:y.call(r))]),h("div",{class:["my-bubble--tail","w-16rem"]})])}}}),read=async e=>new Promise((r,t)=>{try{e==null?e=[]:e!=null&&!Array.isArray(e)&&(e=[e]),(e==null?void 0:e.length)>1&&(e=[e[0]]);const n=e[0];if(n==null)throw"file is null.";const u=new FileReader;u.onload=a=>{r({status:"success",event:a,response:{textContent:String(u.result)}})},u.onerror=a=>{console.log("fileReader onerror"),t({status:"fail",error:": fileReader onerror",event:a,response:{}})},u.onabort=a=>{console.log("fileReader onabort"),t({status:"fail",error:": fileReader onabort",event:a,response:{}})},u.readAsText(n)}catch(o){t({status:"fail",error:`: ${o}`,err:o,response:{}})}}),processJsonLines=async e=>{const r=e.split(`
`);if(r.length==1)return JSON.parse(e);const t=[];for(const o of r)t.push(JSON.parse(o));return t},extractJson=async e=>{var o;if(e.status=="fail")throw e.error;if(((o=e.response)==null?void 0:o.textContent)==null)throw"response.response?.textContent is null.";const r=e.response.textContent;return JSON.parse(r)},extractJsonLines=async e=>{var o;if(e.status=="fail")throw e.error;if(((o=e.response)==null?void 0:o.textContent)==null)throw"response.response?.textContent is null.";const r=e.response.textContent;return await processJsonLines(r)},extractText=async e=>{var t;if(e.status=="fail")throw e.error;if(((t=e.response)==null?void 0:t.textContent)==null)throw"response.response?.textContent is null.";return e.response.textContent??""},readJsonOrJsonLines=async e=>{const r=await read(e);try{return{status:"success",data:await extractJsonLines(r),type:"jsonlines"}}catch(t){try{return{status:"success",data:await extractJson(r),type:"json"}}catch(o){try{return{status:"success",data:await extractText(r),type:"text"}}catch(n){return{status:"fail",error:[t,o,n],data:null}}}}},sleep$1=async e=>new Promise(r=>{setTimeout(()=>{r({})},e)}),AppFileView=defineComponent({setup(){const e=useToast(),r=ref(),t=ref([]),o=async n=>{console.log({fileBox:r.value}),r.value.files=n.files;const u=n.files.length,a=1/u;let s=0;r.value.progress=0;for(const i of n.files){try{await sleep$1(500);const c=await readJsonOrJsonLines(i);console.log({response:c,file:i}),t.value.push({file:i,response:c}),r.value.progress=r.value.progress+a,s+=1,r.value.$emit("progress",{originalEvent:n,progress:r.value.progress})}catch(c){console.error({error:c,file:i}),r.value.$emit("error",{files:r.value.files})}console.log({loadedCount:s,fileCount:u,progress:r.value.progress,files_length:r.value.files.length})}s===u?(r.value.fileLimit&&(r.value.uploadedFileCount+=r.value.files.length),r.value.$emit("upload",n)):r.value.$emit("error",{files:r.value.files}),r.value.uploadedFiles.push(...r.value.files),r.value.clear()};return()=>h(script$3,{header:"",toggleable:!0,collapsed:!0,class:"my-3"},{default:()=>[h(script$c,{ref:r,multiple:!0,customUpload:!0,chooseLabel:"",uploadLabel:"",cancelLabel:"",onUploader:n=>{o(n)},onUpload:n=>{console.log({dd:n}),e.add({severity:"success",summary:"Success",detail:"",life:3e3})}},{empty:()=>h("div",{},[""])}),t.value.length>0&&h("div",{class:["p-panel-title","mt-2rem mb-1.5rem"]},""),h("div",{class:["app-file-cards-box"]},[t.value.map(n=>h(script$b,{class:"app-file-card"},{title:()=>n.file.name,subtitle:()=>{var u;return(u=n.response)==null?void 0:u.type},content:()=>{var u;return h("div",{class:["stack-v","text-sm","overflow-auto","max-h-8rem"]},[h("pre",{class:[""]},JSON.stringify((u=n.response)==null?void 0:u.data,null,2).slice(0,1024))])},footer:()=>h("div",{class:["stack-h"]},[h(ToolButton,{icon:"pi pi-trash",text:!0,onClick:()=>{t.value=t.value.filter(u=>u!==n)}}),h(ToolButton,{icon:"pi pi-arrow-circle-right",label:"",tip:"",text:!0,onClick:()=>{var i;const u=(i=n.response)==null?void 0:i.data;let a=[];_.isString(u)?a=u.split(/\n+/):a=JSON.stringify(u,null,2).split(/\n+/),a=a.filter(c=>c.trim().length>0);const s=a.map((c,d)=>({text:c,meta:{idx:d}}));console.log({dataList:s})}})])}))])]})}}),="\n js JsToolAPI\n\n- **** JsTool\n  - **** `JsToolUsed`\n  -  JsTool \n  -  JsTool \n-  JsTool `CallStart``CallEnd` 1  JsTool\n\n\n\n-  JsTool  import \n-  JsTool  `console.log`  `JsTool.log` \n-  JsTool  `JsTool.set(key, value)`  `JsTool.get(key)`\n\n-  JsTool  lodash `_`\n-  JsTool  id  `the-only-art-board-wrap`  div  div  canvas  svg \n- js\n-  JsTool \n\n- `ReturnStart``ReturnEnd` `JsTool.log` \n-  JsTool \n  \n\n`ResultStart``ResultEnd`",TemplateJsTool={__KV__:{},__History__:[],log(e){const r=JSON.stringify(e);this.__History__.push(r),console.log(r)},clear(){this.__KV__={},this.__History__=[]},set(e,r){this.__KV__[e]=r},get(e){return this.__KV__[e]},last(){return this.__History__[this.__History__.length-1]},history(){return this.__History__},runCode(code){const frags=code.split(/(CallStart|CallEnd)/g);for(;frags[0]!=="CallStart";)if(frags.shift(),frags.length===0)return this.log("Error Code block not found."),this.last();for(frags.shift();frags[frags.length-1]!=="CallEnd";)if(frags.pop(),frags.length===0)return this.log("Error Code block not found."),this.last();frags.pop(),code=frags.join("").trim(),code=code.replace(/^```([Jj](ava)?[Ss](cript)?)?/g,""),code=code.replace(/```$/g,""),code=code.trim();try{eval(code)}catch(e){this.log(String(e))}return this.last()}},AppRootView=defineComponent({setup(){const e=useToast(),r=ref(""),t=reactive(TemplateJsTool),o=reactive({url:"",key:"",model:""}),n=u=>t.runCode(u);return onMounted(()=>{window.JsTool=t}),onUnmounted(()=>{window.JsTool=void 0}),()=>[h(script$3,{header:"",toggleable:!0,class:"my-1.5rem! col"},{default:()=>h("div",{class:"stack-v"},[h("p",{},[""])])}),h(script$3,{header:"",toggleable:!0,collapsed:!0,class:"my-1.5rem! col"},{default:()=>h("div",{class:"stack-v"},[h(ToolButton,{icon:"pi pi-copy",label:"",command:()=>{clipboard.copy(),e.add({severity:"info",summary:"",detail:"",life:2e3})}}),h("pre",{class:"overflow-auto w-full"},[])])}),h(script$3,{header:"",toggleable:!0,class:"my-1.5rem! col"},{default:()=>h("div",{class:"stack-v",id:"the-only-art-board-wrap"},[])}),h(script$3,{header:"",toggleable:!0,class:"my-1.5rem! col"},{default:()=>h("div",{class:"stack-v max-w-640px mx-auto max-h-80vh overflow-auto"},[h(Bubble,{content:"",loading:!1,placement:"start",avatarProps:{icon:"pi pi-face-smile"}}),h(script$d,{severity:"secondary",size:"small",class:"max-w-80% mx-auto -outline-width-0!",pt:{text:{class:"-fw-400!"}}},{default:()=>[""]}),h(script$d,{severity:"secondary",size:"small",class:"max-w-80% mx-auto -outline-width-0!",pt:{text:{class:"-fw-400!"}}},{default:()=>[""]}),h(Bubble,{content:"",loading:!1,placement:"start",avatarProps:{image:"/js-ai/images/avatar-robot.png"}},{header:()=>h("div",{class:"stack-h fw-500 text-red"},[""])}),h(Bubble,{content:"",loading:!1,placement:"start",avatarProps:{image:"/js-ai/images/avatar-master.png"}},{header:()=>h("div",{class:"stack-h fw-500 text-green"},[""])}),h(Bubble,{content:"",loading:!1,placement:"end",avatarProps:{image:"/js-ai/images/avatar-mou.png"}},{header:()=>h("div",{class:"stack-h fw-500"},[""])}),h(Bubble,{content:"",loading:!1,placement:"end",avatarProps:{icon:"pi pi-user"}}),h(Bubble,{content:"",loading:!1,placement:"start",avatarProps:{icon:"pi pi-face-smile"}},{header:()=>h("div",{class:"stack-h"},["Assistant"])}),h(Bubble,{content:"",loading:!1,placement:"start"}),h(Bubble,{content:"",loading:!1,placement:"end",avatarProps:{icon:"pi pi-user"}},{header:()=>h("div",{class:"stack-h"},["User"])}),h(Bubble,{content:"",loading:!1,placement:"end"})])}),h(script$3,{header:"",toggleable:!0,class:"my-1.5rem!"},{default:()=>h("div",{class:"stack-v"},[h(script$e,{fluid:!0,modelValue:r.value,"onUpdate:modelValue":u=>{r.value=u}}),h("div",{class:"stack-h"},[h(ToolButton,{icon:"pi pi-send",label:"",class:"ml-auto",command:()=>{var u;r.value.trim()!==""&&(e.add({severity:"info",summary:"",detail:` ${(u=r.value)==null?void 0:u.length} `,life:2e3}),r.value="")}}),h(ToolButton,{icon:"pi pi-play",label:"",command:()=>{n(r.value)}}),h(ToolButton,{icon:"pi pi-copy",label:"",command:()=>{var u,a;clipboard.copy(r.value),e.add({severity:"info",summary:"",detail:`${(u=r.value)==null?void 0:u.length} 
${r.value.slice(0,20)}${((a=r.value)==null?void 0:a.length)<=20?"":"..."}`,life:2e3})}}),h(ToolButton,{icon:"pi pi-trash",label:"",command:()=>{r.value=""}})])])}),h("div",{class:"grid grid-cols-2 gap-4"},[h(script$3,{header:"JsTool ",toggleable:!0,class:"my-1.5rem! col"},{default:()=>h("div",{class:"stack-v"},[h(ToolButton,{icon:"pi pi-copy",label:"",command:()=>{var u;clipboard.copy(`ReturnStart${t.last()}ReturnEnd`),e.add({severity:"info",summary:"",detail:` ${(u=r.value)==null?void 0:u.length} `,life:2e3})}}),JSON.stringify(t.history(),null,2)])}),h(script$3,{header:"JsTool ",toggleable:!0,class:"my-1.5rem! col"},{default:()=>h("div",{class:"stack-v"},[JSON.stringify(t.__KV__,null,2)])})]),h(AppFileView,{class:"w-full"}),h(script$3,{header:"",toggleable:!0,class:"my-1.5rem!"},{default:()=>h("div",{class:"grid grid-cols-3 gap-4"},[["url","key","model"].map((u,a)=>h(script$f,{variant:"on",class:"col-span-3 lg-col-span-1"},{default:()=>[h(script$g,{id:`${u}Input`,fluid:!0,key:`[${a}]${u}`,modelValue:o[u],"onUpdate:modelValue":s=>{o[u]=s},...u==="key"?{type:"password"}:{}}),h("label",{for:`${u}Input`},u)]}))])})]}}),suppliers=[{name:"DeepSeek",type:"ChatSupplier",desc:"DeepSeek",docUrl:"https://platform.deepseek.com/docs",baseUrl:"https://api.deepseek.com/v1",defaultModel:"deepseek-chat",chatUrl:"/chat/completions",modelsUrl:"/models"},{name:"ZhiPu",type:"ChatSupplier",desc:"",docUrl:"https://open.bigmodel.cn/dev/api",baseUrl:"https://open.bigmodel.cn/api/paas/v4",defaultModel:"glm-4",chatUrl:"/chat/completions",modelsUrl:"/models",models:[{id:"glm-4"},{id:"glm-4-air"},{id:"glm-4-flash"},{id:"glm-3-turbo"}]},{name:"Moonshot",type:"ChatSupplier",desc:"Moonshot",docUrl:"https://platform.moonshot.cn/docs/api-reference",baseUrl:"https://api.moonshot.cn/v1",defaultModel:"moonshot-v1-8k",chatUrl:"/chat/completions",modelsUrl:"/models",balanceUrl:"/users/me/balance",countTokenUrl:"/tokenizers/estimate-token-count"},{name:"OpenAI",type:"ChatSupplier",desc:"OpenAI",docUrl:"https://platform.openai.com/docs/api-reference/chat",baseUrl:"https://api.openai.com/v1",defaultModel:"gpt-3.5-turbo",chatUrl:"/chat/completions",modelsUrl:"/models",notes:`
    https://cookbook.openai.com/examples/how_to_count_tokens_with_tiktoken
    `.trim()},{name:"",type:"ChatSupplier",desc:"",docUrl:"",baseUrl:"https://api.132999.xyz/v1",defaultModel:"gpt-3.5-turbo",chatUrl:"/chat/completions",modelsUrl:"/models"}],functionSettings=[{name:"",desc:"",instruction:`
    
    JSON
    
    
    - name: 
    - desc: 
    - task: 
    - reqFormat: JSON
    - resFormat:  JSON Schema JSONJSON
    JSON
    
    - JSONmarkdown"\\\`\\\`\\\`json...\\\`\\\`\\\`"
    - JSON_msg
    `.trim(),requestExamples:["LaTeX()","","JavaScriptJS",""]},{name:"",desc:"",task:"texttypetexttype",reqFormat:"",resFormat:'[{"text": "1", "type": "1"}, {"text": "2", "type": "2"}, ...]',requestExamples:["","","","104","",""]},{name:"",desc:"",task:"",reqFormat:"(LaTeX)",resFormat:'{"steps": string[], "result": any, "_error"?: any, "_msg"?: }',requestExamples:["(|3^2-4^3|)"]},{name:"",desc:"",task:"",reqFormat:"",resFormat:'{ "answer": , "_msg":  }'}],default_format="RFC3986",formatters={RFC1738:e=>String(e).replace(/%20/g,"+"),RFC3986:e=>String(e)},RFC1738="RFC1738",is_array$1=Array.isArray,hex_table=(()=>{const e=[];for(let r=0;r<256;++r)e.push("%"+((r<16?"0":"")+r.toString(16)).toUpperCase());return e})(),limit=1024,encode$2=(e,r,t,o,n)=>{if(e.length===0)return e;let u=e;if(typeof e=="symbol"?u=Symbol.prototype.toString.call(e):typeof e!="string"&&(u=String(e)),t==="iso-8859-1")return escape(u).replace(/%u[0-9a-f]{4}/gi,function(s){return"%26%23"+parseInt(s.slice(2),16)+"%3B"});let a="";for(let s=0;s<u.length;s+=limit){const i=u.length>=limit?u.slice(s,s+limit):u,c=[];for(let d=0;d<i.length;++d){let l=i.charCodeAt(d);if(l===45||l===46||l===95||l===126||l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122||n===RFC1738&&(l===40||l===41)){c[c.length]=i.charAt(d);continue}if(l<128){c[c.length]=hex_table[l];continue}if(l<2048){c[c.length]=hex_table[192|l>>6]+hex_table[128|l&63];continue}if(l<55296||l>=57344){c[c.length]=hex_table[224|l>>12]+hex_table[128|l>>6&63]+hex_table[128|l&63];continue}d+=1,l=65536+((l&1023)<<10|i.charCodeAt(d)&1023),c[c.length]=hex_table[240|l>>18]+hex_table[128|l>>12&63]+hex_table[128|l>>6&63]+hex_table[128|l&63]}a+=c.join("")}return a};function is_buffer(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))}function maybe_map(e,r){if(is_array$1(e)){const t=[];for(let o=0;o<e.length;o+=1)t.push(r(e[o]));return t}return r(e)}const has$1=Object.prototype.hasOwnProperty,array_prefix_generators={brackets(e){return String(e)+"[]"},comma:"comma",indices(e,r){return String(e)+"["+r+"]"},repeat(e){return String(e)}},is_array=Array.isArray,push=Array.prototype.push,push_to_array=function(e,r){push.apply(e,is_array(r)?r:[r])},to_ISO=Date.prototype.toISOString,defaults={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:encode$2,encodeValuesOnly:!1,format:default_format,formatter:formatters[default_format],indices:!1,serializeDate(e){return to_ISO.call(e)},skipNulls:!1,strictNullHandling:!1};function is_non_nullish_primitive(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"}const sentinel={};function inner_stringify(e,r,t,o,n,u,a,s,i,c,d,l,g,m,p,b,y,w){let f=e,k=w,x=0,v=!1;for(;(k=k.get(sentinel))!==void 0&&!v;){const F=k.get(e);if(x+=1,typeof F<"u"){if(F===x)throw new RangeError("Cyclic object value");v=!0}typeof k.get(sentinel)>"u"&&(x=0)}if(typeof c=="function"?f=c(r,f):f instanceof Date?f=g==null?void 0:g(f):t==="comma"&&is_array(f)&&(f=maybe_map(f,function(F){return F instanceof Date?g==null?void 0:g(F):F})),f===null){if(u)return i&&!b?i(r,defaults.encoder,y,"key",m):r;f=""}if(is_non_nullish_primitive(f)||is_buffer(f)){if(i){const F=b?r:i(r,defaults.encoder,y,"key",m);return[(p==null?void 0:p(F))+"="+(p==null?void 0:p(i(f,defaults.encoder,y,"value",m)))]}return[(p==null?void 0:p(r))+"="+(p==null?void 0:p(String(f)))]}const C=[];if(typeof f>"u")return C;let S;if(t==="comma"&&is_array(f))b&&i&&(f=maybe_map(f,i)),S=[{value:f.length>0?f.join(",")||null:void 0}];else if(is_array(c))S=c;else{const F=Object.keys(f);S=d?F.sort(d):F}const R=s?String(r).replace(/\./g,"%2E"):String(r),A=o&&is_array(f)&&f.length===1?R+"[]":R;if(n&&is_array(f)&&f.length===0)return A+"[]";for(let F=0;F<S.length;++F){const E=S[F],$=typeof E=="object"&&typeof E.value<"u"?E.value:f[E];if(a&&$===null)continue;const I=l&&s?E.replace(/\./g,"%2E"):E,T=is_array(f)?typeof t=="function"?t(A,I):A:A+(l?"."+I:"["+I+"]");w.set(e,x);const D=new WeakMap;D.set(sentinel,w),push_to_array(C,inner_stringify($,T,t,o,n,u,a,s,t==="comma"&&b&&is_array(f)?null:i,c,d,l,g,m,p,b,y,D))}return C}function normalize_stringify_options(e=defaults){if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");const r=e.charset||defaults.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let t=default_format;if(typeof e.format<"u"){if(!has$1.call(formatters,e.format))throw new TypeError("Unknown format option provided.");t=e.format}const o=formatters[t];let n=defaults.filter;(typeof e.filter=="function"||is_array(e.filter))&&(n=e.filter);let u;if(e.arrayFormat&&e.arrayFormat in array_prefix_generators?u=e.arrayFormat:"indices"in e?u=e.indices?"indices":"repeat":u=defaults.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const a=typeof e.allowDots>"u"?e.encodeDotInKeys?!0:defaults.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:defaults.addQueryPrefix,allowDots:a,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:defaults.allowEmptyArrays,arrayFormat:u,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:defaults.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?defaults.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:defaults.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:defaults.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:defaults.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:defaults.encodeValuesOnly,filter:n,format:t,formatter:o,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:defaults.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:defaults.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:defaults.strictNullHandling}}function stringify(e,r={}){let t=e;const o=normalize_stringify_options(r);let n,u;typeof o.filter=="function"?(u=o.filter,t=u("",t)):is_array(o.filter)&&(u=o.filter,n=u);const a=[];if(typeof t!="object"||t===null)return"";const s=array_prefix_generators[o.arrayFormat],i=s==="comma"&&o.commaRoundTrip;n||(n=Object.keys(t)),o.sort&&n.sort(o.sort);const c=new WeakMap;for(let g=0;g<n.length;++g){const m=n[g];o.skipNulls&&t[m]===null||push_to_array(a,inner_stringify(t[m],m,s,i,o.allowEmptyArrays,o.strictNullHandling,o.skipNulls,o.encodeDotInKeys,o.encode?o.encoder:null,o.filter,o.sort,o.allowDots,o.serializeDate,o.format,o.formatter,o.encodeValuesOnly,o.charset,c))}const d=a.join(o.delimiter);let l=o.addQueryPrefix===!0?"?":"";return o.charsetSentinel&&(o.charset==="iso-8859-1"?l+="utf8=%26%2310003%3B&":l+="utf8=%E2%9C%93&"),d.length>0?l+d:""}const VERSION="4.77.0";let auto=!1,kind,fetch$1,FormData$1,File$1,ReadableStream$1,getMultipartRequestOptions,getDefaultAgent,fileFromPath,isFsReadStream;function setShims(e,r={auto:!1}){if(auto)throw new Error(`you must \`import 'openai/shims/${e.kind}'\` before importing anything else from openai`);if(kind)throw new Error(`can't \`import 'openai/shims/${e.kind}'\` after \`import 'openai/shims/${kind}'\``);auto=r.auto,kind=e.kind,fetch$1=e.fetch,FormData$1=e.FormData,File$1=e.File,ReadableStream$1=e.ReadableStream,getMultipartRequestOptions=e.getMultipartRequestOptions,getDefaultAgent=e.getDefaultAgent,fileFromPath=e.fileFromPath,isFsReadStream=e.isFsReadStream}class MultipartBody{constructor(r){this.body=r}get[Symbol.toStringTag](){return"MultipartBody"}}function getRuntime({manuallyImported:e}={}){const r=e?"You may need to use polyfills":"Add one of these imports before your first `import  from 'openai'`:\n- `import 'openai/shims/node'` (if you're running on Node)\n- `import 'openai/shims/web'` (otherwise)\n";let t,o,n,u;try{t=fetch,o=Request,n=Response,u=Headers}catch(a){throw new Error(`this environment is missing the following Web Fetch API type: ${a.message}. ${r}`)}return{kind:"web",fetch:t,Request:o,Response:n,Headers:u,FormData:typeof FormData<"u"?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${r}`)}},Blob:typeof Blob<"u"?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${r}`)}},File:typeof File<"u"?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${r}`)}},ReadableStream:typeof ReadableStream<"u"?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${r}`)}},getMultipartRequestOptions:async(a,s)=>({...s,body:new MultipartBody(a)}),getDefaultAgent:a=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/openai/openai-node#file-uploads")},isFsReadStream:a=>!1}}kind||setShims(getRuntime(),{auto:!0});class OpenAIError extends Error{}class APIError extends OpenAIError{constructor(r,t,o,n){super(`${APIError.makeMessage(r,t,o)}`),this.status=r,this.headers=n,this.request_id=n==null?void 0:n["x-request-id"],this.error=t;const u=t;this.code=u==null?void 0:u.code,this.param=u==null?void 0:u.param,this.type=u==null?void 0:u.type}static makeMessage(r,t,o){const n=t!=null&&t.message?typeof t.message=="string"?t.message:JSON.stringify(t.message):t?JSON.stringify(t):o;return r&&n?`${r} ${n}`:r?`${r} status code (no body)`:n||"(no status code or body)"}static generate(r,t,o,n){if(!r||!n)return new APIConnectionError({message:o,cause:castToError(t)});const u=t==null?void 0:t.error;return r===400?new BadRequestError(r,u,o,n):r===401?new AuthenticationError(r,u,o,n):r===403?new PermissionDeniedError(r,u,o,n):r===404?new NotFoundError(r,u,o,n):r===409?new ConflictError(r,u,o,n):r===422?new UnprocessableEntityError(r,u,o,n):r===429?new RateLimitError(r,u,o,n):r>=500?new InternalServerError(r,u,o,n):new APIError(r,u,o,n)}}class APIUserAbortError extends APIError{constructor({message:r}={}){super(void 0,void 0,r||"Request was aborted.",void 0)}}class APIConnectionError extends APIError{constructor({message:r,cause:t}){super(void 0,void 0,r||"Connection error.",void 0),t&&(this.cause=t)}}class APIConnectionTimeoutError extends APIConnectionError{constructor({message:r}={}){super({message:r??"Request timed out."})}}class BadRequestError extends APIError{}class AuthenticationError extends APIError{}class PermissionDeniedError extends APIError{}class NotFoundError extends APIError{}class ConflictError extends APIError{}class UnprocessableEntityError extends APIError{}class RateLimitError extends APIError{}class InternalServerError extends APIError{}class LengthFinishReasonError extends OpenAIError{constructor(){super("Could not parse response content as the length limit was reached")}}class ContentFilterFinishReasonError extends OpenAIError{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}class LineDecoder{constructor(){this.buffer=[],this.trailingCR=!1}decode(r){let t=this.decodeText(r);if(this.trailingCR&&(t="\r"+t,this.trailingCR=!1),t.endsWith("\r")&&(this.trailingCR=!0,t=t.slice(0,-1)),!t)return[];const o=LineDecoder.NEWLINE_CHARS.has(t[t.length-1]||"");let n=t.split(LineDecoder.NEWLINE_REGEXP);return o&&n.pop(),n.length===1&&!o?(this.buffer.push(n[0]),[]):(this.buffer.length>0&&(n=[this.buffer.join("")+n[0],...n.slice(1)],this.buffer=[]),o||(this.buffer=[n.pop()||""]),n)}decodeText(r){if(r==null)return"";if(typeof r=="string")return r;if(typeof Buffer<"u"){if(r instanceof Buffer)return r.toString();if(r instanceof Uint8Array)return Buffer.from(r).toString();throw new OpenAIError(`Unexpected: received non-Uint8Array (${r.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if(typeof TextDecoder<"u"){if(r instanceof Uint8Array||r instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(r);throw new OpenAIError(`Unexpected: received non-Uint8Array/ArrayBuffer (${r.constructor.name}) in a web platform. Please report this error.`)}throw new OpenAIError("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){if(!this.buffer.length&&!this.trailingCR)return[];const r=[this.buffer.join("")];return this.buffer=[],this.trailingCR=!1,r}}LineDecoder.NEWLINE_CHARS=new Set([`
`,"\r"]);LineDecoder.NEWLINE_REGEXP=/\r\n|[\n\r]/g;class Stream{constructor(r,t){this.iterator=r,this.controller=t}static fromSSEResponse(r,t){let o=!1;async function*n(){if(o)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");o=!0;let u=!1;try{for await(const a of _iterSSEMessages(r,t))if(!u){if(a.data.startsWith("[DONE]")){u=!0;continue}if(a.event===null){let s;try{s=JSON.parse(a.data)}catch(i){throw console.error("Could not parse message into JSON:",a.data),console.error("From chunk:",a.raw),i}if(s&&s.error)throw new APIError(void 0,s.error,void 0,void 0);yield s}else{let s;try{s=JSON.parse(a.data)}catch(i){throw console.error("Could not parse message into JSON:",a.data),console.error("From chunk:",a.raw),i}if(a.event=="error")throw new APIError(void 0,s.error,s.message,void 0);yield{event:a.event,data:s}}}u=!0}catch(a){if(a instanceof Error&&a.name==="AbortError")return;throw a}finally{u||t.abort()}}return new Stream(n,t)}static fromReadableStream(r,t){let o=!1;async function*n(){const a=new LineDecoder,s=readableStreamAsyncIterable(r);for await(const i of s)for(const c of a.decode(i))yield c;for(const i of a.flush())yield i}async function*u(){if(o)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");o=!0;let a=!1;try{for await(const s of n())a||s&&(yield JSON.parse(s));a=!0}catch(s){if(s instanceof Error&&s.name==="AbortError")return;throw s}finally{a||t.abort()}}return new Stream(u,t)}[Symbol.asyncIterator](){return this.iterator()}tee(){const r=[],t=[],o=this.iterator(),n=u=>({next:()=>{if(u.length===0){const a=o.next();r.push(a),t.push(a)}return u.shift()}});return[new Stream(()=>n(r),this.controller),new Stream(()=>n(t),this.controller)]}toReadableStream(){const r=this;let t;const o=new TextEncoder;return new ReadableStream$1({async start(){t=r[Symbol.asyncIterator]()},async pull(n){try{const{value:u,done:a}=await t.next();if(a)return n.close();const s=o.encode(JSON.stringify(u)+`
`);n.enqueue(s)}catch(u){n.error(u)}},async cancel(){var n;await((n=t.return)==null?void 0:n.call(t))}})}}async function*_iterSSEMessages(e,r){if(!e.body)throw r.abort(),new OpenAIError("Attempted to iterate over a response with no body");const t=new SSEDecoder,o=new LineDecoder,n=readableStreamAsyncIterable(e.body);for await(const u of iterSSEChunks(n))for(const a of o.decode(u)){const s=t.decode(a);s&&(yield s)}for(const u of o.flush()){const a=t.decode(u);a&&(yield a)}}async function*iterSSEChunks(e){let r=new Uint8Array;for await(const t of e){if(t==null)continue;const o=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?new TextEncoder().encode(t):t;let n=new Uint8Array(r.length+o.length);n.set(r),n.set(o,r.length),r=n;let u;for(;(u=findDoubleNewlineIndex(r))!==-1;)yield r.slice(0,u),r=r.slice(u)}r.length>0&&(yield r)}function findDoubleNewlineIndex(e){for(let o=0;o<e.length-2;o++){if(e[o]===10&&e[o+1]===10||e[o]===13&&e[o+1]===13)return o+2;if(e[o]===13&&e[o+1]===10&&o+3<e.length&&e[o+2]===13&&e[o+3]===10)return o+4}return-1}class SSEDecoder{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(r){if(r.endsWith("\r")&&(r=r.substring(0,r.length-1)),!r){if(!this.event&&!this.data.length)return null;const u={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],u}if(this.chunks.push(r),r.startsWith(":"))return null;let[t,o,n]=partition(r,":");return n.startsWith(" ")&&(n=n.substring(1)),t==="event"?this.event=n:t==="data"&&this.data.push(n),null}}function partition(e,r){const t=e.indexOf(r);return t!==-1?[e.substring(0,t),r,e.substring(t+r.length)]:[e,"",""]}function readableStreamAsyncIterable(e){if(e[Symbol.asyncIterator])return e;const r=e.getReader();return{async next(){try{const t=await r.read();return t!=null&&t.done&&r.releaseLock(),t}catch(t){throw r.releaseLock(),t}},async return(){const t=r.cancel();return r.releaseLock(),await t,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}const isResponseLike=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function",isFileLike=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&isBlobLike(e),isBlobLike=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",isUploadable=e=>isFileLike(e)||isResponseLike(e)||isFsReadStream(e);async function toFile(e,r,t){var n;if(e=await e,isFileLike(e))return e;if(isResponseLike(e)){const u=await e.blob();r||(r=new URL(e.url).pathname.split(/[\\/]/).pop()??"unknown_file");const a=isBlobLike(u)?[await u.arrayBuffer()]:[u];return new File$1(a,r,t)}const o=await getBytes(e);if(r||(r=getName(e)??"unknown_file"),!(t!=null&&t.type)){const u=(n=o[0])==null?void 0:n.type;typeof u=="string"&&(t={...t,type:u})}return new File$1(o,r,t)}async function getBytes(e){var t;let r=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)r.push(e);else if(isBlobLike(e))r.push(await e.arrayBuffer());else if(isAsyncIterableIterator(e))for await(const o of e)r.push(o);else throw new Error(`Unexpected data type: ${typeof e}; constructor: ${(t=e==null?void 0:e.constructor)==null?void 0:t.name}; props: ${propsForError(e)}`);return r}function propsForError(e){return`[${Object.getOwnPropertyNames(e).map(t=>`"${t}"`).join(", ")}]`}function getName(e){var r;return getStringFromMaybeBuffer(e.name)||getStringFromMaybeBuffer(e.filename)||((r=getStringFromMaybeBuffer(e.path))==null?void 0:r.split(/[\\/]/).pop())}const getStringFromMaybeBuffer=e=>{if(typeof e=="string")return e;if(typeof Buffer<"u"&&e instanceof Buffer)return String(e)},isAsyncIterableIterator=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function",isMultipartBody=e=>e&&typeof e=="object"&&e.body&&e[Symbol.toStringTag]==="MultipartBody",multipartFormRequestOptions=async e=>{const r=await createForm(e.body);return getMultipartRequestOptions(r,e)},createForm=async e=>{const r=new FormData$1;return await Promise.all(Object.entries(e||{}).map(([t,o])=>addFormValue(r,t,o))),r},addFormValue=async(e,r,t)=>{if(t!==void 0){if(t==null)throw new TypeError(`Received null for "${r}"; to pass null in FormData, you must use the string 'null'`);if(typeof t=="string"||typeof t=="number"||typeof t=="boolean")e.append(r,String(t));else if(isUploadable(t)){const o=await toFile(t);e.append(r,o)}else if(Array.isArray(t))await Promise.all(t.map(o=>addFormValue(e,r+"[]",o)));else if(typeof t=="object")await Promise.all(Object.entries(t).map(([o,n])=>addFormValue(e,`${r}[${o}]`,n)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${t} instead`)}};var define_process_env_default={},__classPrivateFieldSet$3=function(e,r,t,o,n){if(typeof r=="function"?e!==r||!n:!r.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r.set(e,t),t},__classPrivateFieldGet$4=function(e,r,t,o){if(t==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof r=="function"?e!==r||!o:!r.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?o:t==="a"?o.call(e):o?o.value:r.get(e)},_AbstractPage_client;async function defaultParseResponse(e){const{response:r}=e;if(e.options.stream)return debug("response",r.status,r.url,r.headers,r.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(r,e.controller):Stream.fromSSEResponse(r,e.controller);if(r.status===204)return null;if(e.options.__binaryResponse)return r;const t=r.headers.get("content-type");if((t==null?void 0:t.includes("application/json"))||(t==null?void 0:t.includes("application/vnd.api+json"))){const u=await r.json();return debug("response",r.status,r.url,r.headers,u),_addRequestID(u,r)}const n=await r.text();return debug("response",r.status,r.url,r.headers,n),n}function _addRequestID(e,r){return!e||typeof e!="object"||Array.isArray(e)?e:Object.defineProperty(e,"_request_id",{value:r.headers.get("x-request-id"),enumerable:!1})}class APIPromise extends Promise{constructor(r,t=defaultParseResponse){super(o=>{o(null)}),this.responsePromise=r,this.parseResponse=t}_thenUnwrap(r){return new APIPromise(this.responsePromise,async t=>_addRequestID(r(await this.parseResponse(t),t),t.response))}asResponse(){return this.responsePromise.then(r=>r.response)}async withResponse(){const[r,t]=await Promise.all([this.parse(),this.asResponse()]);return{data:r,response:t,request_id:t.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(r,t){return this.parse().then(r,t)}catch(r){return this.parse().catch(r)}finally(r){return this.parse().finally(r)}}class APIClient{constructor({baseURL:r,maxRetries:t=2,timeout:o=6e5,httpAgent:n,fetch:u}){this.baseURL=r,this.maxRetries=validatePositiveInteger("maxRetries",t),this.timeout=validatePositiveInteger("timeout",o),this.httpAgent=n,this.fetch=u??fetch$1}authHeaders(r){return{}}defaultHeaders(r){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...getPlatformHeaders(),...this.authHeaders(r)}}validateHeaders(r,t){}defaultIdempotencyKey(){return`stainless-node-retry-${uuid4()}`}get(r,t){return this.methodRequest("get",r,t)}post(r,t){return this.methodRequest("post",r,t)}patch(r,t){return this.methodRequest("patch",r,t)}put(r,t){return this.methodRequest("put",r,t)}delete(r,t){return this.methodRequest("delete",r,t)}methodRequest(r,t,o){return this.request(Promise.resolve(o).then(async n=>{const u=n&&isBlobLike(n==null?void 0:n.body)?new DataView(await n.body.arrayBuffer()):(n==null?void 0:n.body)instanceof DataView?n.body:(n==null?void 0:n.body)instanceof ArrayBuffer?new DataView(n.body):n&&ArrayBuffer.isView(n==null?void 0:n.body)?new DataView(n.body.buffer):n==null?void 0:n.body;return{method:r,path:t,...n,body:u}}))}getAPIList(r,t,o){return this.requestAPIList(t,{method:"get",path:r,...o})}calculateContentLength(r){if(typeof r=="string"){if(typeof Buffer<"u")return Buffer.byteLength(r,"utf8").toString();if(typeof TextEncoder<"u")return new TextEncoder().encode(r).length.toString()}else if(ArrayBuffer.isView(r))return r.byteLength.toString();return null}buildRequest(r,{retryCount:t=0}={}){var b;const{method:o,path:n,query:u,headers:a={}}=r,s=ArrayBuffer.isView(r.body)||r.__binaryRequest&&typeof r.body=="string"?r.body:isMultipartBody(r.body)?r.body.body:r.body?JSON.stringify(r.body,null,2):null,i=this.calculateContentLength(s),c=this.buildURL(n,u);"timeout"in r&&validatePositiveInteger("timeout",r.timeout);const d=r.timeout??this.timeout,l=r.httpAgent??this.httpAgent??getDefaultAgent(c),g=d+1e3;typeof((b=l==null?void 0:l.options)==null?void 0:b.timeout)=="number"&&g>(l.options.timeout??0)&&(l.options.timeout=g),this.idempotencyHeader&&o!=="get"&&(r.idempotencyKey||(r.idempotencyKey=this.defaultIdempotencyKey()),a[this.idempotencyHeader]=r.idempotencyKey);const m=this.buildHeaders({options:r,headers:a,contentLength:i,retryCount:t});return{req:{method:o,...s&&{body:s},headers:m,...l&&{agent:l},signal:r.signal??null},url:c,timeout:d}}buildHeaders({options:r,headers:t,contentLength:o,retryCount:n}){const u={};o&&(u["content-length"]=o);const a=this.defaultHeaders(r);return applyHeadersMut(u,a),applyHeadersMut(u,t),isMultipartBody(r.body)&&kind!=="node"&&delete u["content-type"],getHeader(a,"x-stainless-retry-count")===void 0&&getHeader(t,"x-stainless-retry-count")===void 0&&(u["x-stainless-retry-count"]=String(n)),this.validateHeaders(u,t),u}async prepareOptions(r){}async prepareRequest(r,{url:t,options:o}){}parseHeaders(r){return r?Symbol.iterator in r?Object.fromEntries(Array.from(r).map(t=>[...t])):{...r}:{}}makeStatusError(r,t,o,n){return APIError.generate(r,t,o,n)}request(r,t=null){return new APIPromise(this.makeRequest(r,t))}async makeRequest(r,t){var l,g;const o=await r,n=o.maxRetries??this.maxRetries;t==null&&(t=n),await this.prepareOptions(o);const{req:u,url:a,timeout:s}=this.buildRequest(o,{retryCount:n-t});if(await this.prepareRequest(u,{url:a,options:o}),debug("request",a,o,u.headers),(l=o.signal)!=null&&l.aborted)throw new APIUserAbortError;const i=new AbortController,c=await this.fetchWithTimeout(a,u,s,i).catch(castToError);if(c instanceof Error){if((g=o.signal)!=null&&g.aborted)throw new APIUserAbortError;if(t)return this.retryRequest(o,t);throw c.name==="AbortError"?new APIConnectionTimeoutError:new APIConnectionError({cause:c})}const d=createResponseHeaders(c.headers);if(!c.ok){if(t&&this.shouldRetry(c)){const f=`retrying, ${t} attempts remaining`;return debug(`response (error; ${f})`,c.status,a,d),this.retryRequest(o,t,d)}const m=await c.text().catch(f=>castToError(f).message),p=safeJSON(m),b=p?void 0:m;throw debug(`response (error; ${t?"(error; no more retries left)":"(error; not retryable)"})`,c.status,a,d,b),this.makeStatusError(c.status,p,b,d)}return{response:c,options:o,controller:i}}requestAPIList(r,t){const o=this.makeRequest(t,null);return new PagePromise(this,o,r)}buildURL(r,t){const o=isAbsoluteURL(r)?new URL(r):new URL(this.baseURL+(this.baseURL.endsWith("/")&&r.startsWith("/")?r.slice(1):r)),n=this.defaultQuery();return isEmptyObj(n)||(t={...n,...t}),typeof t=="object"&&t&&!Array.isArray(t)&&(o.search=this.stringifyQuery(t)),o.toString()}stringifyQuery(r){return Object.entries(r).filter(([t,o])=>typeof o<"u").map(([t,o])=>{if(typeof o=="string"||typeof o=="number"||typeof o=="boolean")return`${encodeURIComponent(t)}=${encodeURIComponent(o)}`;if(o===null)return`${encodeURIComponent(t)}=`;throw new OpenAIError(`Cannot stringify type ${typeof o}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}async fetchWithTimeout(r,t,o,n){const{signal:u,...a}=t||{};u&&u.addEventListener("abort",()=>n.abort());const s=setTimeout(()=>n.abort(),o);return this.fetch.call(void 0,r,{signal:n.signal,...a}).finally(()=>{clearTimeout(s)})}shouldRetry(r){const t=r.headers.get("x-should-retry");return t==="true"?!0:t==="false"?!1:r.status===408||r.status===409||r.status===429||r.status>=500}async retryRequest(r,t,o){let n;const u=o==null?void 0:o["retry-after-ms"];if(u){const s=parseFloat(u);Number.isNaN(s)||(n=s)}const a=o==null?void 0:o["retry-after"];if(a&&!n){const s=parseFloat(a);Number.isNaN(s)?n=Date.parse(a)-Date.now():n=s*1e3}if(!(n&&0<=n&&n<60*1e3)){const s=r.maxRetries??this.maxRetries;n=this.calculateDefaultRetryTimeoutMillis(t,s)}return await sleep(n),this.makeRequest(r,t-1)}calculateDefaultRetryTimeoutMillis(r,t){const u=t-r,a=Math.min(.5*Math.pow(2,u),8),s=1-Math.random()*.25;return a*s*1e3}getUserAgent(){return`${this.constructor.name}/JS ${VERSION}`}}class AbstractPage{constructor(r,t,o,n){_AbstractPage_client.set(this,void 0),__classPrivateFieldSet$3(this,_AbstractPage_client,r),this.options=n,this.response=t,this.body=o}hasNextPage(){return this.getPaginatedItems().length?this.nextPageInfo()!=null:!1}async getNextPage(){const r=this.nextPageInfo();if(!r)throw new OpenAIError("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");const t={...this.options};if("params"in r&&typeof t.query=="object")t.query={...t.query,...r.params};else if("url"in r){const o=[...Object.entries(t.query||{}),...r.url.searchParams.entries()];for(const[n,u]of o)r.url.searchParams.set(n,u);t.query=void 0,t.path=r.url.toString()}return await __classPrivateFieldGet$4(this,_AbstractPage_client,"f").requestAPIList(this.constructor,t)}async*iterPages(){let r=this;for(yield r;r.hasNextPage();)r=await r.getNextPage(),yield r}async*[(_AbstractPage_client=new WeakMap,Symbol.asyncIterator)](){for await(const r of this.iterPages())for(const t of r.getPaginatedItems())yield t}}class PagePromise extends APIPromise{constructor(r,t,o){super(t,async n=>new o(r,n.response,await defaultParseResponse(n),n.options))}async*[Symbol.asyncIterator](){const r=await this;for await(const t of r)yield t}}const createResponseHeaders=e=>new Proxy(Object.fromEntries(e.entries()),{get(r,t){const o=t.toString();return r[o.toLowerCase()]||r[o]}}),requestOptionsKeys={method:!0,path:!0,query:!0,body:!0,headers:!0,maxRetries:!0,stream:!0,timeout:!0,httpAgent:!0,signal:!0,idempotencyKey:!0,__binaryRequest:!0,__binaryResponse:!0,__streamClass:!0},isRequestOptions=e=>typeof e=="object"&&e!==null&&!isEmptyObj(e)&&Object.keys(e).every(r=>hasOwn(requestOptionsKeys,r)),getPlatformProperties=()=>{var r;if(typeof Deno<"u"&&Deno.build!=null)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":VERSION,"X-Stainless-OS":normalizePlatform(Deno.build.os),"X-Stainless-Arch":normalizeArch(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:((r=Deno.version)==null?void 0:r.deno)??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":VERSION,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":VERSION,"X-Stainless-OS":normalizePlatform(process.platform),"X-Stainless-Arch":normalizeArch(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const e=getBrowserInfo();return e?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":VERSION,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${e.browser}`,"X-Stainless-Runtime-Version":e.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":VERSION,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function getBrowserInfo(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:r,pattern:t}of e){const o=t.exec(navigator.userAgent);if(o){const n=o[1]||0,u=o[2]||0,a=o[3]||0;return{browser:r,version:`${n}.${u}.${a}`}}}return null}const normalizeArch=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",normalizePlatform=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let _platformHeaders;const getPlatformHeaders=()=>_platformHeaders??(_platformHeaders=getPlatformProperties()),safeJSON=e=>{try{return JSON.parse(e)}catch{return}},startsWithSchemeRegexp=/^[a-z][a-z0-9+.-]*:/i,isAbsoluteURL=e=>startsWithSchemeRegexp.test(e),sleep=e=>new Promise(r=>setTimeout(r,e)),validatePositiveInteger=(e,r)=>{if(typeof r!="number"||!Number.isInteger(r))throw new OpenAIError(`${e} must be an integer`);if(r<0)throw new OpenAIError(`${e} must be a positive integer`);return r},castToError=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null)try{return new Error(JSON.stringify(e))}catch{}return new Error(e)},readEnv=e=>{var r,t,o,n;if(typeof process<"u")return((r=define_process_env_default==null?void 0:define_process_env_default[e])==null?void 0:r.trim())??void 0;if(typeof Deno<"u")return(n=(o=(t=Deno.env)==null?void 0:t.get)==null?void 0:o.call(t,e))==null?void 0:n.trim()};function isEmptyObj(e){if(!e)return!0;for(const r in e)return!1;return!0}function hasOwn(e,r){return Object.prototype.hasOwnProperty.call(e,r)}function applyHeadersMut(e,r){for(const t in r){if(!hasOwn(r,t))continue;const o=t.toLowerCase();if(!o)continue;const n=r[t];n===null?delete e[o]:n!==void 0&&(e[o]=n)}}function debug(e,...r){typeof process<"u"&&(define_process_env_default==null?void 0:define_process_env_default.DEBUG)==="true"&&console.log(`OpenAI:DEBUG:${e}`,...r)}const uuid4=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const r=Math.random()*16|0;return(e==="x"?r:r&3|8).toString(16)}),isRunningInBrowser=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u",isHeadersProtocol=e=>typeof(e==null?void 0:e.get)=="function",getHeader=(e,r)=>{var o;const t=r.toLowerCase();if(isHeadersProtocol(e)){const n=((o=r[0])==null?void 0:o.toUpperCase())+r.substring(1).replace(/([^\w])(\w)/g,(u,a,s)=>a+s.toUpperCase());for(const u of[r,t,r.toUpperCase(),n]){const a=e.get(u);if(a)return a}}for(const[n,u]of Object.entries(e))if(n.toLowerCase()===t)return Array.isArray(u)?(u.length<=1||console.warn(`Received ${u.length} entries for the ${r} header, using the first entry.`),u[0]):u};function isObj(e){return e!=null&&typeof e=="object"&&!Array.isArray(e)}class Page extends AbstractPage{constructor(r,t,o,n){super(r,t,o,n),this.data=o.data||[],this.object=o.object}getPaginatedItems(){return this.data??[]}nextPageParams(){return null}nextPageInfo(){return null}}class CursorPage extends AbstractPage{constructor(r,t,o,n){super(r,t,o,n),this.data=o.data||[]}getPaginatedItems(){return this.data??[]}nextPageParams(){const r=this.nextPageInfo();if(!r)return null;if("params"in r)return r.params;const t=Object.fromEntries(r.url.searchParams);return Object.keys(t).length?t:null}nextPageInfo(){var o;const r=this.getPaginatedItems();if(!r.length)return null;const t=(o=r[r.length-1])==null?void 0:o.id;return t?{params:{after:t}}:null}}class APIResource{constructor(r){this._client=r}}let Completions$2=class extends APIResource{create(r,t){return this._client.post("/chat/completions",{body:r,...t,stream:r.stream??!1})}},Chat$1=class extends APIResource{constructor(){super(...arguments),this.completions=new Completions$2(this._client)}};Chat$1.Completions=Completions$2;class Speech extends APIResource{create(r,t){return this._client.post("/audio/speech",{body:r,...t,__binaryResponse:!0})}}class Transcriptions extends APIResource{create(r,t){return this._client.post("/audio/transcriptions",multipartFormRequestOptions({body:r,...t}))}}class Translations extends APIResource{create(r,t){return this._client.post("/audio/translations",multipartFormRequestOptions({body:r,...t}))}}class Audio extends APIResource{constructor(){super(...arguments),this.transcriptions=new Transcriptions(this._client),this.translations=new Translations(this._client),this.speech=new Speech(this._client)}}Audio.Transcriptions=Transcriptions;Audio.Translations=Translations;Audio.Speech=Speech;class Batches extends APIResource{create(r,t){return this._client.post("/batches",{body:r,...t})}retrieve(r,t){return this._client.get(`/batches/${r}`,t)}list(r={},t){return isRequestOptions(r)?this.list({},r):this._client.getAPIList("/batches",BatchesPage,{query:r,...t})}cancel(r,t){return this._client.post(`/batches/${r}/cancel`,t)}}class BatchesPage extends CursorPage{}Batches.BatchesPage=BatchesPage;class Assistants extends APIResource{create(r,t){return this._client.post("/assistants",{body:r,...t,headers:{"OpenAI-Beta":"assistants=v2",...t==null?void 0:t.headers}})}retrieve(r,t){return this._client.get(`/assistants/${r}`,{...t,headers:{"OpenAI-Beta":"assistants=v2",...t==null?void 0:t.headers}})}update(r,t,o){return this._client.post(`/assistants/${r}`,{body:t,...o,headers:{"OpenAI-Beta":"assistants=v2",...o==null?void 0:o.headers}})}list(r={},t){return isRequestOptions(r)?this.list({},r):this._client.getAPIList("/assistants",AssistantsPage,{query:r,...t,headers:{"OpenAI-Beta":"assistants=v2",...t==null?void 0:t.headers}})}del(r,t){return this._client.delete(`/assistants/${r}`,{...t,headers:{"OpenAI-Beta":"assistants=v2",...t==null?void 0:t.headers}})}}class AssistantsPage extends CursorPage{}Assistants.AssistantsPage=AssistantsPage;function isRunnableFunctionWithParse(e){return typeof e.parse=="function"}const isAssistantMessage=e=>(e==null?void 0:e.role)==="assistant",isFunctionMessage=e=>(e==null?void 0:e.role)==="function",isToolMessage=e=>(e==null?void 0:e.role)==="tool";var __classPrivateFieldSet$2=function(e,r,t,o,n){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!n)throw new TypeError("Private accessor was defined without a setter");if(typeof r=="function"?e!==r||!n:!r.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?n.call(e,t):n?n.value=t:r.set(e,t),t},__classPrivateFieldGet$3=function(e,r,t,o){if(t==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof r=="function"?e!==r||!o:!r.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?o:t==="a"?o.call(e):o?o.value:r.get(e)},_EventStream_instances,_EventStream_connectedPromise,_EventStream_resolveConnectedPromise,_EventStream_rejectConnectedPromise,_EventStream_endPromise,_EventStream_resolveEndPromise,_EventStream_rejectEndPromise,_EventStream_listeners,_EventStream_ended,_EventStream_errored,_EventStream_aborted,_EventStream_catchingPromiseCreated,_EventStream_handleError;class EventStream{constructor(){_EventStream_instances.add(this),this.controller=new AbortController,_EventStream_connectedPromise.set(this,void 0),_EventStream_resolveConnectedPromise.set(this,()=>{}),_EventStream_rejectConnectedPromise.set(this,()=>{}),_EventStream_endPromise.set(this,void 0),_EventStream_resolveEndPromise.set(this,()=>{}),_EventStream_rejectEndPromise.set(this,()=>{}),_EventStream_listeners.set(this,{}),_EventStream_ended.set(this,!1),_EventStream_errored.set(this,!1),_EventStream_aborted.set(this,!1),_EventStream_catchingPromiseCreated.set(this,!1),__classPrivateFieldSet$2(this,_EventStream_connectedPromise,new Promise((r,t)=>{__classPrivateFieldSet$2(this,_EventStream_resolveConnectedPromise,r,"f"),__classPrivateFieldSet$2(this,_EventStream_rejectConnectedPromise,t,"f")}),"f"),__classPrivateFieldSet$2(this,_EventStream_endPromise,new Promise((r,t)=>{__classPrivateFieldSet$2(this,_EventStream_resolveEndPromise,r,"f"),__classPrivateFieldSet$2(this,_EventStream_rejectEndPromise,t,"f")}),"f"),__classPrivateFieldGet$3(this,_EventStream_connectedPromise,"f").catch(()=>{}),__classPrivateFieldGet$3(this,_EventStream_endPromise,"f").catch(()=>{})}_run(r){setTimeout(()=>{r().then(()=>{this._emitFinal(),this._emit("end")},__classPrivateFieldGet$3(this,_EventStream_instances,"m",_EventStream_handleError).bind(this))},0)}_connected(){this.ended||(__classPrivateFieldGet$3(this,_EventStream_resolveConnectedPromise,"f").call(this),this._emit("connect"))}get ended(){return __classPrivateFieldGet$3(this,_EventStream_ended,"f")}get errored(){return __classPrivateFieldGet$3(this,_EventStream_errored,"f")}get aborted(){return __classPrivateFieldGet$3(this,_EventStream_aborted,"f")}abort(){this.controller.abort()}on(r,t){return(__classPrivateFieldGet$3(this,_EventStream_listeners,"f")[r]||(__classPrivateFieldGet$3(this,_EventStream_listeners,"f")[r]=[])).push({listener:t}),this}off(r,t){const o=__classPrivateFieldGet$3(this,_EventStream_listeners,"f")[r];if(!o)return this;const n=o.findIndex(u=>u.listener===t);return n>=0&&o.splice(n,1),this}once(r,t){return(__classPrivateFieldGet$3(this,_EventStream_listeners,"f")[r]||(__classPrivateFieldGet$3(this,_EventStream_listeners,"f")[r]=[])).push({listener:t,once:!0}),this}emitted(r){return new Promise((t,o)=>{__classPrivateFieldSet$2(this,_EventStream_catchingPromiseCreated,!0,"f"),r!=="error"&&this.once("error",o),this.once(r,t)})}async done(){__classPrivateFieldSet$2(this,_EventStream_catchingPromiseCreated,!0,"f"),await __classPrivateFieldGet$3(this,_EventStream_endPromise,"f")}_emit(r,...t){if(__classPrivateFieldGet$3(this,_EventStream_ended,"f"))return;r==="end"&&(__classPrivateFieldSet$2(this,_EventStream_ended,!0,"f"),__classPrivateFieldGet$3(this,_EventStream_resolveEndPromise,"f").call(this));const o=__classPrivateFieldGet$3(this,_EventStream_listeners,"f")[r];if(o&&(__classPrivateFieldGet$3(this,_EventStream_listeners,"f")[r]=o.filter(n=>!n.once),o.forEach(({listener:n})=>n(...t))),r==="abort"){const n=t[0];!__classPrivateFieldGet$3(this,_EventStream_catchingPromiseCreated,"f")&&!(o!=null&&o.length)&&Promise.reject(n),__classPrivateFieldGet$3(this,_EventStream_rejectConnectedPromise,"f").call(this,n),__classPrivateFieldGet$3(this,_EventStream_rejectEndPromise,"f").call(this,n),this._emit("end");return}if(r==="error"){const n=t[0];!__classPrivateFieldGet$3(this,_EventStream_catchingPromiseCreated,"f")&&!(o!=null&&o.length)&&Promise.reject(n),__classPrivateFieldGet$3(this,_EventStream_rejectConnectedPromise,"f").call(this,n),__classPrivateFieldGet$3(this,_EventStream_rejectEndPromise,"f").call(this,n),this._emit("end")}}_emitFinal(){}}_EventStream_connectedPromise=new WeakMap,_EventStream_resolveConnectedPromise=new WeakMap,_EventStream_rejectConnectedPromise=new WeakMap,_EventStream_endPromise=new WeakMap,_EventStream_resolveEndPromise=new WeakMap,_EventStream_rejectEndPromise=new WeakMap,_EventStream_listeners=new WeakMap,_EventStream_ended=new WeakMap,_EventStream_errored=new WeakMap,_EventStream_aborted=new WeakMap,_EventStream_catchingPromiseCreated=new WeakMap,_EventStream_instances=new WeakSet,_EventStream_handleError=function e(r){if(__classPrivateFieldSet$2(this,_EventStream_errored,!0,"f"),r instanceof Error&&r.name==="AbortError"&&(r=new APIUserAbortError),r instanceof APIUserAbortError)return __classPrivateFieldSet$2(this,_EventStream_aborted,!0,"f"),this._emit("abort",r);if(r instanceof OpenAIError)return this._emit("error",r);if(r instanceof Error){const t=new OpenAIError(r.message);return t.cause=r,this._emit("error",t)}return this._emit("error",new OpenAIError(String(r)))};function isAutoParsableResponseFormat(e){return(e==null?void 0:e.$brand)==="auto-parseable-response-format"}function isAutoParsableTool(e){return(e==null?void 0:e.$brand)==="auto-parseable-tool"}function maybeParseChatCompletion(e,r){return!r||!hasAutoParseableInput(r)?{...e,choices:e.choices.map(t=>({...t,message:{...t.message,parsed:null,tool_calls:t.message.tool_calls??[]}}))}:parseChatCompletion(e,r)}function parseChatCompletion(e,r){const t=e.choices.map(o=>{var n;if(o.finish_reason==="length")throw new LengthFinishReasonError;if(o.finish_reason==="content_filter")throw new ContentFilterFinishReasonError;return{...o,message:{...o.message,tool_calls:((n=o.message.tool_calls)==null?void 0:n.map(u=>parseToolCall(r,u)))??[],parsed:o.message.content&&!o.message.refusal?parseResponseFormat(r,o.message.content):null}}});return{...e,choices:t}}function parseResponseFormat(e,r){var t,o;return((t=e.response_format)==null?void 0:t.type)!=="json_schema"?null:((o=e.response_format)==null?void 0:o.type)==="json_schema"?"$parseRaw"in e.response_format?e.response_format.$parseRaw(r):JSON.parse(r):null}function parseToolCall(e,r){var o;const t=(o=e.tools)==null?void 0:o.find(n=>{var u;return((u=n.function)==null?void 0:u.name)===r.function.name});return{...r,function:{...r.function,parsed_arguments:isAutoParsableTool(t)?t.$parseRaw(r.function.arguments):t!=null&&t.function.strict?JSON.parse(r.function.arguments):null}}}function shouldParseToolCall(e,r){var o;if(!e)return!1;const t=(o=e.tools)==null?void 0:o.find(n=>{var u;return((u=n.function)==null?void 0:u.name)===r.function.name});return isAutoParsableTool(t)||(t==null?void 0:t.function.strict)||!1}function hasAutoParseableInput(e){var r;return isAutoParsableResponseFormat(e.response_format)?!0:((r=e.tools)==null?void 0:r.some(t=>isAutoParsableTool(t)||t.type==="function"&&t.function.strict===!0))??!1}function validateInputTools(e){for(const r of e??[]){if(r.type!=="function")throw new OpenAIError(`Currently only \`function\` tool types support auto-parsing; Received \`${r.type}\``);if(r.function.strict!==!0)throw new OpenAIError(`The \`${r.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}var __classPrivateFieldGet$2=function(e,r,t,o){if(t==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof r=="function"?e!==r||!o:!r.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?o:t==="a"?o.call(e):o?o.value:r.get(e)},_AbstractChatCompletionRunner_instances,_AbstractChatCompletionRunner_getFinalContent,_AbstractChatCompletionRunner_getFinalMessage,_AbstractChatCompletionRunner_getFinalFunctionCall,_AbstractChatCompletionRunner_getFinalFunctionCallResult,_AbstractChatCompletionRunner_calculateTotalUsage,_AbstractChatCompletionRunner_validateParams,_AbstractChatCompletionRunner_stringifyFunctionCallResult;const DEFAULT_MAX_CHAT_COMPLETIONS=10;class AbstractChatCompletionRunner extends EventStream{constructor(){super(...arguments),_AbstractChatCompletionRunner_instances.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(r){var o;this._chatCompletions.push(r),this._emit("chatCompletion",r);const t=(o=r.choices[0])==null?void 0:o.message;return t&&this._addMessage(t),r}_addMessage(r,t=!0){if("content"in r||(r.content=null),this.messages.push(r),t){if(this._emit("message",r),(isFunctionMessage(r)||isToolMessage(r))&&r.content)this._emit("functionCallResult",r.content);else if(isAssistantMessage(r)&&r.function_call)this._emit("functionCall",r.function_call);else if(isAssistantMessage(r)&&r.tool_calls)for(const o of r.tool_calls)o.type==="function"&&this._emit("functionCall",o.function)}}async finalChatCompletion(){await this.done();const r=this._chatCompletions[this._chatCompletions.length-1];if(!r)throw new OpenAIError("stream ended without producing a ChatCompletion");return r}async finalContent(){return await this.done(),__classPrivateFieldGet$2(this,_AbstractChatCompletionRunner_instances,"m",_AbstractChatCompletionRunner_getFinalContent).call(this)}async finalMessage(){return await this.done(),__classPrivateFieldGet$2(this,_AbstractChatCompletionRunner_instances,"m",_AbstractChatCompletionRunner_getFinalMessage).call(this)}async finalFunctionCall(){return await this.done(),__classPrivateFieldGet$2(this,_AbstractChatCompletionRunner_instances,"m",_AbstractChatCompletionRunner_getFinalFunctionCall).call(this)}async finalFunctionCallResult(){return await this.done(),__classPrivateFieldGet$2(this,_AbstractChatCompletionRunner_instances,"m",_AbstractChatCompletionRunner_getFinalFunctionCallResult).call(this)}async totalUsage(){return await this.done(),__classPrivateFieldGet$2(this,_AbstractChatCompletionRunner_instances,"m",_AbstractChatCompletionRunner_calculateTotalUsage).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const r=this._chatCompletions[this._chatCompletions.length-1];r&&this._emit("finalChatCompletion",r);const t=__classPrivateFieldGet$2(this,_AbstractChatCompletionRunner_instances,"m",_AbstractChatCompletionRunner_getFinalMessage).call(this);t&&this._emit("finalMessage",t);const o=__classPrivateFieldGet$2(this,_AbstractChatCompletionRunner_instances,"m",_AbstractChatCompletionRunner_getFinalContent).call(this);o&&this._emit("finalContent",o);const n=__classPrivateFieldGet$2(this,_AbstractChatCompletionRunner_instances,"m",_AbstractChatCompletionRunner_getFinalFunctionCall).call(this);n&&this._emit("finalFunctionCall",n);const u=__classPrivateFieldGet$2(this,_AbstractChatCompletionRunner_instances,"m",_AbstractChatCompletionRunner_getFinalFunctionCallResult).call(this);u!=null&&this._emit("finalFunctionCallResult",u),this._chatCompletions.some(a=>a.usage)&&this._emit("totalUsage",__classPrivateFieldGet$2(this,_AbstractChatCompletionRunner_instances,"m",_AbstractChatCompletionRunner_calculateTotalUsage).call(this))}async _createChatCompletion(r,t,o){const n=o==null?void 0:o.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",()=>this.controller.abort())),__classPrivateFieldGet$2(this,_AbstractChatCompletionRunner_instances,"m",_AbstractChatCompletionRunner_validateParams).call(this,t);const u=await r.chat.completions.create({...t,stream:!1},{...o,signal:this.controller.signal});return this._connected(),this._addChatCompletion(parseChatCompletion(u,t))}async _runChatCompletion(r,t,o){for(const n of t.messages)this._addMessage(n,!1);return await this._createChatCompletion(r,t,o)}async _runFunctions(r,t,o){var g;const n="function",{function_call:u="auto",stream:a,...s}=t,i=typeof u!="string"&&(u==null?void 0:u.name),{maxChatCompletions:c=DEFAULT_MAX_CHAT_COMPLETIONS}=o||{},d={};for(const m of t.functions)d[m.name||m.function.name]=m;const l=t.functions.map(m=>({name:m.name||m.function.name,parameters:m.parameters,description:m.description}));for(const m of t.messages)this._addMessage(m,!1);for(let m=0;m<c;++m){const b=(g=(await this._createChatCompletion(r,{...s,function_call:u,functions:l,messages:[...this.messages]},o)).choices[0])==null?void 0:g.message;if(!b)throw new OpenAIError("missing message in ChatCompletion response");if(!b.function_call)return;const{name:y,arguments:w}=b.function_call,f=d[y];if(f){if(i&&i!==y){const C=`Invalid function_call: ${JSON.stringify(y)}. ${JSON.stringify(i)} requested. Please try again`;this._addMessage({role:n,name:y,content:C});continue}}else{const C=`Invalid function_call: ${JSON.stringify(y)}. Available options are: ${l.map(S=>JSON.stringify(S.name)).join(", ")}. Please try again`;this._addMessage({role:n,name:y,content:C});continue}let k;try{k=isRunnableFunctionWithParse(f)?await f.parse(w):w}catch(C){this._addMessage({role:n,name:y,content:C instanceof Error?C.message:String(C)});continue}const x=await f.function(k,this),v=__classPrivateFieldGet$2(this,_AbstractChatCompletionRunner_instances,"m",_AbstractChatCompletionRunner_stringifyFunctionCallResult).call(this,x);if(this._addMessage({role:n,name:y,content:v}),i)return}}async _runTools(r,t,o){var m,p,b;const n="tool",{tool_choice:u="auto",stream:a,...s}=t,i=typeof u!="string"&&((m=u==null?void 0:u.function)==null?void 0:m.name),{maxChatCompletions:c=DEFAULT_MAX_CHAT_COMPLETIONS}=o||{},d=t.tools.map(y=>{if(isAutoParsableTool(y)){if(!y.$callback)throw new OpenAIError("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:y.$callback,name:y.function.name,description:y.function.description||"",parameters:y.function.parameters,parse:y.$parseRaw,strict:!0}}}return y}),l={};for(const y of d)y.type==="function"&&(l[y.function.name||y.function.function.name]=y.function);const g="tools"in t?d.map(y=>y.type==="function"?{type:"function",function:{name:y.function.name||y.function.function.name,parameters:y.function.parameters,description:y.function.description,strict:y.function.strict}}:y):void 0;for(const y of t.messages)this._addMessage(y,!1);for(let y=0;y<c;++y){const f=(p=(await this._createChatCompletion(r,{...s,tool_choice:u,tools:g,messages:[...this.messages]},o)).choices[0])==null?void 0:p.message;if(!f)throw new OpenAIError("missing message in ChatCompletion response");if(!((b=f.tool_calls)!=null&&b.length))return;for(const k of f.tool_calls){if(k.type!=="function")continue;const x=k.id,{name:v,arguments:C}=k.function,S=l[v];if(S){if(i&&i!==v){const E=`Invalid tool_call: ${JSON.stringify(v)}. ${JSON.stringify(i)} requested. Please try again`;this._addMessage({role:n,tool_call_id:x,content:E});continue}}else{const E=`Invalid tool_call: ${JSON.stringify(v)}. Available options are: ${Object.keys(l).map($=>JSON.stringify($)).join(", ")}. Please try again`;this._addMessage({role:n,tool_call_id:x,content:E});continue}let R;try{R=isRunnableFunctionWithParse(S)?await S.parse(C):C}catch(E){const $=E instanceof Error?E.message:String(E);this._addMessage({role:n,tool_call_id:x,content:$});continue}const A=await S.function(R,this),F=__classPrivateFieldGet$2(this,_AbstractChatCompletionRunner_instances,"m",_AbstractChatCompletionRunner_stringifyFunctionCallResult).call(this,A);if(this._addMessage({role:n,tool_call_id:x,content:F}),i)return}}}}_AbstractChatCompletionRunner_instances=new WeakSet,_AbstractChatCompletionRunner_getFinalContent=function e(){return __classPrivateFieldGet$2(this,_AbstractChatCompletionRunner_instances,"m",_AbstractChatCompletionRunner_getFinalMessage).call(this).content??null},_AbstractChatCompletionRunner_getFinalMessage=function e(){let r=this.messages.length;for(;r-- >0;){const t=this.messages[r];if(isAssistantMessage(t)){const{function_call:o,...n}=t,u={...n,content:t.content??null,refusal:t.refusal??null};return o&&(u.function_call=o),u}}throw new OpenAIError("stream ended without producing a ChatCompletionMessage with role=assistant")},_AbstractChatCompletionRunner_getFinalFunctionCall=function e(){var r,t;for(let o=this.messages.length-1;o>=0;o--){const n=this.messages[o];if(isAssistantMessage(n)&&(n!=null&&n.function_call))return n.function_call;if(isAssistantMessage(n)&&((r=n==null?void 0:n.tool_calls)!=null&&r.length))return(t=n.tool_calls.at(-1))==null?void 0:t.function}},_AbstractChatCompletionRunner_getFinalFunctionCallResult=function e(){for(let r=this.messages.length-1;r>=0;r--){const t=this.messages[r];if(isFunctionMessage(t)&&t.content!=null||isToolMessage(t)&&t.content!=null&&typeof t.content=="string"&&this.messages.some(o=>{var n;return o.role==="assistant"&&((n=o.tool_calls)==null?void 0:n.some(u=>u.type==="function"&&u.id===t.tool_call_id))}))return t.content}},_AbstractChatCompletionRunner_calculateTotalUsage=function e(){const r={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:t}of this._chatCompletions)t&&(r.completion_tokens+=t.completion_tokens,r.prompt_tokens+=t.prompt_tokens,r.total_tokens+=t.total_tokens);return r},_AbstractChatCompletionRunner_validateParams=function e(r){if(r.n!=null&&r.n>1)throw new OpenAIError("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},_AbstractChatCompletionRunner_stringifyFunctionCallResult=function e(r){return typeof r=="string"?r:r===void 0?"undefined":JSON.stringify(r)};class ChatCompletionRunner extends AbstractChatCompletionRunner{static runFunctions(r,t,o){const n=new ChatCompletionRunner,u={...o,headers:{...o==null?void 0:o.headers,"X-Stainless-Helper-Method":"runFunctions"}};return n._run(()=>n._runFunctions(r,t,u)),n}static runTools(r,t,o){const n=new ChatCompletionRunner,u={...o,headers:{...o==null?void 0:o.headers,"X-Stainless-Helper-Method":"runTools"}};return n._run(()=>n._runTools(r,t,u)),n}_addMessage(r,t=!0){super._addMessage(r,t),isAssistantMessage(r)&&r.content&&this._emit("content",r.content)}}const STR=1,NUM=2,ARR=4,OBJ=8,NULL=16,BOOL=32,NAN=64,INFINITY=128,MINUS_INFINITY=256,INF=INFINITY|MINUS_INFINITY,SPECIAL=NULL|BOOL|INF|NAN,ATOM=STR|NUM|SPECIAL,COLLECTION=ARR|OBJ,ALL=ATOM|COLLECTION,Allow={STR,NUM,ARR,OBJ,NULL,BOOL,NAN,INFINITY,MINUS_INFINITY,INF,SPECIAL,ATOM,COLLECTION,ALL};class PartialJSON extends Error{}class MalformedJSON extends Error{}function parseJSON(e,r=Allow.ALL){if(typeof e!="string")throw new TypeError(`expecting str, got ${typeof e}`);if(!e.trim())throw new Error(`${e} is empty`);return _parseJSON(e.trim(),r)}const _parseJSON=(e,r)=>{const t=e.length;let o=0;const n=g=>{throw new PartialJSON(`${g} at position ${o}`)},u=g=>{throw new MalformedJSON(`${g} at position ${o}`)},a=()=>(l(),o>=t&&n("Unexpected end of input"),e[o]==='"'?s():e[o]==="{"?i():e[o]==="["?c():e.substring(o,o+4)==="null"||Allow.NULL&r&&t-o<4&&"null".startsWith(e.substring(o))?(o+=4,null):e.substring(o,o+4)==="true"||Allow.BOOL&r&&t-o<4&&"true".startsWith(e.substring(o))?(o+=4,!0):e.substring(o,o+5)==="false"||Allow.BOOL&r&&t-o<5&&"false".startsWith(e.substring(o))?(o+=5,!1):e.substring(o,o+8)==="Infinity"||Allow.INFINITY&r&&t-o<8&&"Infinity".startsWith(e.substring(o))?(o+=8,1/0):e.substring(o,o+9)==="-Infinity"||Allow.MINUS_INFINITY&r&&1<t-o&&t-o<9&&"-Infinity".startsWith(e.substring(o))?(o+=9,-1/0):e.substring(o,o+3)==="NaN"||Allow.NAN&r&&t-o<3&&"NaN".startsWith(e.substring(o))?(o+=3,NaN):d()),s=()=>{const g=o;let m=!1;for(o++;o<t&&(e[o]!=='"'||m&&e[o-1]==="\\");)m=e[o]==="\\"?!m:!1,o++;if(e.charAt(o)=='"')try{return JSON.parse(e.substring(g,++o-Number(m)))}catch(p){u(String(p))}else if(Allow.STR&r)try{return JSON.parse(e.substring(g,o-Number(m))+'"')}catch{return JSON.parse(e.substring(g,e.lastIndexOf("\\"))+'"')}n("Unterminated string literal")},i=()=>{o++,l();const g={};try{for(;e[o]!=="}";){if(l(),o>=t&&Allow.OBJ&r)return g;const m=s();l(),o++;try{const p=a();Object.defineProperty(g,m,{value:p,writable:!0,enumerable:!0,configurable:!0})}catch(p){if(Allow.OBJ&r)return g;throw p}l(),e[o]===","&&o++}}catch{if(Allow.OBJ&r)return g;n("Expected '}' at end of object")}return o++,g},c=()=>{o++;const g=[];try{for(;e[o]!=="]";)g.push(a()),l(),e[o]===","&&o++}catch{if(Allow.ARR&r)return g;n("Expected ']' at end of array")}return o++,g},d=()=>{if(o===0){e==="-"&&Allow.NUM&r&&n("Not sure what '-' is");try{return JSON.parse(e)}catch(m){if(Allow.NUM&r)try{return e[e.length-1]==="."?JSON.parse(e.substring(0,e.lastIndexOf("."))):JSON.parse(e.substring(0,e.lastIndexOf("e")))}catch{}u(String(m))}}const g=o;for(e[o]==="-"&&o++;e[o]&&!",]}".includes(e[o]);)o++;o==t&&!(Allow.NUM&r)&&n("Unterminated number literal");try{return JSON.parse(e.substring(g,o))}catch{e.substring(g,o)==="-"&&Allow.NUM&r&&n("Not sure what '-' is");try{return JSON.parse(e.substring(g,e.lastIndexOf("e")))}catch(p){u(String(p))}}},l=()=>{for(;o<t&&` 
\r	`.includes(e[o]);)o++};return a()},partialParse=e=>parseJSON(e,Allow.ALL^Allow.NUM);var __classPrivateFieldSet$1=function(e,r,t,o,n){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!n)throw new TypeError("Private accessor was defined without a setter");if(typeof r=="function"?e!==r||!n:!r.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?n.call(e,t):n?n.value=t:r.set(e,t),t},__classPrivateFieldGet$1=function(e,r,t,o){if(t==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof r=="function"?e!==r||!o:!r.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?o:t==="a"?o.call(e):o?o.value:r.get(e)},_ChatCompletionStream_instances,_ChatCompletionStream_params,_ChatCompletionStream_choiceEventStates,_ChatCompletionStream_currentChatCompletionSnapshot,_ChatCompletionStream_beginRequest,_ChatCompletionStream_getChoiceEventState,_ChatCompletionStream_addChunk,_ChatCompletionStream_emitToolCallDoneEvent,_ChatCompletionStream_emitContentDoneEvents,_ChatCompletionStream_endRequest,_ChatCompletionStream_getAutoParseableResponseFormat,_ChatCompletionStream_accumulateChatCompletion;class ChatCompletionStream extends AbstractChatCompletionRunner{constructor(r){super(),_ChatCompletionStream_instances.add(this),_ChatCompletionStream_params.set(this,void 0),_ChatCompletionStream_choiceEventStates.set(this,void 0),_ChatCompletionStream_currentChatCompletionSnapshot.set(this,void 0),__classPrivateFieldSet$1(this,_ChatCompletionStream_params,r,"f"),__classPrivateFieldSet$1(this,_ChatCompletionStream_choiceEventStates,[],"f")}get currentChatCompletionSnapshot(){return __classPrivateFieldGet$1(this,_ChatCompletionStream_currentChatCompletionSnapshot,"f")}static fromReadableStream(r){const t=new ChatCompletionStream(null);return t._run(()=>t._fromReadableStream(r)),t}static createChatCompletion(r,t,o){const n=new ChatCompletionStream(t);return n._run(()=>n._runChatCompletion(r,{...t,stream:!0},{...o,headers:{...o==null?void 0:o.headers,"X-Stainless-Helper-Method":"stream"}})),n}async _createChatCompletion(r,t,o){var a;super._createChatCompletion;const n=o==null?void 0:o.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",()=>this.controller.abort())),__classPrivateFieldGet$1(this,_ChatCompletionStream_instances,"m",_ChatCompletionStream_beginRequest).call(this);const u=await r.chat.completions.create({...t,stream:!0},{...o,signal:this.controller.signal});this._connected();for await(const s of u)__classPrivateFieldGet$1(this,_ChatCompletionStream_instances,"m",_ChatCompletionStream_addChunk).call(this,s);if((a=u.controller.signal)!=null&&a.aborted)throw new APIUserAbortError;return this._addChatCompletion(__classPrivateFieldGet$1(this,_ChatCompletionStream_instances,"m",_ChatCompletionStream_endRequest).call(this))}async _fromReadableStream(r,t){var a;const o=t==null?void 0:t.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort())),__classPrivateFieldGet$1(this,_ChatCompletionStream_instances,"m",_ChatCompletionStream_beginRequest).call(this),this._connected();const n=Stream.fromReadableStream(r,this.controller);let u;for await(const s of n)u&&u!==s.id&&this._addChatCompletion(__classPrivateFieldGet$1(this,_ChatCompletionStream_instances,"m",_ChatCompletionStream_endRequest).call(this)),__classPrivateFieldGet$1(this,_ChatCompletionStream_instances,"m",_ChatCompletionStream_addChunk).call(this,s),u=s.id;if((a=n.controller.signal)!=null&&a.aborted)throw new APIUserAbortError;return this._addChatCompletion(__classPrivateFieldGet$1(this,_ChatCompletionStream_instances,"m",_ChatCompletionStream_endRequest).call(this))}[(_ChatCompletionStream_params=new WeakMap,_ChatCompletionStream_choiceEventStates=new WeakMap,_ChatCompletionStream_currentChatCompletionSnapshot=new WeakMap,_ChatCompletionStream_instances=new WeakSet,_ChatCompletionStream_beginRequest=function(){this.ended||__classPrivateFieldSet$1(this,_ChatCompletionStream_currentChatCompletionSnapshot,void 0,"f")},_ChatCompletionStream_getChoiceEventState=function(t){let o=__classPrivateFieldGet$1(this,_ChatCompletionStream_choiceEventStates,"f")[t.index];return o||(o={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},__classPrivateFieldGet$1(this,_ChatCompletionStream_choiceEventStates,"f")[t.index]=o,o)},_ChatCompletionStream_addChunk=function(t){var n,u,a,s,i,c,d,l,g,m,p,b,y,w,f;if(this.ended)return;const o=__classPrivateFieldGet$1(this,_ChatCompletionStream_instances,"m",_ChatCompletionStream_accumulateChatCompletion).call(this,t);this._emit("chunk",t,o);for(const k of t.choices){const x=o.choices[k.index];k.delta.content!=null&&((n=x.message)==null?void 0:n.role)==="assistant"&&((u=x.message)!=null&&u.content)&&(this._emit("content",k.delta.content,x.message.content),this._emit("content.delta",{delta:k.delta.content,snapshot:x.message.content,parsed:x.message.parsed})),k.delta.refusal!=null&&((a=x.message)==null?void 0:a.role)==="assistant"&&((s=x.message)!=null&&s.refusal)&&this._emit("refusal.delta",{delta:k.delta.refusal,snapshot:x.message.refusal}),((i=k.logprobs)==null?void 0:i.content)!=null&&((c=x.message)==null?void 0:c.role)==="assistant"&&this._emit("logprobs.content.delta",{content:(d=k.logprobs)==null?void 0:d.content,snapshot:((l=x.logprobs)==null?void 0:l.content)??[]}),((g=k.logprobs)==null?void 0:g.refusal)!=null&&((m=x.message)==null?void 0:m.role)==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:(p=k.logprobs)==null?void 0:p.refusal,snapshot:((b=x.logprobs)==null?void 0:b.refusal)??[]});const v=__classPrivateFieldGet$1(this,_ChatCompletionStream_instances,"m",_ChatCompletionStream_getChoiceEventState).call(this,x);x.finish_reason&&(__classPrivateFieldGet$1(this,_ChatCompletionStream_instances,"m",_ChatCompletionStream_emitContentDoneEvents).call(this,x),v.current_tool_call_index!=null&&__classPrivateFieldGet$1(this,_ChatCompletionStream_instances,"m",_ChatCompletionStream_emitToolCallDoneEvent).call(this,x,v.current_tool_call_index));for(const C of k.delta.tool_calls??[])v.current_tool_call_index!==C.index&&(__classPrivateFieldGet$1(this,_ChatCompletionStream_instances,"m",_ChatCompletionStream_emitContentDoneEvents).call(this,x),v.current_tool_call_index!=null&&__classPrivateFieldGet$1(this,_ChatCompletionStream_instances,"m",_ChatCompletionStream_emitToolCallDoneEvent).call(this,x,v.current_tool_call_index)),v.current_tool_call_index=C.index;for(const C of k.delta.tool_calls??[]){const S=(y=x.message.tool_calls)==null?void 0:y[C.index];S!=null&&S.type&&((S==null?void 0:S.type)==="function"?this._emit("tool_calls.function.arguments.delta",{name:(w=S.function)==null?void 0:w.name,index:C.index,arguments:S.function.arguments,parsed_arguments:S.function.parsed_arguments,arguments_delta:((f=C.function)==null?void 0:f.arguments)??""}):(S==null||S.type,void 0))}}},_ChatCompletionStream_emitToolCallDoneEvent=function(t,o){var a,s,i;if(__classPrivateFieldGet$1(this,_ChatCompletionStream_instances,"m",_ChatCompletionStream_getChoiceEventState).call(this,t).done_tool_calls.has(o))return;const u=(a=t.message.tool_calls)==null?void 0:a[o];if(!u)throw new Error("no tool call snapshot");if(!u.type)throw new Error("tool call snapshot missing `type`");if(u.type==="function"){const c=(i=(s=__classPrivateFieldGet$1(this,_ChatCompletionStream_params,"f"))==null?void 0:s.tools)==null?void 0:i.find(d=>d.type==="function"&&d.function.name===u.function.name);this._emit("tool_calls.function.arguments.done",{name:u.function.name,index:o,arguments:u.function.arguments,parsed_arguments:isAutoParsableTool(c)?c.$parseRaw(u.function.arguments):c!=null&&c.function.strict?JSON.parse(u.function.arguments):null})}else u.type},_ChatCompletionStream_emitContentDoneEvents=function(t){var n,u;const o=__classPrivateFieldGet$1(this,_ChatCompletionStream_instances,"m",_ChatCompletionStream_getChoiceEventState).call(this,t);if(t.message.content&&!o.content_done){o.content_done=!0;const a=__classPrivateFieldGet$1(this,_ChatCompletionStream_instances,"m",_ChatCompletionStream_getAutoParseableResponseFormat).call(this);this._emit("content.done",{content:t.message.content,parsed:a?a.$parseRaw(t.message.content):null})}t.message.refusal&&!o.refusal_done&&(o.refusal_done=!0,this._emit("refusal.done",{refusal:t.message.refusal})),(n=t.logprobs)!=null&&n.content&&!o.logprobs_content_done&&(o.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:t.logprobs.content})),(u=t.logprobs)!=null&&u.refusal&&!o.logprobs_refusal_done&&(o.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:t.logprobs.refusal}))},_ChatCompletionStream_endRequest=function(){if(this.ended)throw new OpenAIError("stream has ended, this shouldn't happen");const t=__classPrivateFieldGet$1(this,_ChatCompletionStream_currentChatCompletionSnapshot,"f");if(!t)throw new OpenAIError("request ended without sending any chunks");return __classPrivateFieldSet$1(this,_ChatCompletionStream_currentChatCompletionSnapshot,void 0,"f"),__classPrivateFieldSet$1(this,_ChatCompletionStream_choiceEventStates,[],"f"),finalizeChatCompletion(t,__classPrivateFieldGet$1(this,_ChatCompletionStream_params,"f"))},_ChatCompletionStream_getAutoParseableResponseFormat=function(){var o;const t=(o=__classPrivateFieldGet$1(this,_ChatCompletionStream_params,"f"))==null?void 0:o.response_format;return isAutoParsableResponseFormat(t)?t:null},_ChatCompletionStream_accumulateChatCompletion=function(t){var o,n,u,a;let s=__classPrivateFieldGet$1(this,_ChatCompletionStream_currentChatCompletionSnapshot,"f");const{choices:i,...c}=t;s?Object.assign(s,c):s=__classPrivateFieldSet$1(this,_ChatCompletionStream_currentChatCompletionSnapshot,{...c,choices:[]},"f");for(const{delta:d,finish_reason:l,index:g,logprobs:m=null,...p}of t.choices){let b=s.choices[g];if(b||(b=s.choices[g]={finish_reason:l,index:g,message:{},logprobs:m,...p}),m)if(!b.logprobs)b.logprobs=Object.assign({},m);else{const{content:C,refusal:S,...R}=m;Object.assign(b.logprobs,R),C&&((o=b.logprobs).content??(o.content=[]),b.logprobs.content.push(...C)),S&&((n=b.logprobs).refusal??(n.refusal=[]),b.logprobs.refusal.push(...S))}if(l&&(b.finish_reason=l,__classPrivateFieldGet$1(this,_ChatCompletionStream_params,"f")&&hasAutoParseableInput(__classPrivateFieldGet$1(this,_ChatCompletionStream_params,"f")))){if(l==="length")throw new LengthFinishReasonError;if(l==="content_filter")throw new ContentFilterFinishReasonError}if(Object.assign(b,p),!d)continue;const{content:y,refusal:w,function_call:f,role:k,tool_calls:x,...v}=d;if(Object.assign(b.message,v),w&&(b.message.refusal=(b.message.refusal||"")+w),k&&(b.message.role=k),f&&(b.message.function_call?(f.name&&(b.message.function_call.name=f.name),f.arguments&&((u=b.message.function_call).arguments??(u.arguments=""),b.message.function_call.arguments+=f.arguments)):b.message.function_call=f),y&&(b.message.content=(b.message.content||"")+y,!b.message.refusal&&__classPrivateFieldGet$1(this,_ChatCompletionStream_instances,"m",_ChatCompletionStream_getAutoParseableResponseFormat).call(this)&&(b.message.parsed=partialParse(b.message.content))),x){b.message.tool_calls||(b.message.tool_calls=[]);for(const{index:C,id:S,type:R,function:A,...F}of x){const E=(a=b.message.tool_calls)[C]??(a[C]={});Object.assign(E,F),S&&(E.id=S),R&&(E.type=R),A&&(E.function??(E.function={name:A.name??"",arguments:""})),A!=null&&A.name&&(E.function.name=A.name),A!=null&&A.arguments&&(E.function.arguments+=A.arguments,shouldParseToolCall(__classPrivateFieldGet$1(this,_ChatCompletionStream_params,"f"),E)&&(E.function.parsed_arguments=partialParse(E.function.arguments)))}}}return s},Symbol.asyncIterator)](){const r=[],t=[];let o=!1;return this.on("chunk",n=>{const u=t.shift();u?u.resolve(n):r.push(n)}),this.on("end",()=>{o=!0;for(const n of t)n.resolve(void 0);t.length=0}),this.on("abort",n=>{o=!0;for(const u of t)u.reject(n);t.length=0}),this.on("error",n=>{o=!0;for(const u of t)u.reject(n);t.length=0}),{next:async()=>r.length?{value:r.shift(),done:!1}:o?{value:void 0,done:!0}:new Promise((u,a)=>t.push({resolve:u,reject:a})).then(u=>u?{value:u,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new Stream(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function finalizeChatCompletion(e,r){const{id:t,choices:o,created:n,model:u,system_fingerprint:a,...s}=e,i={...s,id:t,choices:o.map(({message:c,finish_reason:d,index:l,logprobs:g,...m})=>{if(!d)throw new OpenAIError(`missing finish_reason for choice ${l}`);const{content:p=null,function_call:b,tool_calls:y,...w}=c,f=c.role;if(!f)throw new OpenAIError(`missing role for choice ${l}`);if(b){const{arguments:k,name:x}=b;if(k==null)throw new OpenAIError(`missing function_call.arguments for choice ${l}`);if(!x)throw new OpenAIError(`missing function_call.name for choice ${l}`);return{...m,message:{content:p,function_call:{arguments:k,name:x},role:f,refusal:c.refusal??null},finish_reason:d,index:l,logprobs:g}}return y?{...m,index:l,finish_reason:d,logprobs:g,message:{...w,role:f,content:p,refusal:c.refusal??null,tool_calls:y.map((k,x)=>{const{function:v,type:C,id:S,...R}=k,{arguments:A,name:F,...E}=v||{};if(S==null)throw new OpenAIError(`missing choices[${l}].tool_calls[${x}].id
${str(e)}`);if(C==null)throw new OpenAIError(`missing choices[${l}].tool_calls[${x}].type
${str(e)}`);if(F==null)throw new OpenAIError(`missing choices[${l}].tool_calls[${x}].function.name
${str(e)}`);if(A==null)throw new OpenAIError(`missing choices[${l}].tool_calls[${x}].function.arguments
${str(e)}`);return{...R,id:S,type:C,function:{...E,name:F,arguments:A}}})}}:{...m,message:{...w,content:p,role:f,refusal:c.refusal??null},finish_reason:d,index:l,logprobs:g}}),created:n,model:u,object:"chat.completion",...a?{system_fingerprint:a}:{}};return maybeParseChatCompletion(i,r)}function str(e){return JSON.stringify(e)}function assertNever(e){}class ChatCompletionStreamingRunner extends ChatCompletionStream{static fromReadableStream(r){const t=new ChatCompletionStreamingRunner(null);return t._run(()=>t._fromReadableStream(r)),t}static runFunctions(r,t,o){const n=new ChatCompletionStreamingRunner(null),u={...o,headers:{...o==null?void 0:o.headers,"X-Stainless-Helper-Method":"runFunctions"}};return n._run(()=>n._runFunctions(r,t,u)),n}static runTools(r,t,o){const n=new ChatCompletionStreamingRunner(t),u={...o,headers:{...o==null?void 0:o.headers,"X-Stainless-Helper-Method":"runTools"}};return n._run(()=>n._runTools(r,t,u)),n}}let Completions$1=class extends APIResource{parse(r,t){return validateInputTools(r.tools),this._client.chat.completions.create(r,{...t,headers:{...t==null?void 0:t.headers,"X-Stainless-Helper-Method":"beta.chat.completions.parse"}})._thenUnwrap(o=>parseChatCompletion(o,r))}runFunctions(r,t){return r.stream?ChatCompletionStreamingRunner.runFunctions(this._client,r,t):ChatCompletionRunner.runFunctions(this._client,r,t)}runTools(r,t){return r.stream?ChatCompletionStreamingRunner.runTools(this._client,r,t):ChatCompletionRunner.runTools(this._client,r,t)}stream(r,t){return ChatCompletionStream.createChatCompletion(this._client,r,t)}};class Chat extends APIResource{constructor(){super(...arguments),this.completions=new Completions$1(this._client)}}(function(e){e.Completions=Completions$1})(Chat||(Chat={}));var __classPrivateFieldGet=function(e,r,t,o){if(t==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof r=="function"?e!==r||!o:!r.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?o:t==="a"?o.call(e):o?o.value:r.get(e)},__classPrivateFieldSet=function(e,r,t,o,n){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!n)throw new TypeError("Private accessor was defined without a setter");if(typeof r=="function"?e!==r||!n:!r.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?n.call(e,t):n?n.value=t:r.set(e,t),t},_AssistantStream_instances,_AssistantStream_events,_AssistantStream_runStepSnapshots,_AssistantStream_messageSnapshots,_AssistantStream_messageSnapshot,_AssistantStream_finalRun,_AssistantStream_currentContentIndex,_AssistantStream_currentContent,_AssistantStream_currentToolCallIndex,_AssistantStream_currentToolCall,_AssistantStream_currentEvent,_AssistantStream_currentRunSnapshot,_AssistantStream_currentRunStepSnapshot,_AssistantStream_addEvent,_AssistantStream_endRequest,_AssistantStream_handleMessage,_AssistantStream_handleRunStep,_AssistantStream_handleEvent,_AssistantStream_accumulateRunStep,_AssistantStream_accumulateMessage,_AssistantStream_accumulateContent,_AssistantStream_handleRun;class AssistantStream extends EventStream{constructor(){super(...arguments),_AssistantStream_instances.add(this),_AssistantStream_events.set(this,[]),_AssistantStream_runStepSnapshots.set(this,{}),_AssistantStream_messageSnapshots.set(this,{}),_AssistantStream_messageSnapshot.set(this,void 0),_AssistantStream_finalRun.set(this,void 0),_AssistantStream_currentContentIndex.set(this,void 0),_AssistantStream_currentContent.set(this,void 0),_AssistantStream_currentToolCallIndex.set(this,void 0),_AssistantStream_currentToolCall.set(this,void 0),_AssistantStream_currentEvent.set(this,void 0),_AssistantStream_currentRunSnapshot.set(this,void 0),_AssistantStream_currentRunStepSnapshot.set(this,void 0)}[(_AssistantStream_events=new WeakMap,_AssistantStream_runStepSnapshots=new WeakMap,_AssistantStream_messageSnapshots=new WeakMap,_AssistantStream_messageSnapshot=new WeakMap,_AssistantStream_finalRun=new WeakMap,_AssistantStream_currentContentIndex=new WeakMap,_AssistantStream_currentContent=new WeakMap,_AssistantStream_currentToolCallIndex=new WeakMap,_AssistantStream_currentToolCall=new WeakMap,_AssistantStream_currentEvent=new WeakMap,_AssistantStream_currentRunSnapshot=new WeakMap,_AssistantStream_currentRunStepSnapshot=new WeakMap,_AssistantStream_instances=new WeakSet,Symbol.asyncIterator)](){const r=[],t=[];let o=!1;return this.on("event",n=>{const u=t.shift();u?u.resolve(n):r.push(n)}),this.on("end",()=>{o=!0;for(const n of t)n.resolve(void 0);t.length=0}),this.on("abort",n=>{o=!0;for(const u of t)u.reject(n);t.length=0}),this.on("error",n=>{o=!0;for(const u of t)u.reject(n);t.length=0}),{next:async()=>r.length?{value:r.shift(),done:!1}:o?{value:void 0,done:!0}:new Promise((u,a)=>t.push({resolve:u,reject:a})).then(u=>u?{value:u,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(r){const t=new AssistantStream;return t._run(()=>t._fromReadableStream(r)),t}async _fromReadableStream(r,t){var u;const o=t==null?void 0:t.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort())),this._connected();const n=Stream.fromReadableStream(r,this.controller);for await(const a of n)__classPrivateFieldGet(this,_AssistantStream_instances,"m",_AssistantStream_addEvent).call(this,a);if((u=n.controller.signal)!=null&&u.aborted)throw new APIUserAbortError;return this._addRun(__classPrivateFieldGet(this,_AssistantStream_instances,"m",_AssistantStream_endRequest).call(this))}toReadableStream(){return new Stream(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(r,t,o,n,u){const a=new AssistantStream;return a._run(()=>a._runToolAssistantStream(r,t,o,n,{...u,headers:{...u==null?void 0:u.headers,"X-Stainless-Helper-Method":"stream"}})),a}async _createToolAssistantStream(r,t,o,n,u){var c;const a=u==null?void 0:u.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort()));const s={...n,stream:!0},i=await r.submitToolOutputs(t,o,s,{...u,signal:this.controller.signal});this._connected();for await(const d of i)__classPrivateFieldGet(this,_AssistantStream_instances,"m",_AssistantStream_addEvent).call(this,d);if((c=i.controller.signal)!=null&&c.aborted)throw new APIUserAbortError;return this._addRun(__classPrivateFieldGet(this,_AssistantStream_instances,"m",_AssistantStream_endRequest).call(this))}static createThreadAssistantStream(r,t,o){const n=new AssistantStream;return n._run(()=>n._threadAssistantStream(r,t,{...o,headers:{...o==null?void 0:o.headers,"X-Stainless-Helper-Method":"stream"}})),n}static createAssistantStream(r,t,o,n){const u=new AssistantStream;return u._run(()=>u._runAssistantStream(r,t,o,{...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"stream"}})),u}currentEvent(){return __classPrivateFieldGet(this,_AssistantStream_currentEvent,"f")}currentRun(){return __classPrivateFieldGet(this,_AssistantStream_currentRunSnapshot,"f")}currentMessageSnapshot(){return __classPrivateFieldGet(this,_AssistantStream_messageSnapshot,"f")}currentRunStepSnapshot(){return __classPrivateFieldGet(this,_AssistantStream_currentRunStepSnapshot,"f")}async finalRunSteps(){return await this.done(),Object.values(__classPrivateFieldGet(this,_AssistantStream_runStepSnapshots,"f"))}async finalMessages(){return await this.done(),Object.values(__classPrivateFieldGet(this,_AssistantStream_messageSnapshots,"f"))}async finalRun(){if(await this.done(),!__classPrivateFieldGet(this,_AssistantStream_finalRun,"f"))throw Error("Final run was not received.");return __classPrivateFieldGet(this,_AssistantStream_finalRun,"f")}async _createThreadAssistantStream(r,t,o){var s;const n=o==null?void 0:o.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",()=>this.controller.abort()));const u={...t,stream:!0},a=await r.createAndRun(u,{...o,signal:this.controller.signal});this._connected();for await(const i of a)__classPrivateFieldGet(this,_AssistantStream_instances,"m",_AssistantStream_addEvent).call(this,i);if((s=a.controller.signal)!=null&&s.aborted)throw new APIUserAbortError;return this._addRun(__classPrivateFieldGet(this,_AssistantStream_instances,"m",_AssistantStream_endRequest).call(this))}async _createAssistantStream(r,t,o,n){var i;const u=n==null?void 0:n.signal;u&&(u.aborted&&this.controller.abort(),u.addEventListener("abort",()=>this.controller.abort()));const a={...o,stream:!0},s=await r.create(t,a,{...n,signal:this.controller.signal});this._connected();for await(const c of s)__classPrivateFieldGet(this,_AssistantStream_instances,"m",_AssistantStream_addEvent).call(this,c);if((i=s.controller.signal)!=null&&i.aborted)throw new APIUserAbortError;return this._addRun(__classPrivateFieldGet(this,_AssistantStream_instances,"m",_AssistantStream_endRequest).call(this))}static accumulateDelta(r,t){for(const[o,n]of Object.entries(t)){if(!r.hasOwnProperty(o)){r[o]=n;continue}let u=r[o];if(u==null){r[o]=n;continue}if(o==="index"||o==="type"){r[o]=n;continue}if(typeof u=="string"&&typeof n=="string")u+=n;else if(typeof u=="number"&&typeof n=="number")u+=n;else if(isObj(u)&&isObj(n))u=this.accumulateDelta(u,n);else if(Array.isArray(u)&&Array.isArray(n)){if(u.every(a=>typeof a=="string"||typeof a=="number")){u.push(...n);continue}for(const a of n){if(!isObj(a))throw new Error(`Expected array delta entry to be an object but got: ${a}`);const s=a.index;if(s==null)throw console.error(a),new Error("Expected array delta entry to have an `index` property");if(typeof s!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${s}`);const i=u[s];i==null?u.push(a):u[s]=this.accumulateDelta(i,a)}continue}else throw Error(`Unhandled record type: ${o}, deltaValue: ${n}, accValue: ${u}`);r[o]=u}return r}_addRun(r){return r}async _threadAssistantStream(r,t,o){return await this._createThreadAssistantStream(t,r,o)}async _runAssistantStream(r,t,o,n){return await this._createAssistantStream(t,r,o,n)}async _runToolAssistantStream(r,t,o,n,u){return await this._createToolAssistantStream(o,r,t,n,u)}}_AssistantStream_addEvent=function e(r){if(!this.ended)switch(__classPrivateFieldSet(this,_AssistantStream_currentEvent,r,"f"),__classPrivateFieldGet(this,_AssistantStream_instances,"m",_AssistantStream_handleEvent).call(this,r),r.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":__classPrivateFieldGet(this,_AssistantStream_instances,"m",_AssistantStream_handleRun).call(this,r);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":__classPrivateFieldGet(this,_AssistantStream_instances,"m",_AssistantStream_handleRunStep).call(this,r);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":__classPrivateFieldGet(this,_AssistantStream_instances,"m",_AssistantStream_handleMessage).call(this,r);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},_AssistantStream_endRequest=function e(){if(this.ended)throw new OpenAIError("stream has ended, this shouldn't happen");if(!__classPrivateFieldGet(this,_AssistantStream_finalRun,"f"))throw Error("Final run has not been received");return __classPrivateFieldGet(this,_AssistantStream_finalRun,"f")},_AssistantStream_handleMessage=function e(r){const[t,o]=__classPrivateFieldGet(this,_AssistantStream_instances,"m",_AssistantStream_accumulateMessage).call(this,r,__classPrivateFieldGet(this,_AssistantStream_messageSnapshot,"f"));__classPrivateFieldSet(this,_AssistantStream_messageSnapshot,t,"f"),__classPrivateFieldGet(this,_AssistantStream_messageSnapshots,"f")[t.id]=t;for(const n of o){const u=t.content[n.index];(u==null?void 0:u.type)=="text"&&this._emit("textCreated",u.text)}switch(r.event){case"thread.message.created":this._emit("messageCreated",r.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",r.data.delta,t),r.data.delta.content)for(const n of r.data.delta.content){if(n.type=="text"&&n.text){let u=n.text,a=t.content[n.index];if(a&&a.type=="text")this._emit("textDelta",u,a.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(n.index!=__classPrivateFieldGet(this,_AssistantStream_currentContentIndex,"f")){if(__classPrivateFieldGet(this,_AssistantStream_currentContent,"f"))switch(__classPrivateFieldGet(this,_AssistantStream_currentContent,"f").type){case"text":this._emit("textDone",__classPrivateFieldGet(this,_AssistantStream_currentContent,"f").text,__classPrivateFieldGet(this,_AssistantStream_messageSnapshot,"f"));break;case"image_file":this._emit("imageFileDone",__classPrivateFieldGet(this,_AssistantStream_currentContent,"f").image_file,__classPrivateFieldGet(this,_AssistantStream_messageSnapshot,"f"));break}__classPrivateFieldSet(this,_AssistantStream_currentContentIndex,n.index,"f")}__classPrivateFieldSet(this,_AssistantStream_currentContent,t.content[n.index],"f")}break;case"thread.message.completed":case"thread.message.incomplete":if(__classPrivateFieldGet(this,_AssistantStream_currentContentIndex,"f")!==void 0){const n=r.data.content[__classPrivateFieldGet(this,_AssistantStream_currentContentIndex,"f")];if(n)switch(n.type){case"image_file":this._emit("imageFileDone",n.image_file,__classPrivateFieldGet(this,_AssistantStream_messageSnapshot,"f"));break;case"text":this._emit("textDone",n.text,__classPrivateFieldGet(this,_AssistantStream_messageSnapshot,"f"));break}}__classPrivateFieldGet(this,_AssistantStream_messageSnapshot,"f")&&this._emit("messageDone",r.data),__classPrivateFieldSet(this,_AssistantStream_messageSnapshot,void 0,"f")}},_AssistantStream_handleRunStep=function e(r){const t=__classPrivateFieldGet(this,_AssistantStream_instances,"m",_AssistantStream_accumulateRunStep).call(this,r);switch(__classPrivateFieldSet(this,_AssistantStream_currentRunStepSnapshot,t,"f"),r.event){case"thread.run.step.created":this._emit("runStepCreated",r.data);break;case"thread.run.step.delta":const o=r.data.delta;if(o.step_details&&o.step_details.type=="tool_calls"&&o.step_details.tool_calls&&t.step_details.type=="tool_calls")for(const u of o.step_details.tool_calls)u.index==__classPrivateFieldGet(this,_AssistantStream_currentToolCallIndex,"f")?this._emit("toolCallDelta",u,t.step_details.tool_calls[u.index]):(__classPrivateFieldGet(this,_AssistantStream_currentToolCall,"f")&&this._emit("toolCallDone",__classPrivateFieldGet(this,_AssistantStream_currentToolCall,"f")),__classPrivateFieldSet(this,_AssistantStream_currentToolCallIndex,u.index,"f"),__classPrivateFieldSet(this,_AssistantStream_currentToolCall,t.step_details.tool_calls[u.index],"f"),__classPrivateFieldGet(this,_AssistantStream_currentToolCall,"f")&&this._emit("toolCallCreated",__classPrivateFieldGet(this,_AssistantStream_currentToolCall,"f")));this._emit("runStepDelta",r.data.delta,t);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":__classPrivateFieldSet(this,_AssistantStream_currentRunStepSnapshot,void 0,"f"),r.data.step_details.type=="tool_calls"&&__classPrivateFieldGet(this,_AssistantStream_currentToolCall,"f")&&(this._emit("toolCallDone",__classPrivateFieldGet(this,_AssistantStream_currentToolCall,"f")),__classPrivateFieldSet(this,_AssistantStream_currentToolCall,void 0,"f")),this._emit("runStepDone",r.data,t);break}},_AssistantStream_handleEvent=function e(r){__classPrivateFieldGet(this,_AssistantStream_events,"f").push(r),this._emit("event",r)},_AssistantStream_accumulateRunStep=function e(r){switch(r.event){case"thread.run.step.created":return __classPrivateFieldGet(this,_AssistantStream_runStepSnapshots,"f")[r.data.id]=r.data,r.data;case"thread.run.step.delta":let t=__classPrivateFieldGet(this,_AssistantStream_runStepSnapshots,"f")[r.data.id];if(!t)throw Error("Received a RunStepDelta before creation of a snapshot");let o=r.data;if(o.delta){const n=AssistantStream.accumulateDelta(t,o.delta);__classPrivateFieldGet(this,_AssistantStream_runStepSnapshots,"f")[r.data.id]=n}return __classPrivateFieldGet(this,_AssistantStream_runStepSnapshots,"f")[r.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":__classPrivateFieldGet(this,_AssistantStream_runStepSnapshots,"f")[r.data.id]=r.data;break}if(__classPrivateFieldGet(this,_AssistantStream_runStepSnapshots,"f")[r.data.id])return __classPrivateFieldGet(this,_AssistantStream_runStepSnapshots,"f")[r.data.id];throw new Error("No snapshot available")},_AssistantStream_accumulateMessage=function e(r,t){let o=[];switch(r.event){case"thread.message.created":return[r.data,o];case"thread.message.delta":if(!t)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let n=r.data;if(n.delta.content)for(const u of n.delta.content)if(u.index in t.content){let a=t.content[u.index];t.content[u.index]=__classPrivateFieldGet(this,_AssistantStream_instances,"m",_AssistantStream_accumulateContent).call(this,u,a)}else t.content[u.index]=u,o.push(u);return[t,o];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(t)return[t,o];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},_AssistantStream_accumulateContent=function e(r,t){return AssistantStream.accumulateDelta(t,r)},_AssistantStream_handleRun=function e(r){switch(__classPrivateFieldSet(this,_AssistantStream_currentRunSnapshot,r.data,"f"),r.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":__classPrivateFieldSet(this,_AssistantStream_finalRun,r.data,"f"),__classPrivateFieldGet(this,_AssistantStream_currentToolCall,"f")&&(this._emit("toolCallDone",__classPrivateFieldGet(this,_AssistantStream_currentToolCall,"f")),__classPrivateFieldSet(this,_AssistantStream_currentToolCall,void 0,"f"));break}};class Messages extends APIResource{create(r,t,o){return this._client.post(`/threads/${r}/messages`,{body:t,...o,headers:{"OpenAI-Beta":"assistants=v2",...o==null?void 0:o.headers}})}retrieve(r,t,o){return this._client.get(`/threads/${r}/messages/${t}`,{...o,headers:{"OpenAI-Beta":"assistants=v2",...o==null?void 0:o.headers}})}update(r,t,o,n){return this._client.post(`/threads/${r}/messages/${t}`,{body:o,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}list(r,t={},o){return isRequestOptions(t)?this.list(r,{},t):this._client.getAPIList(`/threads/${r}/messages`,MessagesPage,{query:t,...o,headers:{"OpenAI-Beta":"assistants=v2",...o==null?void 0:o.headers}})}del(r,t,o){return this._client.delete(`/threads/${r}/messages/${t}`,{...o,headers:{"OpenAI-Beta":"assistants=v2",...o==null?void 0:o.headers}})}}class MessagesPage extends CursorPage{}Messages.MessagesPage=MessagesPage;class Steps extends APIResource{retrieve(r,t,o,n={},u){return isRequestOptions(n)?this.retrieve(r,t,o,{},n):this._client.get(`/threads/${r}/runs/${t}/steps/${o}`,{query:n,...u,headers:{"OpenAI-Beta":"assistants=v2",...u==null?void 0:u.headers}})}list(r,t,o={},n){return isRequestOptions(o)?this.list(r,t,{},o):this._client.getAPIList(`/threads/${r}/runs/${t}/steps`,RunStepsPage,{query:o,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class RunStepsPage extends CursorPage{}Steps.RunStepsPage=RunStepsPage;class Runs extends APIResource{constructor(){super(...arguments),this.steps=new Steps(this._client)}create(r,t,o){const{include:n,...u}=t;return this._client.post(`/threads/${r}/runs`,{query:{include:n},body:u,...o,headers:{"OpenAI-Beta":"assistants=v2",...o==null?void 0:o.headers},stream:t.stream??!1})}retrieve(r,t,o){return this._client.get(`/threads/${r}/runs/${t}`,{...o,headers:{"OpenAI-Beta":"assistants=v2",...o==null?void 0:o.headers}})}update(r,t,o,n){return this._client.post(`/threads/${r}/runs/${t}`,{body:o,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}list(r,t={},o){return isRequestOptions(t)?this.list(r,{},t):this._client.getAPIList(`/threads/${r}/runs`,RunsPage,{query:t,...o,headers:{"OpenAI-Beta":"assistants=v2",...o==null?void 0:o.headers}})}cancel(r,t,o){return this._client.post(`/threads/${r}/runs/${t}/cancel`,{...o,headers:{"OpenAI-Beta":"assistants=v2",...o==null?void 0:o.headers}})}async createAndPoll(r,t,o){const n=await this.create(r,t,o);return await this.poll(r,n.id,o)}createAndStream(r,t,o){return AssistantStream.createAssistantStream(r,this._client.beta.threads.runs,t,o)}async poll(r,t,o){const n={...o==null?void 0:o.headers,"X-Stainless-Poll-Helper":"true"};for(o!=null&&o.pollIntervalMs&&(n["X-Stainless-Custom-Poll-Interval"]=o.pollIntervalMs.toString());;){const{data:u,response:a}=await this.retrieve(r,t,{...o,headers:{...o==null?void 0:o.headers,...n}}).withResponse();switch(u.status){case"queued":case"in_progress":case"cancelling":let s=5e3;if(o!=null&&o.pollIntervalMs)s=o.pollIntervalMs;else{const i=a.headers.get("openai-poll-after-ms");if(i){const c=parseInt(i);isNaN(c)||(s=c)}}await sleep(s);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return u}}}stream(r,t,o){return AssistantStream.createAssistantStream(r,this._client.beta.threads.runs,t,o)}submitToolOutputs(r,t,o,n){return this._client.post(`/threads/${r}/runs/${t}/submit_tool_outputs`,{body:o,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers},stream:o.stream??!1})}async submitToolOutputsAndPoll(r,t,o,n){const u=await this.submitToolOutputs(r,t,o,n);return await this.poll(r,u.id,n)}submitToolOutputsStream(r,t,o,n){return AssistantStream.createToolAssistantStream(r,t,this._client.beta.threads.runs,o,n)}}class RunsPage extends CursorPage{}Runs.RunsPage=RunsPage;Runs.Steps=Steps;Runs.RunStepsPage=RunStepsPage;class Threads extends APIResource{constructor(){super(...arguments),this.runs=new Runs(this._client),this.messages=new Messages(this._client)}create(r={},t){return isRequestOptions(r)?this.create({},r):this._client.post("/threads",{body:r,...t,headers:{"OpenAI-Beta":"assistants=v2",...t==null?void 0:t.headers}})}retrieve(r,t){return this._client.get(`/threads/${r}`,{...t,headers:{"OpenAI-Beta":"assistants=v2",...t==null?void 0:t.headers}})}update(r,t,o){return this._client.post(`/threads/${r}`,{body:t,...o,headers:{"OpenAI-Beta":"assistants=v2",...o==null?void 0:o.headers}})}del(r,t){return this._client.delete(`/threads/${r}`,{...t,headers:{"OpenAI-Beta":"assistants=v2",...t==null?void 0:t.headers}})}createAndRun(r,t){return this._client.post("/threads/runs",{body:r,...t,headers:{"OpenAI-Beta":"assistants=v2",...t==null?void 0:t.headers},stream:r.stream??!1})}async createAndRunPoll(r,t){const o=await this.createAndRun(r,t);return await this.runs.poll(o.thread_id,o.id,t)}createAndRunStream(r,t){return AssistantStream.createThreadAssistantStream(r,this._client.beta.threads,t)}}Threads.Runs=Runs;Threads.RunsPage=RunsPage;Threads.Messages=Messages;Threads.MessagesPage=MessagesPage;const allSettledWithThrow=async e=>{const r=await Promise.allSettled(e),t=r.filter(n=>n.status==="rejected");if(t.length){for(const n of t)console.error(n.reason);throw new Error(`${t.length} promise(s) failed - see the above errors`)}const o=[];for(const n of r)n.status==="fulfilled"&&o.push(n.value);return o};let Files$1=class extends APIResource{create(r,t,o){return this._client.post(`/vector_stores/${r}/files`,{body:t,...o,headers:{"OpenAI-Beta":"assistants=v2",...o==null?void 0:o.headers}})}retrieve(r,t,o){return this._client.get(`/vector_stores/${r}/files/${t}`,{...o,headers:{"OpenAI-Beta":"assistants=v2",...o==null?void 0:o.headers}})}list(r,t={},o){return isRequestOptions(t)?this.list(r,{},t):this._client.getAPIList(`/vector_stores/${r}/files`,VectorStoreFilesPage,{query:t,...o,headers:{"OpenAI-Beta":"assistants=v2",...o==null?void 0:o.headers}})}del(r,t,o){return this._client.delete(`/vector_stores/${r}/files/${t}`,{...o,headers:{"OpenAI-Beta":"assistants=v2",...o==null?void 0:o.headers}})}async createAndPoll(r,t,o){const n=await this.create(r,t,o);return await this.poll(r,n.id,o)}async poll(r,t,o){const n={...o==null?void 0:o.headers,"X-Stainless-Poll-Helper":"true"};for(o!=null&&o.pollIntervalMs&&(n["X-Stainless-Custom-Poll-Interval"]=o.pollIntervalMs.toString());;){const u=await this.retrieve(r,t,{...o,headers:n}).withResponse(),a=u.data;switch(a.status){case"in_progress":let s=5e3;if(o!=null&&o.pollIntervalMs)s=o.pollIntervalMs;else{const i=u.response.headers.get("openai-poll-after-ms");if(i){const c=parseInt(i);isNaN(c)||(s=c)}}await sleep(s);break;case"failed":case"completed":return a}}}async upload(r,t,o){const n=await this._client.files.create({file:t,purpose:"assistants"},o);return this.create(r,{file_id:n.id},o)}async uploadAndPoll(r,t,o){const n=await this.upload(r,t,o);return await this.poll(r,n.id,o)}};class VectorStoreFilesPage extends CursorPage{}Files$1.VectorStoreFilesPage=VectorStoreFilesPage;class FileBatches extends APIResource{create(r,t,o){return this._client.post(`/vector_stores/${r}/file_batches`,{body:t,...o,headers:{"OpenAI-Beta":"assistants=v2",...o==null?void 0:o.headers}})}retrieve(r,t,o){return this._client.get(`/vector_stores/${r}/file_batches/${t}`,{...o,headers:{"OpenAI-Beta":"assistants=v2",...o==null?void 0:o.headers}})}cancel(r,t,o){return this._client.post(`/vector_stores/${r}/file_batches/${t}/cancel`,{...o,headers:{"OpenAI-Beta":"assistants=v2",...o==null?void 0:o.headers}})}async createAndPoll(r,t,o){const n=await this.create(r,t);return await this.poll(r,n.id,o)}listFiles(r,t,o={},n){return isRequestOptions(o)?this.listFiles(r,t,{},o):this._client.getAPIList(`/vector_stores/${r}/file_batches/${t}/files`,VectorStoreFilesPage,{query:o,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}async poll(r,t,o){const n={...o==null?void 0:o.headers,"X-Stainless-Poll-Helper":"true"};for(o!=null&&o.pollIntervalMs&&(n["X-Stainless-Custom-Poll-Interval"]=o.pollIntervalMs.toString());;){const{data:u,response:a}=await this.retrieve(r,t,{...o,headers:n}).withResponse();switch(u.status){case"in_progress":let s=5e3;if(o!=null&&o.pollIntervalMs)s=o.pollIntervalMs;else{const i=a.headers.get("openai-poll-after-ms");if(i){const c=parseInt(i);isNaN(c)||(s=c)}}await sleep(s);break;case"failed":case"cancelled":case"completed":return u}}}async uploadAndPoll(r,{files:t,fileIds:o=[]},n){if(t==null||t.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const u=(n==null?void 0:n.maxConcurrency)??5,a=Math.min(u,t.length),s=this._client,i=t.values(),c=[...o];async function d(g){for(let m of g){const p=await s.files.create({file:m,purpose:"assistants"},n);c.push(p.id)}}const l=Array(a).fill(i).map(d);return await allSettledWithThrow(l),await this.createAndPoll(r,{file_ids:c})}}class VectorStores extends APIResource{constructor(){super(...arguments),this.files=new Files$1(this._client),this.fileBatches=new FileBatches(this._client)}create(r,t){return this._client.post("/vector_stores",{body:r,...t,headers:{"OpenAI-Beta":"assistants=v2",...t==null?void 0:t.headers}})}retrieve(r,t){return this._client.get(`/vector_stores/${r}`,{...t,headers:{"OpenAI-Beta":"assistants=v2",...t==null?void 0:t.headers}})}update(r,t,o){return this._client.post(`/vector_stores/${r}`,{body:t,...o,headers:{"OpenAI-Beta":"assistants=v2",...o==null?void 0:o.headers}})}list(r={},t){return isRequestOptions(r)?this.list({},r):this._client.getAPIList("/vector_stores",VectorStoresPage,{query:r,...t,headers:{"OpenAI-Beta":"assistants=v2",...t==null?void 0:t.headers}})}del(r,t){return this._client.delete(`/vector_stores/${r}`,{...t,headers:{"OpenAI-Beta":"assistants=v2",...t==null?void 0:t.headers}})}}class VectorStoresPage extends CursorPage{}VectorStores.VectorStoresPage=VectorStoresPage;VectorStores.Files=Files$1;VectorStores.VectorStoreFilesPage=VectorStoreFilesPage;VectorStores.FileBatches=FileBatches;class Beta extends APIResource{constructor(){super(...arguments),this.vectorStores=new VectorStores(this._client),this.chat=new Chat(this._client),this.assistants=new Assistants(this._client),this.threads=new Threads(this._client)}}Beta.VectorStores=VectorStores;Beta.VectorStoresPage=VectorStoresPage;Beta.Assistants=Assistants;Beta.AssistantsPage=AssistantsPage;Beta.Threads=Threads;class Completions extends APIResource{create(r,t){return this._client.post("/completions",{body:r,...t,stream:r.stream??!1})}}class Embeddings extends APIResource{create(r,t){return this._client.post("/embeddings",{body:r,...t})}}class Files extends APIResource{create(r,t){return this._client.post("/files",multipartFormRequestOptions({body:r,...t}))}retrieve(r,t){return this._client.get(`/files/${r}`,t)}list(r={},t){return isRequestOptions(r)?this.list({},r):this._client.getAPIList("/files",FileObjectsPage,{query:r,...t})}del(r,t){return this._client.delete(`/files/${r}`,t)}content(r,t){return this._client.get(`/files/${r}/content`,{...t,__binaryResponse:!0})}retrieveContent(r,t){return this._client.get(`/files/${r}/content`,{...t,headers:{Accept:"application/json",...t==null?void 0:t.headers}})}async waitForProcessing(r,{pollInterval:t=5e3,maxWait:o=30*60*1e3}={}){const n=new Set(["processed","error","deleted"]),u=Date.now();let a=await this.retrieve(r);for(;!a.status||!n.has(a.status);)if(await sleep(t),a=await this.retrieve(r),Date.now()-u>o)throw new APIConnectionTimeoutError({message:`Giving up on waiting for file ${r} to finish processing after ${o} milliseconds.`});return a}}class FileObjectsPage extends CursorPage{}Files.FileObjectsPage=FileObjectsPage;class Checkpoints extends APIResource{list(r,t={},o){return isRequestOptions(t)?this.list(r,{},t):this._client.getAPIList(`/fine_tuning/jobs/${r}/checkpoints`,FineTuningJobCheckpointsPage,{query:t,...o})}}class FineTuningJobCheckpointsPage extends CursorPage{}Checkpoints.FineTuningJobCheckpointsPage=FineTuningJobCheckpointsPage;class Jobs extends APIResource{constructor(){super(...arguments),this.checkpoints=new Checkpoints(this._client)}create(r,t){return this._client.post("/fine_tuning/jobs",{body:r,...t})}retrieve(r,t){return this._client.get(`/fine_tuning/jobs/${r}`,t)}list(r={},t){return isRequestOptions(r)?this.list({},r):this._client.getAPIList("/fine_tuning/jobs",FineTuningJobsPage,{query:r,...t})}cancel(r,t){return this._client.post(`/fine_tuning/jobs/${r}/cancel`,t)}listEvents(r,t={},o){return isRequestOptions(t)?this.listEvents(r,{},t):this._client.getAPIList(`/fine_tuning/jobs/${r}/events`,FineTuningJobEventsPage,{query:t,...o})}}class FineTuningJobsPage extends CursorPage{}class FineTuningJobEventsPage extends CursorPage{}Jobs.FineTuningJobsPage=FineTuningJobsPage;Jobs.FineTuningJobEventsPage=FineTuningJobEventsPage;Jobs.Checkpoints=Checkpoints;Jobs.FineTuningJobCheckpointsPage=FineTuningJobCheckpointsPage;class FineTuning extends APIResource{constructor(){super(...arguments),this.jobs=new Jobs(this._client)}}FineTuning.Jobs=Jobs;FineTuning.FineTuningJobsPage=FineTuningJobsPage;FineTuning.FineTuningJobEventsPage=FineTuningJobEventsPage;class Images extends APIResource{createVariation(r,t){return this._client.post("/images/variations",multipartFormRequestOptions({body:r,...t}))}edit(r,t){return this._client.post("/images/edits",multipartFormRequestOptions({body:r,...t}))}generate(r,t){return this._client.post("/images/generations",{body:r,...t})}}class Models extends APIResource{retrieve(r,t){return this._client.get(`/models/${r}`,t)}list(r){return this._client.getAPIList("/models",ModelsPage,r)}del(r,t){return this._client.delete(`/models/${r}`,t)}}class ModelsPage extends Page{}Models.ModelsPage=ModelsPage;class Moderations extends APIResource{create(r,t){return this._client.post("/moderations",{body:r,...t})}}class Parts extends APIResource{create(r,t,o){return this._client.post(`/uploads/${r}/parts`,multipartFormRequestOptions({body:t,...o}))}}class Uploads extends APIResource{constructor(){super(...arguments),this.parts=new Parts(this._client)}create(r,t){return this._client.post("/uploads",{body:r,...t})}cancel(r,t){return this._client.post(`/uploads/${r}/cancel`,t)}complete(r,t,o){return this._client.post(`/uploads/${r}/complete`,{body:t,...o})}}Uploads.Parts=Parts;var _a$1;class OpenAI extends APIClient{constructor({baseURL:r=readEnv("OPENAI_BASE_URL"),apiKey:t=readEnv("OPENAI_API_KEY"),organization:o=readEnv("OPENAI_ORG_ID")??null,project:n=readEnv("OPENAI_PROJECT_ID")??null,...u}={}){if(t===void 0)throw new OpenAIError("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");const a={apiKey:t,organization:o,project:n,...u,baseURL:r||"https://api.openai.com/v1"};if(!a.dangerouslyAllowBrowser&&isRunningInBrowser())throw new OpenAIError(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);super({baseURL:a.baseURL,timeout:a.timeout??6e5,httpAgent:a.httpAgent,maxRetries:a.maxRetries,fetch:a.fetch}),this.completions=new Completions(this),this.chat=new Chat$1(this),this.embeddings=new Embeddings(this),this.files=new Files(this),this.images=new Images(this),this.audio=new Audio(this),this.moderations=new Moderations(this),this.models=new Models(this),this.fineTuning=new FineTuning(this),this.beta=new Beta(this),this.batches=new Batches(this),this.uploads=new Uploads(this),this._options=a,this.apiKey=t,this.organization=o,this.project=n}defaultQuery(){return this._options.defaultQuery}defaultHeaders(r){return{...super.defaultHeaders(r),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project,...this._options.defaultHeaders}}authHeaders(r){return{Authorization:`Bearer ${this.apiKey}`}}stringifyQuery(r){return stringify(r,{arrayFormat:"brackets"})}}_a$1=OpenAI;OpenAI.OpenAI=_a$1;OpenAI.DEFAULT_TIMEOUT=6e5;OpenAI.OpenAIError=OpenAIError;OpenAI.APIError=APIError;OpenAI.APIConnectionError=APIConnectionError;OpenAI.APIConnectionTimeoutError=APIConnectionTimeoutError;OpenAI.APIUserAbortError=APIUserAbortError;OpenAI.NotFoundError=NotFoundError;OpenAI.ConflictError=ConflictError;OpenAI.RateLimitError=RateLimitError;OpenAI.BadRequestError=BadRequestError;OpenAI.AuthenticationError=AuthenticationError;OpenAI.InternalServerError=InternalServerError;OpenAI.PermissionDeniedError=PermissionDeniedError;OpenAI.UnprocessableEntityError=UnprocessableEntityError;OpenAI.toFile=toFile;OpenAI.fileFromPath=fileFromPath;OpenAI.Completions=Completions;OpenAI.Chat=Chat$1;OpenAI.Embeddings=Embeddings;OpenAI.Files=Files;OpenAI.FileObjectsPage=FileObjectsPage;OpenAI.Images=Images;OpenAI.Audio=Audio;OpenAI.Moderations=Moderations;OpenAI.Models=Models;OpenAI.ModelsPage=ModelsPage;OpenAI.FineTuning=FineTuning;OpenAI.Beta=Beta;OpenAI.Batches=Batches;OpenAI.BatchesPage=BatchesPage;OpenAI.Uploads=Uploads;class AiClient{constructor(r){B(this,"_api");B(this,"_axios");B(this,"baseURL");B(this,"apiKey");B(this,"defaultModel");this.baseURL=(r==null?void 0:r.baseURL)??"https://api.openai.com/v1",this.apiKey=(r==null?void 0:r.apiKey)??"",this.defaultModel=(r==null?void 0:r.defaultModel)??"gpt-3.5-turbo",this._api=new OpenAI({apiKey:this.apiKey,baseURL:this.baseURL,dangerouslyAllowBrowser:!0}),this._axios=axios.create({baseURL:this.baseURL,headers:{Authorization:`Bearer ${this.apiKey}`}})}loadDict(r){this.baseURL=(r==null?void 0:r.baseURL)??"https://api.openai.com/v1",this.apiKey=(r==null?void 0:r.apiKey)??"",this.defaultModel=(r==null?void 0:r.defaultModel)??"gpt-3.5-turbo"}async createChat__(r,t){return this._api.chat.completions.create(r,t)}async createChat(r,t){const o=await this._axios.post("/chat/completions",r,t);return o==null?void 0:o.data}async*createChatStream(r){var t;try{const o=await fetch(`${this.baseURL}/chat/completions`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.apiKey}`},body:JSON.stringify(r)});if(!o.ok)throw new Error(`HTTP error! status: ${o.status}`);const n=o.body.getReader(),u=new TextDecoder("utf-8");let a="";for(;;){const{done:s,value:i}=await n.read();if(s)break;const c=u.decode(i,{stream:!0});a+=c;const d=a.split(`
`);a=d.pop()??"";for(const l of d)if((t=l.trim())!=null&&t.length){console.log(l);try{const g=l.trim().slice(5).trim();if(g=="[DONE]"){yield{done:!0};continue}const m=JSON.parse(g);console.log(m),yield m}catch(g){console.error("Error parsing JSON:",g)}}}}catch(o){throw console.error("Error streaming LLM JSON data:",o),o}}async chat(r,t=void 0,o=[],n={}){var i,c;const u=await this.createChat({model:this.defaultModel,messages:[...t!=null&&t.length?[{role:"system",content:t}]:[],...o??[],{role:"user",content:r}],temperature:.4,...n??{}}),{choices:a=[]}=u;return(c=(i=a==null?void 0:a[0])==null?void 0:i.message)==null?void 0:c.content}async*chatStream(r,t=void 0,o=[],n={},u=!1){var a,s,i;for await(const c of this.createChatStream({model:this.defaultModel,messages:[...t!=null&&t.length?[{role:"system",content:t}]:[],...o??[],...u?[]:[{role:"user",content:r}]],temperature:.4,stream:!0,...n??{}})){if(c.done){yield{done:!0};break}yield(i=(s=(a=c==null?void 0:c.choices)==null?void 0:a[0])==null?void 0:s.delta)==null?void 0:i.content}}setAPIKey(r){this.apiKey=r,this._api.apiKey=r}setBaseURL(r){this.baseURL=r,this._api.baseURL=r}async listModels(){return(await this._axios.get("/models")).data}}const defaultTaskMark$1="[<[([[TASK]])]>]",defaultReqMark$1="[<[([[REQ]])]>]",defaultResMark$1="[<[([[RES]])]>]",defaultInstructionTemplate='\nJSON\n\n```[<[([[TASK]])]>]```\n\n```[<[([[REQ]])]>]```\nJSON\n```[<[([[RES]])]>]```\n\n- JSONmarkdown"\\`\\`\\`json...\\`\\`\\`"\n- JSON_msg\n'.trim(),defaultInstructionTemplateEN$1='\nYou are an AI function, which returns the processing result according to the parameters input by the user and outputs in JSON format.\nYour task is:\n```[<[([[TASK]])]>]```\nThe input format you accept is:\n```[<[([[REQ]])]>]```\nYou should return a JSON object in the format:\n```[<[([[RES]])]>]```\nNote:\n- You are a function, can only return JSON format, cannot return natural language content, and cannot attach markdown code block tags (i.e. a block wrapped in three backticks "\\`\\`\\`json...\\`\\`\\`").\n- If you really want to explain something, you can attach a `_msg` sting field in the returned JSON object, but it\'s not recommended.\n'.trim();class AiFunc{constructor(r){B(this,"name");B(this,"desc");B(this,"ai");B(this,"task");B(this,"reqFormat");B(this,"resFormat");B(this,"template");B(this,"taskMark");B(this,"reqMark");B(this,"resMark");B(this,"instruction");B(this,"schema");var t,o,n,u;this.name=(r==null?void 0:r.name)??"",this.desc=(r==null?void 0:r.desc)??"",this.ai=new AiClient(r==null?void 0:r.ai),this.task=(r==null?void 0:r.task)??"",this.reqFormat=(r==null?void 0:r.reqFormat)??"",this.resFormat=(r==null?void 0:r.resFormat)??"",_.isString(this.resFormat)||(this.resFormat=JSON.stringify(this.resFormat)),this.template=((t=r==null?void 0:r.template)!=null&&t.length?r==null?void 0:r.template:null)??defaultInstructionTemplateEN$1??defaultInstructionTemplate,this.taskMark=((o=r==null?void 0:r.taskMark)!=null&&o.length?r==null?void 0:r.taskMark:null)??defaultTaskMark$1,this.reqMark=((n=r==null?void 0:r.reqMark)!=null&&n.length?r==null?void 0:r.reqMark:null)??defaultReqMark$1,this.resMark=((u=r==null?void 0:r.resMark)!=null&&u.length?r==null?void 0:r.resMark:null)??defaultResMark$1,this.instruction=(r==null?void 0:r.instruction)??this.makeInstruction(),this.schema=r==null?void 0:r.schema}makeInstruction(r=this.task,t=this.reqFormat,o=this.resFormat){return this.template.replace(this.taskMark,r).replace(this.reqMark,t).replace(this.resMark,o)}async doTask(r,t=[],o={}){const n=_.isString(r)?r:JSON.stringify(r);let u=await this.ai.chat(n,this.instruction,t,o)??"";u=u.trim(),u.slice(0,3)=="```"&&(u=u.replace(/^```[^\n]+\n|```$/g,"").trim());try{return lib$2.parse(u)}catch(a){return{_error:"NOT_JSON",_output:u,_errorString:String(a)}}}async*doTaskStream(r,t=[],o={}){const n=_.isString(r)?r:JSON.stringify(r);for await(const u of this.ai.chatStream(n,this.instruction,t,o))yield u}}const DEFAULT_MODEL={label:"[[<DEFAULT>]]"},defaultBatchConfig={inputTemplate:"____",slotMark:"____",slotMarkIsRegExp:!1,itemsText:"  ",splitter:"[\\s\\n]+",splitterIsRegExp:!0,concurrency:1,showMore:!1,skip:0,limit:1/0,delay:700,retry:3,retryDaley:1e4,retryDaleyDelta:5e3},defaultTaskMark="[<[([[TASK]])]>]",defaultReqMark="[<[([[REQ]])]>]",defaultResMark="[<[([[RES]])]>]",defaultInstructionTemplateEN='\nYou are an AI function, which returns the processing result according to the parameters input by the user and outputs in JSON format.\nYour task is:\n```[<[([[TASK]])]>]```\nThe input format you accept is:\n```[<[([[REQ]])]>]```\nYou should return a JSON object in the format:\n```[<[([[RES]])]>]```\nNote:\n- You are a function, can only return JSON format, cannot return natural language content, and cannot attach markdown code block tags (i.e. a block wrapped in three backticks "\\`\\`\\`json...\\`\\`\\`").\n- If you really want to explain something, you can attach a `_msg` sting field in the returned JSON object, but it\'s not recommended.\n'.trim(),decodeCache={};function getDecodeCache(e){let r=decodeCache[e];if(r)return r;r=decodeCache[e]=[];for(let t=0;t<128;t++){const o=String.fromCharCode(t);r.push(o)}for(let t=0;t<e.length;t++){const o=e.charCodeAt(t);r[o]="%"+("0"+o.toString(16).toUpperCase()).slice(-2)}return r}function decode$1(e,r){typeof r!="string"&&(r=decode$1.defaultChars);const t=getDecodeCache(r);return e.replace(/(%[a-f0-9]{2})+/gi,function(o){let n="";for(let u=0,a=o.length;u<a;u+=3){const s=parseInt(o.slice(u+1,u+3),16);if(s<128){n+=t[s];continue}if((s&224)===192&&u+3<a){const i=parseInt(o.slice(u+4,u+6),16);if((i&192)===128){const c=s<<6&1984|i&63;c<128?n+="":n+=String.fromCharCode(c),u+=3;continue}}if((s&240)===224&&u+6<a){const i=parseInt(o.slice(u+4,u+6),16),c=parseInt(o.slice(u+7,u+9),16);if((i&192)===128&&(c&192)===128){const d=s<<12&61440|i<<6&4032|c&63;d<2048||d>=55296&&d<=57343?n+="":n+=String.fromCharCode(d),u+=6;continue}}if((s&248)===240&&u+9<a){const i=parseInt(o.slice(u+4,u+6),16),c=parseInt(o.slice(u+7,u+9),16),d=parseInt(o.slice(u+10,u+12),16);if((i&192)===128&&(c&192)===128&&(d&192)===128){let l=s<<18&1835008|i<<12&258048|c<<6&4032|d&63;l<65536||l>1114111?n+="":(l-=65536,n+=String.fromCharCode(55296+(l>>10),56320+(l&1023))),u+=9;continue}}n+=""}return n})}decode$1.defaultChars=";/?:@&=+$,#";decode$1.componentChars="";const encodeCache={};function getEncodeCache(e){let r=encodeCache[e];if(r)return r;r=encodeCache[e]=[];for(let t=0;t<128;t++){const o=String.fromCharCode(t);/^[0-9a-z]$/i.test(o)?r.push(o):r.push("%"+("0"+t.toString(16).toUpperCase()).slice(-2))}for(let t=0;t<e.length;t++)r[e.charCodeAt(t)]=e[t];return r}function encode$1(e,r,t){typeof r!="string"&&(t=r,r=encode$1.defaultChars),typeof t>"u"&&(t=!0);const o=getEncodeCache(r);let n="";for(let u=0,a=e.length;u<a;u++){const s=e.charCodeAt(u);if(t&&s===37&&u+2<a&&/^[0-9a-f]{2}$/i.test(e.slice(u+1,u+3))){n+=e.slice(u,u+3),u+=2;continue}if(s<128){n+=o[s];continue}if(s>=55296&&s<=57343){if(s>=55296&&s<=56319&&u+1<a){const i=e.charCodeAt(u+1);if(i>=56320&&i<=57343){n+=encodeURIComponent(e[u]+e[u+1]),u++;continue}}n+="%EF%BF%BD";continue}n+=encodeURIComponent(e[u])}return n}encode$1.defaultChars=";/?:@&=+$,-_.!~*'()#";encode$1.componentChars="-_.!~*'()";function format(e){let r="";return r+=e.protocol||"",r+=e.slashes?"//":"",r+=e.auth?e.auth+"@":"",e.hostname&&e.hostname.indexOf(":")!==-1?r+="["+e.hostname+"]":r+=e.hostname||"",r+=e.port?":"+e.port:"",r+=e.pathname||"",r+=e.search||"",r+=e.hash||"",r}function Url(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}const protocolPattern=/^([a-z0-9.+-]+:)/i,portPattern=/:[0-9]*$/,simplePathPattern=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,delims=["<",">",'"',"`"," ","\r",`
`,"	"],unwise=["{","}","|","\\","^","`"].concat(delims),autoEscape=["'"].concat(unwise),nonHostChars=["%","/","?",";","#"].concat(autoEscape),hostEndingChars=["/","?","#"],hostnameMaxLen=255,hostnamePartPattern=/^[+a-z0-9A-Z_-]{0,63}$/,hostnamePartStart=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,hostlessProtocol={javascript:!0,"javascript:":!0},slashedProtocol={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function urlParse(e,r){if(e&&e instanceof Url)return e;const t=new Url;return t.parse(e,r),t}Url.prototype.parse=function(e,r){let t,o,n,u=e;if(u=u.trim(),!r&&e.split("#").length===1){const c=simplePathPattern.exec(u);if(c)return this.pathname=c[1],c[2]&&(this.search=c[2]),this}let a=protocolPattern.exec(u);if(a&&(a=a[0],t=a.toLowerCase(),this.protocol=a,u=u.substr(a.length)),(r||a||u.match(/^\/\/[^@\/]+@[^@\/]+/))&&(n=u.substr(0,2)==="//",n&&!(a&&hostlessProtocol[a])&&(u=u.substr(2),this.slashes=!0)),!hostlessProtocol[a]&&(n||a&&!slashedProtocol[a])){let c=-1;for(let p=0;p<hostEndingChars.length;p++)o=u.indexOf(hostEndingChars[p]),o!==-1&&(c===-1||o<c)&&(c=o);let d,l;c===-1?l=u.lastIndexOf("@"):l=u.lastIndexOf("@",c),l!==-1&&(d=u.slice(0,l),u=u.slice(l+1),this.auth=d),c=-1;for(let p=0;p<nonHostChars.length;p++)o=u.indexOf(nonHostChars[p]),o!==-1&&(c===-1||o<c)&&(c=o);c===-1&&(c=u.length),u[c-1]===":"&&c--;const g=u.slice(0,c);u=u.slice(c),this.parseHost(g),this.hostname=this.hostname||"";const m=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!m){const p=this.hostname.split(/\./);for(let b=0,y=p.length;b<y;b++){const w=p[b];if(w&&!w.match(hostnamePartPattern)){let f="";for(let k=0,x=w.length;k<x;k++)w.charCodeAt(k)>127?f+="x":f+=w[k];if(!f.match(hostnamePartPattern)){const k=p.slice(0,b),x=p.slice(b+1),v=w.match(hostnamePartStart);v&&(k.push(v[1]),x.unshift(v[2])),x.length&&(u=x.join(".")+u),this.hostname=k.join(".");break}}}}this.hostname.length>hostnameMaxLen&&(this.hostname=""),m&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}const s=u.indexOf("#");s!==-1&&(this.hash=u.substr(s),u=u.slice(0,s));const i=u.indexOf("?");return i!==-1&&(this.search=u.substr(i),u=u.slice(0,i)),u&&(this.pathname=u),slashedProtocol[t]&&this.hostname&&!this.pathname&&(this.pathname=""),this};Url.prototype.parseHost=function(e){let r=portPattern.exec(e);r&&(r=r[0],r!==":"&&(this.port=r.substr(1)),e=e.substr(0,e.length-r.length)),e&&(this.hostname=e)};const mdurl=Object.freeze(Object.defineProperty({__proto__:null,decode:decode$1,encode:encode$1,format,parse:urlParse},Symbol.toStringTag,{value:"Module"})),Any=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,Cc=/[\0-\x1F\x7F-\x9F]/,regex$1=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u0890\u0891\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD80D[\uDC30-\uDC3F]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/,P=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/,regex=/[\$\+<->\^`\|~\xA2-\xA6\xA8\xA9\xAC\xAE-\xB1\xB4\xB8\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u0384\u0385\u03F6\u0482\u058D-\u058F\u0606-\u0608\u060B\u060E\u060F\u06DE\u06E9\u06FD\u06FE\u07F6\u07FE\u07FF\u0888\u09F2\u09F3\u09FA\u09FB\u0AF1\u0B70\u0BF3-\u0BFA\u0C7F\u0D4F\u0D79\u0E3F\u0F01-\u0F03\u0F13\u0F15-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE\u0FCF\u0FD5-\u0FD8\u109E\u109F\u1390-\u1399\u166D\u17DB\u1940\u19DE-\u19FF\u1B61-\u1B6A\u1B74-\u1B7C\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2044\u2052\u207A-\u207C\u208A-\u208C\u20A0-\u20C0\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2307\u230C-\u2328\u232B-\u2426\u2440-\u244A\u249C-\u24E9\u2500-\u2767\u2794-\u27C4\u27C7-\u27E5\u27F0-\u2982\u2999-\u29D7\u29DC-\u29FB\u29FE-\u2B73\u2B76-\u2B95\u2B97-\u2BFF\u2CE5-\u2CEA\u2E50\u2E51\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFF\u3004\u3012\u3013\u3020\u3036\u3037\u303E\u303F\u309B\u309C\u3190\u3191\u3196-\u319F\u31C0-\u31E3\u31EF\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uAA77-\uAA79\uAB5B\uAB6A\uAB6B\uFB29\uFBB2-\uFBC2\uFD40-\uFD4F\uFDCF\uFDFC-\uFDFF\uFE62\uFE64-\uFE66\uFE69\uFF04\uFF0B\uFF1C-\uFF1E\uFF3E\uFF40\uFF5C\uFF5E\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC]|\uD802[\uDC77\uDC78\uDEC8]|\uD805\uDF3F|\uD807[\uDFD5-\uDFF1]|\uD81A[\uDF3C-\uDF3F\uDF45]|\uD82F\uDC9C|\uD833[\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85\uDE86]|\uD838[\uDD4F\uDEFF]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED7\uDEDC-\uDEEC\uDEF0-\uDEFC\uDF00-\uDF76\uDF7B-\uDFD9\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0\uDCB1\uDD00-\uDE53\uDE60-\uDE6D\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC5\uDECE-\uDEDB\uDEE0-\uDEE8\uDEF0-\uDEF8\uDF00-\uDF92\uDF94-\uDFCA]/,Z=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,ucmicro=Object.freeze(Object.defineProperty({__proto__:null,Any,Cc,Cf:regex$1,P,S:regex,Z},Symbol.toStringTag,{value:"Module"})),htmlDecodeTree=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(e=>e.charCodeAt(0))),xmlDecodeTree=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(e=>e.charCodeAt(0)));var _a;const decodeMap=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),fromCodePoint$1=(_a=String.fromCodePoint)!==null&&_a!==void 0?_a:function(e){let r="";return e>65535&&(e-=65536,r+=String.fromCharCode(e>>>10&1023|55296),e=56320|e&1023),r+=String.fromCharCode(e),r};function replaceCodePoint(e){var r;return e>=55296&&e<=57343||e>1114111?65533:(r=decodeMap.get(e))!==null&&r!==void 0?r:e}var CharCodes;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(CharCodes||(CharCodes={}));const TO_LOWER_BIT=32;var BinTrieFlags;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(BinTrieFlags||(BinTrieFlags={}));function isNumber(e){return e>=CharCodes.ZERO&&e<=CharCodes.NINE}function isHexadecimalCharacter(e){return e>=CharCodes.UPPER_A&&e<=CharCodes.UPPER_F||e>=CharCodes.LOWER_A&&e<=CharCodes.LOWER_F}function isAsciiAlphaNumeric(e){return e>=CharCodes.UPPER_A&&e<=CharCodes.UPPER_Z||e>=CharCodes.LOWER_A&&e<=CharCodes.LOWER_Z||isNumber(e)}function isEntityInAttributeInvalidEnd(e){return e===CharCodes.EQUALS||isAsciiAlphaNumeric(e)}var EntityDecoderState;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(EntityDecoderState||(EntityDecoderState={}));var DecodingMode;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(DecodingMode||(DecodingMode={}));class EntityDecoder{constructor(r,t,o){this.decodeTree=r,this.emitCodePoint=t,this.errors=o,this.state=EntityDecoderState.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=DecodingMode.Strict}startEntity(r){this.decodeMode=r,this.state=EntityDecoderState.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(r,t){switch(this.state){case EntityDecoderState.EntityStart:return r.charCodeAt(t)===CharCodes.NUM?(this.state=EntityDecoderState.NumericStart,this.consumed+=1,this.stateNumericStart(r,t+1)):(this.state=EntityDecoderState.NamedEntity,this.stateNamedEntity(r,t));case EntityDecoderState.NumericStart:return this.stateNumericStart(r,t);case EntityDecoderState.NumericDecimal:return this.stateNumericDecimal(r,t);case EntityDecoderState.NumericHex:return this.stateNumericHex(r,t);case EntityDecoderState.NamedEntity:return this.stateNamedEntity(r,t)}}stateNumericStart(r,t){return t>=r.length?-1:(r.charCodeAt(t)|TO_LOWER_BIT)===CharCodes.LOWER_X?(this.state=EntityDecoderState.NumericHex,this.consumed+=1,this.stateNumericHex(r,t+1)):(this.state=EntityDecoderState.NumericDecimal,this.stateNumericDecimal(r,t))}addToNumericResult(r,t,o,n){if(t!==o){const u=o-t;this.result=this.result*Math.pow(n,u)+parseInt(r.substr(t,u),n),this.consumed+=u}}stateNumericHex(r,t){const o=t;for(;t<r.length;){const n=r.charCodeAt(t);if(isNumber(n)||isHexadecimalCharacter(n))t+=1;else return this.addToNumericResult(r,o,t,16),this.emitNumericEntity(n,3)}return this.addToNumericResult(r,o,t,16),-1}stateNumericDecimal(r,t){const o=t;for(;t<r.length;){const n=r.charCodeAt(t);if(isNumber(n))t+=1;else return this.addToNumericResult(r,o,t,10),this.emitNumericEntity(n,2)}return this.addToNumericResult(r,o,t,10),-1}emitNumericEntity(r,t){var o;if(this.consumed<=t)return(o=this.errors)===null||o===void 0||o.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(r===CharCodes.SEMI)this.consumed+=1;else if(this.decodeMode===DecodingMode.Strict)return 0;return this.emitCodePoint(replaceCodePoint(this.result),this.consumed),this.errors&&(r!==CharCodes.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(r,t){const{decodeTree:o}=this;let n=o[this.treeIndex],u=(n&BinTrieFlags.VALUE_LENGTH)>>14;for(;t<r.length;t++,this.excess++){const a=r.charCodeAt(t);if(this.treeIndex=determineBranch(o,n,this.treeIndex+Math.max(1,u),a),this.treeIndex<0)return this.result===0||this.decodeMode===DecodingMode.Attribute&&(u===0||isEntityInAttributeInvalidEnd(a))?0:this.emitNotTerminatedNamedEntity();if(n=o[this.treeIndex],u=(n&BinTrieFlags.VALUE_LENGTH)>>14,u!==0){if(a===CharCodes.SEMI)return this.emitNamedEntityData(this.treeIndex,u,this.consumed+this.excess);this.decodeMode!==DecodingMode.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var r;const{result:t,decodeTree:o}=this,n=(o[t]&BinTrieFlags.VALUE_LENGTH)>>14;return this.emitNamedEntityData(t,n,this.consumed),(r=this.errors)===null||r===void 0||r.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(r,t,o){const{decodeTree:n}=this;return this.emitCodePoint(t===1?n[r]&~BinTrieFlags.VALUE_LENGTH:n[r+1],o),t===3&&this.emitCodePoint(n[r+2],o),o}end(){var r;switch(this.state){case EntityDecoderState.NamedEntity:return this.result!==0&&(this.decodeMode!==DecodingMode.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case EntityDecoderState.NumericDecimal:return this.emitNumericEntity(0,2);case EntityDecoderState.NumericHex:return this.emitNumericEntity(0,3);case EntityDecoderState.NumericStart:return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case EntityDecoderState.EntityStart:return 0}}}function getDecoder(e){let r="";const t=new EntityDecoder(e,o=>r+=fromCodePoint$1(o));return function(n,u){let a=0,s=0;for(;(s=n.indexOf("&",s))>=0;){r+=n.slice(a,s),t.startEntity(u);const c=t.write(n,s+1);if(c<0){a=s+t.end();break}a=s+c,s=c===0?a+1:a}const i=r+n.slice(a);return r="",i}}function determineBranch(e,r,t,o){const n=(r&BinTrieFlags.BRANCH_LENGTH)>>7,u=r&BinTrieFlags.JUMP_TABLE;if(n===0)return u!==0&&o===u?t:-1;if(u){const i=o-u;return i<0||i>=n?-1:e[t+i]-1}let a=t,s=a+n-1;for(;a<=s;){const i=a+s>>>1,c=e[i];if(c<o)a=i+1;else if(c>o)s=i-1;else return e[i+n]}return-1}const htmlDecoder=getDecoder(htmlDecodeTree);getDecoder(xmlDecodeTree);function decodeHTML(e,r=DecodingMode.Legacy){return htmlDecoder(e,r)}function _class$1(e){return Object.prototype.toString.call(e)}function isString$1(e){return _class$1(e)==="[object String]"}const _hasOwnProperty=Object.prototype.hasOwnProperty;function has(e,r){return _hasOwnProperty.call(e,r)}function assign$1(e){return Array.prototype.slice.call(arguments,1).forEach(function(t){if(t){if(typeof t!="object")throw new TypeError(t+"must be object");Object.keys(t).forEach(function(o){e[o]=t[o]})}}),e}function arrayReplaceAt(e,r,t){return[].concat(e.slice(0,r),t,e.slice(r+1))}function isValidEntityCode(e){return!(e>=55296&&e<=57343||e>=64976&&e<=65007||(e&65535)===65535||(e&65535)===65534||e>=0&&e<=8||e===11||e>=14&&e<=31||e>=127&&e<=159||e>1114111)}function fromCodePoint(e){if(e>65535){e-=65536;const r=55296+(e>>10),t=56320+(e&1023);return String.fromCharCode(r,t)}return String.fromCharCode(e)}const UNESCAPE_MD_RE=/\\([!"#$%&'()*+,\-./:;<=>?@[\\\]^_`{|}~])/g,ENTITY_RE=/&([a-z#][a-z0-9]{1,31});/gi,UNESCAPE_ALL_RE=new RegExp(UNESCAPE_MD_RE.source+"|"+ENTITY_RE.source,"gi"),DIGITAL_ENTITY_TEST_RE=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))$/i;function replaceEntityPattern(e,r){if(r.charCodeAt(0)===35&&DIGITAL_ENTITY_TEST_RE.test(r)){const o=r[1].toLowerCase()==="x"?parseInt(r.slice(2),16):parseInt(r.slice(1),10);return isValidEntityCode(o)?fromCodePoint(o):e}const t=decodeHTML(e);return t!==e?t:e}function unescapeMd(e){return e.indexOf("\\")<0?e:e.replace(UNESCAPE_MD_RE,"$1")}function unescapeAll(e){return e.indexOf("\\")<0&&e.indexOf("&")<0?e:e.replace(UNESCAPE_ALL_RE,function(r,t,o){return t||replaceEntityPattern(r,o)})}const HTML_ESCAPE_TEST_RE=/[&<>"]/,HTML_ESCAPE_REPLACE_RE=/[&<>"]/g,HTML_REPLACEMENTS={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function replaceUnsafeChar(e){return HTML_REPLACEMENTS[e]}function escapeHtml(e){return HTML_ESCAPE_TEST_RE.test(e)?e.replace(HTML_ESCAPE_REPLACE_RE,replaceUnsafeChar):e}const REGEXP_ESCAPE_RE=/[.?*+^$[\]\\(){}|-]/g;function escapeRE$1(e){return e.replace(REGEXP_ESCAPE_RE,"\\$&")}function isSpace(e){switch(e){case 9:case 32:return!0}return!1}function isWhiteSpace(e){if(e>=8192&&e<=8202)return!0;switch(e){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}function isPunctChar(e){return P.test(e)||regex.test(e)}function isMdAsciiPunct(e){switch(e){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}function normalizeReference(e){return e=e.trim().replace(/\s+/g," "),"".toLowerCase()===""&&(e=e.replace(//g,"")),e.toLowerCase().toUpperCase()}const lib={mdurl,ucmicro},utils=Object.freeze(Object.defineProperty({__proto__:null,arrayReplaceAt,assign:assign$1,escapeHtml,escapeRE:escapeRE$1,fromCodePoint,has,isMdAsciiPunct,isPunctChar,isSpace,isString:isString$1,isValidEntityCode,isWhiteSpace,lib,normalizeReference,unescapeAll,unescapeMd},Symbol.toStringTag,{value:"Module"}));function parseLinkLabel(e,r,t){let o,n,u,a;const s=e.posMax,i=e.pos;for(e.pos=r+1,o=1;e.pos<s;){if(u=e.src.charCodeAt(e.pos),u===93&&(o--,o===0)){n=!0;break}if(a=e.pos,e.md.inline.skipToken(e),u===91){if(a===e.pos-1)o++;else if(t)return e.pos=i,-1}}let c=-1;return n&&(c=e.pos),e.pos=i,c}function parseLinkDestination(e,r,t){let o,n=r;const u={ok:!1,pos:0,str:""};if(e.charCodeAt(n)===60){for(n++;n<t;){if(o=e.charCodeAt(n),o===10||o===60)return u;if(o===62)return u.pos=n+1,u.str=unescapeAll(e.slice(r+1,n)),u.ok=!0,u;if(o===92&&n+1<t){n+=2;continue}n++}return u}let a=0;for(;n<t&&(o=e.charCodeAt(n),!(o===32||o<32||o===127));){if(o===92&&n+1<t){if(e.charCodeAt(n+1)===32)break;n+=2;continue}if(o===40&&(a++,a>32))return u;if(o===41){if(a===0)break;a--}n++}return r===n||a!==0||(u.str=unescapeAll(e.slice(r,n)),u.pos=n,u.ok=!0),u}function parseLinkTitle(e,r,t,o){let n,u=r;const a={ok:!1,can_continue:!1,pos:0,str:"",marker:0};if(o)a.str=o.str,a.marker=o.marker;else{if(u>=t)return a;let s=e.charCodeAt(u);if(s!==34&&s!==39&&s!==40)return a;r++,u++,s===40&&(s=41),a.marker=s}for(;u<t;){if(n=e.charCodeAt(u),n===a.marker)return a.pos=u+1,a.str+=unescapeAll(e.slice(r,u)),a.ok=!0,a;if(n===40&&a.marker===41)return a;n===92&&u+1<t&&u++,u++}return a.can_continue=!0,a.str+=unescapeAll(e.slice(r,u)),a}const helpers=Object.freeze(Object.defineProperty({__proto__:null,parseLinkDestination,parseLinkLabel,parseLinkTitle},Symbol.toStringTag,{value:"Module"})),default_rules={};default_rules.code_inline=function(e,r,t,o,n){const u=e[r];return"<code"+n.renderAttrs(u)+">"+escapeHtml(u.content)+"</code>"};default_rules.code_block=function(e,r,t,o,n){const u=e[r];return"<pre"+n.renderAttrs(u)+"><code>"+escapeHtml(e[r].content)+`</code></pre>
`};default_rules.fence=function(e,r,t,o,n){const u=e[r],a=u.info?unescapeAll(u.info).trim():"";let s="",i="";if(a){const d=a.split(/(\s+)/g);s=d[0],i=d.slice(2).join("")}let c;if(t.highlight?c=t.highlight(u.content,s,i)||escapeHtml(u.content):c=escapeHtml(u.content),c.indexOf("<pre")===0)return c+`
`;if(a){const d=u.attrIndex("class"),l=u.attrs?u.attrs.slice():[];d<0?l.push(["class",t.langPrefix+s]):(l[d]=l[d].slice(),l[d][1]+=" "+t.langPrefix+s);const g={attrs:l};return`<pre><code${n.renderAttrs(g)}>${c}</code></pre>
`}return`<pre><code${n.renderAttrs(u)}>${c}</code></pre>
`};default_rules.image=function(e,r,t,o,n){const u=e[r];return u.attrs[u.attrIndex("alt")][1]=n.renderInlineAsText(u.children,t,o),n.renderToken(e,r,t)};default_rules.hardbreak=function(e,r,t){return t.xhtmlOut?`<br />
`:`<br>
`};default_rules.softbreak=function(e,r,t){return t.breaks?t.xhtmlOut?`<br />
`:`<br>
`:`
`};default_rules.text=function(e,r){return escapeHtml(e[r].content)};default_rules.html_block=function(e,r){return e[r].content};default_rules.html_inline=function(e,r){return e[r].content};function Renderer(){this.rules=assign$1({},default_rules)}Renderer.prototype.renderAttrs=function e(r){let t,o,n;if(!r.attrs)return"";for(n="",t=0,o=r.attrs.length;t<o;t++)n+=" "+escapeHtml(r.attrs[t][0])+'="'+escapeHtml(r.attrs[t][1])+'"';return n};Renderer.prototype.renderToken=function e(r,t,o){const n=r[t];let u="";if(n.hidden)return"";n.block&&n.nesting!==-1&&t&&r[t-1].hidden&&(u+=`
`),u+=(n.nesting===-1?"</":"<")+n.tag,u+=this.renderAttrs(n),n.nesting===0&&o.xhtmlOut&&(u+=" /");let a=!1;if(n.block&&(a=!0,n.nesting===1&&t+1<r.length)){const s=r[t+1];(s.type==="inline"||s.hidden||s.nesting===-1&&s.tag===n.tag)&&(a=!1)}return u+=a?`>
`:">",u};Renderer.prototype.renderInline=function(e,r,t){let o="";const n=this.rules;for(let u=0,a=e.length;u<a;u++){const s=e[u].type;typeof n[s]<"u"?o+=n[s](e,u,r,t,this):o+=this.renderToken(e,u,r)}return o};Renderer.prototype.renderInlineAsText=function(e,r,t){let o="";for(let n=0,u=e.length;n<u;n++)switch(e[n].type){case"text":o+=e[n].content;break;case"image":o+=this.renderInlineAsText(e[n].children,r,t);break;case"html_inline":case"html_block":o+=e[n].content;break;case"softbreak":case"hardbreak":o+=`
`;break}return o};Renderer.prototype.render=function(e,r,t){let o="";const n=this.rules;for(let u=0,a=e.length;u<a;u++){const s=e[u].type;s==="inline"?o+=this.renderInline(e[u].children,r,t):typeof n[s]<"u"?o+=n[s](e,u,r,t,this):o+=this.renderToken(e,u,r,t)}return o};function Ruler(){this.__rules__=[],this.__cache__=null}Ruler.prototype.__find__=function(e){for(let r=0;r<this.__rules__.length;r++)if(this.__rules__[r].name===e)return r;return-1};Ruler.prototype.__compile__=function(){const e=this,r=[""];e.__rules__.forEach(function(t){t.enabled&&t.alt.forEach(function(o){r.indexOf(o)<0&&r.push(o)})}),e.__cache__={},r.forEach(function(t){e.__cache__[t]=[],e.__rules__.forEach(function(o){o.enabled&&(t&&o.alt.indexOf(t)<0||e.__cache__[t].push(o.fn))})})};Ruler.prototype.at=function(e,r,t){const o=this.__find__(e),n=t||{};if(o===-1)throw new Error("Parser rule not found: "+e);this.__rules__[o].fn=r,this.__rules__[o].alt=n.alt||[],this.__cache__=null};Ruler.prototype.before=function(e,r,t,o){const n=this.__find__(e),u=o||{};if(n===-1)throw new Error("Parser rule not found: "+e);this.__rules__.splice(n,0,{name:r,enabled:!0,fn:t,alt:u.alt||[]}),this.__cache__=null};Ruler.prototype.after=function(e,r,t,o){const n=this.__find__(e),u=o||{};if(n===-1)throw new Error("Parser rule not found: "+e);this.__rules__.splice(n+1,0,{name:r,enabled:!0,fn:t,alt:u.alt||[]}),this.__cache__=null};Ruler.prototype.push=function(e,r,t){const o=t||{};this.__rules__.push({name:e,enabled:!0,fn:r,alt:o.alt||[]}),this.__cache__=null};Ruler.prototype.enable=function(e,r){Array.isArray(e)||(e=[e]);const t=[];return e.forEach(function(o){const n=this.__find__(o);if(n<0){if(r)return;throw new Error("Rules manager: invalid rule name "+o)}this.__rules__[n].enabled=!0,t.push(o)},this),this.__cache__=null,t};Ruler.prototype.enableOnly=function(e,r){Array.isArray(e)||(e=[e]),this.__rules__.forEach(function(t){t.enabled=!1}),this.enable(e,r)};Ruler.prototype.disable=function(e,r){Array.isArray(e)||(e=[e]);const t=[];return e.forEach(function(o){const n=this.__find__(o);if(n<0){if(r)return;throw new Error("Rules manager: invalid rule name "+o)}this.__rules__[n].enabled=!1,t.push(o)},this),this.__cache__=null,t};Ruler.prototype.getRules=function(e){return this.__cache__===null&&this.__compile__(),this.__cache__[e]||[]};function Token(e,r,t){this.type=e,this.tag=r,this.attrs=null,this.map=null,this.nesting=t,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}Token.prototype.attrIndex=function e(r){if(!this.attrs)return-1;const t=this.attrs;for(let o=0,n=t.length;o<n;o++)if(t[o][0]===r)return o;return-1};Token.prototype.attrPush=function e(r){this.attrs?this.attrs.push(r):this.attrs=[r]};Token.prototype.attrSet=function e(r,t){const o=this.attrIndex(r),n=[r,t];o<0?this.attrPush(n):this.attrs[o]=n};Token.prototype.attrGet=function e(r){const t=this.attrIndex(r);let o=null;return t>=0&&(o=this.attrs[t][1]),o};Token.prototype.attrJoin=function e(r,t){const o=this.attrIndex(r);o<0?this.attrPush([r,t]):this.attrs[o][1]=this.attrs[o][1]+" "+t};function StateCore(e,r,t){this.src=e,this.env=t,this.tokens=[],this.inlineMode=!1,this.md=r}StateCore.prototype.Token=Token;const NEWLINES_RE=/\r\n?|\n/g,NULL_RE=/\0/g;function normalize(e){let r;r=e.src.replace(NEWLINES_RE,`
`),r=r.replace(NULL_RE,""),e.src=r}function block(e){let r;e.inlineMode?(r=new e.Token("inline","",0),r.content=e.src,r.map=[0,1],r.children=[],e.tokens.push(r)):e.md.block.parse(e.src,e.md,e.env,e.tokens)}function inline(e){const r=e.tokens;for(let t=0,o=r.length;t<o;t++){const n=r[t];n.type==="inline"&&e.md.inline.parse(n.content,e.md,e.env,n.children)}}function isLinkOpen$1(e){return/^<a[>\s]/i.test(e)}function isLinkClose$1(e){return/^<\/a\s*>/i.test(e)}function linkify$1(e){const r=e.tokens;if(e.md.options.linkify)for(let t=0,o=r.length;t<o;t++){if(r[t].type!=="inline"||!e.md.linkify.pretest(r[t].content))continue;let n=r[t].children,u=0;for(let a=n.length-1;a>=0;a--){const s=n[a];if(s.type==="link_close"){for(a--;n[a].level!==s.level&&n[a].type!=="link_open";)a--;continue}if(s.type==="html_inline"&&(isLinkOpen$1(s.content)&&u>0&&u--,isLinkClose$1(s.content)&&u++),!(u>0)&&s.type==="text"&&e.md.linkify.test(s.content)){const i=s.content;let c=e.md.linkify.match(i);const d=[];let l=s.level,g=0;c.length>0&&c[0].index===0&&a>0&&n[a-1].type==="text_special"&&(c=c.slice(1));for(let m=0;m<c.length;m++){const p=c[m].url,b=e.md.normalizeLink(p);if(!e.md.validateLink(b))continue;let y=c[m].text;c[m].schema?c[m].schema==="mailto:"&&!/^mailto:/i.test(y)?y=e.md.normalizeLinkText("mailto:"+y).replace(/^mailto:/,""):y=e.md.normalizeLinkText(y):y=e.md.normalizeLinkText("http://"+y).replace(/^http:\/\//,"");const w=c[m].index;if(w>g){const v=new e.Token("text","",0);v.content=i.slice(g,w),v.level=l,d.push(v)}const f=new e.Token("link_open","a",1);f.attrs=[["href",b]],f.level=l++,f.markup="linkify",f.info="auto",d.push(f);const k=new e.Token("text","",0);k.content=y,k.level=l,d.push(k);const x=new e.Token("link_close","a",-1);x.level=--l,x.markup="linkify",x.info="auto",d.push(x),g=c[m].lastIndex}if(g<i.length){const m=new e.Token("text","",0);m.content=i.slice(g),m.level=l,d.push(m)}r[t].children=n=arrayReplaceAt(n,a,d)}}}}const RARE_RE=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,SCOPED_ABBR_TEST_RE=/\((c|tm|r)\)/i,SCOPED_ABBR_RE=/\((c|tm|r)\)/ig,SCOPED_ABBR={c:"",r:"",tm:""};function replaceFn(e,r){return SCOPED_ABBR[r.toLowerCase()]}function replace_scoped(e){let r=0;for(let t=e.length-1;t>=0;t--){const o=e[t];o.type==="text"&&!r&&(o.content=o.content.replace(SCOPED_ABBR_RE,replaceFn)),o.type==="link_open"&&o.info==="auto"&&r--,o.type==="link_close"&&o.info==="auto"&&r++}}function replace_rare(e){let r=0;for(let t=e.length-1;t>=0;t--){const o=e[t];o.type==="text"&&!r&&RARE_RE.test(o.content)&&(o.content=o.content.replace(/\+-/g,"").replace(/\.{2,}/g,"").replace(/([?!])/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/mg,"$1").replace(/(^|\s)--(?=\s|$)/mg,"$1").replace(/(^|[^-\s])--(?=[^-\s]|$)/mg,"$1")),o.type==="link_open"&&o.info==="auto"&&r--,o.type==="link_close"&&o.info==="auto"&&r++}}function replace(e){let r;if(e.md.options.typographer)for(r=e.tokens.length-1;r>=0;r--)e.tokens[r].type==="inline"&&(SCOPED_ABBR_TEST_RE.test(e.tokens[r].content)&&replace_scoped(e.tokens[r].children),RARE_RE.test(e.tokens[r].content)&&replace_rare(e.tokens[r].children))}const QUOTE_TEST_RE=/['"]/,QUOTE_RE=/['"]/g,APOSTROPHE="";function replaceAt(e,r,t){return e.slice(0,r)+t+e.slice(r+1)}function process_inlines(e,r){let t;const o=[];for(let n=0;n<e.length;n++){const u=e[n],a=e[n].level;for(t=o.length-1;t>=0&&!(o[t].level<=a);t--);if(o.length=t+1,u.type!=="text")continue;let s=u.content,i=0,c=s.length;e:for(;i<c;){QUOTE_RE.lastIndex=i;const d=QUOTE_RE.exec(s);if(!d)break;let l=!0,g=!0;i=d.index+1;const m=d[0]==="'";let p=32;if(d.index-1>=0)p=s.charCodeAt(d.index-1);else for(t=n-1;t>=0&&!(e[t].type==="softbreak"||e[t].type==="hardbreak");t--)if(e[t].content){p=e[t].content.charCodeAt(e[t].content.length-1);break}let b=32;if(i<c)b=s.charCodeAt(i);else for(t=n+1;t<e.length&&!(e[t].type==="softbreak"||e[t].type==="hardbreak");t++)if(e[t].content){b=e[t].content.charCodeAt(0);break}const y=isMdAsciiPunct(p)||isPunctChar(String.fromCharCode(p)),w=isMdAsciiPunct(b)||isPunctChar(String.fromCharCode(b)),f=isWhiteSpace(p),k=isWhiteSpace(b);if(k?l=!1:w&&(f||y||(l=!1)),f?g=!1:y&&(k||w||(g=!1)),b===34&&d[0]==='"'&&p>=48&&p<=57&&(g=l=!1),l&&g&&(l=y,g=w),!l&&!g){m&&(u.content=replaceAt(u.content,d.index,APOSTROPHE));continue}if(g)for(t=o.length-1;t>=0;t--){let x=o[t];if(o[t].level<a)break;if(x.single===m&&o[t].level===a){x=o[t];let v,C;m?(v=r.md.options.quotes[2],C=r.md.options.quotes[3]):(v=r.md.options.quotes[0],C=r.md.options.quotes[1]),u.content=replaceAt(u.content,d.index,C),e[x.token].content=replaceAt(e[x.token].content,x.pos,v),i+=C.length-1,x.token===n&&(i+=v.length-1),s=u.content,c=s.length,o.length=t;continue e}}l?o.push({token:n,pos:d.index,single:m,level:a}):g&&m&&(u.content=replaceAt(u.content,d.index,APOSTROPHE))}}}function smartquotes(e){if(e.md.options.typographer)for(let r=e.tokens.length-1;r>=0;r--)e.tokens[r].type!=="inline"||!QUOTE_TEST_RE.test(e.tokens[r].content)||process_inlines(e.tokens[r].children,e)}function text_join(e){let r,t;const o=e.tokens,n=o.length;for(let u=0;u<n;u++){if(o[u].type!=="inline")continue;const a=o[u].children,s=a.length;for(r=0;r<s;r++)a[r].type==="text_special"&&(a[r].type="text");for(r=t=0;r<s;r++)a[r].type==="text"&&r+1<s&&a[r+1].type==="text"?a[r+1].content=a[r].content+a[r+1].content:(r!==t&&(a[t]=a[r]),t++);r!==t&&(a.length=t)}}const _rules$2=[["normalize",normalize],["block",block],["inline",inline],["linkify",linkify$1],["replacements",replace],["smartquotes",smartquotes],["text_join",text_join]];function Core(){this.ruler=new Ruler;for(let e=0;e<_rules$2.length;e++)this.ruler.push(_rules$2[e][0],_rules$2[e][1])}Core.prototype.process=function(e){const r=this.ruler.getRules("");for(let t=0,o=r.length;t<o;t++)r[t](e)};Core.prototype.State=StateCore;function StateBlock(e,r,t,o){this.src=e,this.md=r,this.env=t,this.tokens=o,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0;const n=this.src;for(let u=0,a=0,s=0,i=0,c=n.length,d=!1;a<c;a++){const l=n.charCodeAt(a);if(!d)if(isSpace(l)){s++,l===9?i+=4-i%4:i++;continue}else d=!0;(l===10||a===c-1)&&(l!==10&&a++,this.bMarks.push(u),this.eMarks.push(a),this.tShift.push(s),this.sCount.push(i),this.bsCount.push(0),d=!1,s=0,i=0,u=a+1)}this.bMarks.push(n.length),this.eMarks.push(n.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}StateBlock.prototype.push=function(e,r,t){const o=new Token(e,r,t);return o.block=!0,t<0&&this.level--,o.level=this.level,t>0&&this.level++,this.tokens.push(o),o};StateBlock.prototype.isEmpty=function e(r){return this.bMarks[r]+this.tShift[r]>=this.eMarks[r]};StateBlock.prototype.skipEmptyLines=function e(r){for(let t=this.lineMax;r<t&&!(this.bMarks[r]+this.tShift[r]<this.eMarks[r]);r++);return r};StateBlock.prototype.skipSpaces=function e(r){for(let t=this.src.length;r<t;r++){const o=this.src.charCodeAt(r);if(!isSpace(o))break}return r};StateBlock.prototype.skipSpacesBack=function e(r,t){if(r<=t)return r;for(;r>t;)if(!isSpace(this.src.charCodeAt(--r)))return r+1;return r};StateBlock.prototype.skipChars=function e(r,t){for(let o=this.src.length;r<o&&this.src.charCodeAt(r)===t;r++);return r};StateBlock.prototype.skipCharsBack=function e(r,t,o){if(r<=o)return r;for(;r>o;)if(t!==this.src.charCodeAt(--r))return r+1;return r};StateBlock.prototype.getLines=function e(r,t,o,n){if(r>=t)return"";const u=new Array(t-r);for(let a=0,s=r;s<t;s++,a++){let i=0;const c=this.bMarks[s];let d=c,l;for(s+1<t||n?l=this.eMarks[s]+1:l=this.eMarks[s];d<l&&i<o;){const g=this.src.charCodeAt(d);if(isSpace(g))g===9?i+=4-(i+this.bsCount[s])%4:i++;else if(d-c<this.tShift[s])i++;else break;d++}i>o?u[a]=new Array(i-o+1).join(" ")+this.src.slice(d,l):u[a]=this.src.slice(d,l)}return u.join("")};StateBlock.prototype.Token=Token;const MAX_AUTOCOMPLETED_CELLS=65536;function getLine(e,r){const t=e.bMarks[r]+e.tShift[r],o=e.eMarks[r];return e.src.slice(t,o)}function escapedSplit(e){const r=[],t=e.length;let o=0,n=e.charCodeAt(o),u=!1,a=0,s="";for(;o<t;)n===124&&(u?(s+=e.substring(a,o-1),a=o):(r.push(s+e.substring(a,o)),s="",a=o+1)),u=n===92,o++,n=e.charCodeAt(o);return r.push(s+e.substring(a)),r}function table(e,r,t,o){if(r+2>t)return!1;let n=r+1;if(e.sCount[n]<e.blkIndent||e.sCount[n]-e.blkIndent>=4)return!1;let u=e.bMarks[n]+e.tShift[n];if(u>=e.eMarks[n])return!1;const a=e.src.charCodeAt(u++);if(a!==124&&a!==45&&a!==58||u>=e.eMarks[n])return!1;const s=e.src.charCodeAt(u++);if(s!==124&&s!==45&&s!==58&&!isSpace(s)||a===45&&isSpace(s))return!1;for(;u<e.eMarks[n];){const x=e.src.charCodeAt(u);if(x!==124&&x!==45&&x!==58&&!isSpace(x))return!1;u++}let i=getLine(e,r+1),c=i.split("|");const d=[];for(let x=0;x<c.length;x++){const v=c[x].trim();if(!v){if(x===0||x===c.length-1)continue;return!1}if(!/^:?-+:?$/.test(v))return!1;v.charCodeAt(v.length-1)===58?d.push(v.charCodeAt(0)===58?"center":"right"):v.charCodeAt(0)===58?d.push("left"):d.push("")}if(i=getLine(e,r).trim(),i.indexOf("|")===-1||e.sCount[r]-e.blkIndent>=4)return!1;c=escapedSplit(i),c.length&&c[0]===""&&c.shift(),c.length&&c[c.length-1]===""&&c.pop();const l=c.length;if(l===0||l!==d.length)return!1;if(o)return!0;const g=e.parentType;e.parentType="table";const m=e.md.block.ruler.getRules("blockquote"),p=e.push("table_open","table",1),b=[r,0];p.map=b;const y=e.push("thead_open","thead",1);y.map=[r,r+1];const w=e.push("tr_open","tr",1);w.map=[r,r+1];for(let x=0;x<c.length;x++){const v=e.push("th_open","th",1);d[x]&&(v.attrs=[["style","text-align:"+d[x]]]);const C=e.push("inline","",0);C.content=c[x].trim(),C.children=[],e.push("th_close","th",-1)}e.push("tr_close","tr",-1),e.push("thead_close","thead",-1);let f,k=0;for(n=r+2;n<t&&!(e.sCount[n]<e.blkIndent);n++){let x=!1;for(let C=0,S=m.length;C<S;C++)if(m[C](e,n,t,!0)){x=!0;break}if(x||(i=getLine(e,n).trim(),!i)||e.sCount[n]-e.blkIndent>=4||(c=escapedSplit(i),c.length&&c[0]===""&&c.shift(),c.length&&c[c.length-1]===""&&c.pop(),k+=l-c.length,k>MAX_AUTOCOMPLETED_CELLS))break;if(n===r+2){const C=e.push("tbody_open","tbody",1);C.map=f=[r+2,0]}const v=e.push("tr_open","tr",1);v.map=[n,n+1];for(let C=0;C<l;C++){const S=e.push("td_open","td",1);d[C]&&(S.attrs=[["style","text-align:"+d[C]]]);const R=e.push("inline","",0);R.content=c[C]?c[C].trim():"",R.children=[],e.push("td_close","td",-1)}e.push("tr_close","tr",-1)}return f&&(e.push("tbody_close","tbody",-1),f[1]=n),e.push("table_close","table",-1),b[1]=n,e.parentType=g,e.line=n,!0}function code(e,r,t){if(e.sCount[r]-e.blkIndent<4)return!1;let o=r+1,n=o;for(;o<t;){if(e.isEmpty(o)){o++;continue}if(e.sCount[o]-e.blkIndent>=4){o++,n=o;continue}break}e.line=n;const u=e.push("code_block","code",0);return u.content=e.getLines(r,n,4+e.blkIndent,!1)+`
`,u.map=[r,e.line],!0}function fence(e,r,t,o){let n=e.bMarks[r]+e.tShift[r],u=e.eMarks[r];if(e.sCount[r]-e.blkIndent>=4||n+3>u)return!1;const a=e.src.charCodeAt(n);if(a!==126&&a!==96)return!1;let s=n;n=e.skipChars(n,a);let i=n-s;if(i<3)return!1;const c=e.src.slice(s,n),d=e.src.slice(n,u);if(a===96&&d.indexOf(String.fromCharCode(a))>=0)return!1;if(o)return!0;let l=r,g=!1;for(;l++,!(l>=t||(n=s=e.bMarks[l]+e.tShift[l],u=e.eMarks[l],n<u&&e.sCount[l]<e.blkIndent));)if(e.src.charCodeAt(n)===a&&!(e.sCount[l]-e.blkIndent>=4)&&(n=e.skipChars(n,a),!(n-s<i)&&(n=e.skipSpaces(n),!(n<u)))){g=!0;break}i=e.sCount[r],e.line=l+(g?1:0);const m=e.push("fence","code",0);return m.info=d,m.content=e.getLines(r+1,l,i,!0),m.markup=c,m.map=[r,e.line],!0}function blockquote(e,r,t,o){let n=e.bMarks[r]+e.tShift[r],u=e.eMarks[r];const a=e.lineMax;if(e.sCount[r]-e.blkIndent>=4||e.src.charCodeAt(n)!==62)return!1;if(o)return!0;const s=[],i=[],c=[],d=[],l=e.md.block.ruler.getRules("blockquote"),g=e.parentType;e.parentType="blockquote";let m=!1,p;for(p=r;p<t;p++){const k=e.sCount[p]<e.blkIndent;if(n=e.bMarks[p]+e.tShift[p],u=e.eMarks[p],n>=u)break;if(e.src.charCodeAt(n++)===62&&!k){let v=e.sCount[p]+1,C,S;e.src.charCodeAt(n)===32?(n++,v++,S=!1,C=!0):e.src.charCodeAt(n)===9?(C=!0,(e.bsCount[p]+v)%4===3?(n++,v++,S=!1):S=!0):C=!1;let R=v;for(s.push(e.bMarks[p]),e.bMarks[p]=n;n<u;){const A=e.src.charCodeAt(n);if(isSpace(A))A===9?R+=4-(R+e.bsCount[p]+(S?1:0))%4:R++;else break;n++}m=n>=u,i.push(e.bsCount[p]),e.bsCount[p]=e.sCount[p]+1+(C?1:0),c.push(e.sCount[p]),e.sCount[p]=R-v,d.push(e.tShift[p]),e.tShift[p]=n-e.bMarks[p];continue}if(m)break;let x=!1;for(let v=0,C=l.length;v<C;v++)if(l[v](e,p,t,!0)){x=!0;break}if(x){e.lineMax=p,e.blkIndent!==0&&(s.push(e.bMarks[p]),i.push(e.bsCount[p]),d.push(e.tShift[p]),c.push(e.sCount[p]),e.sCount[p]-=e.blkIndent);break}s.push(e.bMarks[p]),i.push(e.bsCount[p]),d.push(e.tShift[p]),c.push(e.sCount[p]),e.sCount[p]=-1}const b=e.blkIndent;e.blkIndent=0;const y=e.push("blockquote_open","blockquote",1);y.markup=">";const w=[r,0];y.map=w,e.md.block.tokenize(e,r,p);const f=e.push("blockquote_close","blockquote",-1);f.markup=">",e.lineMax=a,e.parentType=g,w[1]=e.line;for(let k=0;k<d.length;k++)e.bMarks[k+r]=s[k],e.tShift[k+r]=d[k],e.sCount[k+r]=c[k],e.bsCount[k+r]=i[k];return e.blkIndent=b,!0}function hr(e,r,t,o){const n=e.eMarks[r];if(e.sCount[r]-e.blkIndent>=4)return!1;let u=e.bMarks[r]+e.tShift[r];const a=e.src.charCodeAt(u++);if(a!==42&&a!==45&&a!==95)return!1;let s=1;for(;u<n;){const c=e.src.charCodeAt(u++);if(c!==a&&!isSpace(c))return!1;c===a&&s++}if(s<3)return!1;if(o)return!0;e.line=r+1;const i=e.push("hr","hr",0);return i.map=[r,e.line],i.markup=Array(s+1).join(String.fromCharCode(a)),!0}function skipBulletListMarker(e,r){const t=e.eMarks[r];let o=e.bMarks[r]+e.tShift[r];const n=e.src.charCodeAt(o++);if(n!==42&&n!==45&&n!==43)return-1;if(o<t){const u=e.src.charCodeAt(o);if(!isSpace(u))return-1}return o}function skipOrderedListMarker(e,r){const t=e.bMarks[r]+e.tShift[r],o=e.eMarks[r];let n=t;if(n+1>=o)return-1;let u=e.src.charCodeAt(n++);if(u<48||u>57)return-1;for(;;){if(n>=o)return-1;if(u=e.src.charCodeAt(n++),u>=48&&u<=57){if(n-t>=10)return-1;continue}if(u===41||u===46)break;return-1}return n<o&&(u=e.src.charCodeAt(n),!isSpace(u))?-1:n}function markTightParagraphs(e,r){const t=e.level+2;for(let o=r+2,n=e.tokens.length-2;o<n;o++)e.tokens[o].level===t&&e.tokens[o].type==="paragraph_open"&&(e.tokens[o+2].hidden=!0,e.tokens[o].hidden=!0,o+=2)}function list(e,r,t,o){let n,u,a,s,i=r,c=!0;if(e.sCount[i]-e.blkIndent>=4||e.listIndent>=0&&e.sCount[i]-e.listIndent>=4&&e.sCount[i]<e.blkIndent)return!1;let d=!1;o&&e.parentType==="paragraph"&&e.sCount[i]>=e.blkIndent&&(d=!0);let l,g,m;if((m=skipOrderedListMarker(e,i))>=0){if(l=!0,a=e.bMarks[i]+e.tShift[i],g=Number(e.src.slice(a,m-1)),d&&g!==1)return!1}else if((m=skipBulletListMarker(e,i))>=0)l=!1;else return!1;if(d&&e.skipSpaces(m)>=e.eMarks[i])return!1;if(o)return!0;const p=e.src.charCodeAt(m-1),b=e.tokens.length;l?(s=e.push("ordered_list_open","ol",1),g!==1&&(s.attrs=[["start",g]])):s=e.push("bullet_list_open","ul",1);const y=[i,0];s.map=y,s.markup=String.fromCharCode(p);let w=!1;const f=e.md.block.ruler.getRules("list"),k=e.parentType;for(e.parentType="list";i<t;){u=m,n=e.eMarks[i];const x=e.sCount[i]+m-(e.bMarks[i]+e.tShift[i]);let v=x;for(;u<n;){const D=e.src.charCodeAt(u);if(D===9)v+=4-(v+e.bsCount[i])%4;else if(D===32)v++;else break;u++}const C=u;let S;C>=n?S=1:S=v-x,S>4&&(S=1);const R=x+S;s=e.push("list_item_open","li",1),s.markup=String.fromCharCode(p);const A=[i,0];s.map=A,l&&(s.info=e.src.slice(a,m-1));const F=e.tight,E=e.tShift[i],$=e.sCount[i],I=e.listIndent;if(e.listIndent=e.blkIndent,e.blkIndent=R,e.tight=!0,e.tShift[i]=C-e.bMarks[i],e.sCount[i]=v,C>=n&&e.isEmpty(i+1)?e.line=Math.min(e.line+2,t):e.md.block.tokenize(e,i,t,!0),(!e.tight||w)&&(c=!1),w=e.line-i>1&&e.isEmpty(e.line-1),e.blkIndent=e.listIndent,e.listIndent=I,e.tShift[i]=E,e.sCount[i]=$,e.tight=F,s=e.push("list_item_close","li",-1),s.markup=String.fromCharCode(p),i=e.line,A[1]=i,i>=t||e.sCount[i]<e.blkIndent||e.sCount[i]-e.blkIndent>=4)break;let T=!1;for(let D=0,O=f.length;D<O;D++)if(f[D](e,i,t,!0)){T=!0;break}if(T)break;if(l){if(m=skipOrderedListMarker(e,i),m<0)break;a=e.bMarks[i]+e.tShift[i]}else if(m=skipBulletListMarker(e,i),m<0)break;if(p!==e.src.charCodeAt(m-1))break}return l?s=e.push("ordered_list_close","ol",-1):s=e.push("bullet_list_close","ul",-1),s.markup=String.fromCharCode(p),y[1]=i,e.line=i,e.parentType=k,c&&markTightParagraphs(e,b),!0}function reference(e,r,t,o){let n=e.bMarks[r]+e.tShift[r],u=e.eMarks[r],a=r+1;if(e.sCount[r]-e.blkIndent>=4||e.src.charCodeAt(n)!==91)return!1;function s(f){const k=e.lineMax;if(f>=k||e.isEmpty(f))return null;let x=!1;if(e.sCount[f]-e.blkIndent>3&&(x=!0),e.sCount[f]<0&&(x=!0),!x){const S=e.md.block.ruler.getRules("reference"),R=e.parentType;e.parentType="reference";let A=!1;for(let F=0,E=S.length;F<E;F++)if(S[F](e,f,k,!0)){A=!0;break}if(e.parentType=R,A)return null}const v=e.bMarks[f]+e.tShift[f],C=e.eMarks[f];return e.src.slice(v,C+1)}let i=e.src.slice(n,u+1);u=i.length;let c=-1;for(n=1;n<u;n++){const f=i.charCodeAt(n);if(f===91)return!1;if(f===93){c=n;break}else if(f===10){const k=s(a);k!==null&&(i+=k,u=i.length,a++)}else if(f===92&&(n++,n<u&&i.charCodeAt(n)===10)){const k=s(a);k!==null&&(i+=k,u=i.length,a++)}}if(c<0||i.charCodeAt(c+1)!==58)return!1;for(n=c+2;n<u;n++){const f=i.charCodeAt(n);if(f===10){const k=s(a);k!==null&&(i+=k,u=i.length,a++)}else if(!isSpace(f))break}const d=e.md.helpers.parseLinkDestination(i,n,u);if(!d.ok)return!1;const l=e.md.normalizeLink(d.str);if(!e.md.validateLink(l))return!1;n=d.pos;const g=n,m=a,p=n;for(;n<u;n++){const f=i.charCodeAt(n);if(f===10){const k=s(a);k!==null&&(i+=k,u=i.length,a++)}else if(!isSpace(f))break}let b=e.md.helpers.parseLinkTitle(i,n,u);for(;b.can_continue;){const f=s(a);if(f===null)break;i+=f,n=u,u=i.length,a++,b=e.md.helpers.parseLinkTitle(i,n,u,b)}let y;for(n<u&&p!==n&&b.ok?(y=b.str,n=b.pos):(y="",n=g,a=m);n<u;){const f=i.charCodeAt(n);if(!isSpace(f))break;n++}if(n<u&&i.charCodeAt(n)!==10&&y)for(y="",n=g,a=m;n<u;){const f=i.charCodeAt(n);if(!isSpace(f))break;n++}if(n<u&&i.charCodeAt(n)!==10)return!1;const w=normalizeReference(i.slice(1,c));return w?(o||(typeof e.env.references>"u"&&(e.env.references={}),typeof e.env.references[w]>"u"&&(e.env.references[w]={title:y,href:l}),e.line=a),!0):!1}const block_names=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],attr_name="[a-zA-Z_:][a-zA-Z0-9:._-]*",unquoted="[^\"'=<>`\\x00-\\x20]+",single_quoted="'[^']*'",double_quoted='"[^"]*"',attr_value="(?:"+unquoted+"|"+single_quoted+"|"+double_quoted+")",attribute="(?:\\s+"+attr_name+"(?:\\s*=\\s*"+attr_value+")?)",open_tag="<[A-Za-z][A-Za-z0-9\\-]*"+attribute+"*\\s*\\/?>",close_tag="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",comment="<!---?>|<!--(?:[^-]|-[^-]|--[^>])*-->",processing="<[?][\\s\\S]*?[?]>",declaration="<![A-Za-z][^>]*>",cdata="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",HTML_TAG_RE=new RegExp("^(?:"+open_tag+"|"+close_tag+"|"+comment+"|"+processing+"|"+declaration+"|"+cdata+")"),HTML_OPEN_CLOSE_TAG_RE=new RegExp("^(?:"+open_tag+"|"+close_tag+")"),HTML_SEQUENCES=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+block_names.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(HTML_OPEN_CLOSE_TAG_RE.source+"\\s*$"),/^$/,!1]];function html_block(e,r,t,o){let n=e.bMarks[r]+e.tShift[r],u=e.eMarks[r];if(e.sCount[r]-e.blkIndent>=4||!e.md.options.html||e.src.charCodeAt(n)!==60)return!1;let a=e.src.slice(n,u),s=0;for(;s<HTML_SEQUENCES.length&&!HTML_SEQUENCES[s][0].test(a);s++);if(s===HTML_SEQUENCES.length)return!1;if(o)return HTML_SEQUENCES[s][2];let i=r+1;if(!HTML_SEQUENCES[s][1].test(a)){for(;i<t&&!(e.sCount[i]<e.blkIndent);i++)if(n=e.bMarks[i]+e.tShift[i],u=e.eMarks[i],a=e.src.slice(n,u),HTML_SEQUENCES[s][1].test(a)){a.length!==0&&i++;break}}e.line=i;const c=e.push("html_block","",0);return c.map=[r,i],c.content=e.getLines(r,i,e.blkIndent,!0),!0}function heading(e,r,t,o){let n=e.bMarks[r]+e.tShift[r],u=e.eMarks[r];if(e.sCount[r]-e.blkIndent>=4)return!1;let a=e.src.charCodeAt(n);if(a!==35||n>=u)return!1;let s=1;for(a=e.src.charCodeAt(++n);a===35&&n<u&&s<=6;)s++,a=e.src.charCodeAt(++n);if(s>6||n<u&&!isSpace(a))return!1;if(o)return!0;u=e.skipSpacesBack(u,n);const i=e.skipCharsBack(u,35,n);i>n&&isSpace(e.src.charCodeAt(i-1))&&(u=i),e.line=r+1;const c=e.push("heading_open","h"+String(s),1);c.markup="########".slice(0,s),c.map=[r,e.line];const d=e.push("inline","",0);d.content=e.src.slice(n,u).trim(),d.map=[r,e.line],d.children=[];const l=e.push("heading_close","h"+String(s),-1);return l.markup="########".slice(0,s),!0}function lheading(e,r,t){const o=e.md.block.ruler.getRules("paragraph");if(e.sCount[r]-e.blkIndent>=4)return!1;const n=e.parentType;e.parentType="paragraph";let u=0,a,s=r+1;for(;s<t&&!e.isEmpty(s);s++){if(e.sCount[s]-e.blkIndent>3)continue;if(e.sCount[s]>=e.blkIndent){let m=e.bMarks[s]+e.tShift[s];const p=e.eMarks[s];if(m<p&&(a=e.src.charCodeAt(m),(a===45||a===61)&&(m=e.skipChars(m,a),m=e.skipSpaces(m),m>=p))){u=a===61?1:2;break}}if(e.sCount[s]<0)continue;let g=!1;for(let m=0,p=o.length;m<p;m++)if(o[m](e,s,t,!0)){g=!0;break}if(g)break}if(!u)return!1;const i=e.getLines(r,s,e.blkIndent,!1).trim();e.line=s+1;const c=e.push("heading_open","h"+String(u),1);c.markup=String.fromCharCode(a),c.map=[r,e.line];const d=e.push("inline","",0);d.content=i,d.map=[r,e.line-1],d.children=[];const l=e.push("heading_close","h"+String(u),-1);return l.markup=String.fromCharCode(a),e.parentType=n,!0}function paragraph(e,r,t){const o=e.md.block.ruler.getRules("paragraph"),n=e.parentType;let u=r+1;for(e.parentType="paragraph";u<t&&!e.isEmpty(u);u++){if(e.sCount[u]-e.blkIndent>3||e.sCount[u]<0)continue;let c=!1;for(let d=0,l=o.length;d<l;d++)if(o[d](e,u,t,!0)){c=!0;break}if(c)break}const a=e.getLines(r,u,e.blkIndent,!1).trim();e.line=u;const s=e.push("paragraph_open","p",1);s.map=[r,e.line];const i=e.push("inline","",0);return i.content=a,i.map=[r,e.line],i.children=[],e.push("paragraph_close","p",-1),e.parentType=n,!0}const _rules$1=[["table",table,["paragraph","reference"]],["code",code],["fence",fence,["paragraph","reference","blockquote","list"]],["blockquote",blockquote,["paragraph","reference","blockquote","list"]],["hr",hr,["paragraph","reference","blockquote","list"]],["list",list,["paragraph","reference","blockquote"]],["reference",reference],["html_block",html_block,["paragraph","reference","blockquote"]],["heading",heading,["paragraph","reference","blockquote"]],["lheading",lheading],["paragraph",paragraph]];function ParserBlock(){this.ruler=new Ruler;for(let e=0;e<_rules$1.length;e++)this.ruler.push(_rules$1[e][0],_rules$1[e][1],{alt:(_rules$1[e][2]||[]).slice()})}ParserBlock.prototype.tokenize=function(e,r,t){const o=this.ruler.getRules(""),n=o.length,u=e.md.options.maxNesting;let a=r,s=!1;for(;a<t&&(e.line=a=e.skipEmptyLines(a),!(a>=t||e.sCount[a]<e.blkIndent));){if(e.level>=u){e.line=t;break}const i=e.line;let c=!1;for(let d=0;d<n;d++)if(c=o[d](e,a,t,!1),c){if(i>=e.line)throw new Error("block rule didn't increment state.line");break}if(!c)throw new Error("none of the block rules matched");e.tight=!s,e.isEmpty(e.line-1)&&(s=!0),a=e.line,a<t&&e.isEmpty(a)&&(s=!0,a++,e.line=a)}};ParserBlock.prototype.parse=function(e,r,t,o){if(!e)return;const n=new this.State(e,r,t,o);this.tokenize(n,n.line,n.lineMax)};ParserBlock.prototype.State=StateBlock;function StateInline(e,r,t,o){this.src=e,this.env=t,this.md=r,this.tokens=o,this.tokens_meta=Array(o.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1,this.linkLevel=0}StateInline.prototype.pushPending=function(){const e=new Token("text","",0);return e.content=this.pending,e.level=this.pendingLevel,this.tokens.push(e),this.pending="",e};StateInline.prototype.push=function(e,r,t){this.pending&&this.pushPending();const o=new Token(e,r,t);let n=null;return t<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),o.level=this.level,t>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],n={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(o),this.tokens_meta.push(n),o};StateInline.prototype.scanDelims=function(e,r){const t=this.posMax,o=this.src.charCodeAt(e),n=e>0?this.src.charCodeAt(e-1):32;let u=e;for(;u<t&&this.src.charCodeAt(u)===o;)u++;const a=u-e,s=u<t?this.src.charCodeAt(u):32,i=isMdAsciiPunct(n)||isPunctChar(String.fromCharCode(n)),c=isMdAsciiPunct(s)||isPunctChar(String.fromCharCode(s)),d=isWhiteSpace(n),l=isWhiteSpace(s),g=!l&&(!c||d||i),m=!d&&(!i||l||c);return{can_open:g&&(r||!m||i),can_close:m&&(r||!g||c),length:a}};StateInline.prototype.Token=Token;function isTerminatorChar(e){switch(e){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}function text(e,r){let t=e.pos;for(;t<e.posMax&&!isTerminatorChar(e.src.charCodeAt(t));)t++;return t===e.pos?!1:(r||(e.pending+=e.src.slice(e.pos,t)),e.pos=t,!0)}const SCHEME_RE=/(?:^|[^a-z0-9.+-])([a-z][a-z0-9.+-]*)$/i;function linkify(e,r){if(!e.md.options.linkify||e.linkLevel>0)return!1;const t=e.pos,o=e.posMax;if(t+3>o||e.src.charCodeAt(t)!==58||e.src.charCodeAt(t+1)!==47||e.src.charCodeAt(t+2)!==47)return!1;const n=e.pending.match(SCHEME_RE);if(!n)return!1;const u=n[1],a=e.md.linkify.matchAtStart(e.src.slice(t-u.length));if(!a)return!1;let s=a.url;if(s.length<=u.length)return!1;s=s.replace(/\*+$/,"");const i=e.md.normalizeLink(s);if(!e.md.validateLink(i))return!1;if(!r){e.pending=e.pending.slice(0,-u.length);const c=e.push("link_open","a",1);c.attrs=[["href",i]],c.markup="linkify",c.info="auto";const d=e.push("text","",0);d.content=e.md.normalizeLinkText(s);const l=e.push("link_close","a",-1);l.markup="linkify",l.info="auto"}return e.pos+=s.length-u.length,!0}function newline(e,r){let t=e.pos;if(e.src.charCodeAt(t)!==10)return!1;const o=e.pending.length-1,n=e.posMax;if(!r)if(o>=0&&e.pending.charCodeAt(o)===32)if(o>=1&&e.pending.charCodeAt(o-1)===32){let u=o-1;for(;u>=1&&e.pending.charCodeAt(u-1)===32;)u--;e.pending=e.pending.slice(0,u),e.push("hardbreak","br",0)}else e.pending=e.pending.slice(0,-1),e.push("softbreak","br",0);else e.push("softbreak","br",0);for(t++;t<n&&isSpace(e.src.charCodeAt(t));)t++;return e.pos=t,!0}const ESCAPED=[];for(let e=0;e<256;e++)ESCAPED.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(e){ESCAPED[e.charCodeAt(0)]=1});function escape$1(e,r){let t=e.pos;const o=e.posMax;if(e.src.charCodeAt(t)!==92||(t++,t>=o))return!1;let n=e.src.charCodeAt(t);if(n===10){for(r||e.push("hardbreak","br",0),t++;t<o&&(n=e.src.charCodeAt(t),!!isSpace(n));)t++;return e.pos=t,!0}let u=e.src[t];if(n>=55296&&n<=56319&&t+1<o){const s=e.src.charCodeAt(t+1);s>=56320&&s<=57343&&(u+=e.src[t+1],t++)}const a="\\"+u;if(!r){const s=e.push("text_special","",0);n<256&&ESCAPED[n]!==0?s.content=u:s.content=a,s.markup=a,s.info="escape"}return e.pos=t+1,!0}function backtick(e,r){let t=e.pos;if(e.src.charCodeAt(t)!==96)return!1;const n=t;t++;const u=e.posMax;for(;t<u&&e.src.charCodeAt(t)===96;)t++;const a=e.src.slice(n,t),s=a.length;if(e.backticksScanned&&(e.backticks[s]||0)<=n)return r||(e.pending+=a),e.pos+=s,!0;let i=t,c;for(;(c=e.src.indexOf("`",i))!==-1;){for(i=c+1;i<u&&e.src.charCodeAt(i)===96;)i++;const d=i-c;if(d===s){if(!r){const l=e.push("code_inline","code",0);l.markup=a,l.content=e.src.slice(t,c).replace(/\n/g," ").replace(/^ (.+) $/,"$1")}return e.pos=i,!0}e.backticks[d]=c}return e.backticksScanned=!0,r||(e.pending+=a),e.pos+=s,!0}function strikethrough_tokenize(e,r){const t=e.pos,o=e.src.charCodeAt(t);if(r||o!==126)return!1;const n=e.scanDelims(e.pos,!0);let u=n.length;const a=String.fromCharCode(o);if(u<2)return!1;let s;u%2&&(s=e.push("text","",0),s.content=a,u--);for(let i=0;i<u;i+=2)s=e.push("text","",0),s.content=a+a,e.delimiters.push({marker:o,length:0,token:e.tokens.length-1,end:-1,open:n.can_open,close:n.can_close});return e.pos+=n.length,!0}function postProcess$1(e,r){let t;const o=[],n=r.length;for(let u=0;u<n;u++){const a=r[u];if(a.marker!==126||a.end===-1)continue;const s=r[a.end];t=e.tokens[a.token],t.type="s_open",t.tag="s",t.nesting=1,t.markup="~~",t.content="",t=e.tokens[s.token],t.type="s_close",t.tag="s",t.nesting=-1,t.markup="~~",t.content="",e.tokens[s.token-1].type==="text"&&e.tokens[s.token-1].content==="~"&&o.push(s.token-1)}for(;o.length;){const u=o.pop();let a=u+1;for(;a<e.tokens.length&&e.tokens[a].type==="s_close";)a++;a--,u!==a&&(t=e.tokens[a],e.tokens[a]=e.tokens[u],e.tokens[u]=t)}}function strikethrough_postProcess(e){const r=e.tokens_meta,t=e.tokens_meta.length;postProcess$1(e,e.delimiters);for(let o=0;o<t;o++)r[o]&&r[o].delimiters&&postProcess$1(e,r[o].delimiters)}const r_strikethrough={tokenize:strikethrough_tokenize,postProcess:strikethrough_postProcess};function emphasis_tokenize(e,r){const t=e.pos,o=e.src.charCodeAt(t);if(r||o!==95&&o!==42)return!1;const n=e.scanDelims(e.pos,o===42);for(let u=0;u<n.length;u++){const a=e.push("text","",0);a.content=String.fromCharCode(o),e.delimiters.push({marker:o,length:n.length,token:e.tokens.length-1,end:-1,open:n.can_open,close:n.can_close})}return e.pos+=n.length,!0}function postProcess(e,r){const t=r.length;for(let o=t-1;o>=0;o--){const n=r[o];if(n.marker!==95&&n.marker!==42||n.end===-1)continue;const u=r[n.end],a=o>0&&r[o-1].end===n.end+1&&r[o-1].marker===n.marker&&r[o-1].token===n.token-1&&r[n.end+1].token===u.token+1,s=String.fromCharCode(n.marker),i=e.tokens[n.token];i.type=a?"strong_open":"em_open",i.tag=a?"strong":"em",i.nesting=1,i.markup=a?s+s:s,i.content="";const c=e.tokens[u.token];c.type=a?"strong_close":"em_close",c.tag=a?"strong":"em",c.nesting=-1,c.markup=a?s+s:s,c.content="",a&&(e.tokens[r[o-1].token].content="",e.tokens[r[n.end+1].token].content="",o--)}}function emphasis_post_process(e){const r=e.tokens_meta,t=e.tokens_meta.length;postProcess(e,e.delimiters);for(let o=0;o<t;o++)r[o]&&r[o].delimiters&&postProcess(e,r[o].delimiters)}const r_emphasis={tokenize:emphasis_tokenize,postProcess:emphasis_post_process};function link(e,r){let t,o,n,u,a="",s="",i=e.pos,c=!0;if(e.src.charCodeAt(e.pos)!==91)return!1;const d=e.pos,l=e.posMax,g=e.pos+1,m=e.md.helpers.parseLinkLabel(e,e.pos,!0);if(m<0)return!1;let p=m+1;if(p<l&&e.src.charCodeAt(p)===40){for(c=!1,p++;p<l&&(t=e.src.charCodeAt(p),!(!isSpace(t)&&t!==10));p++);if(p>=l)return!1;if(i=p,n=e.md.helpers.parseLinkDestination(e.src,p,e.posMax),n.ok){for(a=e.md.normalizeLink(n.str),e.md.validateLink(a)?p=n.pos:a="",i=p;p<l&&(t=e.src.charCodeAt(p),!(!isSpace(t)&&t!==10));p++);if(n=e.md.helpers.parseLinkTitle(e.src,p,e.posMax),p<l&&i!==p&&n.ok)for(s=n.str,p=n.pos;p<l&&(t=e.src.charCodeAt(p),!(!isSpace(t)&&t!==10));p++);}(p>=l||e.src.charCodeAt(p)!==41)&&(c=!0),p++}if(c){if(typeof e.env.references>"u")return!1;if(p<l&&e.src.charCodeAt(p)===91?(i=p+1,p=e.md.helpers.parseLinkLabel(e,p),p>=0?o=e.src.slice(i,p++):p=m+1):p=m+1,o||(o=e.src.slice(g,m)),u=e.env.references[normalizeReference(o)],!u)return e.pos=d,!1;a=u.href,s=u.title}if(!r){e.pos=g,e.posMax=m;const b=e.push("link_open","a",1),y=[["href",a]];b.attrs=y,s&&y.push(["title",s]),e.linkLevel++,e.md.inline.tokenize(e),e.linkLevel--,e.push("link_close","a",-1)}return e.pos=p,e.posMax=l,!0}function image(e,r){let t,o,n,u,a,s,i,c,d="";const l=e.pos,g=e.posMax;if(e.src.charCodeAt(e.pos)!==33||e.src.charCodeAt(e.pos+1)!==91)return!1;const m=e.pos+2,p=e.md.helpers.parseLinkLabel(e,e.pos+1,!1);if(p<0)return!1;if(u=p+1,u<g&&e.src.charCodeAt(u)===40){for(u++;u<g&&(t=e.src.charCodeAt(u),!(!isSpace(t)&&t!==10));u++);if(u>=g)return!1;for(c=u,s=e.md.helpers.parseLinkDestination(e.src,u,e.posMax),s.ok&&(d=e.md.normalizeLink(s.str),e.md.validateLink(d)?u=s.pos:d=""),c=u;u<g&&(t=e.src.charCodeAt(u),!(!isSpace(t)&&t!==10));u++);if(s=e.md.helpers.parseLinkTitle(e.src,u,e.posMax),u<g&&c!==u&&s.ok)for(i=s.str,u=s.pos;u<g&&(t=e.src.charCodeAt(u),!(!isSpace(t)&&t!==10));u++);else i="";if(u>=g||e.src.charCodeAt(u)!==41)return e.pos=l,!1;u++}else{if(typeof e.env.references>"u")return!1;if(u<g&&e.src.charCodeAt(u)===91?(c=u+1,u=e.md.helpers.parseLinkLabel(e,u),u>=0?n=e.src.slice(c,u++):u=p+1):u=p+1,n||(n=e.src.slice(m,p)),a=e.env.references[normalizeReference(n)],!a)return e.pos=l,!1;d=a.href,i=a.title}if(!r){o=e.src.slice(m,p);const b=[];e.md.inline.parse(o,e.md,e.env,b);const y=e.push("image","img",0),w=[["src",d],["alt",""]];y.attrs=w,y.children=b,y.content=o,i&&w.push(["title",i])}return e.pos=u,e.posMax=g,!0}const EMAIL_RE=/^([a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,AUTOLINK_RE=/^([a-zA-Z][a-zA-Z0-9+.-]{1,31}):([^<>\x00-\x20]*)$/;function autolink(e,r){let t=e.pos;if(e.src.charCodeAt(t)!==60)return!1;const o=e.pos,n=e.posMax;for(;;){if(++t>=n)return!1;const a=e.src.charCodeAt(t);if(a===60)return!1;if(a===62)break}const u=e.src.slice(o+1,t);if(AUTOLINK_RE.test(u)){const a=e.md.normalizeLink(u);if(!e.md.validateLink(a))return!1;if(!r){const s=e.push("link_open","a",1);s.attrs=[["href",a]],s.markup="autolink",s.info="auto";const i=e.push("text","",0);i.content=e.md.normalizeLinkText(u);const c=e.push("link_close","a",-1);c.markup="autolink",c.info="auto"}return e.pos+=u.length+2,!0}if(EMAIL_RE.test(u)){const a=e.md.normalizeLink("mailto:"+u);if(!e.md.validateLink(a))return!1;if(!r){const s=e.push("link_open","a",1);s.attrs=[["href",a]],s.markup="autolink",s.info="auto";const i=e.push("text","",0);i.content=e.md.normalizeLinkText(u);const c=e.push("link_close","a",-1);c.markup="autolink",c.info="auto"}return e.pos+=u.length+2,!0}return!1}function isLinkOpen(e){return/^<a[>\s]/i.test(e)}function isLinkClose(e){return/^<\/a\s*>/i.test(e)}function isLetter(e){const r=e|32;return r>=97&&r<=122}function html_inline(e,r){if(!e.md.options.html)return!1;const t=e.posMax,o=e.pos;if(e.src.charCodeAt(o)!==60||o+2>=t)return!1;const n=e.src.charCodeAt(o+1);if(n!==33&&n!==63&&n!==47&&!isLetter(n))return!1;const u=e.src.slice(o).match(HTML_TAG_RE);if(!u)return!1;if(!r){const a=e.push("html_inline","",0);a.content=u[0],isLinkOpen(a.content)&&e.linkLevel++,isLinkClose(a.content)&&e.linkLevel--}return e.pos+=u[0].length,!0}const DIGITAL_RE=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,NAMED_RE=/^&([a-z][a-z0-9]{1,31});/i;function entity(e,r){const t=e.pos,o=e.posMax;if(e.src.charCodeAt(t)!==38||t+1>=o)return!1;if(e.src.charCodeAt(t+1)===35){const u=e.src.slice(t).match(DIGITAL_RE);if(u){if(!r){const a=u[1][0].toLowerCase()==="x"?parseInt(u[1].slice(1),16):parseInt(u[1],10),s=e.push("text_special","",0);s.content=isValidEntityCode(a)?fromCodePoint(a):fromCodePoint(65533),s.markup=u[0],s.info="entity"}return e.pos+=u[0].length,!0}}else{const u=e.src.slice(t).match(NAMED_RE);if(u){const a=decodeHTML(u[0]);if(a!==u[0]){if(!r){const s=e.push("text_special","",0);s.content=a,s.markup=u[0],s.info="entity"}return e.pos+=u[0].length,!0}}}return!1}function processDelimiters(e){const r={},t=e.length;if(!t)return;let o=0,n=-2;const u=[];for(let a=0;a<t;a++){const s=e[a];if(u.push(0),(e[o].marker!==s.marker||n!==s.token-1)&&(o=a),n=s.token,s.length=s.length||0,!s.close)continue;r.hasOwnProperty(s.marker)||(r[s.marker]=[-1,-1,-1,-1,-1,-1]);const i=r[s.marker][(s.open?3:0)+s.length%3];let c=o-u[o]-1,d=c;for(;c>i;c-=u[c]+1){const l=e[c];if(l.marker===s.marker&&l.open&&l.end<0){let g=!1;if((l.close||s.open)&&(l.length+s.length)%3===0&&(l.length%3!==0||s.length%3!==0)&&(g=!0),!g){const m=c>0&&!e[c-1].open?u[c-1]+1:0;u[a]=a-c+m,u[c]=m,s.open=!1,l.end=a,l.close=!1,d=-1,n=-2;break}}}d!==-1&&(r[s.marker][(s.open?3:0)+(s.length||0)%3]=d)}}function link_pairs(e){const r=e.tokens_meta,t=e.tokens_meta.length;processDelimiters(e.delimiters);for(let o=0;o<t;o++)r[o]&&r[o].delimiters&&processDelimiters(r[o].delimiters)}function fragments_join(e){let r,t,o=0;const n=e.tokens,u=e.tokens.length;for(r=t=0;r<u;r++)n[r].nesting<0&&o--,n[r].level=o,n[r].nesting>0&&o++,n[r].type==="text"&&r+1<u&&n[r+1].type==="text"?n[r+1].content=n[r].content+n[r+1].content:(r!==t&&(n[t]=n[r]),t++);r!==t&&(n.length=t)}const _rules=[["text",text],["linkify",linkify],["newline",newline],["escape",escape$1],["backticks",backtick],["strikethrough",r_strikethrough.tokenize],["emphasis",r_emphasis.tokenize],["link",link],["image",image],["autolink",autolink],["html_inline",html_inline],["entity",entity]],_rules2=[["balance_pairs",link_pairs],["strikethrough",r_strikethrough.postProcess],["emphasis",r_emphasis.postProcess],["fragments_join",fragments_join]];function ParserInline(){this.ruler=new Ruler;for(let e=0;e<_rules.length;e++)this.ruler.push(_rules[e][0],_rules[e][1]);this.ruler2=new Ruler;for(let e=0;e<_rules2.length;e++)this.ruler2.push(_rules2[e][0],_rules2[e][1])}ParserInline.prototype.skipToken=function(e){const r=e.pos,t=this.ruler.getRules(""),o=t.length,n=e.md.options.maxNesting,u=e.cache;if(typeof u[r]<"u"){e.pos=u[r];return}let a=!1;if(e.level<n){for(let s=0;s<o;s++)if(e.level++,a=t[s](e,!0),e.level--,a){if(r>=e.pos)throw new Error("inline rule didn't increment state.pos");break}}else e.pos=e.posMax;a||e.pos++,u[r]=e.pos};ParserInline.prototype.tokenize=function(e){const r=this.ruler.getRules(""),t=r.length,o=e.posMax,n=e.md.options.maxNesting;for(;e.pos<o;){const u=e.pos;let a=!1;if(e.level<n){for(let s=0;s<t;s++)if(a=r[s](e,!1),a){if(u>=e.pos)throw new Error("inline rule didn't increment state.pos");break}}if(a){if(e.pos>=o)break;continue}e.pending+=e.src[e.pos++]}e.pending&&e.pushPending()};ParserInline.prototype.parse=function(e,r,t,o){const n=new this.State(e,r,t,o);this.tokenize(n);const u=this.ruler2.getRules(""),a=u.length;for(let s=0;s<a;s++)u[s](n)};ParserInline.prototype.State=StateInline;function reFactory(e){const r={};e=e||{},r.src_Any=Any.source,r.src_Cc=Cc.source,r.src_Z=Z.source,r.src_P=P.source,r.src_ZPCc=[r.src_Z,r.src_P,r.src_Cc].join("|"),r.src_ZCc=[r.src_Z,r.src_Cc].join("|");const t="[><]";return r.src_pseudo_letter="(?:(?!"+t+"|"+r.src_ZPCc+")"+r.src_Any+")",r.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",r.src_auth="(?:(?:(?!"+r.src_ZCc+"|[@/\\[\\]()]).)+@)?",r.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",r.src_host_terminator="(?=$|"+t+"|"+r.src_ZPCc+")(?!"+(e["---"]?"-(?!--)|":"-|")+"_|:\\d|\\.-|\\.(?!$|"+r.src_ZPCc+"))",r.src_path="(?:[/?#](?:(?!"+r.src_ZCc+"|"+t+`|[()[\\]{}.,"'?!\\-;]).|\\[(?:(?!`+r.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+r.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+r.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+r.src_ZCc+`|["]).)+\\"|\\'(?:(?!`+r.src_ZCc+"|[']).)+\\'|\\'(?="+r.src_pseudo_letter+"|[-])|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+r.src_ZCc+"|[.]|$)|"+(e["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+r.src_ZCc+"|$)|;(?!"+r.src_ZCc+"|$)|\\!+(?!"+r.src_ZCc+"|[!]|$)|\\?(?!"+r.src_ZCc+"|[?]|$))+|\\/)?",r.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',r.src_xn="xn--[a-z0-9\\-]{1,59}",r.src_domain_root="(?:"+r.src_xn+"|"+r.src_pseudo_letter+"{1,63})",r.src_domain="(?:"+r.src_xn+"|(?:"+r.src_pseudo_letter+")|(?:"+r.src_pseudo_letter+"(?:-|"+r.src_pseudo_letter+"){0,61}"+r.src_pseudo_letter+"))",r.src_host="(?:(?:(?:(?:"+r.src_domain+")\\.)*"+r.src_domain+"))",r.tpl_host_fuzzy="(?:"+r.src_ip4+"|(?:(?:(?:"+r.src_domain+")\\.)+(?:%TLDS%)))",r.tpl_host_no_ip_fuzzy="(?:(?:(?:"+r.src_domain+")\\.)+(?:%TLDS%))",r.src_host_strict=r.src_host+r.src_host_terminator,r.tpl_host_fuzzy_strict=r.tpl_host_fuzzy+r.src_host_terminator,r.src_host_port_strict=r.src_host+r.src_port+r.src_host_terminator,r.tpl_host_port_fuzzy_strict=r.tpl_host_fuzzy+r.src_port+r.src_host_terminator,r.tpl_host_port_no_ip_fuzzy_strict=r.tpl_host_no_ip_fuzzy+r.src_port+r.src_host_terminator,r.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+r.src_ZPCc+"|>|$))",r.tpl_email_fuzzy="(^|"+t+'|"|\\(|'+r.src_ZCc+")("+r.src_email_name+"@"+r.tpl_host_fuzzy_strict+")",r.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+r.src_ZPCc+"))((?![$+<=>^`|])"+r.tpl_host_port_fuzzy_strict+r.src_path+")",r.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+r.src_ZPCc+"))((?![$+<=>^`|])"+r.tpl_host_port_no_ip_fuzzy_strict+r.src_path+")",r}function assign(e){return Array.prototype.slice.call(arguments,1).forEach(function(t){t&&Object.keys(t).forEach(function(o){e[o]=t[o]})}),e}function _class(e){return Object.prototype.toString.call(e)}function isString(e){return _class(e)==="[object String]"}function isObject(e){return _class(e)==="[object Object]"}function isRegExp(e){return _class(e)==="[object RegExp]"}function isFunction(e){return _class(e)==="[object Function]"}function escapeRE(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}const defaultOptions={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};function isOptionsObj(e){return Object.keys(e||{}).reduce(function(r,t){return r||defaultOptions.hasOwnProperty(t)},!1)}const defaultSchemas={"http:":{validate:function(e,r,t){const o=e.slice(r);return t.re.http||(t.re.http=new RegExp("^\\/\\/"+t.re.src_auth+t.re.src_host_port_strict+t.re.src_path,"i")),t.re.http.test(o)?o.match(t.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(e,r,t){const o=e.slice(r);return t.re.no_http||(t.re.no_http=new RegExp("^"+t.re.src_auth+"(?:localhost|(?:(?:"+t.re.src_domain+")\\.)+"+t.re.src_domain_root+")"+t.re.src_port+t.re.src_host_terminator+t.re.src_path,"i")),t.re.no_http.test(o)?r>=3&&e[r-3]===":"||r>=3&&e[r-3]==="/"?0:o.match(t.re.no_http)[0].length:0}},"mailto:":{validate:function(e,r,t){const o=e.slice(r);return t.re.mailto||(t.re.mailto=new RegExp("^"+t.re.src_email_name+"@"+t.re.src_host_strict,"i")),t.re.mailto.test(o)?o.match(t.re.mailto)[0].length:0}}},tlds_2ch_src_re="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",tlds_default="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|".split("|");function resetScanCache(e){e.__index__=-1,e.__text_cache__=""}function createValidator(e){return function(r,t){const o=r.slice(t);return e.test(o)?o.match(e)[0].length:0}}function createNormalizer(){return function(e,r){r.normalize(e)}}function compile(e){const r=e.re=reFactory(e.__opts__),t=e.__tlds__.slice();e.onCompile(),e.__tlds_replaced__||t.push(tlds_2ch_src_re),t.push(r.src_xn),r.src_tlds=t.join("|");function o(s){return s.replace("%TLDS%",r.src_tlds)}r.email_fuzzy=RegExp(o(r.tpl_email_fuzzy),"i"),r.link_fuzzy=RegExp(o(r.tpl_link_fuzzy),"i"),r.link_no_ip_fuzzy=RegExp(o(r.tpl_link_no_ip_fuzzy),"i"),r.host_fuzzy_test=RegExp(o(r.tpl_host_fuzzy_test),"i");const n=[];e.__compiled__={};function u(s,i){throw new Error('(LinkifyIt) Invalid schema "'+s+'": '+i)}Object.keys(e.__schemas__).forEach(function(s){const i=e.__schemas__[s];if(i===null)return;const c={validate:null,link:null};if(e.__compiled__[s]=c,isObject(i)){isRegExp(i.validate)?c.validate=createValidator(i.validate):isFunction(i.validate)?c.validate=i.validate:u(s,i),isFunction(i.normalize)?c.normalize=i.normalize:i.normalize?u(s,i):c.normalize=createNormalizer();return}if(isString(i)){n.push(s);return}u(s,i)}),n.forEach(function(s){e.__compiled__[e.__schemas__[s]]&&(e.__compiled__[s].validate=e.__compiled__[e.__schemas__[s]].validate,e.__compiled__[s].normalize=e.__compiled__[e.__schemas__[s]].normalize)}),e.__compiled__[""]={validate:null,normalize:createNormalizer()};const a=Object.keys(e.__compiled__).filter(function(s){return s.length>0&&e.__compiled__[s]}).map(escapeRE).join("|");e.re.schema_test=RegExp("(^|(?!_)(?:[><]|"+r.src_ZPCc+"))("+a+")","i"),e.re.schema_search=RegExp("(^|(?!_)(?:[><]|"+r.src_ZPCc+"))("+a+")","ig"),e.re.schema_at_start=RegExp("^"+e.re.schema_search.source,"i"),e.re.pretest=RegExp("("+e.re.schema_test.source+")|("+e.re.host_fuzzy_test.source+")|@","i"),resetScanCache(e)}function Match(e,r){const t=e.__index__,o=e.__last_index__,n=e.__text_cache__.slice(t,o);this.schema=e.__schema__.toLowerCase(),this.index=t+r,this.lastIndex=o+r,this.raw=n,this.text=n,this.url=n}function createMatch(e,r){const t=new Match(e,r);return e.__compiled__[t.schema].normalize(t,e),t}function LinkifyIt(e,r){if(!(this instanceof LinkifyIt))return new LinkifyIt(e,r);r||isOptionsObj(e)&&(r=e,e={}),this.__opts__=assign({},defaultOptions,r),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=assign({},defaultSchemas,e),this.__compiled__={},this.__tlds__=tlds_default,this.__tlds_replaced__=!1,this.re={},compile(this)}LinkifyIt.prototype.add=function e(r,t){return this.__schemas__[r]=t,compile(this),this};LinkifyIt.prototype.set=function e(r){return this.__opts__=assign(this.__opts__,r),this};LinkifyIt.prototype.test=function e(r){if(this.__text_cache__=r,this.__index__=-1,!r.length)return!1;let t,o,n,u,a,s,i,c,d;if(this.re.schema_test.test(r)){for(i=this.re.schema_search,i.lastIndex=0;(t=i.exec(r))!==null;)if(u=this.testSchemaAt(r,t[2],i.lastIndex),u){this.__schema__=t[2],this.__index__=t.index+t[1].length,this.__last_index__=t.index+t[0].length+u;break}}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(c=r.search(this.re.host_fuzzy_test),c>=0&&(this.__index__<0||c<this.__index__)&&(o=r.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))!==null&&(a=o.index+o[1].length,(this.__index__<0||a<this.__index__)&&(this.__schema__="",this.__index__=a,this.__last_index__=o.index+o[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(d=r.indexOf("@"),d>=0&&(n=r.match(this.re.email_fuzzy))!==null&&(a=n.index+n[1].length,s=n.index+n[0].length,(this.__index__<0||a<this.__index__||a===this.__index__&&s>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=a,this.__last_index__=s))),this.__index__>=0};LinkifyIt.prototype.pretest=function e(r){return this.re.pretest.test(r)};LinkifyIt.prototype.testSchemaAt=function e(r,t,o){return this.__compiled__[t.toLowerCase()]?this.__compiled__[t.toLowerCase()].validate(r,o,this):0};LinkifyIt.prototype.match=function e(r){const t=[];let o=0;this.__index__>=0&&this.__text_cache__===r&&(t.push(createMatch(this,o)),o=this.__last_index__);let n=o?r.slice(o):r;for(;this.test(n);)t.push(createMatch(this,o)),n=n.slice(this.__last_index__),o+=this.__last_index__;return t.length?t:null};LinkifyIt.prototype.matchAtStart=function e(r){if(this.__text_cache__=r,this.__index__=-1,!r.length)return null;const t=this.re.schema_at_start.exec(r);if(!t)return null;const o=this.testSchemaAt(r,t[2],t[0].length);return o?(this.__schema__=t[2],this.__index__=t.index+t[1].length,this.__last_index__=t.index+t[0].length+o,createMatch(this,0)):null};LinkifyIt.prototype.tlds=function e(r,t){return r=Array.isArray(r)?r:[r],t?(this.__tlds__=this.__tlds__.concat(r).sort().filter(function(o,n,u){return o!==u[n-1]}).reverse(),compile(this),this):(this.__tlds__=r.slice(),this.__tlds_replaced__=!0,compile(this),this)};LinkifyIt.prototype.normalize=function e(r){r.schema||(r.url="http://"+r.url),r.schema==="mailto:"&&!/^mailto:/i.test(r.url)&&(r.url="mailto:"+r.url)};LinkifyIt.prototype.onCompile=function e(){};const maxInt=2147483647,base=36,tMin=1,tMax=26,skew=38,damp=700,initialBias=72,initialN=128,delimiter="-",regexPunycode=/^xn--/,regexNonASCII=/[^\0-\x7F]/,regexSeparators=/[\x2E\u3002\uFF0E\uFF61]/g,errors={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},baseMinusTMin=base-tMin,floor=Math.floor,stringFromCharCode=String.fromCharCode;function error(e){throw new RangeError(errors[e])}function map(e,r){const t=[];let o=e.length;for(;o--;)t[o]=r(e[o]);return t}function mapDomain(e,r){const t=e.split("@");let o="";t.length>1&&(o=t[0]+"@",e=t[1]),e=e.replace(regexSeparators,".");const n=e.split("."),u=map(n,r).join(".");return o+u}function ucs2decode(e){const r=[];let t=0;const o=e.length;for(;t<o;){const n=e.charCodeAt(t++);if(n>=55296&&n<=56319&&t<o){const u=e.charCodeAt(t++);(u&64512)==56320?r.push(((n&1023)<<10)+(u&1023)+65536):(r.push(n),t--)}else r.push(n)}return r}const ucs2encode=e=>String.fromCodePoint(...e),basicToDigit=function(e){return e>=48&&e<58?26+(e-48):e>=65&&e<91?e-65:e>=97&&e<123?e-97:base},digitToBasic=function(e,r){return e+22+75*(e<26)-((r!=0)<<5)},adapt=function(e,r,t){let o=0;for(e=t?floor(e/damp):e>>1,e+=floor(e/r);e>baseMinusTMin*tMax>>1;o+=base)e=floor(e/baseMinusTMin);return floor(o+(baseMinusTMin+1)*e/(e+skew))},decode=function(e){const r=[],t=e.length;let o=0,n=initialN,u=initialBias,a=e.lastIndexOf(delimiter);a<0&&(a=0);for(let s=0;s<a;++s)e.charCodeAt(s)>=128&&error("not-basic"),r.push(e.charCodeAt(s));for(let s=a>0?a+1:0;s<t;){const i=o;for(let d=1,l=base;;l+=base){s>=t&&error("invalid-input");const g=basicToDigit(e.charCodeAt(s++));g>=base&&error("invalid-input"),g>floor((maxInt-o)/d)&&error("overflow"),o+=g*d;const m=l<=u?tMin:l>=u+tMax?tMax:l-u;if(g<m)break;const p=base-m;d>floor(maxInt/p)&&error("overflow"),d*=p}const c=r.length+1;u=adapt(o-i,c,i==0),floor(o/c)>maxInt-n&&error("overflow"),n+=floor(o/c),o%=c,r.splice(o++,0,n)}return String.fromCodePoint(...r)},encode=function(e){const r=[];e=ucs2decode(e);const t=e.length;let o=initialN,n=0,u=initialBias;for(const i of e)i<128&&r.push(stringFromCharCode(i));const a=r.length;let s=a;for(a&&r.push(delimiter);s<t;){let i=maxInt;for(const d of e)d>=o&&d<i&&(i=d);const c=s+1;i-o>floor((maxInt-n)/c)&&error("overflow"),n+=(i-o)*c,o=i;for(const d of e)if(d<o&&++n>maxInt&&error("overflow"),d===o){let l=n;for(let g=base;;g+=base){const m=g<=u?tMin:g>=u+tMax?tMax:g-u;if(l<m)break;const p=l-m,b=base-m;r.push(stringFromCharCode(digitToBasic(m+p%b,0))),l=floor(p/b)}r.push(stringFromCharCode(digitToBasic(l,0))),u=adapt(n,c,s===a),n=0,++s}++n,++o}return r.join("")},toUnicode=function(e){return mapDomain(e,function(r){return regexPunycode.test(r)?decode(r.slice(4).toLowerCase()):r})},toASCII=function(e){return mapDomain(e,function(r){return regexNonASCII.test(r)?"xn--"+encode(r):r})},punycode={version:"2.3.1",ucs2:{decode:ucs2decode,encode:ucs2encode},decode,encode,toASCII,toUnicode},cfg_default={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}},cfg_zero={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","fragments_join"]}}},cfg_commonmark={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","fragments_join"]}}},config={default:cfg_default,zero:cfg_zero,commonmark:cfg_commonmark},BAD_PROTO_RE=/^(vbscript|javascript|file|data):/,GOOD_DATA_RE=/^data:image\/(gif|png|jpeg|webp);/;function validateLink(e){const r=e.trim().toLowerCase();return BAD_PROTO_RE.test(r)?GOOD_DATA_RE.test(r):!0}const RECODE_HOSTNAME_FOR=["http:","https:","mailto:"];function normalizeLink(e){const r=urlParse(e,!0);if(r.hostname&&(!r.protocol||RECODE_HOSTNAME_FOR.indexOf(r.protocol)>=0))try{r.hostname=punycode.toASCII(r.hostname)}catch{}return encode$1(format(r))}function normalizeLinkText(e){const r=urlParse(e,!0);if(r.hostname&&(!r.protocol||RECODE_HOSTNAME_FOR.indexOf(r.protocol)>=0))try{r.hostname=punycode.toUnicode(r.hostname)}catch{}return decode$1(format(r),decode$1.defaultChars+"%")}function MarkdownIt(e,r){if(!(this instanceof MarkdownIt))return new MarkdownIt(e,r);r||isString$1(e)||(r=e||{},e="default"),this.inline=new ParserInline,this.block=new ParserBlock,this.core=new Core,this.renderer=new Renderer,this.linkify=new LinkifyIt,this.validateLink=validateLink,this.normalizeLink=normalizeLink,this.normalizeLinkText=normalizeLinkText,this.utils=utils,this.helpers=assign$1({},helpers),this.options={},this.configure(e),r&&this.set(r)}MarkdownIt.prototype.set=function(e){return assign$1(this.options,e),this};MarkdownIt.prototype.configure=function(e){const r=this;if(isString$1(e)){const t=e;if(e=config[t],!e)throw new Error('Wrong `markdown-it` preset "'+t+'", check name')}if(!e)throw new Error("Wrong `markdown-it` preset, can't be empty");return e.options&&r.set(e.options),e.components&&Object.keys(e.components).forEach(function(t){e.components[t].rules&&r[t].ruler.enableOnly(e.components[t].rules),e.components[t].rules2&&r[t].ruler2.enableOnly(e.components[t].rules2)}),this};MarkdownIt.prototype.enable=function(e,r){let t=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach(function(n){t=t.concat(this[n].ruler.enable(e,!0))},this),t=t.concat(this.inline.ruler2.enable(e,!0));const o=e.filter(function(n){return t.indexOf(n)<0});if(o.length&&!r)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+o);return this};MarkdownIt.prototype.disable=function(e,r){let t=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach(function(n){t=t.concat(this[n].ruler.disable(e,!0))},this),t=t.concat(this.inline.ruler2.disable(e,!0));const o=e.filter(function(n){return t.indexOf(n)<0});if(o.length&&!r)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+o);return this};MarkdownIt.prototype.use=function(e){const r=[this].concat(Array.prototype.slice.call(arguments,1));return e.apply(e,r),this};MarkdownIt.prototype.parse=function(e,r){if(typeof e!="string")throw new Error("Input data should be a String");const t=new this.core.State(e,this,r);return this.core.process(t),t.tokens};MarkdownIt.prototype.render=function(e,r){return r=r||{},this.renderer.render(this.parse(e,r),this.options,r)};MarkdownIt.prototype.parseInline=function(e,r){const t=new this.core.State(e,this,r);return t.inlineMode=!0,this.core.process(t),t.tokens};MarkdownIt.prototype.renderInline=function(e,r){return r=r||{},this.renderer.render(this.parseInline(e,r),this.options,r)};const db$1=new Dexie("AgentCompanyDemoRecords");db$1.version(1).stores({kvs:"++id, &key, value",functions:"++id, &name, config",records:"++id, supplier, function, input, output"});function tryOnScopeDispose(e){return getCurrentScope()?(onScopeDispose(e),!0):!1}typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;function useObservable(e,r){const t=ref(void 0),o=e.subscribe({next:n=>t.value=n,error:void 0});return tryOnScopeDispose(()=>{o.unsubscribe()}),t}const db=db$1,md=MarkdownIt(),markdownEngine={process:e=>md.render(e)},load=async e=>{var t;const r=(t=await db.kvs.get({key:e}))==null?void 0:t.value;return r==null?null:lib$1.parse(r)},save=async(e,r)=>{const t=lib$1.stringify(r);await db.kvs.put({id:e,key:e,value:t})},getIpAndCountryCode=async()=>{let e={};try{await axios.get("https://chat.deepseek.com/api/v0/ip_to_country_code").then(r=>{var t,o;console.log(r),e=(o=(t=r==null?void 0:r.data)==null?void 0:t.data)==null?void 0:o.biz_data})}catch(r){console.error(r)}return e},=async(e,r)=>{var n;const t=r.apiKeyDict,o=r.supplierModelsDict;try{const u=`Bearer ${t[e.name]}`;console.log({supplier:e,apiKeyDict:t,Authorization:u});let a;try{a=await axios.get(`${e.baseUrl}${e.modelsUrl}`),console.log(a)}catch(c){try{a=await axios.get(`${e.baseUrl}${e.modelsUrl}`,{headers:{Authorization:u}}),console.log(a)}catch(d){console.warn(c),console.warn(d)}}let s=((n=a==null?void 0:a.data)==null?void 0:n.data)??[];console.log({models:s}),s!=null&&s.length||(s=(e==null?void 0:e.models)??[]);const i={...o};i[e.name]=s,r.supplierModelsDict=i,save("supplierForm",r)}catch(u){console.warn(u)}},=async(e,r)=>{const t=_.cloneDeep(e),o=_.cloneDeep(r.savedSettings);let n=!!functionSettings.find(a=>a.name==t.name);for(;n;)t.name=`${t.name}*`,n=!!functionSettings.find(a=>a.name==t.name);r.functionSetting=t,save("functionSetting",t);const u=o.find(a=>a.name==t.name);u==null?o.push(t):Object.assign(u,t),r.savedSettings=o,save("savedSettings",o)},=async(e,r)=>{r.savedSettings=r.savedSettings.filter(t=>t.name!=e.name),save("savedSettings",r.savedSettings)},=async(e,r)=>{r=r??`myFunctionSettings(${new Date().toLocaleString()}).json`;const t=new Blob([JSON.stringify(e)],{type:"application/json"});FileSaver_minExports.saveAs(t,r)},useDbRecords=(e=5)=>{const r=liveQuery(()=>db.records.orderBy("id").reverse().limit(e).toArray());return{lastNRecords:useObservable(r)}},=async()=>{const e=await db.records.toArray()??[],r=new Blob([e.map(JSON.stringify).join(`
`)],{type:"application/json"});FileSaver_minExports.saveAs(r,`records(${new Date().toLocaleString()}).jsonl`)},=async()=>{await db.records.clear()},=async(e,r,t,o,n,u,a)=>{const s=new AiFunc({...t,ai:{baseURL:e.baseUrl,apiKey:r,defaultModel:e.defaultModel}});console.log({supplier:e,apiKey:r,functionSetting:t,taskInput:o,callback:n,aiFunc:s});const i=Date.now(),c=await s.doTask(o,u,a).catch(m=>(console.error(String(m)),console.error(m),{error:m})),d=Date.now(),l=d-i,g={result:c,timeCost:l,timeStart:i,timeEnd:d};return console.log({report:g}),n?n==null?void 0:n(g):g},=async(e,r,t,o,n,u,a,s)=>{const i=new AiFunc({...o,ai:{baseURL:r.baseUrl,apiKey:t,defaultModel:r.defaultModel}});console.log({supplier:r,apiKey:t,functionSetting:o,taskInput:n,callback:u,aiFunc:i});const c=Date.now(),d=i.doTaskStream(n,a,s),l=[];let g="";for await(const w of d){if(console.log(w),w.done)break;g+=_.isString(w)?w:JSON.stringify(w),l.push(w),e.result.result=g}const m=Date.now(),p=m-c,b={result:void 0,error:void 0};try{b.result=JSON.parse(g)}catch(w){b.result=g,b.error=w}const y={...b,chunks:l,timeCost:p,timeStart:c,timeEnd:m};return console.log({report:y}),u?u==null?void 0:u(y):y},=async(e,r,t,o,n,u,a)=>{const s=async c=>{var l;console.log({report:c});const d=c;if(e.result=d,save("result",d),!((l=d==null?void 0:d.result)!=null&&l.error)){n.output=d;const g=await db.records.add(n);e.lastRecordId=g}return c};if(a!=null&&a.stream)return (e,t,o,r==null?void 0:r.functionSetting,e==null?void 0:e.taskInput,s,u,a);const i=await (t,o,r==null?void 0:r.functionSetting,e==null?void 0:e.taskInput,s,u,a);return console.log({output:i}),i},=async(e,r,t,o,n)=>{var s,i;e.result={},e.processing=!0,e.lastRecordId=null;const u=_.cloneDeep({supplier:(s=r==null?void 0:r.selectedSupplier)==null?void 0:s.name,function:t==null?void 0:t.functionSetting,input:e==null?void 0:e.taskInput,otherParams:n}),a=await (e,t,r==null?void 0:r.selectedSupplier,r==null?void 0:r.apiKeyDict[(i=r==null?void 0:r.selectedSupplier)==null?void 0:i.name],u,o,n);return e.processing=!1,a},=,=async(e,r,t,o,n,u=!1)=>{var y,w,f;e.processing=!0;const a=(e==null?void 0:e.taskInput)??"",s=_.clone(o),i=new AiClient({baseURL:(y=r==null?void 0:r.selectedSupplier)==null?void 0:y.baseUrl,apiKey:r==null?void 0:r.apiKeyDict[(w=r==null?void 0:r.selectedSupplier)==null?void 0:w.name],defaultModel:(f=r==null?void 0:r.selectedSupplier)==null?void 0:f.defaultModel}),c=Date.now(),d=[];let l="";for await(const k of i.chatStream(a,t==null?void 0:t.systemPrompt,s,n,u)){if(k.done)break;l+=_.isString(k)?k:JSON.stringify(k),t.newMessage=l,d.push(k),await nextTick()}const g=Date.now(),m=g-c,p={result:void 0,error:void 0};try{p.result=JSON.parse(l)}catch(k){p.result=l,p.error=k}e.processing=!1;const b={...p,chunks:d,timeCost:m,timeStart:c,timeEnd:g};return console.log({report:b}),b},=async(e,r,t,o,n,u)=>{const a=o.map(i=>{var c;return{supplier:(c=r==null?void 0:r.selectedSupplier)==null?void 0:c.name,function:t==null?void 0:t.functionSetting,input:i.input,batchUnit:i.unit,batchIdx:i.idx,otherParams:u}});return await Promise.all(a.map(async i=>{var d;return await (e,t,r==null?void 0:r.selectedSupplier,r==null?void 0:r.apiKeyDict[(d=r==null?void 0:r.selectedSupplier)==null?void 0:d.name],i,n,u)}))},=async(e,r,t,o,n,u,a)=>{const s=_.max([(r==null?void 0:r.skip)??0,0]);let i=_.min([(r==null?void 0:r.limit)??1/0,1/0]);i<=0&&(i=1/0),console.log({skip:s,limit:i});const c=t.slice(s,s+i),d=_.chunk(c,(r==null?void 0:r.concurrency)??1);let l=0;e:for await(const g of d){const p=(await (e,o,n,g,[],a)).filter(b=>{var y;return(y=b==null?void 0:b.result)==null?void 0:y.error});if(p!=null&&p.length){const b=(r==null?void 0:r.retry)??3;r:for(let y=0;y<b;y++){const w=((r==null?void 0:r.retryDaley)??1e4)+y*((r==null?void 0:r.retryDaleyDelta)??5e3);await sleep$1(w);const f=p.map(v=>({unit:v==null?void 0:v.batchUnit,idx:v==null?void 0:v.batchIdx,input:v==null?void 0:v.input})),k=await (e,o,n,f,[],a),x=k.filter(v=>{var C;return(C=v==null?void 0:v.result)==null?void 0:C.error});if(!(x!=null&&x.length))break r;if(y>=b-1){console.error("",{errorOutputs:p,retryOutputs:k});break e}}}l<d.length-1&&sleep$1((r==null?void 0:r.delay)??700),l++}console.log("")},tableTextarea=(e,r,t,o,n=r,u)=>[h("div",{class:"opacity-80 fw-500"},r),h(script$e,{class:"w-full",placeholder:n,...u,modelValue:e==null?void 0:e[t],"onUpdate:modelValue":a=>{e[t]=a,save(o,e)}})],AppFuncTestView=defineComponent({setup(){const e=useToast(),r=useConfirm(),t=useDbRecords(5),o=reactive({url:"",key:"",model:""}),n=reactive({ipAndCountryCode:{},taskInput:"",processing:!1,lastRecordId:null,result:{},_lastResultError:null}),u=reactive({batchMode:!1,batchConfig:{},batchState:{}}),a=reactive({template:null,taskMask:null,reqMask:null,resMask:null}),s=reactive({functionSetting:functionSettings[0],savedSettings:[]}),i=reactive({selectedSupplier:suppliers[0],apiKeyDict:{},supplierModelsDict:{},selectedModelDict:{}}),c=computed(()=>{var f,k;return console.log("lastNRecords",(f=t==null?void 0:t.lastNRecords)==null?void 0:f.value),((k=t==null?void 0:t.lastNRecords)==null?void 0:k.value)??[]}),d=computed(()=>{const f=_.cloneDeep(defaultBatchConfig);Object.assign(f,u.batchConfig);let k=f.splitter;f!=null&&f.splitterIsRegExp&&(k=new RegExp(f.splitter,"g"));let x=f.slotMark;return f!=null&&f.slotMarkIsRegExp&&(x=new RegExp(f.slotMark,"g")),f.itemsText.trim().split(k).map(C=>C.trim()).filter(C=>C==null?void 0:C.length).map((C,S)=>({idx:S,unit:C,input:f.inputTemplate.replace(x,C)}))}),l=computed(()=>{var k,x,v;const f={name:(k=i.selectedSupplier)==null?void 0:k.defaultModel};return((v=i.selectedModelDict[(x=i.selectedSupplier)==null?void 0:x.name])==null?void 0:v.name)==DEFAULT_MODEL.label?f:i.selectedModelDict[i.selectedSupplier.name]??f}),g=computed(()=>{var f;return i.supplierModelsDict[(f=i.selectedSupplier)==null?void 0:f.name]??[]}),m=computed(()=>[{name:DEFAULT_MODEL.label},...g.value.map(f=>({name:(f==null?void 0:f.label)??(f==null?void 0:f.name)??(f==null?void 0:f.id)}))]),p=computed(()=>{var f;return JSON.stringify((f=n.result)==null?void 0:f.result,null,2)}),b=computed(()=>[{label:"",items:s.savedSettings},{label:"",items:functionSettings}]);onMounted(async()=>{n.ipAndCountryCode=await getIpAndCountryCode();const f=await load("templateForm");f!=null&&Object.assign(a,f);const k=await load("batchForm");k!=null&&Object.assign(u,k);const x=await load("savedSettings");x!=null&&(s.savedSettings=x);const v=await load("supplierForm");v!=null&&Object.assign(i,v);const C=await load("functionSetting");C!=null&&(s.functionSetting=C);const S=await load("taskInput");S!=null&&(n.taskInput=S);let R=await load("result");if(R!=null){if(_.isString(R))try{R=JSON.parse(R)}catch(A){n._lastResultError=A}n.result=R}});const y=f=>_.isString(f)?f:JSON.stringify(f,null,2),w=f=>{var k,x;return f.processing?((k=f==null?void 0:f.result)==null?void 0:k.result)??"":y((x=f.result)==null?void 0:x.result)};return()=>[h(script$3,{header:"",toggleable:!0,collapsed:!0,class:"my-1.5rem! col"},{default:()=>h("div",{class:"stack-v"},[tableTextarea(a,"","template","templateForm",defaultInstructionTemplateEN),tableTextarea(a,"","taskMask","templateForm",defaultTaskMark),tableTextarea(a,"","reqMask","templateForm",defaultReqMark),tableTextarea(a,"","resMask","templateForm",defaultResMark),h("div",{class:"opacity-80 fw-500"},""),h(script$e,{class:"w-full",placeholder:"",value:new AiFunc({...s.functionSetting,...a}).makeInstruction()})])}),h(script$3,{header:"",toggleable:!0,class:"my-1.5rem! col"},{default:()=>{var f,k;return h("div",{class:"stack-v"},[h(ToolButton,{size:"small",icon:"pi pi-save",label:"",command:async()=>{(s.savedSettings)}}),h("div",{class:"opacity-80 fw-500"},""),h(script$h,{name:"functionSettingName",options:b.value,optionLabel:"name",optionGroupLabel:"label",optionGroupChildren:"items",placeholder:"",fluid:!0,modelValue:s.functionSetting,"onUpdate:modelValue":x=>{s.functionSetting=_.cloneDeep(x),save("functionSetting",s.functionSetting)}},{optiongroup:x=>h("div",{},x.option.label)}),tableTextarea(s==null?void 0:s.functionSetting,"","name","functionSetting","",{rows:1}),tableTextarea(s==null?void 0:s.functionSetting,"","desc","functionSetting","",{rows:1}),h("div",{class:"stack-h"},[h("div",{class:"opacity-80 fw-500"},""),h(script$i,{modelValue:(f=s==null?void 0:s.functionSetting)==null?void 0:f.instructed,"onUpdate:modelValue":x=>{s.functionSetting.instructed=x,save("functionSetting",s.functionSetting)}})]),(k=s==null?void 0:s.functionSetting)!=null&&k.instructed?[tableTextarea(s==null?void 0:s.functionSetting,"","instruction","functionSetting")]:[tableTextarea(s==null?void 0:s.functionSetting,"","task","functionSetting"),tableTextarea(s==null?void 0:s.functionSetting,"","reqFormat","functionSetting"),tableTextarea(s==null?void 0:s.functionSetting,"","resFormat","functionSetting")],h("div",{class:"stack-h w-full justify-between!"},[h(ToolButton,{size:"small",icon:"pi pi-save",label:"",command:async()=>{await (s.functionSetting,s),e.add({severity:"info",summary:"",detail:"",life:2e3})}}),h(ToolButton,{size:"small",icon:"pi pi-trash",label:"",command:x=>{r.require({target:x.currentTarget,message:"",rejectProps:{label:"",severity:"secondary",outlined:!0},acceptProps:{label:"",severity:"danger"},accept:()=>{(s.functionSetting,s)},reject:()=>{e.add({severity:"info",summary:"",detail:"",life:2e3})}})}})])])}}),h(script$3,{header:"",toggleable:!0,class:"my-1.5rem! col"},{default:()=>{var f,k,x;return h("div",{class:"stack-v"},[h("div",{class:"stack-h"},[h("div",{class:"opacity-80 fw-500"},""),h(script$i,{modelValue:u.batchMode,"onUpdate:modelValue":v=>{u.batchMode=v,save("batchForm",u)}})]),u.batchMode?null:[h(script$e,{class:"w-full",placeholder:"",modelValue:n.taskInput,"onUpdate:modelValue":v=>{n.taskInput=v,save("taskInput",v)}}),h("div",{class:"stack-h"},[h(ToolButton,{size:"small",icon:"pi pi-plus",label:"",command:()=>{n.taskInput.trim()!==""&&(s.functionSetting.requestExamples=[...s.functionSetting.requestExamples,n.taskInput],save("functionSetting",s.functionSetting))}}),h(ToolButton,{size:"small",icon:"pi pi-send",label:"",class:"ml-auto",command:()=>{var v;n.taskInput.trim()!==""&&(e.add({severity:"info",summary:"",detail:` ${(v=n.taskInput)==null?void 0:v.length} `,life:2e3}),n.taskInput="")}}),h(ToolButton,{size:"small",icon:"pi pi-copy",label:"",command:()=>{var v,C;clipboard.copy(n.taskInput),e.add({severity:"info",summary:"",detail:`${(v=n.taskInput)==null?void 0:v.length} 
${n.taskInput.slice(0,20)}${((C=n.taskInput)==null?void 0:C.length)<=20?"":"..."}`,life:2e3})}}),h(ToolButton,{size:"small",icon:"pi pi-trash",label:"",command:()=>{n.taskInput=""}})]),(((f=s==null?void 0:s.functionSetting)==null?void 0:f.requestExamples)??[]).map((v,C)=>h(ToolButton,{size:"small",key:`requestExample[${C}]${v}`,label:v,tip:`[${C+1}]`,class:"w-full",command:()=>{n.taskInput=v}})),(x=(k=s==null?void 0:s.functionSetting)==null?void 0:k.requestExamples)!=null&&x.length?h(ToolButton,{size:"small",icon:"pi pi-trash",label:"",command:()=>{s.functionSetting.requestExamples=[],save("functionSetting",s.functionSetting)}}):null]])}}),h(script$3,{header:"",toggleable:!0,class:"my-1.5rem! col"},{default:()=>{var f,k;return h("div",{class:"stack-v"},[u.batchMode?null:h(ToolButton,{size:"small",icon:"pi pi-play",label:"",fluid:!0,command:()=>{(n,i,s)}}),u.batchMode?null:h(ToolButton,{size:"small",icon:"pi pi-play",label:"",fluid:!0,command:()=>{(n,i,s,[],{stream:!0})}}),u.batchMode?h(ToolButton,{size:"small",icon:"pi pi-play",label:"",fluid:!0,command:()=>{(n,u.batchConfig,d.value,i,s)}}):null,h("div",{class:"opacity-80 fw-500"},[n.processing?"":(f=n.result)!=null&&f.timeCost?` ${(k=n.result)==null?void 0:k.timeCost}ms`:""]),h(script$b,{onClick:()=>{console.log(n.result)},pt:{body:{class:"py-0.75rem! px-1rem!"}},class:"w-full"},{content:()=>h("div",{class:"stack-v"},[h("div",{class:"whitespace-pre-wrap font-mono! min-h-6em max-h-20em overflow-y-auto"},w(n))])}),h(ToolButton,{size:"small",icon:"pi pi-copy",label:"",command:()=>{var x;clipboard.copy(p.value),e.add({severity:"info",summary:"",detail:`${(x=p.value)==null?void 0:x.length} `,life:2e3})}})])}}),h(script$3,{header:"",toggleable:!0,class:"my-1.5rem! col"},{default:()=>{var f;return h("div",{class:"stack-v"},[h(script$h,{name:"supplier",options:suppliers,optionLabel:"name",placeholder:"",fluid:!0,modelValue:i.selectedSupplier,"onUpdate:modelValue":k=>{i.selectedSupplier=k}}),h(script$g,{type:"password",name:"apiKey",placeholder:"API Key",fluid:!0,modelValue:i.apiKeyDict[(f=i.selectedSupplier)==null?void 0:f.name],"onUpdate:modelValue":k=>{i.apiKeyDict[i.selectedSupplier.name]=k,save("supplierForm",i)}}),h("div",{class:"stack-h w-full"},[h(script$h,{name:"model",options:m.value,optionLabel:"name",placeholder:"",class:"grow-1",modelValue:l.value,"onUpdate:modelValue":k=>{i.selectedModelDict[i.selectedSupplier.name]=k,save("supplierForm",i)}}),h(ToolButton,{icon:"pi pi-trash",label:"",command:()=>{(i.selectedSupplier,i)}})]),h(ToolButton,{size:"small",icon:"pi pi-trash",label:"debug",command:()=>{console.log({supplierForm:i,selectedModel:l.value})}})])}}),h(script$3,{header:"",toggleable:!0,class:"my-1.5rem! col"},{default:()=>h("div",{class:"stack-v"},[h(ToolButton,{size:"small",icon:"pi pi-trash",label:"",command:f=>{r.require({target:f.currentTarget,message:"",rejectProps:{label:"",severity:"secondary",outlined:!0},acceptProps:{label:"",severity:"danger"},accept:()=>{(),e.add({severity:"info",summary:"",detail:"",life:2e3})},reject:()=>{e.add({severity:"info",summary:"",detail:"",life:2e3})}})}}),(c.value??[]).map((f,k)=>h(script$b,{key:`lastNRecords[${k}]`,onClick:()=>{console.log(f)},pt:{body:{class:"py-0.75rem! px-1rem!"}},class:"w-full"},{content:()=>{var x,v,C;return h("div",{class:"stack-v"},[h("div",{class:"opacity-80",title:JSON.stringify(f==null?void 0:f.function,null,2)},[`[${f==null?void 0:f.id}] ${(x=f==null?void 0:f.function)==null?void 0:x.name} - ${((v=f==null?void 0:f.otherParams)==null?void 0:v.model)??(f==null?void 0:f.supplier)}`]),h("div",{class:"fw-500"},f==null?void 0:f.input),(f==null?void 0:f.batchIdx)==null?null:h("div",{},`[${f==null?void 0:f.batchIdx}]${f==null?void 0:f.batchUnit}`),h("div",{class:"whitespace-pre-wrap font-mono! min-h-6em max-h-20em overflow-y-auto"},y((C=f==null?void 0:f.output)==null?void 0:C.result))])}})),h("div",{class:"stack-h items-center! w-full"},[h("div",{},[""]),h(ToolButton,{size:"small",icon:"pi pi-file-export",label:"",command:()=>{(),e.add({severity:"info",summary:"",detail:"",life:2e3})},class:"ml-auto"})])])}),h(script$3,{header:"",toggleable:!0,class:"my-1.5rem!"},{default:()=>h("div",{class:"grid grid-cols-3 gap-4"},[["url","key","model"].map((f,k)=>h(script$f,{variant:"on",class:"col-span-3 lg-col-span-1"},{default:()=>[h(script$g,{id:`${f}Input`,fluid:!0,key:`[${k}]${f}`,modelValue:o[f],"onUpdate:modelValue":x=>{o[f]=x},...f==="key"?{type:"password"}:{}}),h("label",{for:`${f}Input`},f)]}))])})]}}),AppChatTestView=defineComponent({setup(){const e=useToast(),r=reactive({ipAndCountryCode:{},taskInput:"",processing:!1,lastRecordId:null,result:{},_lastResultError:null}),t=reactive({batchMode:!1,batchConfig:{},batchState:{}}),o=reactive({template:null,taskMask:null,reqMask:null,resMask:null}),n=reactive({functionSetting:functionSettings[0],savedSettings:[]}),u=reactive({selectedSupplier:suppliers[0],apiKeyDict:{},supplierModelsDict:{},selectedModelDict:{}}),a=reactive({systemPrompt:"",messages:[],newMessage:""}),s=computed(()=>{var l,g,m;const d={name:(l=u.selectedSupplier)==null?void 0:l.defaultModel};return((m=u.selectedModelDict[(g=u.selectedSupplier)==null?void 0:g.name])==null?void 0:m.name)==DEFAULT_MODEL.label?d:u.selectedModelDict[u.selectedSupplier.name]??d}),i=computed(()=>{var d;return u.supplierModelsDict[(d=u.selectedSupplier)==null?void 0:d.name]??[]}),c=computed(()=>[{name:DEFAULT_MODEL.label},...i.value.map(d=>({name:(d==null?void 0:d.label)??(d==null?void 0:d.name)??(d==null?void 0:d.id)}))]);return onMounted(async()=>{r.ipAndCountryCode=await getIpAndCountryCode();const d=await load("templateForm");d!=null&&Object.assign(o,d);const l=await load("batchForm");l!=null&&Object.assign(t,l);const g=await load("savedSettings");g!=null&&(n.savedSettings=g);const m=await load("supplierForm");m!=null&&Object.assign(u,m);const p=await load("functionSetting");p!=null&&(n.functionSetting=p);const b=await load("taskInput");b!=null&&(r.taskInput=b);const y=await load("chatData");y!=null&&Object.assign(a,y);let w=await load("result");if(w!=null){if(_.isString(w))try{w=JSON.parse(w)}catch(f){r._lastResultError=f}r.result=w}}),()=>[h(script$3,{header:"",toggleable:!0,class:"my-1.5rem! col"},{default:()=>{var d;return h("div",{class:"stack-v"},[h(script$h,{name:"supplier",options:suppliers,optionLabel:"name",placeholder:"",fluid:!0,modelValue:u.selectedSupplier,"onUpdate:modelValue":l=>{u.selectedSupplier=l}}),h(script$g,{type:"password",name:"apiKey",placeholder:"API Key",fluid:!0,modelValue:u.apiKeyDict[(d=u.selectedSupplier)==null?void 0:d.name],"onUpdate:modelValue":l=>{u.apiKeyDict[u.selectedSupplier.name]=l,save("supplierForm",u)}}),h("div",{class:"stack-h w-full"},[h(script$h,{name:"model",options:c.value,optionLabel:"name",placeholder:"",class:"grow-1",modelValue:s.value,"onUpdate:modelValue":l=>{u.selectedModelDict[u.selectedSupplier.name]=l,save("supplierForm",u)}}),h(ToolButton,{icon:"pi pi-trash",label:"",command:()=>{(u.selectedSupplier,u)}})]),h(ToolButton,{size:"small",icon:"pi pi-trash",label:"debug",command:()=>{console.log({supplierForm:u,selectedModel:s.value})}})])}}),h(script$3,{header:"",toggleable:!0,class:"my-1.5rem! col"},{default:()=>h("div",{class:"stack-v"},[h("p",{},""),h("p",{},""),h("p",{},""),h("p",{},"")])}),h(script$3,{header:"",toggleable:!0,class:"my-1.5rem! col"},{default:()=>{var d;return h("div",{class:"stack-v max-w-640px mx-auto max-h-80vh overflow-auto"},[h(script$d,{severity:"secondary",size:"small",class:"max-w-80% mx-auto -outline-width-0!",pt:{text:{class:"-fw-400!"}}},{default:()=>[""]}),a.messages.map(l=>[h(Bubble,{content:l.content,messageRender:g=>markdownEngine.process(g),loading:!1,placement:["user","system"].includes(l.role)?"end":"start",avatarProps:{icon:l.role=="user"?"pi pi-user":l.role=="assistant"?"pi pi-face-smile":"pi pi-desktop"}},{header:()=>h("div",{class:"stack-h"},[_.camelCase(l.role)]),footer:()=>h("div",{class:"stack-h"},[h(ToolButton,{size:"small",icon:"pi pi-copy",label:"",command:()=>{var g,m;clipboard.copy(l.content),e.add({severity:"info",summary:"",detail:`${(g=l.content)==null?void 0:g.length} 
${l.content.slice(0,20)}${((m=l.content)==null?void 0:m.length)<=20?"":"..."}`,life:2e3})}})])})]),(d=a.newMessage)!=null&&d.length?h(Bubble,{content:a.newMessage,messageRender:l=>markdownEngine.process(l),key:a.newMessage,loading:!1,placement:"start",avatarProps:{icon:"pi pi-face-smile"},onClick:()=>{console.log(a)}},{header:()=>h("div",{class:"stack-h"},["assistant"]),footer:()=>h("div",{class:"stack-h"},[h(ToolButton,{size:"small",icon:"pi pi-copy",label:"",command:()=>{const l=a.newMessage??"";clipboard.copy(l),e.add({severity:"info",summary:"",detail:`${l==null?void 0:l.length} 
${l.slice(0,20)}${(l==null?void 0:l.length)<=20?"":"..."}`,life:2e3})}})])}):null])}}),h(script$3,{header:"",toggleable:!0,class:"my-1.5rem! col"},{default:()=>h("div",{class:"stack-v"},[[h(script$e,{class:"w-full",placeholder:"",modelValue:r.taskInput,"onUpdate:modelValue":d=>{r.taskInput=d,save("taskInput",d)}}),h("div",{class:"stack-h"},[h(ToolButton,{size:"small",icon:"pi pi-send",label:"",class:"ml-auto",command:async()=>{if(r.taskInput.trim()==="")return;const d=_.clone(a.messages);a.messages.push({role:"user",content:r.taskInput}),await (r,u,a,d,{stream:!0}),a.messages.push({role:"assistant",content:a.newMessage??""}),a.newMessage="",r.taskInput="",save("chatData",a)}}),h(ToolButton,{size:"small",icon:"pi pi-send",label:"",class:"ml-auto",command:async()=>{r.taskInput.trim()!==""&&(await (r,u,a,a.messages,{stream:!0}),save("chatData",a))}}),h(ToolButton,{size:"small",icon:"pi pi-send",label:"",class:"ml-auto",command:async()=>{const d=_.clone(a.messages);await (r,u,a,d,{stream:!0},!0),save("chatData",a)}}),h(ToolButton,{size:"small",icon:"pi pi-send",label:"",class:"ml-auto",command:async()=>{r.taskInput.trim().length&&a.messages.push({role:"user",content:r.taskInput}),(a.newMessage??"").trim().length&&a.messages.push({role:"assistant",content:a.newMessage??""}),a.newMessage="",r.taskInput="",save("chatData",a)}}),h(ToolButton,{size:"small",icon:"pi pi-send",label:"",class:"ml-auto",command:async()=>{r.taskInput.trim()!==""&&(a.messages.push({role:"user",content:r.taskInput}),r.taskInput="",save("chatData",a))}}),h(ToolButton,{size:"small",icon:"pi pi-send",label:"",class:"ml-auto",command:async()=>{a.messages=[],a.newMessage="",save("chatData",a)}}),h(ToolButton,{size:"small",icon:"pi pi-copy",label:"",command:()=>{var d,l;clipboard.copy(r.taskInput),e.add({severity:"info",summary:"",detail:`${(d=r.taskInput)==null?void 0:d.length} 
${r.taskInput.slice(0,20)}${((l=r.taskInput)==null?void 0:l.length)<=20?"":"..."}`,life:2e3})}}),h(ToolButton,{size:"small",icon:"pi pi-trash",label:"",command:()=>{r.taskInput=""}})])]])})]}}),NoteEditor=defineComponent({name:"NoteEditor",props:["note","idx"],emits:["modifyNoteContent","deleteNote"],setup(e,{emit:r}){var c,d;const t=resolveDirective("tooltip"),o=ref(),n=l=>{o.value.toggle(l)},u=ref(!1),a=ref((c=e==null?void 0:e.note)==null?void 0:c.title),s=ref((d=e==null?void 0:e.note)==null?void 0:d.content),i=ref([{label:"",icon:"pi pi-pencil",command:()=>{u.value=!0}},{label:"",icon:"pi pi-trash",command:()=>{var l;r("deleteNote",{id:(l=e==null?void 0:e.note)==null?void 0:l.id})}}]);return()=>{var l,g,m;return h(script$3,{key:`note[${e==null?void 0:e.idx}][${(l=e==null?void 0:e.note)==null?void 0:l.id}]`,header:`[${(g=e==null?void 0:e.note)==null?void 0:g.id}] ${((m=e==null?void 0:e.note)==null?void 0:m.title)??""}`},{default:()=>{var p;return h("div",{},[u.value?null:h("div",{},(p=e==null?void 0:e.note)==null?void 0:p.content),u.value?h("div",{class:"my-3 flex flex-col flex-wrap gap-2 flex-content-around"},[h(script$g,{fluid:!0,modelValue:a.value,"onUpdate:modelValue":b=>{a.value=b}}),h(script$e,{fluid:!0,rows:4,modelValue:s.value,"onUpdate:modelValue":b=>{s.value=b}})]):null,u.value?h("div",{class:"mt-3 flex flex-row flex-wrap gap-2 flex-content-around"},[h(script$4,{class:"ml-auto",label:"",severity:"secondary",size:"small",onClick:()=>{var b;r("modifyNoteContent",{shadow:{id:(b=e==null?void 0:e.note)==null?void 0:b.id},content:s.value,title:a.value,callback:y=>{y===0&&(u.value=!1)}})}}),h(script$4,{label:"",severity:"secondary",size:"small",onClick:()=>{u.value=!1}})]):null])},icons:()=>{var p;return[withDirectives(h(script$4,{icon:"pi pi-pencil",severity:"secondary",rounded:!0,text:!0,onClick:()=>{u.value=!0}}),[[t,{value:"",showDelay:250,hideDelay:500},"top",{top:!0}]]),withDirectives(h(script$4,{icon:"pi pi-trash",severity:"secondary",rounded:!0,text:!0,onClick:()=>{var b;r("deleteNote",{id:(b=e==null?void 0:e.note)==null?void 0:b.id})}}),[[t,{value:"",showDelay:250,hideDelay:500},"top",{top:!0}]]),withDirectives(h(script$4,{icon:"pi pi-cog",severity:"secondary",rounded:!0,text:!0,onClick:n}),[[t,{value:"",showDelay:250,hideDelay:500},"top",{top:!0}]]),h(script$j,{ref:o,id:`menu-of-note[${e==null?void 0:e.idx}][${(p=e==null?void 0:e.note)==null?void 0:p.id}]`,model:i.value,popup:!0})]}})}}}),useNotesStore=defineStore("notesStore",{state:()=>({notes:[]}),getters:{count:e=>e.notes.length,maxId:e=>{var r;return((r=_.maxBy(e.notes,"id"))==null?void 0:r.id)??0}},actions:{addNote(e){e.id=this.maxId+1,e.timestamp=Date.now(),this.notes.unshift(e)},addNoteByContent(e,r){const t={content:e,title:r,id:this.maxId+1,timestamp:Date.now()};this.notes.unshift(t)},removeNote(e){_.remove(this.notes,e)},modifyNoteContent(e,r,t,o){console.log({shadow:e,title:t,content:r});const n=this.notes.find(u=>_.isMatch(u,e));if(n){const u=this.notes.indexOf(n),a={..._.cloneDeep(n),content:r,title:t};this.notes.splice(u,1,a),o==null||o(0)}else o==null||o(-1)}},persist:{serializer:{deserialize:lib$1.parse,serialize:lib$1.stringify}}}),AppNotesView=defineComponent({name:"AppNotesView",setup(){const e=useToast(),r=resolveDirective("tooltip"),t=useNotesStore(),{addNote:o,removeNote:n,modifyNoteContent:u}=t,{notes:a,count:s}=storeToRefs(t);return()=>h(script$3,{header:` ${s.value} `,toggleable:!0,class:"my-3"},{default:()=>[h("div",{class:["flex flex-row flex-items-center flex-wrap gap-2 flex-content-around flex-justify-around"]},[withDirectives(h(script$4,{label:"",onClick:()=>{o({content:""})}}),[[r,{value:"",showDelay:250,hideDelay:500},"top",{top:!0}]])]),h(script$k,{value:a.value,dataKey:"id",paginator:!0,rows:20},{empty:()=>h("div",{class:"my-3"},[""]),list:i=>i.items.map((c,d)=>h(NoteEditor,{class:"my-3",note:c,idx:d,key:`note[${d}][${c.id}]`,onDeleteNote:l=>{n(l)},onModifyNoteContent:({shadow:l,content:g,title:m,callback:p})=>{console.log({shadow:l,content:g,title:m,callback:p}),u(l,g,m,b=>{b===0||e.add({severity:"error",summary:"",detail:`${b}
${JSON.stringify(l)}`,life:3e3}),p==null||p(b)})}}))})]})}}),routes=[{path:"/:pathMatch(.*)*",name:"404",component:NotFoundView},{path:"/",name:"app-root",component:AppView,children:[{path:"agent",name:"app-agent",component:AppRootView},{path:"func-test",name:"app-func-test",component:AppFuncTestView},{path:"chat-test",name:"app-chat-test",component:AppChatTestView},{path:"notes",name:"app-notes",component:AppNotesView},{path:"suppliers",name:"app-suppliers",component:AppNotesView}]}],router=createRouter({history:createWebHashHistory(),routes}),suspectProtoRx=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,suspectConstructorRx=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,JsonSigRx=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function jsonParseTransform(e,r){if(e==="__proto__"||e==="constructor"&&r&&typeof r=="object"&&"prototype"in r){warnKeyDropped(e);return}return r}function warnKeyDropped(e){console.warn(`[destr] Dropping "${e}" key to prevent prototype pollution.`)}function destr(e,r={}){if(typeof e!="string")return e;const t=e.trim();if(e[0]==='"'&&e.endsWith('"')&&!e.includes("\\"))return t.slice(1,-1);if(t.length<=9){const o=t.toLowerCase();if(o==="true")return!0;if(o==="false")return!1;if(o==="undefined")return;if(o==="null")return null;if(o==="nan")return Number.NaN;if(o==="infinity")return Number.POSITIVE_INFINITY;if(o==="-infinity")return Number.NEGATIVE_INFINITY}if(!JsonSigRx.test(e)){if(r.strict)throw new SyntaxError("[destr] Invalid JSON");return e}try{if(suspectProtoRx.test(e)||suspectConstructorRx.test(e)){if(r.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(e,jsonParseTransform)}return JSON.parse(e)}catch(o){if(r.strict)throw o;return e}}function get(e,r){if(e==null)return;let t=e;for(let o=0;o<r.length;o++){if(t==null||t[r[o]]==null)return;t=t[r[o]]}return t}function set(e,r,t){if(t.length===0)return r;const o=t[0];return t.length>1&&(r=set(typeof e!="object"||e===null||!Object.prototype.hasOwnProperty.call(e,o)?Number.isInteger(Number(t[1]))?[]:{}:e[o],r,Array.prototype.slice.call(t,1))),Number.isInteger(Number(o))&&Array.isArray(e)?e.slice()[o]:Object.assign({},e,{[o]:r})}function unset(e,r){if(e==null||r.length===0)return e;if(r.length===1){if(e==null)return e;if(Number.isInteger(r[0])&&Array.isArray(e))return Array.prototype.slice.call(e,0).splice(r[0],1);const t={};for(const o in e)t[o]=e[o];return delete t[r[0]],t}if(e[r[0]]==null){if(Number.isInteger(r[0])&&Array.isArray(e))return Array.prototype.concat.call([],e);const t={};for(const o in e)t[o]=e[o];return t}return set(e,unset(e[r[0]],Array.prototype.slice.call(r,1)),[r[0]])}function deepPickUnsafe(e,r){return r.map(t=>t.split(".")).map(t=>[t,get(e,t)]).filter(t=>t[1]!==void 0).reduce((t,o)=>set(t,o[1],o[0]),{})}function deepOmitUnsafe(e,r){return r.map(t=>t.split(".")).reduce((t,o)=>unset(t,o),e)}function hydrateStore(e,{storage:r,serializer:t,key:o,debug:n,pick:u,omit:a,beforeHydrate:s,afterHydrate:i},c,d=!0){try{d&&(s==null||s(c));const l=r.getItem(o);if(l){const g=t.deserialize(l),m=u?deepPickUnsafe(g,u):g,p=a?deepOmitUnsafe(m,a):m;e.$patch(p)}d&&(i==null||i(c))}catch(l){n&&console.error("[pinia-plugin-persistedstate]",l)}}function persistState(e,{storage:r,serializer:t,key:o,debug:n,pick:u,omit:a}){try{const s=u?deepPickUnsafe(e,u):e,i=a?deepOmitUnsafe(s,a):s,c=t.serialize(i);r.setItem(o,c)}catch(s){n&&console.error("[pinia-plugin-persistedstate]",s)}}function createPersistence(e,r,t){const{pinia:o,store:n,options:{persist:u=t}}=e;if(!u)return;if(!(n.$id in o.state.value)){const i=o._s.get(n.$id.replace("__hot:",""));i&&Promise.resolve().then(()=>i.$persist());return}const s=(Array.isArray(u)?u:u===!0?[{}]:[u]).map(r);n.$hydrate=({runHooks:i=!0}={})=>{s.forEach(c=>{hydrateStore(n,c,e,i)})},n.$persist=()=>{s.forEach(i=>{persistState(n.$state,i)})},s.forEach(i=>{hydrateStore(n,i,e),n.$subscribe((c,d)=>persistState(d,i),{detached:!0})})}function createPersistedState(e={}){return function(r){createPersistence(r,t=>({key:(e.key?e.key:o=>o)(t.key??r.store.$id),debug:t.debug??e.debug??!1,serializer:t.serializer??e.serializer??{serialize:o=>JSON.stringify(o),deserialize:o=>destr(o)},storage:t.storage??e.storage??window.localStorage,beforeHydrate:t.beforeHydrate,afterHydrate:t.afterHydrate,pick:t.pick,omit:t.omit}),e.auto??!1)}}var src_default=createPersistedState();const store=createPinia();store.use(src_default);const i18n=createI18n({legacy:!1,locale:"zh",fallbackLocale:"en",messages:{en:{message:{hello:"hello world"}},zh:{message:{hello:""}}}}),app=createApp(App);app.use(PrimeVue,{ripple:!0,theme:{preset:IndigoThemePreset,options:{prefix:"p",darkModeSelector:`.${darkModeClassName}`,cssLayer:!1}}});app.use(router);app.use(store);app.use(ToastService);app.use(DialogService);app.use(ConfirmationService);app.use(i18n);app.directive("tooltip",Tooltip);app.mount("#app");
